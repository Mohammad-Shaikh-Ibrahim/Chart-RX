var VD=Object.defineProperty;var zD=(s,t,e)=>t in s?VD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var Hc=(s,t,e)=>zD(s,typeof t!="symbol"?t+"":t,e);function ND(s,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in s)){const n=Object.getOwnPropertyDescriptor(i,r);n&&Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();function ET(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Wp={exports:{}},Xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM;function BD(){if(iM)return Xc;iM=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,n){var a=null;if(n!==void 0&&(a=""+n),r.key!==void 0&&(a=""+r.key),"key"in r){n={};for(var o in r)o!=="key"&&(n[o]=r[o])}else n=r;return r=n.ref,{$$typeof:s,type:i,key:a,ref:r!==void 0?r:null,props:n}}return Xc.Fragment=t,Xc.jsx=e,Xc.jsxs=e,Xc}var sM;function PD(){return sM||(sM=1,Wp.exports=BD()),Wp.exports}var me=PD(),$p={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM;function LD(){if(rM)return ce;rM=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function v(I,X,j){this.props=I,this.context=X,this.refs=x,this.updater=j||m}v.prototype.isReactComponent={},v.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},v.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function A(){}A.prototype=v.prototype;function E(I,X,j){this.props=I,this.context=X,this.refs=x,this.updater=j||m}var T=E.prototype=new A;T.constructor=E,p(T,v.prototype),T.isPureReactComponent=!0;var F=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function V(I,X,j,Q,J,st){return j=st.ref,{$$typeof:s,type:I,key:X,ref:j!==void 0?j:null,props:st}}function P(I,X){return V(I.type,X,void 0,void 0,void 0,I.props)}function b(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function M(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(j){return X[j]})}var w=/\/+/g;function C(I,X){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):X.toString(36)}function k(){}function z(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(k,k):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,X,j,Q,J){var st=typeof I;(st==="undefined"||st==="boolean")&&(I=null);var nt=!1;if(I===null)nt=!0;else switch(st){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(I.$$typeof){case s:case t:nt=!0;break;case d:return nt=I._init,H(nt(I._payload),X,j,Q,J)}}if(nt)return J=J(I),nt=Q===""?"."+C(I,0):Q,F(J)?(j="",nt!=null&&(j=nt.replace(w,"$&/")+"/"),H(J,X,j,"",function(Tt){return Tt})):J!=null&&(b(J)&&(J=P(J,j+(J.key==null||I&&I.key===J.key?"":(""+J.key).replace(w,"$&/")+"/")+nt)),X.push(J)),1;nt=0;var ct=Q===""?".":Q+":";if(F(I))for(var dt=0;dt<I.length;dt++)Q=I[dt],st=ct+C(Q,dt),nt+=H(Q,X,j,st,J);else if(dt=g(I),typeof dt=="function")for(I=dt.call(I),dt=0;!(Q=I.next()).done;)Q=Q.value,st=ct+C(Q,dt++),nt+=H(Q,X,j,st,J);else if(st==="object"){if(typeof I.then=="function")return H(z(I),X,j,Q,J);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return nt}function B(I,X,j){if(I==null)return I;var Q=[],J=0;return H(I,Q,"","",function(st){return X.call(j,st,J++)}),Q}function U(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(j){(I._status===0||I._status===-1)&&(I._status=1,I._result=j)},function(j){(I._status===0||I._status===-1)&&(I._status=2,I._result=j)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var O=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function W(){}return ce.Children={map:B,forEach:function(I,X,j){B(I,function(){X.apply(this,arguments)},j)},count:function(I){var X=0;return B(I,function(){X++}),X},toArray:function(I){return B(I,function(X){return X})||[]},only:function(I){if(!b(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ce.Component=v,ce.Fragment=e,ce.Profiler=r,ce.PureComponent=E,ce.StrictMode=i,ce.Suspense=l,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ce.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},ce.cache=function(I){return function(){return I.apply(null,arguments)}},ce.cloneElement=function(I,X,j){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Q=p({},I.props),J=I.key,st=void 0;if(X!=null)for(nt in X.ref!==void 0&&(st=void 0),X.key!==void 0&&(J=""+X.key),X)!N.call(X,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&X.ref===void 0||(Q[nt]=X[nt]);var nt=arguments.length-2;if(nt===1)Q.children=j;else if(1<nt){for(var ct=Array(nt),dt=0;dt<nt;dt++)ct[dt]=arguments[dt+2];Q.children=ct}return V(I.type,J,void 0,void 0,st,Q)},ce.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:n,_context:I},I},ce.createElement=function(I,X,j){var Q,J={},st=null;if(X!=null)for(Q in X.key!==void 0&&(st=""+X.key),X)N.call(X,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(J[Q]=X[Q]);var nt=arguments.length-2;if(nt===1)J.children=j;else if(1<nt){for(var ct=Array(nt),dt=0;dt<nt;dt++)ct[dt]=arguments[dt+2];J.children=ct}if(I&&I.defaultProps)for(Q in nt=I.defaultProps,nt)J[Q]===void 0&&(J[Q]=nt[Q]);return V(I,st,void 0,void 0,null,J)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(I){return{$$typeof:o,render:I}},ce.isValidElement=b,ce.lazy=function(I){return{$$typeof:d,_payload:{_status:-1,_result:I},_init:U}},ce.memo=function(I,X){return{$$typeof:u,type:I,compare:X===void 0?null:X}},ce.startTransition=function(I){var X=D.T,j={};D.T=j;try{var Q=I(),J=D.S;J!==null&&J(j,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(W,O)}catch(st){O(st)}finally{D.T=X}},ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ce.use=function(I){return D.H.use(I)},ce.useActionState=function(I,X,j){return D.H.useActionState(I,X,j)},ce.useCallback=function(I,X){return D.H.useCallback(I,X)},ce.useContext=function(I){return D.H.useContext(I)},ce.useDebugValue=function(){},ce.useDeferredValue=function(I,X){return D.H.useDeferredValue(I,X)},ce.useEffect=function(I,X,j){var Q=D.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(I,X)},ce.useId=function(){return D.H.useId()},ce.useImperativeHandle=function(I,X,j){return D.H.useImperativeHandle(I,X,j)},ce.useInsertionEffect=function(I,X){return D.H.useInsertionEffect(I,X)},ce.useLayoutEffect=function(I,X){return D.H.useLayoutEffect(I,X)},ce.useMemo=function(I,X){return D.H.useMemo(I,X)},ce.useOptimistic=function(I,X){return D.H.useOptimistic(I,X)},ce.useReducer=function(I,X,j){return D.H.useReducer(I,X,j)},ce.useRef=function(I){return D.H.useRef(I)},ce.useState=function(I){return D.H.useState(I)},ce.useSyncExternalStore=function(I,X,j){return D.H.useSyncExternalStore(I,X,j)},ce.useTransition=function(){return D.H.useTransition()},ce.version="19.1.0",ce}var nM;function Lx(){return nM||(nM=1,$p.exports=LD()),$p.exports}var tt=Lx();const Ql=ET(tt),aM=ND({__proto__:null,default:Ql},[tt]);var jp={exports:{}},Wc={},qp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM;function ID(){return oM||(oM=1,function(s){function t(B,U){var O=B.length;B.push(U);t:for(;0<O;){var W=O-1>>>1,I=B[W];if(0<r(I,U))B[W]=U,B[O]=I,O=W;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var U=B[0],O=B.pop();if(O!==U){B[0]=O;t:for(var W=0,I=B.length,X=I>>>1;W<X;){var j=2*(W+1)-1,Q=B[j],J=j+1,st=B[J];if(0>r(Q,O))J<I&&0>r(st,Q)?(B[W]=st,B[J]=O,W=J):(B[W]=Q,B[j]=O,W=j);else if(J<I&&0>r(st,O))B[W]=st,B[J]=O,W=J;else break t}}return U}function r(B,U){var O=B.sortIndex-U.sortIndex;return O!==0?O:B.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;s.unstable_now=function(){return n.now()}}else{var a=Date,o=a.now();s.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,g=3,m=!1,p=!1,x=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function F(B){for(var U=e(u);U!==null;){if(U.callback===null)i(u);else if(U.startTime<=B)i(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=e(u)}}function D(B){if(x=!1,F(B),!p)if(e(l)!==null)p=!0,N||(N=!0,C());else{var U=e(u);U!==null&&H(D,U.startTime-B)}}var N=!1,V=-1,P=5,b=-1;function M(){return v?!0:!(s.unstable_now()-b<P)}function w(){if(v=!1,N){var B=s.unstable_now();b=B;var U=!0;try{t:{p=!1,x&&(x=!1,E(V),V=-1),m=!0;var O=g;try{e:{for(F(B),f=e(l);f!==null&&!(f.expirationTime>B&&M());){var W=f.callback;if(typeof W=="function"){f.callback=null,g=f.priorityLevel;var I=W(f.expirationTime<=B);if(B=s.unstable_now(),typeof I=="function"){f.callback=I,F(B),U=!0;break e}f===e(l)&&i(l),F(B)}else i(l);f=e(l)}if(f!==null)U=!0;else{var X=e(u);X!==null&&H(D,X.startTime-B),U=!1}}break t}finally{f=null,g=O,m=!1}U=void 0}}finally{U?C():N=!1}}}var C;if(typeof T=="function")C=function(){T(w)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,z=k.port2;k.port1.onmessage=w,C=function(){z.postMessage(null)}}else C=function(){A(w,0)};function H(B,U){V=A(function(){B(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return g},s.unstable_next=function(B){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var O=g;g=U;try{return B()}finally{g=O}},s.unstable_requestPaint=function(){v=!0},s.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=g;g=B;try{return U()}finally{g=O}},s.unstable_scheduleCallback=function(B,U,O){var W=s.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,B){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=O+I,B={id:d++,callback:U,priorityLevel:B,startTime:O,expirationTime:I,sortIndex:-1},O>W?(B.sortIndex=O,t(u,B),e(l)===null&&B===e(u)&&(x?(E(V),V=-1):x=!0,H(D,O-W))):(B.sortIndex=I,t(l,B),p||m||(p=!0,N||(N=!0,C()))),B},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(B){var U=g;return function(){var O=g;g=U;try{return B.apply(this,arguments)}finally{g=O}}}}(Jp)),Jp}var hM;function UD(){return hM||(hM=1,qp.exports=ID()),qp.exports}var Zp={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM;function OD(){if(lM)return sr;lM=1;var s=Lx();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function n(l,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:l,containerInfo:u,implementation:d}}var a=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sr.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return n(l,u,null,d)},sr.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},sr.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},sr.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},sr.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):d==="script"&&i.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},sr.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},sr.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},sr.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},sr.requestFormReset=function(l){i.d.r(l)},sr.unstable_batchedUpdates=function(l,u){return l(u)},sr.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},sr.useFormStatus=function(){return a.H.useHostTransitionStatus()},sr.version="19.1.0",sr}var uM;function GD(){if(uM)return Zp.exports;uM=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Zp.exports=OD(),Zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM;function YD(){if(cM)return Wc;cM=1;var s=UD(),t=Lx(),e=GD();function i(h){var c="https://react.dev/errors/"+h;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function n(h){var c=h,y=h;if(h.alternate)for(;c.return;)c=c.return;else{h=c;do c=h,(c.flags&4098)!==0&&(y=c.return),h=c.return;while(h)}return c.tag===3?y:null}function a(h){if(h.tag===13){var c=h.memoizedState;if(c===null&&(h=h.alternate,h!==null&&(c=h.memoizedState)),c!==null)return c.dehydrated}return null}function o(h){if(n(h)!==h)throw Error(i(188))}function l(h){var c=h.alternate;if(!c){if(c=n(h),c===null)throw Error(i(188));return c!==h?null:h}for(var y=h,S=c;;){var R=y.return;if(R===null)break;var _=R.alternate;if(_===null){if(S=R.return,S!==null){y=S;continue}break}if(R.child===_.child){for(_=R.child;_;){if(_===y)return o(R),h;if(_===S)return o(R),c;_=_.sibling}throw Error(i(188))}if(y.return!==S.return)y=R,S=_;else{for(var G=!1,$=R.child;$;){if($===y){G=!0,y=R,S=_;break}if($===S){G=!0,S=R,y=_;break}$=$.sibling}if(!G){for($=_.child;$;){if($===y){G=!0,y=_,S=R;break}if($===S){G=!0,S=_,y=R;break}$=$.sibling}if(!G)throw Error(i(189))}}if(y.alternate!==S)throw Error(i(190))}if(y.tag!==3)throw Error(i(188));return y.stateNode.current===y?h:c}function u(h){var c=h.tag;if(c===5||c===26||c===27||c===6)return h;for(h=h.child;h!==null;){if(c=u(h),c!==null)return c;h=h.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=w&&h[w]||h["@@iterator"],typeof h=="function"?h:null)}var k=Symbol.for("react.client.reference");function z(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===k?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case p:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case b:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case m:return"Portal";case T:return(h.displayName||"Context")+".Provider";case E:return(h._context.displayName||"Context")+".Consumer";case F:var c=h.render;return h=h.displayName,h||(h=c.displayName||c.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case V:return c=h.displayName||null,c!==null?c:z(h.type)||"Memo";case P:c=h._payload,h=h._init;try{return z(h(c))}catch{}}return null}var H=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},W=[],I=-1;function X(h){return{current:h}}function j(h){0>I||(h.current=W[I],W[I]=null,I--)}function Q(h,c){I++,W[I]=h.current,h.current=c}var J=X(null),st=X(null),nt=X(null),ct=X(null);function dt(h,c){switch(Q(nt,c),Q(st,h),Q(J,null),c.nodeType){case 9:case 11:h=(h=c.documentElement)&&(h=h.namespaceURI)?D2(h):0;break;default:if(h=c.tagName,c=c.namespaceURI)c=D2(c),h=F2(c,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}j(J),Q(J,h)}function Tt(){j(J),j(st),j(nt)}function At(h){h.memoizedState!==null&&Q(ct,h);var c=J.current,y=F2(c,h.type);c!==y&&(Q(st,h),Q(J,y))}function Vt(h){st.current===h&&(j(J),j(st)),ct.current===h&&(j(ct),Ic._currentValue=O)}var Pt=Object.prototype.hasOwnProperty,jt=s.unstable_scheduleCallback,Jt=s.unstable_cancelCallback,_t=s.unstable_shouldYield,Ct=s.unstable_requestPaint,bi=s.unstable_now,Ee=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,gr=s.unstable_UserBlockingPriority,Ge=s.unstable_NormalPriority,zt=s.unstable_LowPriority,Dr=s.unstable_IdlePriority,ge=s.log,ii=s.unstable_setDisableYieldValue,Di=null,Se=null;function Ye(h){if(typeof ge=="function"&&ii(h),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Di,h)}catch{}}var Mi=Math.clz32?Math.clz32:Ao,je=Math.log,He=Math.LN2;function Ao(h){return h>>>=0,h===0?32:31-(je(h)/He|0)|0}var Xe=256,qe=4194304;function Yt(h){var c=h&42;if(c!==0)return c;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function oe(h,c,y){var S=h.pendingLanes;if(S===0)return 0;var R=0,_=h.suspendedLanes,G=h.pingedLanes;h=h.warmLanes;var $=S&134217727;return $!==0?(S=$&~_,S!==0?R=Yt(S):(G&=$,G!==0?R=Yt(G):y||(y=$&~h,y!==0&&(R=Yt(y))))):($=S&~_,$!==0?R=Yt($):G!==0?R=Yt(G):y||(y=S&~h,y!==0&&(R=Yt(y)))),R===0?0:c!==0&&c!==R&&(c&_)===0&&(_=R&-R,y=c&-c,_>=y||_===32&&(y&4194048)!==0)?c:R}function wt(h,c){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&c)===0}function le(h,c){switch(h){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var h=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),h}function Ht(){var h=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),h}function ue(h){for(var c=[],y=0;31>y;y++)c.push(h);return c}function ye(h,c){h.pendingLanes|=c,c!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function De(h,c,y,S,R,_){var G=h.pendingLanes;h.pendingLanes=y,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=y,h.entangledLanes&=y,h.errorRecoveryDisabledLanes&=y,h.shellSuspendCounter=0;var $=h.entanglements,Z=h.expirationTimes,ot=h.hiddenUpdates;for(y=G&~y;0<y;){var pt=31-Mi(y),xt=1<<pt;$[pt]=0,Z[pt]=-1;var lt=ot[pt];if(lt!==null)for(ot[pt]=null,pt=0;pt<lt.length;pt++){var ut=lt[pt];ut!==null&&(ut.lane&=-536870913)}y&=~xt}S!==0&&sa(h,S,0),_!==0&&R===0&&h.tag!==0&&(h.suspendedLanes|=_&~(G&~c))}function sa(h,c,y){h.pendingLanes|=c,h.suspendedLanes&=~c;var S=31-Mi(c);h.entangledLanes|=c,h.entanglements[S]=h.entanglements[S]|1073741824|y&4194090}function hi(h,c){var y=h.entangledLanes|=c;for(h=h.entanglements;y;){var S=31-Mi(y),R=1<<S;R&c|h[S]&c&&(h[S]|=c),y&=~R}}function Fe(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function ra(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Ri(){var h=U.p;return h!==0?h:(h=window.event,h===void 0?32:J2(h.type))}function li(h,c){var y=U.p;try{return U.p=h,c()}finally{U.p=y}}var Gt=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Gt,ie="__reactProps$"+Gt,Xs="__reactContainer$"+Gt,ui="__reactEvents$"+Gt,xe="__reactListeners$"+Gt,hs="__reactHandles$"+Gt,We="__reactResources$"+Gt,Be="__reactMarker$"+Gt;function Zi(h){delete h[Ot],delete h[ie],delete h[ui],delete h[xe],delete h[hs]}function Yi(h){var c=h[Ot];if(c)return c;for(var y=h.parentNode;y;){if(c=y[Xs]||y[Ot]){if(y=c.alternate,c.child!==null||y!==null&&y.child!==null)for(h=N2(h);h!==null;){if(y=h[Ot])return y;h=N2(h)}return c}h=y,y=h.parentNode}return null}function ps(h){if(h=h[Ot]||h[Xs]){var c=h.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return h}return null}function Qi(h){var c=h.tag;if(c===5||c===26||c===27||c===6)return h.stateNode;throw Error(i(33))}function Mt(h){var c=h[We];return c||(c=h[We]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $t(h){h[Be]=!0}var yr=new Set,Hi={};function Xi(h,c){Wi(h,c),Wi(h+"Capture",c)}function Wi(h,c){for(Hi[h]=c,h=0;h<c.length;h++)yr.add(c[h])}var ls=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Kr={};function vo(h){return Pt.call(Kr,h)?!0:Pt.call(Qr,h)?!1:ls.test(h)?Kr[h]=!0:(Qr[h]=!0,!1)}function vn(h,c,y){if(vo(c))if(y===null)h.removeAttribute(c);else{switch(typeof y){case"undefined":case"function":case"symbol":h.removeAttribute(c);return;case"boolean":var S=c.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){h.removeAttribute(c);return}}h.setAttribute(c,""+y)}}function bn(h,c,y){if(y===null)h.removeAttribute(c);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(c);return}h.setAttribute(c,""+y)}}function Te(h,c,y,S){if(S===null)h.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(y);return}h.setAttributeNS(c,y,""+S)}}var Ws,Pa;function hl(h){if(Ws===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);Ws=c&&c[1]||"",Pa=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+h+Pa}var Oy=!1;function Gy(h,c){if(!h||Oy)return"";Oy=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ut){var lt=ut}Reflect.construct(h,[],xt)}else{try{xt.call()}catch(ut){lt=ut}h.call(xt.prototype)}}else{try{throw Error()}catch(ut){lt=ut}(xt=h())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ut){if(ut&&lt&&typeof ut.stack=="string")return[ut.stack,lt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=S.DetermineComponentFrameRoot(),G=_[0],$=_[1];if(G&&$){var Z=G.split(`
`),ot=$.split(`
`);for(R=S=0;S<Z.length&&!Z[S].includes("DetermineComponentFrameRoot");)S++;for(;R<ot.length&&!ot[R].includes("DetermineComponentFrameRoot");)R++;if(S===Z.length||R===ot.length)for(S=Z.length-1,R=ot.length-1;1<=S&&0<=R&&Z[S]!==ot[R];)R--;for(;1<=S&&0<=R;S--,R--)if(Z[S]!==ot[R]){if(S!==1||R!==1)do if(S--,R--,0>R||Z[S]!==ot[R]){var pt=`
`+Z[S].replace(" at new "," at ");return h.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",h.displayName)),pt}while(1<=S&&0<=R);break}}}finally{Oy=!1,Error.prepareStackTrace=y}return(y=h?h.displayName||h.name:"")?hl(y):""}function wk(h){switch(h.tag){case 26:case 27:case 5:return hl(h.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 15:return Gy(h.type,!1);case 11:return Gy(h.type.render,!1);case 1:return Gy(h.type,!0);case 31:return hl("Activity");default:return""}}function R1(h){try{var c="";do c+=wk(h),h=h.return;while(h);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function Mn(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function E1(h){var c=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ck(h){var c=E1(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,c),S=""+h[c];if(!h.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var R=y.get,_=y.set;return Object.defineProperty(h,c,{configurable:!0,get:function(){return R.call(this)},set:function(G){S=""+G,_.call(this,G)}}),Object.defineProperty(h,c,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(G){S=""+G},stopTracking:function(){h._valueTracker=null,delete h[c]}}}}function xf(h){h._valueTracker||(h._valueTracker=Ck(h))}function T1(h){if(!h)return!1;var c=h._valueTracker;if(!c)return!0;var y=c.getValue(),S="";return h&&(S=E1(h)?h.checked?"true":"false":h.value),h=S,h!==y?(c.setValue(h),!0):!1}function Af(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var kk=/[\n"\\]/g;function Rn(h){return h.replace(kk,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Yy(h,c,y,S,R,_,G,$){h.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?h.type=G:h.removeAttribute("type"),c!=null?G==="number"?(c===0&&h.value===""||h.value!=c)&&(h.value=""+Mn(c)):h.value!==""+Mn(c)&&(h.value=""+Mn(c)):G!=="submit"&&G!=="reset"||h.removeAttribute("value"),c!=null?Hy(h,G,Mn(c)):y!=null?Hy(h,G,Mn(y)):S!=null&&h.removeAttribute("value"),R==null&&_!=null&&(h.defaultChecked=!!_),R!=null&&(h.checked=R&&typeof R!="function"&&typeof R!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?h.name=""+Mn($):h.removeAttribute("name")}function w1(h,c,y,S,R,_,G,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(h.type=_),c!=null||y!=null){if(!(_!=="submit"&&_!=="reset"||c!=null))return;y=y!=null?""+Mn(y):"",c=c!=null?""+Mn(c):y,$||c===h.value||(h.value=c),h.defaultValue=c}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,h.checked=$?h.checked:!!S,h.defaultChecked=!!S,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(h.name=G)}function Hy(h,c,y){c==="number"&&Af(h.ownerDocument)===h||h.defaultValue===""+y||(h.defaultValue=""+y)}function ll(h,c,y,S){if(h=h.options,c){c={};for(var R=0;R<y.length;R++)c["$"+y[R]]=!0;for(y=0;y<h.length;y++)R=c.hasOwnProperty("$"+h[y].value),h[y].selected!==R&&(h[y].selected=R),R&&S&&(h[y].defaultSelected=!0)}else{for(y=""+Mn(y),c=null,R=0;R<h.length;R++){if(h[R].value===y){h[R].selected=!0,S&&(h[R].defaultSelected=!0);return}c!==null||h[R].disabled||(c=h[R])}c!==null&&(c.selected=!0)}}function C1(h,c,y){if(c!=null&&(c=""+Mn(c),c!==h.value&&(h.value=c),y==null)){h.defaultValue!==c&&(h.defaultValue=c);return}h.defaultValue=y!=null?""+Mn(y):""}function k1(h,c,y,S){if(c==null){if(S!=null){if(y!=null)throw Error(i(92));if(H(S)){if(1<S.length)throw Error(i(93));S=S[0]}y=S}y==null&&(y=""),c=y}y=Mn(c),h.defaultValue=y,S=h.textContent,S===y&&S!==""&&S!==null&&(h.value=S)}function ul(h,c){if(c){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=c;return}}h.textContent=c}var Dk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D1(h,c,y){var S=c.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?h.setProperty(c,""):c==="float"?h.cssFloat="":h[c]="":S?h.setProperty(c,y):typeof y!="number"||y===0||Dk.has(c)?c==="float"?h.cssFloat=y:h[c]=(""+y).trim():h[c]=y+"px"}function F1(h,c,y){if(c!=null&&typeof c!="object")throw Error(i(62));if(h=h.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||c!=null&&c.hasOwnProperty(S)||(S.indexOf("--")===0?h.setProperty(S,""):S==="float"?h.cssFloat="":h[S]="");for(var R in c)S=c[R],c.hasOwnProperty(R)&&y[R]!==S&&D1(h,R,S)}else for(var _ in c)c.hasOwnProperty(_)&&D1(h,_,c[_])}function Xy(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_k=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vf(h){return _k.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Wy=null;function $y(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var cl=null,dl=null;function _1(h){var c=ps(h);if(c&&(h=c.stateNode)){var y=h[ie]||null;t:switch(h=c.stateNode,c.type){case"input":if(Yy(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),c=y.name,y.type==="radio"&&c!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Rn(""+c)+'"][type="radio"]'),c=0;c<y.length;c++){var S=y[c];if(S!==h&&S.form===h.form){var R=S[ie]||null;if(!R)throw Error(i(90));Yy(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(c=0;c<y.length;c++)S=y[c],S.form===h.form&&T1(S)}break t;case"textarea":C1(h,y.value,y.defaultValue);break t;case"select":c=y.value,c!=null&&ll(h,!!y.multiple,c,!1)}}}var jy=!1;function V1(h,c,y){if(jy)return h(c,y);jy=!0;try{var S=h(c);return S}finally{if(jy=!1,(cl!==null||dl!==null)&&(a0(),cl&&(c=cl,h=dl,dl=cl=null,_1(c),h)))for(c=0;c<h.length;c++)_1(h[c])}}function Qu(h,c){var y=h.stateNode;if(y===null)return null;var S=y[ie]||null;if(S===null)return null;y=S[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(h=h.type,S=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!S;break t;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(i(231,c,typeof y));return y}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=!1;if(La)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){qy=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{qy=!1}var bo=null,Jy=null,bf=null;function z1(){if(bf)return bf;var h,c=Jy,y=c.length,S,R="value"in bo?bo.value:bo.textContent,_=R.length;for(h=0;h<y&&c[h]===R[h];h++);var G=y-h;for(S=1;S<=G&&c[y-S]===R[_-S];S++);return bf=R.slice(h,1<S?1-S:void 0)}function Mf(h){var c=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&c===13&&(h=13)):h=c,h===10&&(h=13),32<=h||h===13?h:0}function Rf(){return!0}function N1(){return!1}function Fr(h){function c(y,S,R,_,G){this._reactName=y,this._targetInst=R,this.type=S,this.nativeEvent=_,this.target=G,this.currentTarget=null;for(var $ in h)h.hasOwnProperty($)&&(y=h[$],this[$]=y?y(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rf:N1,this.isPropagationStopped=N1,this}return d(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),c}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=Fr(dh),tc=d({},dh,{view:0,detail:0}),Vk=Fr(tc),Zy,Qy,ec,Tf=d({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tm,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==ec&&(ec&&h.type==="mousemove"?(Zy=h.screenX-ec.screenX,Qy=h.screenY-ec.screenY):Qy=Zy=0,ec=h),Zy)},movementY:function(h){return"movementY"in h?h.movementY:Qy}}),B1=Fr(Tf),zk=d({},Tf,{dataTransfer:0}),Nk=Fr(zk),Bk=d({},tc,{relatedTarget:0}),Ky=Fr(Bk),Pk=d({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),Lk=Fr(Pk),Ik=d({},dh,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Uk=Fr(Ik),Ok=d({},dh,{data:0}),P1=Fr(Ok),Gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(h){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(h):(h=Hk[h])?!!c[h]:!1}function tm(){return Xk}var Wk=d({},tc,{key:function(h){if(h.key){var c=Gk[h.key]||h.key;if(c!=="Unidentified")return c}return h.type==="keypress"?(h=Mf(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Yk[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tm,charCode:function(h){return h.type==="keypress"?Mf(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Mf(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),$k=Fr(Wk),jk=d({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L1=Fr(jk),qk=d({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tm}),Jk=Fr(qk),Zk=d({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=Fr(Zk),Kk=d({},Tf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),t3=Fr(Kk),e3=d({},dh,{newState:0,oldState:0}),i3=Fr(e3),s3=[9,13,27,32],em=La&&"CompositionEvent"in window,ic=null;La&&"documentMode"in document&&(ic=document.documentMode);var r3=La&&"TextEvent"in window&&!ic,I1=La&&(!em||ic&&8<ic&&11>=ic),U1=" ",O1=!1;function G1(h,c){switch(h){case"keyup":return s3.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var fl=!1;function n3(h,c){switch(h){case"compositionend":return Y1(c);case"keypress":return c.which!==32?null:(O1=!0,U1);case"textInput":return h=c.data,h===U1&&O1?null:h;default:return null}}function a3(h,c){if(fl)return h==="compositionend"||!em&&G1(h,c)?(h=z1(),bf=Jy=bo=null,fl=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return I1&&c.locale!=="ko"?null:c.data;default:return null}}var o3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(h){var c=h&&h.nodeName&&h.nodeName.toLowerCase();return c==="input"?!!o3[h.type]:c==="textarea"}function X1(h,c,y,S){cl?dl?dl.push(S):dl=[S]:cl=S,c=d0(c,"onChange"),0<c.length&&(y=new Ef("onChange","change",null,y,S),h.push({event:y,listeners:c}))}var sc=null,rc=null;function h3(h){E2(h,0)}function wf(h){var c=Qi(h);if(T1(c))return h}function W1(h,c){if(h==="change")return c}var $1=!1;if(La){var im;if(La){var sm="oninput"in document;if(!sm){var j1=document.createElement("div");j1.setAttribute("oninput","return;"),sm=typeof j1.oninput=="function"}im=sm}else im=!1;$1=im&&(!document.documentMode||9<document.documentMode)}function q1(){sc&&(sc.detachEvent("onpropertychange",J1),rc=sc=null)}function J1(h){if(h.propertyName==="value"&&wf(rc)){var c=[];X1(c,rc,h,$y(h)),V1(h3,c)}}function l3(h,c,y){h==="focusin"?(q1(),sc=c,rc=y,sc.attachEvent("onpropertychange",J1)):h==="focusout"&&q1()}function u3(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return wf(rc)}function c3(h,c){if(h==="click")return wf(c)}function d3(h,c){if(h==="input"||h==="change")return wf(c)}function f3(h,c){return h===c&&(h!==0||1/h===1/c)||h!==h&&c!==c}var tn=typeof Object.is=="function"?Object.is:f3;function nc(h,c){if(tn(h,c))return!0;if(typeof h!="object"||h===null||typeof c!="object"||c===null)return!1;var y=Object.keys(h),S=Object.keys(c);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var R=y[S];if(!Pt.call(c,R)||!tn(h[R],c[R]))return!1}return!0}function Z1(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Q1(h,c){var y=Z1(h);h=0;for(var S;y;){if(y.nodeType===3){if(S=h+y.textContent.length,h<=c&&S>=c)return{node:y,offset:c-h};h=S}t:{for(;y;){if(y.nextSibling){y=y.nextSibling;break t}y=y.parentNode}y=void 0}y=Z1(y)}}function K1(h,c){return h&&c?h===c?!0:h&&h.nodeType===3?!1:c&&c.nodeType===3?K1(h,c.parentNode):"contains"in h?h.contains(c):h.compareDocumentPosition?!!(h.compareDocumentPosition(c)&16):!1:!1}function tv(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var c=Af(h.document);c instanceof h.HTMLIFrameElement;){try{var y=typeof c.contentWindow.location.href=="string"}catch{y=!1}if(y)h=c.contentWindow;else break;c=Af(h.document)}return c}function rm(h){var c=h&&h.nodeName&&h.nodeName.toLowerCase();return c&&(c==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||c==="textarea"||h.contentEditable==="true")}var g3=La&&"documentMode"in document&&11>=document.documentMode,gl=null,nm=null,ac=null,am=!1;function ev(h,c,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;am||gl==null||gl!==Af(S)||(S=gl,"selectionStart"in S&&rm(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ac&&nc(ac,S)||(ac=S,S=d0(nm,"onSelect"),0<S.length&&(c=new Ef("onSelect","select",null,c,y),h.push({event:c,listeners:S}),c.target=gl)))}function fh(h,c){var y={};return y[h.toLowerCase()]=c.toLowerCase(),y["Webkit"+h]="webkit"+c,y["Moz"+h]="moz"+c,y}var yl={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionrun:fh("Transition","TransitionRun"),transitionstart:fh("Transition","TransitionStart"),transitioncancel:fh("Transition","TransitionCancel"),transitionend:fh("Transition","TransitionEnd")},om={},iv={};La&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function gh(h){if(om[h])return om[h];if(!yl[h])return h;var c=yl[h],y;for(y in c)if(c.hasOwnProperty(y)&&y in iv)return om[h]=c[y];return h}var sv=gh("animationend"),rv=gh("animationiteration"),nv=gh("animationstart"),y3=gh("transitionrun"),m3=gh("transitionstart"),p3=gh("transitioncancel"),av=gh("transitionend"),ov=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function Xn(h,c){ov.set(h,c),Xi(c,[h])}var hv=new WeakMap;function En(h,c){if(typeof h=="object"&&h!==null){var y=hv.get(h);return y!==void 0?y:(c={value:h,source:c,stack:R1(c)},hv.set(h,c),c)}return{value:h,source:c,stack:R1(c)}}var Tn=[],ml=0,lm=0;function Cf(){for(var h=ml,c=lm=ml=0;c<h;){var y=Tn[c];Tn[c++]=null;var S=Tn[c];Tn[c++]=null;var R=Tn[c];Tn[c++]=null;var _=Tn[c];if(Tn[c++]=null,S!==null&&R!==null){var G=S.pending;G===null?R.next=R:(R.next=G.next,G.next=R),S.pending=R}_!==0&&lv(y,R,_)}}function kf(h,c,y,S){Tn[ml++]=h,Tn[ml++]=c,Tn[ml++]=y,Tn[ml++]=S,lm|=S,h.lanes|=S,h=h.alternate,h!==null&&(h.lanes|=S)}function um(h,c,y,S){return kf(h,c,y,S),Df(h)}function pl(h,c){return kf(h,null,null,c),Df(h)}function lv(h,c,y){h.lanes|=y;var S=h.alternate;S!==null&&(S.lanes|=y);for(var R=!1,_=h.return;_!==null;)_.childLanes|=y,S=_.alternate,S!==null&&(S.childLanes|=y),_.tag===22&&(h=_.stateNode,h===null||h._visibility&1||(R=!0)),h=_,_=_.return;return h.tag===3?(_=h.stateNode,R&&c!==null&&(R=31-Mi(y),h=_.hiddenUpdates,S=h[R],S===null?h[R]=[c]:S.push(c),c.lane=y|536870912),_):null}function Df(h){if(50<Fc)throw Fc=0,mp=null,Error(i(185));for(var c=h.return;c!==null;)h=c,c=h.return;return h.tag===3?h.stateNode:null}var Sl={};function S3(h,c,y,S){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(h,c,y,S){return new S3(h,c,y,S)}function cm(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ia(h,c){var y=h.alternate;return y===null?(y=en(h.tag,c,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=c,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&65011712,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,c=h.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y.refCleanup=h.refCleanup,y}function uv(h,c){h.flags&=65011714;var y=h.alternate;return y===null?(h.childLanes=0,h.lanes=c,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,c=y.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),h}function Ff(h,c,y,S,R,_){var G=0;if(S=h,typeof h=="function")cm(h)&&(G=1);else if(typeof h=="string")G=AD(h,y,J.current)?26:h==="html"||h==="head"||h==="body"?27:5;else t:switch(h){case b:return h=en(31,y,c,R),h.elementType=b,h.lanes=_,h;case p:return yh(y.children,R,_,c);case x:G=8,R|=24;break;case v:return h=en(12,y,c,R|2),h.elementType=v,h.lanes=_,h;case D:return h=en(13,y,c,R),h.elementType=D,h.lanes=_,h;case N:return h=en(19,y,c,R),h.elementType=N,h.lanes=_,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case A:case T:G=10;break t;case E:G=9;break t;case F:G=11;break t;case V:G=14;break t;case P:G=16,S=null;break t}G=29,y=Error(i(130,h===null?"null":typeof h,"")),S=null}return c=en(G,y,c,R),c.elementType=h,c.type=S,c.lanes=_,c}function yh(h,c,y,S){return h=en(7,h,S,c),h.lanes=y,h}function dm(h,c,y){return h=en(6,h,null,c),h.lanes=y,h}function fm(h,c,y){return c=en(4,h.children!==null?h.children:[],h.key,c),c.lanes=y,c.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},c}var xl=[],Al=0,_f=null,Vf=0,wn=[],Cn=0,mh=null,Ua=1,Oa="";function ph(h,c){xl[Al++]=Vf,xl[Al++]=_f,_f=h,Vf=c}function cv(h,c,y){wn[Cn++]=Ua,wn[Cn++]=Oa,wn[Cn++]=mh,mh=h;var S=Ua;h=Oa;var R=32-Mi(S)-1;S&=~(1<<R),y+=1;var _=32-Mi(c)+R;if(30<_){var G=R-R%5;_=(S&(1<<G)-1).toString(32),S>>=G,R-=G,Ua=1<<32-Mi(c)+R|y<<R|S,Oa=_+h}else Ua=1<<_|y<<R|S,Oa=h}function gm(h){h.return!==null&&(ph(h,1),cv(h,1,0))}function ym(h){for(;h===_f;)_f=xl[--Al],xl[Al]=null,Vf=xl[--Al],xl[Al]=null;for(;h===mh;)mh=wn[--Cn],wn[Cn]=null,Oa=wn[--Cn],wn[Cn]=null,Ua=wn[--Cn],wn[Cn]=null}var mr=null,Ki=null,si=!1,Sh=null,na=!1,mm=Error(i(519));function xh(h){var c=Error(i(418,""));throw lc(En(c,h)),mm}function dv(h){var c=h.stateNode,y=h.type,S=h.memoizedProps;switch(c[Ot]=h,c[ie]=S,y){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(y=0;y<Vc.length;y++)Ve(Vc[y],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":Ve("invalid",c),w1(c,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),xf(c);break;case"select":Ve("invalid",c);break;case"textarea":Ve("invalid",c),k1(c,S.value,S.defaultValue,S.children),xf(c)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||c.textContent===""+y||S.suppressHydrationWarning===!0||k2(c.textContent,y)?(S.popover!=null&&(Ve("beforetoggle",c),Ve("toggle",c)),S.onScroll!=null&&Ve("scroll",c),S.onScrollEnd!=null&&Ve("scrollend",c),S.onClick!=null&&(c.onclick=f0),c=!0):c=!1,c||xh(h)}function fv(h){for(mr=h.return;mr;)switch(mr.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:mr=mr.return}}function oc(h){if(h!==mr)return!1;if(!si)return fv(h),si=!0,!1;var c=h.tag,y;if((y=c!==3&&c!==27)&&((y=c===5)&&(y=h.type,y=!(y!=="form"&&y!=="button")||_p(h.type,h.memoizedProps)),y=!y),y&&Ki&&xh(h),fv(h),c===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));t:{for(h=h.nextSibling,c=0;h;){if(h.nodeType===8)if(y=h.data,y==="/$"){if(c===0){Ki=$n(h.nextSibling);break t}c--}else y!=="$"&&y!=="$!"&&y!=="$?"||c++;h=h.nextSibling}Ki=null}}else c===27?(c=Ki,Lo(h.type)?(h=Bp,Bp=null,Ki=h):Ki=c):Ki=mr?$n(h.stateNode.nextSibling):null;return!0}function hc(){Ki=mr=null,si=!1}function gv(){var h=Sh;return h!==null&&(zr===null?zr=h:zr.push.apply(zr,h),Sh=null),h}function lc(h){Sh===null?Sh=[h]:Sh.push(h)}var pm=X(null),Ah=null,Ga=null;function Mo(h,c,y){Q(pm,c._currentValue),c._currentValue=y}function Ya(h){h._currentValue=pm.current,j(pm)}function Sm(h,c,y){for(;h!==null;){var S=h.alternate;if((h.childLanes&c)!==c?(h.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),h===y)break;h=h.return}}function xm(h,c,y,S){var R=h.child;for(R!==null&&(R.return=h);R!==null;){var _=R.dependencies;if(_!==null){var G=R.child;_=_.firstContext;t:for(;_!==null;){var $=_;_=R;for(var Z=0;Z<c.length;Z++)if($.context===c[Z]){_.lanes|=y,$=_.alternate,$!==null&&($.lanes|=y),Sm(_.return,y,h),S||(G=null);break t}_=$.next}}else if(R.tag===18){if(G=R.return,G===null)throw Error(i(341));G.lanes|=y,_=G.alternate,_!==null&&(_.lanes|=y),Sm(G,y,h),G=null}else G=R.child;if(G!==null)G.return=R;else for(G=R;G!==null;){if(G===h){G=null;break}if(R=G.sibling,R!==null){R.return=G.return,G=R;break}G=G.return}R=G}}function uc(h,c,y,S){h=null;for(var R=c,_=!1;R!==null;){if(!_){if((R.flags&524288)!==0)_=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var G=R.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var $=R.type;tn(R.pendingProps.value,G.value)||(h!==null?h.push($):h=[$])}}else if(R===ct.current){if(G=R.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(h!==null?h.push(Ic):h=[Ic])}R=R.return}h!==null&&xm(c,h,y,S),c.flags|=262144}function zf(h){for(h=h.firstContext;h!==null;){if(!tn(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function vh(h){Ah=h,Ga=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function ir(h){return yv(Ah,h)}function Nf(h,c){return Ah===null&&vh(h),yv(h,c)}function yv(h,c){var y=c._currentValue;if(c={context:c,memoizedValue:y,next:null},Ga===null){if(h===null)throw Error(i(308));Ga=c,h.dependencies={lanes:0,firstContext:c},h.flags|=524288}else Ga=Ga.next=c;return y}var x3=typeof AbortController<"u"?AbortController:function(){var h=[],c=this.signal={aborted:!1,addEventListener:function(y,S){h.push(S)}};this.abort=function(){c.aborted=!0,h.forEach(function(y){return y()})}},A3=s.unstable_scheduleCallback,v3=s.unstable_NormalPriority,Cs={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new x3,data:new Map,refCount:0}}function cc(h){h.refCount--,h.refCount===0&&A3(v3,function(){h.controller.abort()})}var dc=null,vm=0,vl=0,bl=null;function b3(h,c){if(dc===null){var y=dc=[];vm=0,vl=Mp(),bl={status:"pending",value:void 0,then:function(S){y.push(S)}}}return vm++,c.then(mv,mv),c}function mv(){if(--vm===0&&dc!==null){bl!==null&&(bl.status="fulfilled");var h=dc;dc=null,vl=0,bl=null;for(var c=0;c<h.length;c++)(0,h[c])()}}function M3(h,c){var y=[],S={status:"pending",value:null,reason:null,then:function(R){y.push(R)}};return h.then(function(){S.status="fulfilled",S.value=c;for(var R=0;R<y.length;R++)(0,y[R])(c)},function(R){for(S.status="rejected",S.reason=R,R=0;R<y.length;R++)(0,y[R])(void 0)}),S}var pv=B.S;B.S=function(h,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&b3(h,c),pv!==null&&pv(h,c)};var bh=X(null);function bm(){var h=bh.current;return h!==null?h:Fi.pooledCache}function Bf(h,c){c===null?Q(bh,bh.current):Q(bh,c.pool)}function Sv(){var h=bm();return h===null?null:{parent:Cs._currentValue,pool:h}}var fc=Error(i(460)),xv=Error(i(474)),Pf=Error(i(542)),Mm={then:function(){}};function Av(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Lf(){}function vv(h,c,y){switch(y=h[y],y===void 0?h.push(c):y!==c&&(c.then(Lf,Lf),c=y),c.status){case"fulfilled":return c.value;case"rejected":throw h=c.reason,Mv(h),h;default:if(typeof c.status=="string")c.then(Lf,Lf);else{if(h=Fi,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=c,h.status="pending",h.then(function(S){if(c.status==="pending"){var R=c;R.status="fulfilled",R.value=S}},function(S){if(c.status==="pending"){var R=c;R.status="rejected",R.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw h=c.reason,Mv(h),h}throw gc=c,fc}}var gc=null;function bv(){if(gc===null)throw Error(i(459));var h=gc;return gc=null,h}function Mv(h){if(h===fc||h===Pf)throw Error(i(483))}var Ro=!1;function Rm(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(h,c){h=h.updateQueue,c.updateQueue===h&&(c.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Eo(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function To(h,c,y){var S=h.updateQueue;if(S===null)return null;if(S=S.shared,(di&2)!==0){var R=S.pending;return R===null?c.next=c:(c.next=R.next,R.next=c),S.pending=c,c=Df(h),lv(h,null,y),c}return kf(h,S,c,y),Df(h)}function yc(h,c,y){if(c=c.updateQueue,c!==null&&(c=c.shared,(y&4194048)!==0)){var S=c.lanes;S&=h.pendingLanes,y|=S,c.lanes=y,hi(h,y)}}function Tm(h,c){var y=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var R=null,_=null;if(y=y.firstBaseUpdate,y!==null){do{var G={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};_===null?R=_=G:_=_.next=G,y=y.next}while(y!==null);_===null?R=_=c:_=_.next=c}else R=_=c;y={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:_,shared:S.shared,callbacks:S.callbacks},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=c:h.next=c,y.lastBaseUpdate=c}var wm=!1;function mc(){if(wm){var h=bl;if(h!==null)throw h}}function pc(h,c,y,S){wm=!1;var R=h.updateQueue;Ro=!1;var _=R.firstBaseUpdate,G=R.lastBaseUpdate,$=R.shared.pending;if($!==null){R.shared.pending=null;var Z=$,ot=Z.next;Z.next=null,G===null?_=ot:G.next=ot,G=Z;var pt=h.alternate;pt!==null&&(pt=pt.updateQueue,$=pt.lastBaseUpdate,$!==G&&($===null?pt.firstBaseUpdate=ot:$.next=ot,pt.lastBaseUpdate=Z))}if(_!==null){var xt=R.baseState;G=0,pt=ot=Z=null,$=_;do{var lt=$.lane&-536870913,ut=lt!==$.lane;if(ut?(Ue&lt)===lt:(S&lt)===lt){lt!==0&&lt===vl&&(wm=!0),pt!==null&&(pt=pt.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});t:{var ne=h,Zt=$;lt=c;var Si=y;switch(Zt.tag){case 1:if(ne=Zt.payload,typeof ne=="function"){xt=ne.call(Si,xt,lt);break t}xt=ne;break t;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=Zt.payload,lt=typeof ne=="function"?ne.call(Si,xt,lt):ne,lt==null)break t;xt=d({},xt,lt);break t;case 2:Ro=!0}}lt=$.callback,lt!==null&&(h.flags|=64,ut&&(h.flags|=8192),ut=R.callbacks,ut===null?R.callbacks=[lt]:ut.push(lt))}else ut={lane:lt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pt===null?(ot=pt=ut,Z=xt):pt=pt.next=ut,G|=lt;if($=$.next,$===null){if($=R.shared.pending,$===null)break;ut=$,$=ut.next,ut.next=null,R.lastBaseUpdate=ut,R.shared.pending=null}}while(!0);pt===null&&(Z=xt),R.baseState=Z,R.firstBaseUpdate=ot,R.lastBaseUpdate=pt,_===null&&(R.shared.lanes=0),zo|=G,h.lanes=G,h.memoizedState=xt}}function Rv(h,c){if(typeof h!="function")throw Error(i(191,h));h.call(c)}function Ev(h,c){var y=h.callbacks;if(y!==null)for(h.callbacks=null,h=0;h<y.length;h++)Rv(y[h],c)}var Ml=X(null),If=X(0);function Tv(h,c){h=Ja,Q(If,h),Q(Ml,c),Ja=h|c.baseLanes}function Cm(){Q(If,Ja),Q(Ml,Ml.current)}function km(){Ja=If.current,j(Ml),j(If)}var wo=0,Ae=null,mi=null,Ss=null,Uf=!1,Rl=!1,Mh=!1,Of=0,Sc=0,El=null,R3=0;function us(){throw Error(i(321))}function Dm(h,c){if(c===null)return!1;for(var y=0;y<c.length&&y<h.length;y++)if(!tn(h[y],c[y]))return!1;return!0}function Fm(h,c,y,S,R,_){return wo=_,Ae=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=h===null||h.memoizedState===null?lb:ub,Mh=!1,_=y(S,R),Mh=!1,Rl&&(_=Cv(c,y,S,R)),wv(h),_}function wv(h){B.H=$f;var c=mi!==null&&mi.next!==null;if(wo=0,Ss=mi=Ae=null,Uf=!1,Sc=0,El=null,c)throw Error(i(300));h===null||Bs||(h=h.dependencies,h!==null&&zf(h)&&(Bs=!0))}function Cv(h,c,y,S){Ae=h;var R=0;do{if(Rl&&(El=null),Sc=0,Rl=!1,25<=R)throw Error(i(301));if(R+=1,Ss=mi=null,h.updateQueue!=null){var _=h.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}B.H=F3,_=c(y,S)}while(Rl);return _}function E3(){var h=B.H,c=h.useState()[0];return c=typeof c.then=="function"?xc(c):c,h=h.useState()[0],(mi!==null?mi.memoizedState:null)!==h&&(Ae.flags|=1024),c}function _m(){var h=Of!==0;return Of=0,h}function Vm(h,c,y){c.updateQueue=h.updateQueue,c.flags&=-2053,h.lanes&=~y}function zm(h){if(Uf){for(h=h.memoizedState;h!==null;){var c=h.queue;c!==null&&(c.pending=null),h=h.next}Uf=!1}wo=0,Ss=mi=Ae=null,Rl=!1,Sc=Of=0,El=null}function _r(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ss===null?Ae.memoizedState=Ss=h:Ss=Ss.next=h,Ss}function xs(){if(mi===null){var h=Ae.alternate;h=h!==null?h.memoizedState:null}else h=mi.next;var c=Ss===null?Ae.memoizedState:Ss.next;if(c!==null)Ss=c,mi=h;else{if(h===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));mi=h,h={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Ss===null?Ae.memoizedState=Ss=h:Ss=Ss.next=h}return Ss}function Nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(h){var c=Sc;return Sc+=1,El===null&&(El=[]),h=vv(El,h,c),c=Ae,(Ss===null?c.memoizedState:Ss.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?lb:ub),h}function Gf(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return xc(h);if(h.$$typeof===T)return ir(h)}throw Error(i(438,String(h)))}function Bm(h){var c=null,y=Ae.updateQueue;if(y!==null&&(c=y.memoCache),c==null){var S=Ae.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(R){return R.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),y===null&&(y=Nm(),Ae.updateQueue=y),y.memoCache=c,y=c.data[c.index],y===void 0)for(y=c.data[c.index]=Array(h),S=0;S<h;S++)y[S]=M;return c.index++,y}function Ha(h,c){return typeof c=="function"?c(h):c}function Yf(h){var c=xs();return Pm(c,mi,h)}function Pm(h,c,y){var S=h.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=y;var R=h.baseQueue,_=S.pending;if(_!==null){if(R!==null){var G=R.next;R.next=_.next,_.next=G}c.baseQueue=R=_,S.pending=null}if(_=h.baseState,R===null)h.memoizedState=_;else{c=R.next;var $=G=null,Z=null,ot=c,pt=!1;do{var xt=ot.lane&-536870913;if(xt!==ot.lane?(Ue&xt)===xt:(wo&xt)===xt){var lt=ot.revertLane;if(lt===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),xt===vl&&(pt=!0);else if((wo&lt)===lt){ot=ot.next,lt===vl&&(pt=!0);continue}else xt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Z===null?($=Z=xt,G=_):Z=Z.next=xt,Ae.lanes|=lt,zo|=lt;xt=ot.action,Mh&&y(_,xt),_=ot.hasEagerState?ot.eagerState:y(_,xt)}else lt={lane:xt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Z===null?($=Z=lt,G=_):Z=Z.next=lt,Ae.lanes|=xt,zo|=xt;ot=ot.next}while(ot!==null&&ot!==c);if(Z===null?G=_:Z.next=$,!tn(_,h.memoizedState)&&(Bs=!0,pt&&(y=bl,y!==null)))throw y;h.memoizedState=_,h.baseState=G,h.baseQueue=Z,S.lastRenderedState=_}return R===null&&(S.lanes=0),[h.memoizedState,S.dispatch]}function Lm(h){var c=xs(),y=c.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=h;var S=y.dispatch,R=y.pending,_=c.memoizedState;if(R!==null){y.pending=null;var G=R=R.next;do _=h(_,G.action),G=G.next;while(G!==R);tn(_,c.memoizedState)||(Bs=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),y.lastRenderedState=_}return[_,S]}function kv(h,c,y){var S=Ae,R=xs(),_=si;if(_){if(y===void 0)throw Error(i(407));y=y()}else y=c();var G=!tn((mi||R).memoizedState,y);G&&(R.memoizedState=y,Bs=!0),R=R.queue;var $=_v.bind(null,S,R,h);if(Ac(2048,8,$,[h]),R.getSnapshot!==c||G||Ss!==null&&Ss.memoizedState.tag&1){if(S.flags|=2048,Tl(9,Hf(),Fv.bind(null,S,R,y,c),null),Fi===null)throw Error(i(349));_||(wo&124)!==0||Dv(S,c,y)}return y}function Dv(h,c,y){h.flags|=16384,h={getSnapshot:c,value:y},c=Ae.updateQueue,c===null?(c=Nm(),Ae.updateQueue=c,c.stores=[h]):(y=c.stores,y===null?c.stores=[h]:y.push(h))}function Fv(h,c,y,S){c.value=y,c.getSnapshot=S,Vv(c)&&zv(h)}function _v(h,c,y){return y(function(){Vv(c)&&zv(h)})}function Vv(h){var c=h.getSnapshot;h=h.value;try{var y=c();return!tn(h,y)}catch{return!0}}function zv(h){var c=pl(h,2);c!==null&&on(c,h,2)}function Im(h){var c=_r();if(typeof h=="function"){var y=h;if(h=y(),Mh){Ye(!0);try{y()}finally{Ye(!1)}}}return c.memoizedState=c.baseState=h,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:h},c}function Nv(h,c,y,S){return h.baseState=y,Pm(h,mi,typeof S=="function"?S:Ha)}function T3(h,c,y,S,R){if(Wf(h))throw Error(i(485));if(h=c.action,h!==null){var _={payload:R,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){_.listeners.push(G)}};B.T!==null?y(!0):_.isTransition=!1,S(_),y=c.pending,y===null?(_.next=c.pending=_,Bv(c,_)):(_.next=y.next,c.pending=y.next=_)}}function Bv(h,c){var y=c.action,S=c.payload,R=h.state;if(c.isTransition){var _=B.T,G={};B.T=G;try{var $=y(R,S),Z=B.S;Z!==null&&Z(G,$),Pv(h,c,$)}catch(ot){Um(h,c,ot)}finally{B.T=_}}else try{_=y(R,S),Pv(h,c,_)}catch(ot){Um(h,c,ot)}}function Pv(h,c,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){Lv(h,c,S)},function(S){return Um(h,c,S)}):Lv(h,c,y)}function Lv(h,c,y){c.status="fulfilled",c.value=y,Iv(c),h.state=y,c=h.pending,c!==null&&(y=c.next,y===c?h.pending=null:(y=y.next,c.next=y,Bv(h,y)))}function Um(h,c,y){var S=h.pending;if(h.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=y,Iv(c),c=c.next;while(c!==S)}h.action=null}function Iv(h){h=h.listeners;for(var c=0;c<h.length;c++)(0,h[c])()}function Uv(h,c){return c}function Ov(h,c){if(si){var y=Fi.formState;if(y!==null){t:{var S=Ae;if(si){if(Ki){e:{for(var R=Ki,_=na;R.nodeType!==8;){if(!_){R=null;break e}if(R=$n(R.nextSibling),R===null){R=null;break e}}_=R.data,R=_==="F!"||_==="F"?R:null}if(R){Ki=$n(R.nextSibling),S=R.data==="F!";break t}}xh(S)}S=!1}S&&(c=y[0])}}return y=_r(),y.memoizedState=y.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:c},y.queue=S,y=ab.bind(null,Ae,S),S.dispatch=y,S=Im(!1),_=Xm.bind(null,Ae,!1,S.queue),S=_r(),R={state:c,dispatch:null,action:h,pending:null},S.queue=R,y=T3.bind(null,Ae,R,_,y),R.dispatch=y,S.memoizedState=h,[c,y,!1]}function Gv(h){var c=xs();return Yv(c,mi,h)}function Yv(h,c,y){if(c=Pm(h,c,Uv)[0],h=Yf(Ha)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=xc(c)}catch(G){throw G===fc?Pf:G}else S=c;c=xs();var R=c.queue,_=R.dispatch;return y!==c.memoizedState&&(Ae.flags|=2048,Tl(9,Hf(),w3.bind(null,R,y),null)),[S,_,h]}function w3(h,c){h.action=c}function Hv(h){var c=xs(),y=mi;if(y!==null)return Yv(c,y,h);xs(),c=c.memoizedState,y=xs();var S=y.queue.dispatch;return y.memoizedState=h,[c,S,!1]}function Tl(h,c,y,S){return h={tag:h,create:y,deps:S,inst:c,next:null},c=Ae.updateQueue,c===null&&(c=Nm(),Ae.updateQueue=c),y=c.lastEffect,y===null?c.lastEffect=h.next=h:(S=y.next,y.next=h,h.next=S,c.lastEffect=h),h}function Hf(){return{destroy:void 0,resource:void 0}}function Xv(){return xs().memoizedState}function Xf(h,c,y,S){var R=_r();S=S===void 0?null:S,Ae.flags|=h,R.memoizedState=Tl(1|c,Hf(),y,S)}function Ac(h,c,y,S){var R=xs();S=S===void 0?null:S;var _=R.memoizedState.inst;mi!==null&&S!==null&&Dm(S,mi.memoizedState.deps)?R.memoizedState=Tl(c,_,y,S):(Ae.flags|=h,R.memoizedState=Tl(1|c,_,y,S))}function Wv(h,c){Xf(8390656,8,h,c)}function $v(h,c){Ac(2048,8,h,c)}function jv(h,c){return Ac(4,2,h,c)}function qv(h,c){return Ac(4,4,h,c)}function Jv(h,c){if(typeof c=="function"){h=h();var y=c(h);return function(){typeof y=="function"?y():c(null)}}if(c!=null)return h=h(),c.current=h,function(){c.current=null}}function Zv(h,c,y){y=y!=null?y.concat([h]):null,Ac(4,4,Jv.bind(null,c,h),y)}function Om(){}function Qv(h,c){var y=xs();c=c===void 0?null:c;var S=y.memoizedState;return c!==null&&Dm(c,S[1])?S[0]:(y.memoizedState=[h,c],h)}function Kv(h,c){var y=xs();c=c===void 0?null:c;var S=y.memoizedState;if(c!==null&&Dm(c,S[1]))return S[0];if(S=h(),Mh){Ye(!0);try{h()}finally{Ye(!1)}}return y.memoizedState=[S,c],S}function Gm(h,c,y){return y===void 0||(wo&1073741824)!==0?h.memoizedState=c:(h.memoizedState=y,h=i2(),Ae.lanes|=h,zo|=h,y)}function tb(h,c,y,S){return tn(y,c)?y:Ml.current!==null?(h=Gm(h,y,S),tn(h,c)||(Bs=!0),h):(wo&42)===0?(Bs=!0,h.memoizedState=y):(h=i2(),Ae.lanes|=h,zo|=h,c)}function eb(h,c,y,S,R){var _=U.p;U.p=_!==0&&8>_?_:8;var G=B.T,$={};B.T=$,Xm(h,!1,c,y);try{var Z=R(),ot=B.S;if(ot!==null&&ot($,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var pt=M3(Z,S);vc(h,c,pt,an(h))}else vc(h,c,S,an(h))}catch(xt){vc(h,c,{then:function(){},status:"rejected",reason:xt},an())}finally{U.p=_,B.T=G}}function C3(){}function Ym(h,c,y,S){if(h.tag!==5)throw Error(i(476));var R=ib(h).queue;eb(h,R,c,O,y===null?C3:function(){return sb(h),y(S)})}function ib(h){var c=h.memoizedState;if(c!==null)return c;c={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:O},next:null};var y={};return c.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:y},next:null},h.memoizedState=c,h=h.alternate,h!==null&&(h.memoizedState=c),c}function sb(h){var c=ib(h).next.queue;vc(h,c,{},an())}function Hm(){return ir(Ic)}function rb(){return xs().memoizedState}function nb(){return xs().memoizedState}function k3(h){for(var c=h.return;c!==null;){switch(c.tag){case 24:case 3:var y=an();h=Eo(y);var S=To(c,h,y);S!==null&&(on(S,c,y),yc(S,c,y)),c={cache:Am()},h.payload=c;return}c=c.return}}function D3(h,c,y){var S=an();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Wf(h)?ob(c,y):(y=um(h,c,y,S),y!==null&&(on(y,h,S),hb(y,c,S)))}function ab(h,c,y){var S=an();vc(h,c,y,S)}function vc(h,c,y,S){var R={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Wf(h))ob(c,R);else{var _=h.alternate;if(h.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var G=c.lastRenderedState,$=_(G,y);if(R.hasEagerState=!0,R.eagerState=$,tn($,G))return kf(h,c,R,0),Fi===null&&Cf(),!1}catch{}finally{}if(y=um(h,c,R,S),y!==null)return on(y,h,S),hb(y,c,S),!0}return!1}function Xm(h,c,y,S){if(S={lane:2,revertLane:Mp(),action:S,hasEagerState:!1,eagerState:null,next:null},Wf(h)){if(c)throw Error(i(479))}else c=um(h,y,S,2),c!==null&&on(c,h,2)}function Wf(h){var c=h.alternate;return h===Ae||c!==null&&c===Ae}function ob(h,c){Rl=Uf=!0;var y=h.pending;y===null?c.next=c:(c.next=y.next,y.next=c),h.pending=c}function hb(h,c,y){if((y&4194048)!==0){var S=c.lanes;S&=h.pendingLanes,y|=S,c.lanes=y,hi(h,y)}}var $f={readContext:ir,use:Gf,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useInsertionEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useSyncExternalStore:us,useId:us,useHostTransitionStatus:us,useFormState:us,useActionState:us,useOptimistic:us,useMemoCache:us,useCacheRefresh:us},lb={readContext:ir,use:Gf,useCallback:function(h,c){return _r().memoizedState=[h,c===void 0?null:c],h},useContext:ir,useEffect:Wv,useImperativeHandle:function(h,c,y){y=y!=null?y.concat([h]):null,Xf(4194308,4,Jv.bind(null,c,h),y)},useLayoutEffect:function(h,c){return Xf(4194308,4,h,c)},useInsertionEffect:function(h,c){Xf(4,2,h,c)},useMemo:function(h,c){var y=_r();c=c===void 0?null:c;var S=h();if(Mh){Ye(!0);try{h()}finally{Ye(!1)}}return y.memoizedState=[S,c],S},useReducer:function(h,c,y){var S=_r();if(y!==void 0){var R=y(c);if(Mh){Ye(!0);try{y(c)}finally{Ye(!1)}}}else R=c;return S.memoizedState=S.baseState=R,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:R},S.queue=h,h=h.dispatch=D3.bind(null,Ae,h),[S.memoizedState,h]},useRef:function(h){var c=_r();return h={current:h},c.memoizedState=h},useState:function(h){h=Im(h);var c=h.queue,y=ab.bind(null,Ae,c);return c.dispatch=y,[h.memoizedState,y]},useDebugValue:Om,useDeferredValue:function(h,c){var y=_r();return Gm(y,h,c)},useTransition:function(){var h=Im(!1);return h=eb.bind(null,Ae,h.queue,!0,!1),_r().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,c,y){var S=Ae,R=_r();if(si){if(y===void 0)throw Error(i(407));y=y()}else{if(y=c(),Fi===null)throw Error(i(349));(Ue&124)!==0||Dv(S,c,y)}R.memoizedState=y;var _={value:y,getSnapshot:c};return R.queue=_,Wv(_v.bind(null,S,_,h),[h]),S.flags|=2048,Tl(9,Hf(),Fv.bind(null,S,_,y,c),null),y},useId:function(){var h=_r(),c=Fi.identifierPrefix;if(si){var y=Oa,S=Ua;y=(S&~(1<<32-Mi(S)-1)).toString(32)+y,c=""+c+"R"+y,y=Of++,0<y&&(c+="H"+y.toString(32)),c+=""}else y=R3++,c=""+c+"r"+y.toString(32)+"";return h.memoizedState=c},useHostTransitionStatus:Hm,useFormState:Ov,useActionState:Ov,useOptimistic:function(h){var c=_r();c.memoizedState=c.baseState=h;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=y,c=Xm.bind(null,Ae,!0,y),y.dispatch=c,[h,c]},useMemoCache:Bm,useCacheRefresh:function(){return _r().memoizedState=k3.bind(null,Ae)}},ub={readContext:ir,use:Gf,useCallback:Qv,useContext:ir,useEffect:$v,useImperativeHandle:Zv,useInsertionEffect:jv,useLayoutEffect:qv,useMemo:Kv,useReducer:Yf,useRef:Xv,useState:function(){return Yf(Ha)},useDebugValue:Om,useDeferredValue:function(h,c){var y=xs();return tb(y,mi.memoizedState,h,c)},useTransition:function(){var h=Yf(Ha)[0],c=xs().memoizedState;return[typeof h=="boolean"?h:xc(h),c]},useSyncExternalStore:kv,useId:rb,useHostTransitionStatus:Hm,useFormState:Gv,useActionState:Gv,useOptimistic:function(h,c){var y=xs();return Nv(y,mi,h,c)},useMemoCache:Bm,useCacheRefresh:nb},F3={readContext:ir,use:Gf,useCallback:Qv,useContext:ir,useEffect:$v,useImperativeHandle:Zv,useInsertionEffect:jv,useLayoutEffect:qv,useMemo:Kv,useReducer:Lm,useRef:Xv,useState:function(){return Lm(Ha)},useDebugValue:Om,useDeferredValue:function(h,c){var y=xs();return mi===null?Gm(y,h,c):tb(y,mi.memoizedState,h,c)},useTransition:function(){var h=Lm(Ha)[0],c=xs().memoizedState;return[typeof h=="boolean"?h:xc(h),c]},useSyncExternalStore:kv,useId:rb,useHostTransitionStatus:Hm,useFormState:Hv,useActionState:Hv,useOptimistic:function(h,c){var y=xs();return mi!==null?Nv(y,mi,h,c):(y.baseState=h,[h,y.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:nb},wl=null,bc=0;function jf(h){var c=bc;return bc+=1,wl===null&&(wl=[]),vv(wl,h,c)}function Mc(h,c){c=c.props.ref,h.ref=c!==void 0?c:null}function qf(h,c){throw c.$$typeof===f?Error(i(525)):(h=Object.prototype.toString.call(c),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":h)))}function cb(h){var c=h._init;return c(h._payload)}function db(h){function c(et,K){if(h){var at=et.deletions;at===null?(et.deletions=[K],et.flags|=16):at.push(K)}}function y(et,K){if(!h)return null;for(;K!==null;)c(et,K),K=K.sibling;return null}function S(et){for(var K=new Map;et!==null;)et.key!==null?K.set(et.key,et):K.set(et.index,et),et=et.sibling;return K}function R(et,K){return et=Ia(et,K),et.index=0,et.sibling=null,et}function _(et,K,at){return et.index=at,h?(at=et.alternate,at!==null?(at=at.index,at<K?(et.flags|=67108866,K):at):(et.flags|=67108866,K)):(et.flags|=1048576,K)}function G(et){return h&&et.alternate===null&&(et.flags|=67108866),et}function $(et,K,at,St){return K===null||K.tag!==6?(K=dm(at,et.mode,St),K.return=et,K):(K=R(K,at),K.return=et,K)}function Z(et,K,at,St){var Lt=at.type;return Lt===p?pt(et,K,at.props.children,St,at.key):K!==null&&(K.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===P&&cb(Lt)===K.type)?(K=R(K,at.props),Mc(K,at),K.return=et,K):(K=Ff(at.type,at.key,at.props,null,et.mode,St),Mc(K,at),K.return=et,K)}function ot(et,K,at,St){return K===null||K.tag!==4||K.stateNode.containerInfo!==at.containerInfo||K.stateNode.implementation!==at.implementation?(K=fm(at,et.mode,St),K.return=et,K):(K=R(K,at.children||[]),K.return=et,K)}function pt(et,K,at,St,Lt){return K===null||K.tag!==7?(K=yh(at,et.mode,St,Lt),K.return=et,K):(K=R(K,at),K.return=et,K)}function xt(et,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=dm(""+K,et.mode,at),K.return=et,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return at=Ff(K.type,K.key,K.props,null,et.mode,at),Mc(at,K),at.return=et,at;case m:return K=fm(K,et.mode,at),K.return=et,K;case P:var St=K._init;return K=St(K._payload),xt(et,K,at)}if(H(K)||C(K))return K=yh(K,et.mode,at,null),K.return=et,K;if(typeof K.then=="function")return xt(et,jf(K),at);if(K.$$typeof===T)return xt(et,Nf(et,K),at);qf(et,K)}return null}function lt(et,K,at,St){var Lt=K!==null?K.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Lt!==null?null:$(et,K,""+at,St);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case g:return at.key===Lt?Z(et,K,at,St):null;case m:return at.key===Lt?ot(et,K,at,St):null;case P:return Lt=at._init,at=Lt(at._payload),lt(et,K,at,St)}if(H(at)||C(at))return Lt!==null?null:pt(et,K,at,St,null);if(typeof at.then=="function")return lt(et,K,jf(at),St);if(at.$$typeof===T)return lt(et,K,Nf(et,at),St);qf(et,at)}return null}function ut(et,K,at,St,Lt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return et=et.get(at)||null,$(K,et,""+St,Lt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case g:return et=et.get(St.key===null?at:St.key)||null,Z(K,et,St,Lt);case m:return et=et.get(St.key===null?at:St.key)||null,ot(K,et,St,Lt);case P:var we=St._init;return St=we(St._payload),ut(et,K,at,St,Lt)}if(H(St)||C(St))return et=et.get(at)||null,pt(K,et,St,Lt,null);if(typeof St.then=="function")return ut(et,K,at,jf(St),Lt);if(St.$$typeof===T)return ut(et,K,at,Nf(K,St),Lt);qf(K,St)}return null}function ne(et,K,at,St){for(var Lt=null,we=null,Xt=K,Kt=K=0,Ls=null;Xt!==null&&Kt<at.length;Kt++){Xt.index>Kt?(Ls=Xt,Xt=null):Ls=Xt.sibling;var Je=lt(et,Xt,at[Kt],St);if(Je===null){Xt===null&&(Xt=Ls);break}h&&Xt&&Je.alternate===null&&c(et,Xt),K=_(Je,K,Kt),we===null?Lt=Je:we.sibling=Je,we=Je,Xt=Ls}if(Kt===at.length)return y(et,Xt),si&&ph(et,Kt),Lt;if(Xt===null){for(;Kt<at.length;Kt++)Xt=xt(et,at[Kt],St),Xt!==null&&(K=_(Xt,K,Kt),we===null?Lt=Xt:we.sibling=Xt,we=Xt);return si&&ph(et,Kt),Lt}for(Xt=S(Xt);Kt<at.length;Kt++)Ls=ut(Xt,et,Kt,at[Kt],St),Ls!==null&&(h&&Ls.alternate!==null&&Xt.delete(Ls.key===null?Kt:Ls.key),K=_(Ls,K,Kt),we===null?Lt=Ls:we.sibling=Ls,we=Ls);return h&&Xt.forEach(function(Yo){return c(et,Yo)}),si&&ph(et,Kt),Lt}function Zt(et,K,at,St){if(at==null)throw Error(i(151));for(var Lt=null,we=null,Xt=K,Kt=K=0,Ls=null,Je=at.next();Xt!==null&&!Je.done;Kt++,Je=at.next()){Xt.index>Kt?(Ls=Xt,Xt=null):Ls=Xt.sibling;var Yo=lt(et,Xt,Je.value,St);if(Yo===null){Xt===null&&(Xt=Ls);break}h&&Xt&&Yo.alternate===null&&c(et,Xt),K=_(Yo,K,Kt),we===null?Lt=Yo:we.sibling=Yo,we=Yo,Xt=Ls}if(Je.done)return y(et,Xt),si&&ph(et,Kt),Lt;if(Xt===null){for(;!Je.done;Kt++,Je=at.next())Je=xt(et,Je.value,St),Je!==null&&(K=_(Je,K,Kt),we===null?Lt=Je:we.sibling=Je,we=Je);return si&&ph(et,Kt),Lt}for(Xt=S(Xt);!Je.done;Kt++,Je=at.next())Je=ut(Xt,et,Kt,Je.value,St),Je!==null&&(h&&Je.alternate!==null&&Xt.delete(Je.key===null?Kt:Je.key),K=_(Je,K,Kt),we===null?Lt=Je:we.sibling=Je,we=Je);return h&&Xt.forEach(function(_D){return c(et,_D)}),si&&ph(et,Kt),Lt}function Si(et,K,at,St){if(typeof at=="object"&&at!==null&&at.type===p&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case g:t:{for(var Lt=at.key;K!==null;){if(K.key===Lt){if(Lt=at.type,Lt===p){if(K.tag===7){y(et,K.sibling),St=R(K,at.props.children),St.return=et,et=St;break t}}else if(K.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===P&&cb(Lt)===K.type){y(et,K.sibling),St=R(K,at.props),Mc(St,at),St.return=et,et=St;break t}y(et,K);break}else c(et,K);K=K.sibling}at.type===p?(St=yh(at.props.children,et.mode,St,at.key),St.return=et,et=St):(St=Ff(at.type,at.key,at.props,null,et.mode,St),Mc(St,at),St.return=et,et=St)}return G(et);case m:t:{for(Lt=at.key;K!==null;){if(K.key===Lt)if(K.tag===4&&K.stateNode.containerInfo===at.containerInfo&&K.stateNode.implementation===at.implementation){y(et,K.sibling),St=R(K,at.children||[]),St.return=et,et=St;break t}else{y(et,K);break}else c(et,K);K=K.sibling}St=fm(at,et.mode,St),St.return=et,et=St}return G(et);case P:return Lt=at._init,at=Lt(at._payload),Si(et,K,at,St)}if(H(at))return ne(et,K,at,St);if(C(at)){if(Lt=C(at),typeof Lt!="function")throw Error(i(150));return at=Lt.call(at),Zt(et,K,at,St)}if(typeof at.then=="function")return Si(et,K,jf(at),St);if(at.$$typeof===T)return Si(et,K,Nf(et,at),St);qf(et,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,K!==null&&K.tag===6?(y(et,K.sibling),St=R(K,at),St.return=et,et=St):(y(et,K),St=dm(at,et.mode,St),St.return=et,et=St),G(et)):y(et,K)}return function(et,K,at,St){try{bc=0;var Lt=Si(et,K,at,St);return wl=null,Lt}catch(Xt){if(Xt===fc||Xt===Pf)throw Xt;var we=en(29,Xt,null,et.mode);return we.lanes=St,we.return=et,we}finally{}}}var Cl=db(!0),fb=db(!1),kn=X(null),aa=null;function Co(h){var c=h.alternate;Q(ks,ks.current&1),Q(kn,h),aa===null&&(c===null||Ml.current!==null||c.memoizedState!==null)&&(aa=h)}function gb(h){if(h.tag===22){if(Q(ks,ks.current),Q(kn,h),aa===null){var c=h.alternate;c!==null&&c.memoizedState!==null&&(aa=h)}}else ko()}function ko(){Q(ks,ks.current),Q(kn,kn.current)}function Xa(h){j(kn),aa===h&&(aa=null),j(ks)}var ks=X(0);function Jf(h){for(var c=h;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||Np(y)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break;for(;c.sibling===null;){if(c.return===null||c.return===h)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Wm(h,c,y,S){c=h.memoizedState,y=y(S,c),y=y==null?c:d({},c,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var $m={enqueueSetState:function(h,c,y){h=h._reactInternals;var S=an(),R=Eo(S);R.payload=c,y!=null&&(R.callback=y),c=To(h,R,S),c!==null&&(on(c,h,S),yc(c,h,S))},enqueueReplaceState:function(h,c,y){h=h._reactInternals;var S=an(),R=Eo(S);R.tag=1,R.payload=c,y!=null&&(R.callback=y),c=To(h,R,S),c!==null&&(on(c,h,S),yc(c,h,S))},enqueueForceUpdate:function(h,c){h=h._reactInternals;var y=an(),S=Eo(y);S.tag=2,c!=null&&(S.callback=c),c=To(h,S,y),c!==null&&(on(c,h,y),yc(c,h,y))}};function yb(h,c,y,S,R,_,G){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,_,G):c.prototype&&c.prototype.isPureReactComponent?!nc(y,S)||!nc(R,_):!0}function mb(h,c,y,S){h=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,S),c.state!==h&&$m.enqueueReplaceState(c,c.state,null)}function Rh(h,c){var y=c;if("ref"in c){y={};for(var S in c)S!=="ref"&&(y[S]=c[S])}if(h=h.defaultProps){y===c&&(y=d({},y));for(var R in h)y[R]===void 0&&(y[R]=h[R])}return y}var Zf=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function pb(h){Zf(h)}function Sb(h){console.error(h)}function xb(h){Zf(h)}function Qf(h,c){try{var y=h.onUncaughtError;y(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function Ab(h,c,y){try{var S=h.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function jm(h,c,y){return y=Eo(y),y.tag=3,y.payload={element:null},y.callback=function(){Qf(h,c)},y}function vb(h){return h=Eo(h),h.tag=3,h}function bb(h,c,y,S){var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var _=S.value;h.payload=function(){return R(_)},h.callback=function(){Ab(c,y,S)}}var G=y.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(h.callback=function(){Ab(c,y,S),typeof R!="function"&&(No===null?No=new Set([this]):No.add(this));var $=S.stack;this.componentDidCatch(S.value,{componentStack:$!==null?$:""})})}function _3(h,c,y,S,R){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=y.alternate,c!==null&&uc(c,y,R,!0),y=kn.current,y!==null){switch(y.tag){case 13:return aa===null?Sp():y.alternate===null&&ts===0&&(ts=3),y.flags&=-257,y.flags|=65536,y.lanes=R,S===Mm?y.flags|=16384:(c=y.updateQueue,c===null?y.updateQueue=new Set([S]):c.add(S),Ap(h,S,R)),!1;case 22:return y.flags|=65536,S===Mm?y.flags|=16384:(c=y.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=c):(y=c.retryQueue,y===null?c.retryQueue=new Set([S]):y.add(S)),Ap(h,S,R)),!1}throw Error(i(435,y.tag))}return Ap(h,S,R),Sp(),!1}if(si)return c=kn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=R,S!==mm&&(h=Error(i(422),{cause:S}),lc(En(h,y)))):(S!==mm&&(c=Error(i(423),{cause:S}),lc(En(c,y))),h=h.current.alternate,h.flags|=65536,R&=-R,h.lanes|=R,S=En(S,y),R=jm(h.stateNode,S,R),Tm(h,R),ts!==4&&(ts=2)),!1;var _=Error(i(520),{cause:S});if(_=En(_,y),Dc===null?Dc=[_]:Dc.push(_),ts!==4&&(ts=2),c===null)return!0;S=En(S,y),y=c;do{switch(y.tag){case 3:return y.flags|=65536,h=R&-R,y.lanes|=h,h=jm(y.stateNode,S,h),Tm(y,h),!1;case 1:if(c=y.type,_=y.stateNode,(y.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(No===null||!No.has(_))))return y.flags|=65536,R&=-R,y.lanes|=R,R=vb(R),bb(R,h,y,S),Tm(y,R),!1}y=y.return}while(y!==null);return!1}var Mb=Error(i(461)),Bs=!1;function $s(h,c,y,S){c.child=h===null?fb(c,null,y,S):Cl(c,h.child,y,S)}function Rb(h,c,y,S,R){y=y.render;var _=c.ref;if("ref"in S){var G={};for(var $ in S)$!=="ref"&&(G[$]=S[$])}else G=S;return vh(c),S=Fm(h,c,y,G,_,R),$=_m(),h!==null&&!Bs?(Vm(h,c,R),Wa(h,c,R)):(si&&$&&gm(c),c.flags|=1,$s(h,c,S,R),c.child)}function Eb(h,c,y,S,R){if(h===null){var _=y.type;return typeof _=="function"&&!cm(_)&&_.defaultProps===void 0&&y.compare===null?(c.tag=15,c.type=_,Tb(h,c,_,S,R)):(h=Ff(y.type,null,S,c,c.mode,R),h.ref=c.ref,h.return=c,c.child=h)}if(_=h.child,!ip(h,R)){var G=_.memoizedProps;if(y=y.compare,y=y!==null?y:nc,y(G,S)&&h.ref===c.ref)return Wa(h,c,R)}return c.flags|=1,h=Ia(_,S),h.ref=c.ref,h.return=c,c.child=h}function Tb(h,c,y,S,R){if(h!==null){var _=h.memoizedProps;if(nc(_,S)&&h.ref===c.ref)if(Bs=!1,c.pendingProps=S=_,ip(h,R))(h.flags&131072)!==0&&(Bs=!0);else return c.lanes=h.lanes,Wa(h,c,R)}return qm(h,c,y,S,R)}function wb(h,c,y){var S=c.pendingProps,R=S.children,_=h!==null?h.memoizedState:null;if(S.mode==="hidden"){if((c.flags&128)!==0){if(S=_!==null?_.baseLanes|y:y,h!==null){for(R=c.child=h.child,_=0;R!==null;)_=_|R.lanes|R.childLanes,R=R.sibling;c.childLanes=_&~S}else c.childLanes=0,c.child=null;return Cb(h,c,S,y)}if((y&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},h!==null&&Bf(c,_!==null?_.cachePool:null),_!==null?Tv(c,_):Cm(),gb(c);else return c.lanes=c.childLanes=536870912,Cb(h,c,_!==null?_.baseLanes|y:y,y)}else _!==null?(Bf(c,_.cachePool),Tv(c,_),ko(),c.memoizedState=null):(h!==null&&Bf(c,null),Cm(),ko());return $s(h,c,R,y),c.child}function Cb(h,c,y,S){var R=bm();return R=R===null?null:{parent:Cs._currentValue,pool:R},c.memoizedState={baseLanes:y,cachePool:R},h!==null&&Bf(c,null),Cm(),gb(c),h!==null&&uc(h,c,S,!0),null}function Kf(h,c){var y=c.ref;if(y===null)h!==null&&h.ref!==null&&(c.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(i(284));(h===null||h.ref!==y)&&(c.flags|=4194816)}}function qm(h,c,y,S,R){return vh(c),y=Fm(h,c,y,S,void 0,R),S=_m(),h!==null&&!Bs?(Vm(h,c,R),Wa(h,c,R)):(si&&S&&gm(c),c.flags|=1,$s(h,c,y,R),c.child)}function kb(h,c,y,S,R,_){return vh(c),c.updateQueue=null,y=Cv(c,S,y,R),wv(h),S=_m(),h!==null&&!Bs?(Vm(h,c,_),Wa(h,c,_)):(si&&S&&gm(c),c.flags|=1,$s(h,c,y,_),c.child)}function Db(h,c,y,S,R){if(vh(c),c.stateNode===null){var _=Sl,G=y.contextType;typeof G=="object"&&G!==null&&(_=ir(G)),_=new y(S,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=$m,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=S,_.state=c.memoizedState,_.refs={},Rm(c),G=y.contextType,_.context=typeof G=="object"&&G!==null?ir(G):Sl,_.state=c.memoizedState,G=y.getDerivedStateFromProps,typeof G=="function"&&(Wm(c,y,G,S),_.state=c.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(G=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),G!==_.state&&$m.enqueueReplaceState(_,_.state,null),pc(c,S,_,R),mc(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(h===null){_=c.stateNode;var $=c.memoizedProps,Z=Rh(y,$);_.props=Z;var ot=_.context,pt=y.contextType;G=Sl,typeof pt=="object"&&pt!==null&&(G=ir(pt));var xt=y.getDerivedStateFromProps;pt=typeof xt=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,pt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||ot!==G)&&mb(c,_,S,G),Ro=!1;var lt=c.memoizedState;_.state=lt,pc(c,S,_,R),mc(),ot=c.memoizedState,$||lt!==ot||Ro?(typeof xt=="function"&&(Wm(c,y,xt,S),ot=c.memoizedState),(Z=Ro||yb(c,y,Z,S,lt,ot,G))?(pt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=ot),_.props=S,_.state=ot,_.context=G,S=Z):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{_=c.stateNode,Em(h,c),G=c.memoizedProps,pt=Rh(y,G),_.props=pt,xt=c.pendingProps,lt=_.context,ot=y.contextType,Z=Sl,typeof ot=="object"&&ot!==null&&(Z=ir(ot)),$=y.getDerivedStateFromProps,(ot=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(G!==xt||lt!==Z)&&mb(c,_,S,Z),Ro=!1,lt=c.memoizedState,_.state=lt,pc(c,S,_,R),mc();var ut=c.memoizedState;G!==xt||lt!==ut||Ro||h!==null&&h.dependencies!==null&&zf(h.dependencies)?(typeof $=="function"&&(Wm(c,y,$,S),ut=c.memoizedState),(pt=Ro||yb(c,y,pt,S,lt,ut,Z)||h!==null&&h.dependencies!==null&&zf(h.dependencies))?(ot||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(S,ut,Z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(S,ut,Z)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||G===h.memoizedProps&&lt===h.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||G===h.memoizedProps&&lt===h.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=ut),_.props=S,_.state=ut,_.context=Z,S=pt):(typeof _.componentDidUpdate!="function"||G===h.memoizedProps&&lt===h.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||G===h.memoizedProps&&lt===h.memoizedState||(c.flags|=1024),S=!1)}return _=S,Kf(h,c),S=(c.flags&128)!==0,_||S?(_=c.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,h!==null&&S?(c.child=Cl(c,h.child,null,R),c.child=Cl(c,null,y,R)):$s(h,c,y,R),c.memoizedState=_.state,h=c.child):h=Wa(h,c,R),h}function Fb(h,c,y,S){return hc(),c.flags|=256,$s(h,c,y,S),c.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(h){return{baseLanes:h,cachePool:Sv()}}function Qm(h,c,y){return h=h!==null?h.childLanes&~y:0,c&&(h|=Dn),h}function _b(h,c,y){var S=c.pendingProps,R=!1,_=(c.flags&128)!==0,G;if((G=_)||(G=h!==null&&h.memoizedState===null?!1:(ks.current&2)!==0),G&&(R=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,h===null){if(si){if(R?Co(c):ko(),si){var $=Ki,Z;if(Z=$){t:{for(Z=$,$=na;Z.nodeType!==8;){if(!$){$=null;break t}if(Z=$n(Z.nextSibling),Z===null){$=null;break t}}$=Z}$!==null?(c.memoizedState={dehydrated:$,treeContext:mh!==null?{id:Ua,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},Z=en(18,null,null,0),Z.stateNode=$,Z.return=c,c.child=Z,mr=c,Ki=null,Z=!0):Z=!1}Z||xh(c)}if($=c.memoizedState,$!==null&&($=$.dehydrated,$!==null))return Np($)?c.lanes=32:c.lanes=536870912,null;Xa(c)}return $=S.children,S=S.fallback,R?(ko(),R=c.mode,$=t0({mode:"hidden",children:$},R),S=yh(S,R,y,null),$.return=c,S.return=c,$.sibling=S,c.child=$,R=c.child,R.memoizedState=Zm(y),R.childLanes=Qm(h,G,y),c.memoizedState=Jm,S):(Co(c),Km(c,$))}if(Z=h.memoizedState,Z!==null&&($=Z.dehydrated,$!==null)){if(_)c.flags&256?(Co(c),c.flags&=-257,c=tp(h,c,y)):c.memoizedState!==null?(ko(),c.child=h.child,c.flags|=128,c=null):(ko(),R=S.fallback,$=c.mode,S=t0({mode:"visible",children:S.children},$),R=yh(R,$,y,null),R.flags|=2,S.return=c,R.return=c,S.sibling=R,c.child=S,Cl(c,h.child,null,y),S=c.child,S.memoizedState=Zm(y),S.childLanes=Qm(h,G,y),c.memoizedState=Jm,c=R);else if(Co(c),Np($)){if(G=$.nextSibling&&$.nextSibling.dataset,G)var ot=G.dgst;G=ot,S=Error(i(419)),S.stack="",S.digest=G,lc({value:S,source:null,stack:null}),c=tp(h,c,y)}else if(Bs||uc(h,c,y,!1),G=(y&h.childLanes)!==0,Bs||G){if(G=Fi,G!==null&&(S=y&-y,S=(S&42)!==0?1:Fe(S),S=(S&(G.suspendedLanes|y))!==0?0:S,S!==0&&S!==Z.retryLane))throw Z.retryLane=S,pl(h,S),on(G,h,S),Mb;$.data==="$?"||Sp(),c=tp(h,c,y)}else $.data==="$?"?(c.flags|=192,c.child=h.child,c=null):(h=Z.treeContext,Ki=$n($.nextSibling),mr=c,si=!0,Sh=null,na=!1,h!==null&&(wn[Cn++]=Ua,wn[Cn++]=Oa,wn[Cn++]=mh,Ua=h.id,Oa=h.overflow,mh=c),c=Km(c,S.children),c.flags|=4096);return c}return R?(ko(),R=S.fallback,$=c.mode,Z=h.child,ot=Z.sibling,S=Ia(Z,{mode:"hidden",children:S.children}),S.subtreeFlags=Z.subtreeFlags&65011712,ot!==null?R=Ia(ot,R):(R=yh(R,$,y,null),R.flags|=2),R.return=c,S.return=c,S.sibling=R,c.child=S,S=R,R=c.child,$=h.child.memoizedState,$===null?$=Zm(y):(Z=$.cachePool,Z!==null?(ot=Cs._currentValue,Z=Z.parent!==ot?{parent:ot,pool:ot}:Z):Z=Sv(),$={baseLanes:$.baseLanes|y,cachePool:Z}),R.memoizedState=$,R.childLanes=Qm(h,G,y),c.memoizedState=Jm,S):(Co(c),y=h.child,h=y.sibling,y=Ia(y,{mode:"visible",children:S.children}),y.return=c,y.sibling=null,h!==null&&(G=c.deletions,G===null?(c.deletions=[h],c.flags|=16):G.push(h)),c.child=y,c.memoizedState=null,y)}function Km(h,c){return c=t0({mode:"visible",children:c},h.mode),c.return=h,h.child=c}function t0(h,c){return h=en(22,h,null,c),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function tp(h,c,y){return Cl(c,h.child,null,y),h=Km(c,c.pendingProps.children),h.flags|=2,c.memoizedState=null,h}function Vb(h,c,y){h.lanes|=c;var S=h.alternate;S!==null&&(S.lanes|=c),Sm(h.return,c,y)}function ep(h,c,y,S,R){var _=h.memoizedState;_===null?h.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:R}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=S,_.tail=y,_.tailMode=R)}function zb(h,c,y){var S=c.pendingProps,R=S.revealOrder,_=S.tail;if($s(h,c,S.children,y),S=ks.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(h!==null&&(h.flags&128)!==0)t:for(h=c.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Vb(h,y,c);else if(h.tag===19)Vb(h,y,c);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break t;for(;h.sibling===null;){if(h.return===null||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}switch(Q(ks,S),R){case"forwards":for(y=c.child,R=null;y!==null;)h=y.alternate,h!==null&&Jf(h)===null&&(R=y),y=y.sibling;y=R,y===null?(R=c.child,c.child=null):(R=y.sibling,y.sibling=null),ep(c,!1,R,y,_);break;case"backwards":for(y=null,R=c.child,c.child=null;R!==null;){if(h=R.alternate,h!==null&&Jf(h)===null){c.child=R;break}h=R.sibling,R.sibling=y,y=R,R=h}ep(c,!0,y,null,_);break;case"together":ep(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Wa(h,c,y){if(h!==null&&(c.dependencies=h.dependencies),zo|=c.lanes,(y&c.childLanes)===0)if(h!==null){if(uc(h,c,y,!1),(y&c.childLanes)===0)return null}else return null;if(h!==null&&c.child!==h.child)throw Error(i(153));if(c.child!==null){for(h=c.child,y=Ia(h,h.pendingProps),c.child=y,y.return=c;h.sibling!==null;)h=h.sibling,y=y.sibling=Ia(h,h.pendingProps),y.return=c;y.sibling=null}return c.child}function ip(h,c){return(h.lanes&c)!==0?!0:(h=h.dependencies,!!(h!==null&&zf(h)))}function V3(h,c,y){switch(c.tag){case 3:dt(c,c.stateNode.containerInfo),Mo(c,Cs,h.memoizedState.cache),hc();break;case 27:case 5:At(c);break;case 4:dt(c,c.stateNode.containerInfo);break;case 10:Mo(c,c.type,c.memoizedProps.value);break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(Co(c),c.flags|=128,null):(y&c.child.childLanes)!==0?_b(h,c,y):(Co(c),h=Wa(h,c,y),h!==null?h.sibling:null);Co(c);break;case 19:var R=(h.flags&128)!==0;if(S=(y&c.childLanes)!==0,S||(uc(h,c,y,!1),S=(y&c.childLanes)!==0),R){if(S)return zb(h,c,y);c.flags|=128}if(R=c.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Q(ks,ks.current),S)break;return null;case 22:case 23:return c.lanes=0,wb(h,c,y);case 24:Mo(c,Cs,h.memoizedState.cache)}return Wa(h,c,y)}function Nb(h,c,y){if(h!==null)if(h.memoizedProps!==c.pendingProps)Bs=!0;else{if(!ip(h,y)&&(c.flags&128)===0)return Bs=!1,V3(h,c,y);Bs=(h.flags&131072)!==0}else Bs=!1,si&&(c.flags&1048576)!==0&&cv(c,Vf,c.index);switch(c.lanes=0,c.tag){case 16:t:{h=c.pendingProps;var S=c.elementType,R=S._init;if(S=R(S._payload),c.type=S,typeof S=="function")cm(S)?(h=Rh(S,h),c.tag=1,c=Db(null,c,S,h,y)):(c.tag=0,c=qm(null,c,S,h,y));else{if(S!=null){if(R=S.$$typeof,R===F){c.tag=11,c=Rb(null,c,S,h,y);break t}else if(R===V){c.tag=14,c=Eb(null,c,S,h,y);break t}}throw c=z(S)||S,Error(i(306,c,""))}}return c;case 0:return qm(h,c,c.type,c.pendingProps,y);case 1:return S=c.type,R=Rh(S,c.pendingProps),Db(h,c,S,R,y);case 3:t:{if(dt(c,c.stateNode.containerInfo),h===null)throw Error(i(387));S=c.pendingProps;var _=c.memoizedState;R=_.element,Em(h,c),pc(c,S,null,y);var G=c.memoizedState;if(S=G.cache,Mo(c,Cs,S),S!==_.cache&&xm(c,[Cs],y,!0),mc(),S=G.element,_.isDehydrated)if(_={element:S,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=Fb(h,c,S,y);break t}else if(S!==R){R=En(Error(i(424)),c),lc(R),c=Fb(h,c,S,y);break t}else{switch(h=c.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ki=$n(h.firstChild),mr=c,si=!0,Sh=null,na=!0,y=fb(c,null,S,y),c.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(hc(),S===R){c=Wa(h,c,y);break t}$s(h,c,S,y)}c=c.child}return c;case 26:return Kf(h,c),h===null?(y=I2(c.type,null,c.pendingProps,null))?c.memoizedState=y:si||(y=c.type,h=c.pendingProps,S=g0(nt.current).createElement(y),S[Ot]=c,S[ie]=h,qs(S,y,h),$t(S),c.stateNode=S):c.memoizedState=I2(c.type,h.memoizedProps,c.pendingProps,h.memoizedState),null;case 27:return At(c),h===null&&si&&(S=c.stateNode=B2(c.type,c.pendingProps,nt.current),mr=c,na=!0,R=Ki,Lo(c.type)?(Bp=R,Ki=$n(S.firstChild)):Ki=R),$s(h,c,c.pendingProps.children,y),Kf(h,c),h===null&&(c.flags|=4194304),c.child;case 5:return h===null&&si&&((R=S=Ki)&&(S=oD(S,c.type,c.pendingProps,na),S!==null?(c.stateNode=S,mr=c,Ki=$n(S.firstChild),na=!1,R=!0):R=!1),R||xh(c)),At(c),R=c.type,_=c.pendingProps,G=h!==null?h.memoizedProps:null,S=_.children,_p(R,_)?S=null:G!==null&&_p(R,G)&&(c.flags|=32),c.memoizedState!==null&&(R=Fm(h,c,E3,null,null,y),Ic._currentValue=R),Kf(h,c),$s(h,c,S,y),c.child;case 6:return h===null&&si&&((h=y=Ki)&&(y=hD(y,c.pendingProps,na),y!==null?(c.stateNode=y,mr=c,Ki=null,h=!0):h=!1),h||xh(c)),null;case 13:return _b(h,c,y);case 4:return dt(c,c.stateNode.containerInfo),S=c.pendingProps,h===null?c.child=Cl(c,null,S,y):$s(h,c,S,y),c.child;case 11:return Rb(h,c,c.type,c.pendingProps,y);case 7:return $s(h,c,c.pendingProps,y),c.child;case 8:return $s(h,c,c.pendingProps.children,y),c.child;case 12:return $s(h,c,c.pendingProps.children,y),c.child;case 10:return S=c.pendingProps,Mo(c,c.type,S.value),$s(h,c,S.children,y),c.child;case 9:return R=c.type._context,S=c.pendingProps.children,vh(c),R=ir(R),S=S(R),c.flags|=1,$s(h,c,S,y),c.child;case 14:return Eb(h,c,c.type,c.pendingProps,y);case 15:return Tb(h,c,c.type,c.pendingProps,y);case 19:return zb(h,c,y);case 31:return S=c.pendingProps,y=c.mode,S={mode:S.mode,children:S.children},h===null?(y=t0(S,y),y.ref=c.ref,c.child=y,y.return=c,c=y):(y=Ia(h.child,S),y.ref=c.ref,c.child=y,y.return=c,c=y),c;case 22:return wb(h,c,y);case 24:return vh(c),S=ir(Cs),h===null?(R=bm(),R===null&&(R=Fi,_=Am(),R.pooledCache=_,_.refCount++,_!==null&&(R.pooledCacheLanes|=y),R=_),c.memoizedState={parent:S,cache:R},Rm(c),Mo(c,Cs,R)):((h.lanes&y)!==0&&(Em(h,c),pc(c,null,null,y),mc()),R=h.memoizedState,_=c.memoizedState,R.parent!==S?(R={parent:S,cache:S},c.memoizedState=R,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=R),Mo(c,Cs,S)):(S=_.cache,Mo(c,Cs,S),S!==R.cache&&xm(c,[Cs],y,!0))),$s(h,c,c.pendingProps.children,y),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function $a(h){h.flags|=4}function Bb(h,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!H2(c)){if(c=kn.current,c!==null&&((Ue&4194048)===Ue?aa!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||c!==aa))throw gc=Mm,xv;h.flags|=8192}}function e0(h,c){c!==null&&(h.flags|=4),h.flags&16384&&(c=h.tag!==22?Ht():536870912,h.lanes|=c,_l|=c)}function Rc(h,c){if(!si)switch(h.tailMode){case"hidden":c=h.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?c||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function $i(h){var c=h.alternate!==null&&h.alternate.child===h.child,y=0,S=0;if(c)for(var R=h.child;R!==null;)y|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)y|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=S,h.childLanes=y,c}function z3(h,c,y){var S=c.pendingProps;switch(ym(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(c),null;case 1:return $i(c),null;case 3:return y=c.stateNode,S=null,h!==null&&(S=h.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),Ya(Cs),Tt(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(h===null||h.child===null)&&(oc(c)?$a(c):h===null||h.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gv())),$i(c),null;case 26:return y=c.memoizedState,h===null?($a(c),y!==null?($i(c),Bb(c,y)):($i(c),c.flags&=-16777217)):y?y!==h.memoizedState?($a(c),$i(c),Bb(c,y)):($i(c),c.flags&=-16777217):(h.memoizedProps!==S&&$a(c),$i(c),c.flags&=-16777217),null;case 27:Vt(c),y=nt.current;var R=c.type;if(h!==null&&c.stateNode!=null)h.memoizedProps!==S&&$a(c);else{if(!S){if(c.stateNode===null)throw Error(i(166));return $i(c),null}h=J.current,oc(c)?dv(c):(h=B2(R,S,y),c.stateNode=h,$a(c))}return $i(c),null;case 5:if(Vt(c),y=c.type,h!==null&&c.stateNode!=null)h.memoizedProps!==S&&$a(c);else{if(!S){if(c.stateNode===null)throw Error(i(166));return $i(c),null}if(h=J.current,oc(c))dv(c);else{switch(R=g0(nt.current),h){case 1:h=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:h=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":h=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":h=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":h=R.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof S.is=="string"?R.createElement("select",{is:S.is}):R.createElement("select"),S.multiple?h.multiple=!0:S.size&&(h.size=S.size);break;default:h=typeof S.is=="string"?R.createElement(y,{is:S.is}):R.createElement(y)}}h[Ot]=c,h[ie]=S;t:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)h.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break t;for(;R.sibling===null;){if(R.return===null||R.return===c)break t;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=h;t:switch(qs(h,y,S),y){case"button":case"input":case"select":case"textarea":h=!!S.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&$a(c)}}return $i(c),c.flags&=-16777217,null;case 6:if(h&&c.stateNode!=null)h.memoizedProps!==S&&$a(c);else{if(typeof S!="string"&&c.stateNode===null)throw Error(i(166));if(h=nt.current,oc(c)){if(h=c.stateNode,y=c.memoizedProps,S=null,R=mr,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}h[Ot]=c,h=!!(h.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||k2(h.nodeValue,y)),h||xh(c)}else h=g0(h).createTextNode(S),h[Ot]=c,c.stateNode=h}return $i(c),null;case 13:if(S=c.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(R=oc(c),S!==null&&S.dehydrated!==null){if(h===null){if(!R)throw Error(i(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[Ot]=c}else hc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$i(c),R=!1}else R=gv(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=R),R=!0;if(!R)return c.flags&256?(Xa(c),c):(Xa(c),null)}if(Xa(c),(c.flags&128)!==0)return c.lanes=y,c;if(y=S!==null,h=h!==null&&h.memoizedState!==null,y){S=c.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var _=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(_=S.memoizedState.cachePool.pool),_!==R&&(S.flags|=2048)}return y!==h&&y&&(c.child.flags|=8192),e0(c,c.updateQueue),$i(c),null;case 4:return Tt(),h===null&&wp(c.stateNode.containerInfo),$i(c),null;case 10:return Ya(c.type),$i(c),null;case 19:if(j(ks),R=c.memoizedState,R===null)return $i(c),null;if(S=(c.flags&128)!==0,_=R.rendering,_===null)if(S)Rc(R,!1);else{if(ts!==0||h!==null&&(h.flags&128)!==0)for(h=c.child;h!==null;){if(_=Jf(h),_!==null){for(c.flags|=128,Rc(R,!1),h=_.updateQueue,c.updateQueue=h,e0(c,h),c.subtreeFlags=0,h=y,y=c.child;y!==null;)uv(y,h),y=y.sibling;return Q(ks,ks.current&1|2),c.child}h=h.sibling}R.tail!==null&&bi()>r0&&(c.flags|=128,S=!0,Rc(R,!1),c.lanes=4194304)}else{if(!S)if(h=Jf(_),h!==null){if(c.flags|=128,S=!0,h=h.updateQueue,c.updateQueue=h,e0(c,h),Rc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!_.alternate&&!si)return $i(c),null}else 2*bi()-R.renderingStartTime>r0&&y!==536870912&&(c.flags|=128,S=!0,Rc(R,!1),c.lanes=4194304);R.isBackwards?(_.sibling=c.child,c.child=_):(h=R.last,h!==null?h.sibling=_:c.child=_,R.last=_)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=bi(),c.sibling=null,h=ks.current,Q(ks,S?h&1|2:h&1),c):($i(c),null);case 22:case 23:return Xa(c),km(),S=c.memoizedState!==null,h!==null?h.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(y&536870912)!==0&&(c.flags&128)===0&&($i(c),c.subtreeFlags&6&&(c.flags|=8192)):$i(c),y=c.updateQueue,y!==null&&e0(c,y.retryQueue),y=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==y&&(c.flags|=2048),h!==null&&j(bh),null;case 24:return y=null,h!==null&&(y=h.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Ya(Cs),$i(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function N3(h,c){switch(ym(c),c.tag){case 1:return h=c.flags,h&65536?(c.flags=h&-65537|128,c):null;case 3:return Ya(Cs),Tt(),h=c.flags,(h&65536)!==0&&(h&128)===0?(c.flags=h&-65537|128,c):null;case 26:case 27:case 5:return Vt(c),null;case 13:if(Xa(c),h=c.memoizedState,h!==null&&h.dehydrated!==null){if(c.alternate===null)throw Error(i(340));hc()}return h=c.flags,h&65536?(c.flags=h&-65537|128,c):null;case 19:return j(ks),null;case 4:return Tt(),null;case 10:return Ya(c.type),null;case 22:case 23:return Xa(c),km(),h!==null&&j(bh),h=c.flags,h&65536?(c.flags=h&-65537|128,c):null;case 24:return Ya(Cs),null;case 25:return null;default:return null}}function Pb(h,c){switch(ym(c),c.tag){case 3:Ya(Cs),Tt();break;case 26:case 27:case 5:Vt(c);break;case 4:Tt();break;case 13:Xa(c);break;case 19:j(ks);break;case 10:Ya(c.type);break;case 22:case 23:Xa(c),km(),h!==null&&j(bh);break;case 24:Ya(Cs)}}function Ec(h,c){try{var y=c.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var R=S.next;y=R;do{if((y.tag&h)===h){S=void 0;var _=y.create,G=y.inst;S=_(),G.destroy=S}y=y.next}while(y!==R)}}catch($){Ei(c,c.return,$)}}function Do(h,c,y){try{var S=c.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var _=R.next;S=_;do{if((S.tag&h)===h){var G=S.inst,$=G.destroy;if($!==void 0){G.destroy=void 0,R=c;var Z=y,ot=$;try{ot()}catch(pt){Ei(R,Z,pt)}}}S=S.next}while(S!==_)}}catch(pt){Ei(c,c.return,pt)}}function Lb(h){var c=h.updateQueue;if(c!==null){var y=h.stateNode;try{Ev(c,y)}catch(S){Ei(h,h.return,S)}}}function Ib(h,c,y){y.props=Rh(h.type,h.memoizedProps),y.state=h.memoizedState;try{y.componentWillUnmount()}catch(S){Ei(h,c,S)}}function Tc(h,c){try{var y=h.ref;if(y!==null){switch(h.tag){case 26:case 27:case 5:var S=h.stateNode;break;case 30:S=h.stateNode;break;default:S=h.stateNode}typeof y=="function"?h.refCleanup=y(S):y.current=S}}catch(R){Ei(h,c,R)}}function oa(h,c){var y=h.ref,S=h.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(R){Ei(h,c,R)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(R){Ei(h,c,R)}else y.current=null}function Ub(h){var c=h.type,y=h.memoizedProps,S=h.stateNode;try{t:switch(c){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break t;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(R){Ei(h,h.return,R)}}function sp(h,c,y){try{var S=h.stateNode;iD(S,h.type,y,c),S[ie]=c}catch(R){Ei(h,h.return,R)}}function Ob(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Lo(h.type)||h.tag===4}function rp(h){t:for(;;){for(;h.sibling===null;){if(h.return===null||Ob(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Lo(h.type)||h.flags&2||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function np(h,c,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,c?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(h,c):(c=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,c.appendChild(h),y=y._reactRootContainer,y!=null||c.onclick!==null||(c.onclick=f0));else if(S!==4&&(S===27&&Lo(h.type)&&(y=h.stateNode,c=null),h=h.child,h!==null))for(np(h,c,y),h=h.sibling;h!==null;)np(h,c,y),h=h.sibling}function i0(h,c,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,c?y.insertBefore(h,c):y.appendChild(h);else if(S!==4&&(S===27&&Lo(h.type)&&(y=h.stateNode),h=h.child,h!==null))for(i0(h,c,y),h=h.sibling;h!==null;)i0(h,c,y),h=h.sibling}function Gb(h){var c=h.stateNode,y=h.memoizedProps;try{for(var S=h.type,R=c.attributes;R.length;)c.removeAttributeNode(R[0]);qs(c,S,y),c[Ot]=h,c[ie]=y}catch(_){Ei(h,h.return,_)}}var ja=!1,cs=!1,ap=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Ps=null;function B3(h,c){if(h=h.containerInfo,Dp=A0,h=tv(h),rm(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else t:{y=(y=h.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var R=S.anchorOffset,_=S.focusNode;S=S.focusOffset;try{y.nodeType,_.nodeType}catch{y=null;break t}var G=0,$=-1,Z=-1,ot=0,pt=0,xt=h,lt=null;e:for(;;){for(var ut;xt!==y||R!==0&&xt.nodeType!==3||($=G+R),xt!==_||S!==0&&xt.nodeType!==3||(Z=G+S),xt.nodeType===3&&(G+=xt.nodeValue.length),(ut=xt.firstChild)!==null;)lt=xt,xt=ut;for(;;){if(xt===h)break e;if(lt===y&&++ot===R&&($=G),lt===_&&++pt===S&&(Z=G),(ut=xt.nextSibling)!==null)break;xt=lt,lt=xt.parentNode}xt=ut}y=$===-1||Z===-1?null:{start:$,end:Z}}else y=null}y=y||{start:0,end:0}}else y=null;for(Fp={focusedElem:h,selectionRange:y},A0=!1,Ps=c;Ps!==null;)if(c=Ps,h=c.child,(c.subtreeFlags&1024)!==0&&h!==null)h.return=c,Ps=h;else for(;Ps!==null;){switch(c=Ps,_=c.alternate,h=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&_!==null){h=void 0,y=c,R=_.memoizedProps,_=_.memoizedState,S=y.stateNode;try{var ne=Rh(y.type,R,y.elementType===y.type);h=S.getSnapshotBeforeUpdate(ne,_),S.__reactInternalSnapshotBeforeUpdate=h}catch(Zt){Ei(y,y.return,Zt)}}break;case 3:if((h&1024)!==0){if(h=c.stateNode.containerInfo,y=h.nodeType,y===9)zp(h);else if(y===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":zp(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=c.sibling,h!==null){h.return=c.return,Ps=h;break}Ps=c.return}}function Hb(h,c,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:Fo(h,y),S&4&&Ec(5,y);break;case 1:if(Fo(h,y),S&4)if(h=y.stateNode,c===null)try{h.componentDidMount()}catch(G){Ei(y,y.return,G)}else{var R=Rh(y.type,c.memoizedProps);c=c.memoizedState;try{h.componentDidUpdate(R,c,h.__reactInternalSnapshotBeforeUpdate)}catch(G){Ei(y,y.return,G)}}S&64&&Lb(y),S&512&&Tc(y,y.return);break;case 3:if(Fo(h,y),S&64&&(h=y.updateQueue,h!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=y.child.stateNode;break;case 1:c=y.child.stateNode}try{Ev(h,c)}catch(G){Ei(y,y.return,G)}}break;case 27:c===null&&S&4&&Gb(y);case 26:case 5:Fo(h,y),c===null&&S&4&&Ub(y),S&512&&Tc(y,y.return);break;case 12:Fo(h,y);break;case 13:Fo(h,y),S&4&&$b(h,y),S&64&&(h=y.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(y=X3.bind(null,y),lD(h,y))));break;case 22:if(S=y.memoizedState!==null||ja,!S){c=c!==null&&c.memoizedState!==null||cs,R=ja;var _=cs;ja=S,(cs=c)&&!_?_o(h,y,(y.subtreeFlags&8772)!==0):Fo(h,y),ja=R,cs=_}break;case 30:break;default:Fo(h,y)}}function Xb(h){var c=h.alternate;c!==null&&(h.alternate=null,Xb(c)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(c=h.stateNode,c!==null&&Zi(c)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Ii=null,Vr=!1;function qa(h,c,y){for(y=y.child;y!==null;)Wb(h,c,y),y=y.sibling}function Wb(h,c,y){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Di,y)}catch{}switch(y.tag){case 26:cs||oa(y,c),qa(h,c,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:cs||oa(y,c);var S=Ii,R=Vr;Lo(y.type)&&(Ii=y.stateNode,Vr=!1),qa(h,c,y),Nc(y.stateNode),Ii=S,Vr=R;break;case 5:cs||oa(y,c);case 6:if(S=Ii,R=Vr,Ii=null,qa(h,c,y),Ii=S,Vr=R,Ii!==null)if(Vr)try{(Ii.nodeType===9?Ii.body:Ii.nodeName==="HTML"?Ii.ownerDocument.body:Ii).removeChild(y.stateNode)}catch(_){Ei(y,c,_)}else try{Ii.removeChild(y.stateNode)}catch(_){Ei(y,c,_)}break;case 18:Ii!==null&&(Vr?(h=Ii,z2(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,y.stateNode),Yc(h)):z2(Ii,y.stateNode));break;case 4:S=Ii,R=Vr,Ii=y.stateNode.containerInfo,Vr=!0,qa(h,c,y),Ii=S,Vr=R;break;case 0:case 11:case 14:case 15:cs||Do(2,y,c),cs||Do(4,y,c),qa(h,c,y);break;case 1:cs||(oa(y,c),S=y.stateNode,typeof S.componentWillUnmount=="function"&&Ib(y,c,S)),qa(h,c,y);break;case 21:qa(h,c,y);break;case 22:cs=(S=cs)||y.memoizedState!==null,qa(h,c,y),cs=S;break;default:qa(h,c,y)}}function $b(h,c){if(c.memoizedState===null&&(h=c.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Yc(h)}catch(y){Ei(c,c.return,y)}}function P3(h){switch(h.tag){case 13:case 19:var c=h.stateNode;return c===null&&(c=h.stateNode=new Yb),c;case 22:return h=h.stateNode,c=h._retryCache,c===null&&(c=h._retryCache=new Yb),c;default:throw Error(i(435,h.tag))}}function op(h,c){var y=P3(h);c.forEach(function(S){var R=W3.bind(null,h,S);y.has(S)||(y.add(S),S.then(R,R))})}function sn(h,c){var y=c.deletions;if(y!==null)for(var S=0;S<y.length;S++){var R=y[S],_=h,G=c,$=G;t:for(;$!==null;){switch($.tag){case 27:if(Lo($.type)){Ii=$.stateNode,Vr=!1;break t}break;case 5:Ii=$.stateNode,Vr=!1;break t;case 3:case 4:Ii=$.stateNode.containerInfo,Vr=!0;break t}$=$.return}if(Ii===null)throw Error(i(160));Wb(_,G,R),Ii=null,Vr=!1,_=R.alternate,_!==null&&(_.return=null),R.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)jb(c,h),c=c.sibling}var Wn=null;function jb(h,c){var y=h.alternate,S=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:sn(c,h),rn(h),S&4&&(Do(3,h,h.return),Ec(3,h),Do(5,h,h.return));break;case 1:sn(c,h),rn(h),S&512&&(cs||y===null||oa(y,y.return)),S&64&&ja&&(h=h.updateQueue,h!==null&&(S=h.callbacks,S!==null&&(y=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var R=Wn;if(sn(c,h),rn(h),S&512&&(cs||y===null||oa(y,y.return)),S&4){var _=y!==null?y.memoizedState:null;if(S=h.memoizedState,y===null)if(S===null)if(h.stateNode===null){t:{S=h.type,y=h.memoizedProps,R=R.ownerDocument||R;e:switch(S){case"title":_=R.getElementsByTagName("title")[0],(!_||_[Be]||_[Ot]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=R.createElement(S),R.head.insertBefore(_,R.querySelector("head > title"))),qs(_,S,y),_[Ot]=h,$t(_),S=_;break t;case"link":var G=G2("link","href",R).get(S+(y.href||""));if(G){for(var $=0;$<G.length;$++)if(_=G[$],_.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&_.getAttribute("rel")===(y.rel==null?null:y.rel)&&_.getAttribute("title")===(y.title==null?null:y.title)&&_.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){G.splice($,1);break e}}_=R.createElement(S),qs(_,S,y),R.head.appendChild(_);break;case"meta":if(G=G2("meta","content",R).get(S+(y.content||""))){for($=0;$<G.length;$++)if(_=G[$],_.getAttribute("content")===(y.content==null?null:""+y.content)&&_.getAttribute("name")===(y.name==null?null:y.name)&&_.getAttribute("property")===(y.property==null?null:y.property)&&_.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&_.getAttribute("charset")===(y.charSet==null?null:y.charSet)){G.splice($,1);break e}}_=R.createElement(S),qs(_,S,y),R.head.appendChild(_);break;default:throw Error(i(468,S))}_[Ot]=h,$t(_),S=_}h.stateNode=S}else Y2(R,h.type,h.stateNode);else h.stateNode=O2(R,S,h.memoizedProps);else _!==S?(_===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):_.count--,S===null?Y2(R,h.type,h.stateNode):O2(R,S,h.memoizedProps)):S===null&&h.stateNode!==null&&sp(h,h.memoizedProps,y.memoizedProps)}break;case 27:sn(c,h),rn(h),S&512&&(cs||y===null||oa(y,y.return)),y!==null&&S&4&&sp(h,h.memoizedProps,y.memoizedProps);break;case 5:if(sn(c,h),rn(h),S&512&&(cs||y===null||oa(y,y.return)),h.flags&32){R=h.stateNode;try{ul(R,"")}catch(ut){Ei(h,h.return,ut)}}S&4&&h.stateNode!=null&&(R=h.memoizedProps,sp(h,R,y!==null?y.memoizedProps:R)),S&1024&&(ap=!0);break;case 6:if(sn(c,h),rn(h),S&4){if(h.stateNode===null)throw Error(i(162));S=h.memoizedProps,y=h.stateNode;try{y.nodeValue=S}catch(ut){Ei(h,h.return,ut)}}break;case 3:if(p0=null,R=Wn,Wn=y0(c.containerInfo),sn(c,h),Wn=R,rn(h),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Yc(c.containerInfo)}catch(ut){Ei(h,h.return,ut)}ap&&(ap=!1,qb(h));break;case 4:S=Wn,Wn=y0(h.stateNode.containerInfo),sn(c,h),rn(h),Wn=S;break;case 12:sn(c,h),rn(h);break;case 13:sn(c,h),rn(h),h.child.flags&8192&&h.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(fp=bi()),S&4&&(S=h.updateQueue,S!==null&&(h.updateQueue=null,op(h,S)));break;case 22:R=h.memoizedState!==null;var Z=y!==null&&y.memoizedState!==null,ot=ja,pt=cs;if(ja=ot||R,cs=pt||Z,sn(c,h),cs=pt,ja=ot,rn(h),S&8192)t:for(c=h.stateNode,c._visibility=R?c._visibility&-2:c._visibility|1,R&&(y===null||Z||ja||cs||Eh(h)),y=null,c=h;;){if(c.tag===5||c.tag===26){if(y===null){Z=y=c;try{if(_=Z.stateNode,R)G=_.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{$=Z.stateNode;var xt=Z.memoizedProps.style,lt=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;$.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(ut){Ei(Z,Z.return,ut)}}}else if(c.tag===6){if(y===null){Z=c;try{Z.stateNode.nodeValue=R?"":Z.memoizedProps}catch(ut){Ei(Z,Z.return,ut)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===h)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break t;for(;c.sibling===null;){if(c.return===null||c.return===h)break t;y===c&&(y=null),c=c.return}y===c&&(y=null),c.sibling.return=c.return,c=c.sibling}S&4&&(S=h.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,op(h,y))));break;case 19:sn(c,h),rn(h),S&4&&(S=h.updateQueue,S!==null&&(h.updateQueue=null,op(h,S)));break;case 30:break;case 21:break;default:sn(c,h),rn(h)}}function rn(h){var c=h.flags;if(c&2){try{for(var y,S=h.return;S!==null;){if(Ob(S)){y=S;break}S=S.return}if(y==null)throw Error(i(160));switch(y.tag){case 27:var R=y.stateNode,_=rp(h);i0(h,_,R);break;case 5:var G=y.stateNode;y.flags&32&&(ul(G,""),y.flags&=-33);var $=rp(h);i0(h,$,G);break;case 3:case 4:var Z=y.stateNode.containerInfo,ot=rp(h);np(h,ot,Z);break;default:throw Error(i(161))}}catch(pt){Ei(h,h.return,pt)}h.flags&=-3}c&4096&&(h.flags&=-4097)}function qb(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var c=h;qb(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),h=h.sibling}}function Fo(h,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Hb(h,c.alternate,c),c=c.sibling}function Eh(h){for(h=h.child;h!==null;){var c=h;switch(c.tag){case 0:case 11:case 14:case 15:Do(4,c,c.return),Eh(c);break;case 1:oa(c,c.return);var y=c.stateNode;typeof y.componentWillUnmount=="function"&&Ib(c,c.return,y),Eh(c);break;case 27:Nc(c.stateNode);case 26:case 5:oa(c,c.return),Eh(c);break;case 22:c.memoizedState===null&&Eh(c);break;case 30:Eh(c);break;default:Eh(c)}h=h.sibling}}function _o(h,c,y){for(y=y&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,R=h,_=c,G=_.flags;switch(_.tag){case 0:case 11:case 15:_o(R,_,y),Ec(4,_);break;case 1:if(_o(R,_,y),S=_,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(ot){Ei(S,S.return,ot)}if(S=_,R=S.updateQueue,R!==null){var $=S.stateNode;try{var Z=R.shared.hiddenCallbacks;if(Z!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Z.length;R++)Rv(Z[R],$)}catch(ot){Ei(S,S.return,ot)}}y&&G&64&&Lb(_),Tc(_,_.return);break;case 27:Gb(_);case 26:case 5:_o(R,_,y),y&&S===null&&G&4&&Ub(_),Tc(_,_.return);break;case 12:_o(R,_,y);break;case 13:_o(R,_,y),y&&G&4&&$b(R,_);break;case 22:_.memoizedState===null&&_o(R,_,y),Tc(_,_.return);break;case 30:break;default:_o(R,_,y)}c=c.sibling}}function hp(h,c){var y=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==y&&(h!=null&&h.refCount++,y!=null&&cc(y))}function lp(h,c){h=null,c.alternate!==null&&(h=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==h&&(c.refCount++,h!=null&&cc(h))}function ha(h,c,y,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jb(h,c,y,S),c=c.sibling}function Jb(h,c,y,S){var R=c.flags;switch(c.tag){case 0:case 11:case 15:ha(h,c,y,S),R&2048&&Ec(9,c);break;case 1:ha(h,c,y,S);break;case 3:ha(h,c,y,S),R&2048&&(h=null,c.alternate!==null&&(h=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==h&&(c.refCount++,h!=null&&cc(h)));break;case 12:if(R&2048){ha(h,c,y,S),h=c.stateNode;try{var _=c.memoizedProps,G=_.id,$=_.onPostCommit;typeof $=="function"&&$(G,c.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Z){Ei(c,c.return,Z)}}else ha(h,c,y,S);break;case 13:ha(h,c,y,S);break;case 23:break;case 22:_=c.stateNode,G=c.alternate,c.memoizedState!==null?_._visibility&2?ha(h,c,y,S):wc(h,c):_._visibility&2?ha(h,c,y,S):(_._visibility|=2,kl(h,c,y,S,(c.subtreeFlags&10256)!==0)),R&2048&&hp(G,c);break;case 24:ha(h,c,y,S),R&2048&&lp(c.alternate,c);break;default:ha(h,c,y,S)}}function kl(h,c,y,S,R){for(R=R&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var _=h,G=c,$=y,Z=S,ot=G.flags;switch(G.tag){case 0:case 11:case 15:kl(_,G,$,Z,R),Ec(8,G);break;case 23:break;case 22:var pt=G.stateNode;G.memoizedState!==null?pt._visibility&2?kl(_,G,$,Z,R):wc(_,G):(pt._visibility|=2,kl(_,G,$,Z,R)),R&&ot&2048&&hp(G.alternate,G);break;case 24:kl(_,G,$,Z,R),R&&ot&2048&&lp(G.alternate,G);break;default:kl(_,G,$,Z,R)}c=c.sibling}}function wc(h,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var y=h,S=c,R=S.flags;switch(S.tag){case 22:wc(y,S),R&2048&&hp(S.alternate,S);break;case 24:wc(y,S),R&2048&&lp(S.alternate,S);break;default:wc(y,S)}c=c.sibling}}var Cc=8192;function Dl(h){if(h.subtreeFlags&Cc)for(h=h.child;h!==null;)Zb(h),h=h.sibling}function Zb(h){switch(h.tag){case 26:Dl(h),h.flags&Cc&&h.memoizedState!==null&&bD(Wn,h.memoizedState,h.memoizedProps);break;case 5:Dl(h);break;case 3:case 4:var c=Wn;Wn=y0(h.stateNode.containerInfo),Dl(h),Wn=c;break;case 22:h.memoizedState===null&&(c=h.alternate,c!==null&&c.memoizedState!==null?(c=Cc,Cc=16777216,Dl(h),Cc=c):Dl(h));break;default:Dl(h)}}function Qb(h){var c=h.alternate;if(c!==null&&(h=c.child,h!==null)){c.child=null;do c=h.sibling,h.sibling=null,h=c;while(h!==null)}}function kc(h){var c=h.deletions;if((h.flags&16)!==0){if(c!==null)for(var y=0;y<c.length;y++){var S=c[y];Ps=S,t2(S,h)}Qb(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Kb(h),h=h.sibling}function Kb(h){switch(h.tag){case 0:case 11:case 15:kc(h),h.flags&2048&&Do(9,h,h.return);break;case 3:kc(h);break;case 12:kc(h);break;case 22:var c=h.stateNode;h.memoizedState!==null&&c._visibility&2&&(h.return===null||h.return.tag!==13)?(c._visibility&=-3,s0(h)):kc(h);break;default:kc(h)}}function s0(h){var c=h.deletions;if((h.flags&16)!==0){if(c!==null)for(var y=0;y<c.length;y++){var S=c[y];Ps=S,t2(S,h)}Qb(h)}for(h=h.child;h!==null;){switch(c=h,c.tag){case 0:case 11:case 15:Do(8,c,c.return),s0(c);break;case 22:y=c.stateNode,y._visibility&2&&(y._visibility&=-3,s0(c));break;default:s0(c)}h=h.sibling}}function t2(h,c){for(;Ps!==null;){var y=Ps;switch(y.tag){case 0:case 11:case 15:Do(8,y,c);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:cc(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,Ps=S;else t:for(y=h;Ps!==null;){S=Ps;var R=S.sibling,_=S.return;if(Xb(S),S===y){Ps=null;break t}if(R!==null){R.return=_,Ps=R;break t}Ps=_}}}var L3={getCacheForType:function(h){var c=ir(Cs),y=c.data.get(h);return y===void 0&&(y=h(),c.data.set(h,y)),y}},I3=typeof WeakMap=="function"?WeakMap:Map,di=0,Fi=null,_e=null,Ue=0,fi=0,nn=null,Vo=!1,Fl=!1,up=!1,Ja=0,ts=0,zo=0,Th=0,cp=0,Dn=0,_l=0,Dc=null,zr=null,dp=!1,fp=0,r0=1/0,n0=null,No=null,js=0,Bo=null,Vl=null,zl=0,gp=0,yp=null,e2=null,Fc=0,mp=null;function an(){if((di&2)!==0&&Ue!==0)return Ue&-Ue;if(B.T!==null){var h=vl;return h!==0?h:Mp()}return Ri()}function i2(){Dn===0&&(Dn=(Ue&536870912)===0||si?kt():536870912);var h=kn.current;return h!==null&&(h.flags|=32),Dn}function on(h,c,y){(h===Fi&&(fi===2||fi===9)||h.cancelPendingCommit!==null)&&(Nl(h,0),Po(h,Ue,Dn,!1)),ye(h,y),((di&2)===0||h!==Fi)&&(h===Fi&&((di&2)===0&&(Th|=y),ts===4&&Po(h,Ue,Dn,!1)),la(h))}function s2(h,c,y){if((di&6)!==0)throw Error(i(327));var S=!y&&(c&124)===0&&(c&h.expiredLanes)===0||wt(h,c),R=S?G3(h,c):xp(h,c,!0),_=S;do{if(R===0){Fl&&!S&&Po(h,c,0,!1);break}else{if(y=h.current.alternate,_&&!U3(y)){R=xp(h,c,!1),_=!1;continue}if(R===2){if(_=c,h.errorRecoveryDisabledLanes&_)var G=0;else G=h.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;t:{var $=h;R=Dc;var Z=$.current.memoizedState.isDehydrated;if(Z&&(Nl($,G).flags|=256),G=xp($,G,!1),G!==2){if(up&&!Z){$.errorRecoveryDisabledLanes|=_,Th|=_,R=4;break t}_=zr,zr=R,_!==null&&(zr===null?zr=_:zr.push.apply(zr,_))}R=G}if(_=!1,R!==2)continue}}if(R===1){Nl(h,0),Po(h,c,0,!0);break}t:{switch(S=h,_=R,_){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Po(S,c,Dn,!Vo);break t;case 2:zr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(R=fp+300-bi(),10<R)){if(Po(S,c,Dn,!Vo),oe(S,0,!0)!==0)break t;S.timeoutHandle=_2(r2.bind(null,S,y,zr,n0,dp,c,Dn,Th,_l,Vo,_,2,-0,0),R);break t}r2(S,y,zr,n0,dp,c,Dn,Th,_l,Vo,_,0,-0,0)}}break}while(!0);la(h)}function r2(h,c,y,S,R,_,G,$,Z,ot,pt,xt,lt,ut){if(h.timeoutHandle=-1,xt=c.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(Lc={stylesheets:null,count:0,unsuspend:vD},Zb(c),xt=MD(),xt!==null)){h.cancelPendingCommit=xt(c2.bind(null,h,c,_,y,S,R,G,$,Z,pt,1,lt,ut)),Po(h,_,G,!ot);return}c2(h,c,_,y,S,R,G,$,Z)}function U3(h){for(var c=h;;){var y=c.tag;if((y===0||y===11||y===15)&&c.flags&16384&&(y=c.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var R=y[S],_=R.getSnapshot;R=R.value;try{if(!tn(_(),R))return!1}catch{return!1}}if(y=c.child,c.subtreeFlags&16384&&y!==null)y.return=c,c=y;else{if(c===h)break;for(;c.sibling===null;){if(c.return===null||c.return===h)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Po(h,c,y,S){c&=~cp,c&=~Th,h.suspendedLanes|=c,h.pingedLanes&=~c,S&&(h.warmLanes|=c),S=h.expirationTimes;for(var R=c;0<R;){var _=31-Mi(R),G=1<<_;S[_]=-1,R&=~G}y!==0&&sa(h,y,c)}function a0(){return(di&6)===0?(_c(0),!1):!0}function pp(){if(_e!==null){if(fi===0)var h=_e.return;else h=_e,Ga=Ah=null,zm(h),wl=null,bc=0,h=_e;for(;h!==null;)Pb(h.alternate,h),h=h.return;_e=null}}function Nl(h,c){var y=h.timeoutHandle;y!==-1&&(h.timeoutHandle=-1,rD(y)),y=h.cancelPendingCommit,y!==null&&(h.cancelPendingCommit=null,y()),pp(),Fi=h,_e=y=Ia(h.current,null),Ue=c,fi=0,nn=null,Vo=!1,Fl=wt(h,c),up=!1,_l=Dn=cp=Th=zo=ts=0,zr=Dc=null,dp=!1,(c&8)!==0&&(c|=c&32);var S=h.entangledLanes;if(S!==0)for(h=h.entanglements,S&=c;0<S;){var R=31-Mi(S),_=1<<R;c|=h[R],S&=~_}return Ja=c,Cf(),y}function n2(h,c){Ae=null,B.H=$f,c===fc||c===Pf?(c=bv(),fi=3):c===xv?(c=bv(),fi=4):fi=c===Mb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,nn=c,_e===null&&(ts=1,Qf(h,En(c,h.current)))}function a2(){var h=B.H;return B.H=$f,h===null?$f:h}function o2(){var h=B.A;return B.A=L3,h}function Sp(){ts=4,Vo||(Ue&4194048)!==Ue&&kn.current!==null||(Fl=!0),(zo&134217727)===0&&(Th&134217727)===0||Fi===null||Po(Fi,Ue,Dn,!1)}function xp(h,c,y){var S=di;di|=2;var R=a2(),_=o2();(Fi!==h||Ue!==c)&&(n0=null,Nl(h,c)),c=!1;var G=ts;t:do try{if(fi!==0&&_e!==null){var $=_e,Z=nn;switch(fi){case 8:pp(),G=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(c=!0);var ot=fi;if(fi=0,nn=null,Bl(h,$,Z,ot),y&&Fl){G=0;break t}break;default:ot=fi,fi=0,nn=null,Bl(h,$,Z,ot)}}O3(),G=ts;break}catch(pt){n2(h,pt)}while(!0);return c&&h.shellSuspendCounter++,Ga=Ah=null,di=S,B.H=R,B.A=_,_e===null&&(Fi=null,Ue=0,Cf()),G}function O3(){for(;_e!==null;)h2(_e)}function G3(h,c){var y=di;di|=2;var S=a2(),R=o2();Fi!==h||Ue!==c?(n0=null,r0=bi()+500,Nl(h,c)):Fl=wt(h,c);t:do try{if(fi!==0&&_e!==null){c=_e;var _=nn;e:switch(fi){case 1:fi=0,nn=null,Bl(h,c,_,1);break;case 2:case 9:if(Av(_)){fi=0,nn=null,l2(c);break}c=function(){fi!==2&&fi!==9||Fi!==h||(fi=7),la(h)},_.then(c,c);break t;case 3:fi=7;break t;case 4:fi=5;break t;case 7:Av(_)?(fi=0,nn=null,l2(c)):(fi=0,nn=null,Bl(h,c,_,7));break;case 5:var G=null;switch(_e.tag){case 26:G=_e.memoizedState;case 5:case 27:var $=_e;if(!G||H2(G)){fi=0,nn=null;var Z=$.sibling;if(Z!==null)_e=Z;else{var ot=$.return;ot!==null?(_e=ot,o0(ot)):_e=null}break e}}fi=0,nn=null,Bl(h,c,_,5);break;case 6:fi=0,nn=null,Bl(h,c,_,6);break;case 8:pp(),ts=6;break t;default:throw Error(i(462))}}Y3();break}catch(pt){n2(h,pt)}while(!0);return Ga=Ah=null,B.H=S,B.A=R,di=y,_e!==null?0:(Fi=null,Ue=0,Cf(),ts)}function Y3(){for(;_e!==null&&!_t();)h2(_e)}function h2(h){var c=Nb(h.alternate,h,Ja);h.memoizedProps=h.pendingProps,c===null?o0(h):_e=c}function l2(h){var c=h,y=c.alternate;switch(c.tag){case 15:case 0:c=kb(y,c,c.pendingProps,c.type,void 0,Ue);break;case 11:c=kb(y,c,c.pendingProps,c.type.render,c.ref,Ue);break;case 5:zm(c);default:Pb(y,c),c=_e=uv(c,Ja),c=Nb(y,c,Ja)}h.memoizedProps=h.pendingProps,c===null?o0(h):_e=c}function Bl(h,c,y,S){Ga=Ah=null,zm(c),wl=null,bc=0;var R=c.return;try{if(_3(h,R,c,y,Ue)){ts=1,Qf(h,En(y,h.current)),_e=null;return}}catch(_){if(R!==null)throw _e=R,_;ts=1,Qf(h,En(y,h.current)),_e=null;return}c.flags&32768?(si||S===1?h=!0:Fl||(Ue&536870912)!==0?h=!1:(Vo=h=!0,(S===2||S===9||S===3||S===6)&&(S=kn.current,S!==null&&S.tag===13&&(S.flags|=16384))),u2(c,h)):o0(c)}function o0(h){var c=h;do{if((c.flags&32768)!==0){u2(c,Vo);return}h=c.return;var y=z3(c.alternate,c,Ja);if(y!==null){_e=y;return}if(c=c.sibling,c!==null){_e=c;return}_e=c=h}while(c!==null);ts===0&&(ts=5)}function u2(h,c){do{var y=N3(h.alternate,h);if(y!==null){y.flags&=32767,_e=y;return}if(y=h.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!c&&(h=h.sibling,h!==null)){_e=h;return}_e=h=y}while(h!==null);ts=6,_e=null}function c2(h,c,y,S,R,_,G,$,Z){h.cancelPendingCommit=null;do h0();while(js!==0);if((di&6)!==0)throw Error(i(327));if(c!==null){if(c===h.current)throw Error(i(177));if(_=c.lanes|c.childLanes,_|=lm,De(h,y,_,G,$,Z),h===Fi&&(_e=Fi=null,Ue=0),Vl=c,Bo=h,zl=y,gp=_,yp=R,e2=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,$3(Ge,function(){return m2(),null})):(h.callbackNode=null,h.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=B.T,B.T=null,R=U.p,U.p=2,G=di,di|=4;try{B3(h,c,y)}finally{di=G,U.p=R,B.T=S}}js=1,d2(),f2(),g2()}}function d2(){if(js===1){js=0;var h=Bo,c=Vl,y=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||y){y=B.T,B.T=null;var S=U.p;U.p=2;var R=di;di|=4;try{jb(c,h);var _=Fp,G=tv(h.containerInfo),$=_.focusedElem,Z=_.selectionRange;if(G!==$&&$&&$.ownerDocument&&K1($.ownerDocument.documentElement,$)){if(Z!==null&&rm($)){var ot=Z.start,pt=Z.end;if(pt===void 0&&(pt=ot),"selectionStart"in $)$.selectionStart=ot,$.selectionEnd=Math.min(pt,$.value.length);else{var xt=$.ownerDocument||document,lt=xt&&xt.defaultView||window;if(lt.getSelection){var ut=lt.getSelection(),ne=$.textContent.length,Zt=Math.min(Z.start,ne),Si=Z.end===void 0?Zt:Math.min(Z.end,ne);!ut.extend&&Zt>Si&&(G=Si,Si=Zt,Zt=G);var et=Q1($,Zt),K=Q1($,Si);if(et&&K&&(ut.rangeCount!==1||ut.anchorNode!==et.node||ut.anchorOffset!==et.offset||ut.focusNode!==K.node||ut.focusOffset!==K.offset)){var at=xt.createRange();at.setStart(et.node,et.offset),ut.removeAllRanges(),Zt>Si?(ut.addRange(at),ut.extend(K.node,K.offset)):(at.setEnd(K.node,K.offset),ut.addRange(at))}}}}for(xt=[],ut=$;ut=ut.parentNode;)ut.nodeType===1&&xt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<xt.length;$++){var St=xt[$];St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}A0=!!Dp,Fp=Dp=null}finally{di=R,U.p=S,B.T=y}}h.current=c,js=2}}function f2(){if(js===2){js=0;var h=Bo,c=Vl,y=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||y){y=B.T,B.T=null;var S=U.p;U.p=2;var R=di;di|=4;try{Hb(h,c.alternate,c)}finally{di=R,U.p=S,B.T=y}}js=3}}function g2(){if(js===4||js===3){js=0,Ct();var h=Bo,c=Vl,y=zl,S=e2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?js=5:(js=0,Vl=Bo=null,y2(h,h.pendingLanes));var R=h.pendingLanes;if(R===0&&(No=null),ra(y),c=c.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Di,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=B.T,R=U.p,U.p=2,B.T=null;try{for(var _=h.onRecoverableError,G=0;G<S.length;G++){var $=S[G];_($.value,{componentStack:$.stack})}}finally{B.T=c,U.p=R}}(zl&3)!==0&&h0(),la(h),R=h.pendingLanes,(y&4194090)!==0&&(R&42)!==0?h===mp?Fc++:(Fc=0,mp=h):Fc=0,_c(0)}}function y2(h,c){(h.pooledCacheLanes&=c)===0&&(c=h.pooledCache,c!=null&&(h.pooledCache=null,cc(c)))}function h0(h){return d2(),f2(),g2(),m2()}function m2(){if(js!==5)return!1;var h=Bo,c=gp;gp=0;var y=ra(zl),S=B.T,R=U.p;try{U.p=32>y?32:y,B.T=null,y=yp,yp=null;var _=Bo,G=zl;if(js=0,Vl=Bo=null,zl=0,(di&6)!==0)throw Error(i(331));var $=di;if(di|=4,Kb(_.current),Jb(_,_.current,G,y),di=$,_c(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Di,_)}catch{}return!0}finally{U.p=R,B.T=S,y2(h,c)}}function p2(h,c,y){c=En(y,c),c=jm(h.stateNode,c,2),h=To(h,c,2),h!==null&&(ye(h,2),la(h))}function Ei(h,c,y){if(h.tag===3)p2(h,h,y);else for(;c!==null;){if(c.tag===3){p2(c,h,y);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(No===null||!No.has(S))){h=En(y,h),y=vb(2),S=To(c,y,2),S!==null&&(bb(y,S,c,h),ye(S,2),la(S));break}}c=c.return}}function Ap(h,c,y){var S=h.pingCache;if(S===null){S=h.pingCache=new I3;var R=new Set;S.set(c,R)}else R=S.get(c),R===void 0&&(R=new Set,S.set(c,R));R.has(y)||(up=!0,R.add(y),h=H3.bind(null,h,c,y),c.then(h,h))}function H3(h,c,y){var S=h.pingCache;S!==null&&S.delete(c),h.pingedLanes|=h.suspendedLanes&y,h.warmLanes&=~y,Fi===h&&(Ue&y)===y&&(ts===4||ts===3&&(Ue&62914560)===Ue&&300>bi()-fp?(di&2)===0&&Nl(h,0):cp|=y,_l===Ue&&(_l=0)),la(h)}function S2(h,c){c===0&&(c=Ht()),h=pl(h,c),h!==null&&(ye(h,c),la(h))}function X3(h){var c=h.memoizedState,y=0;c!==null&&(y=c.retryLane),S2(h,y)}function W3(h,c){var y=0;switch(h.tag){case 13:var S=h.stateNode,R=h.memoizedState;R!==null&&(y=R.retryLane);break;case 19:S=h.stateNode;break;case 22:S=h.stateNode._retryCache;break;default:throw Error(i(314))}S!==null&&S.delete(c),S2(h,y)}function $3(h,c){return jt(h,c)}var l0=null,Pl=null,vp=!1,u0=!1,bp=!1,wh=0;function la(h){h!==Pl&&h.next===null&&(Pl===null?l0=Pl=h:Pl=Pl.next=h),u0=!0,vp||(vp=!0,q3())}function _c(h,c){if(!bp&&u0){bp=!0;do for(var y=!1,S=l0;S!==null;){if(h!==0){var R=S.pendingLanes;if(R===0)var _=0;else{var G=S.suspendedLanes,$=S.pingedLanes;_=(1<<31-Mi(42|h)+1)-1,_&=R&~(G&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(y=!0,b2(S,_))}else _=Ue,_=oe(S,S===Fi?_:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(_&3)===0||wt(S,_)||(y=!0,b2(S,_));S=S.next}while(y);bp=!1}}function j3(){x2()}function x2(){u0=vp=!1;var h=0;wh!==0&&(sD()&&(h=wh),wh=0);for(var c=bi(),y=null,S=l0;S!==null;){var R=S.next,_=A2(S,c);_===0?(S.next=null,y===null?l0=R:y.next=R,R===null&&(Pl=y)):(y=S,(h!==0||(_&3)!==0)&&(u0=!0)),S=R}_c(h)}function A2(h,c){for(var y=h.suspendedLanes,S=h.pingedLanes,R=h.expirationTimes,_=h.pendingLanes&-62914561;0<_;){var G=31-Mi(_),$=1<<G,Z=R[G];Z===-1?(($&y)===0||($&S)!==0)&&(R[G]=le($,c)):Z<=c&&(h.expiredLanes|=$),_&=~$}if(c=Fi,y=Ue,y=oe(h,h===c?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),S=h.callbackNode,y===0||h===c&&(fi===2||fi===9)||h.cancelPendingCommit!==null)return S!==null&&S!==null&&Jt(S),h.callbackNode=null,h.callbackPriority=0;if((y&3)===0||wt(h,y)){if(c=y&-y,c===h.callbackPriority)return c;switch(S!==null&&Jt(S),ra(y)){case 2:case 8:y=gr;break;case 32:y=Ge;break;case 268435456:y=Dr;break;default:y=Ge}return S=v2.bind(null,h),y=jt(y,S),h.callbackPriority=c,h.callbackNode=y,c}return S!==null&&S!==null&&Jt(S),h.callbackPriority=2,h.callbackNode=null,2}function v2(h,c){if(js!==0&&js!==5)return h.callbackNode=null,h.callbackPriority=0,null;var y=h.callbackNode;if(h0()&&h.callbackNode!==y)return null;var S=Ue;return S=oe(h,h===Fi?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),S===0?null:(s2(h,S,c),A2(h,bi()),h.callbackNode!=null&&h.callbackNode===y?v2.bind(null,h):null)}function b2(h,c){if(h0())return null;s2(h,c,!0)}function q3(){nD(function(){(di&6)!==0?jt(pe,j3):x2()})}function Mp(){return wh===0&&(wh=kt()),wh}function M2(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:vf(""+h)}function R2(h,c){var y=c.ownerDocument.createElement("input");return y.name=c.name,y.value=c.value,h.id&&y.setAttribute("form",h.id),c.parentNode.insertBefore(y,c),h=new FormData(h),y.parentNode.removeChild(y),h}function J3(h,c,y,S,R){if(c==="submit"&&y&&y.stateNode===R){var _=M2((R[ie]||null).action),G=S.submitter;G&&(c=(c=G[ie]||null)?M2(c.formAction):G.getAttribute("formAction"),c!==null&&(_=c,G=null));var $=new Ef("action","action",null,S,R);h.push({event:$,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(wh!==0){var Z=G?R2(R,G):new FormData(R);Ym(y,{pending:!0,data:Z,method:R.method,action:_},null,Z)}}else typeof _=="function"&&($.preventDefault(),Z=G?R2(R,G):new FormData(R),Ym(y,{pending:!0,data:Z,method:R.method,action:_},_,Z))},currentTarget:R}]})}}for(var Rp=0;Rp<hm.length;Rp++){var Ep=hm[Rp],Z3=Ep.toLowerCase(),Q3=Ep[0].toUpperCase()+Ep.slice(1);Xn(Z3,"on"+Q3)}Xn(sv,"onAnimationEnd"),Xn(rv,"onAnimationIteration"),Xn(nv,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(y3,"onTransitionRun"),Xn(m3,"onTransitionStart"),Xn(p3,"onTransitionCancel"),Xn(av,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function E2(h,c){c=(c&4)!==0;for(var y=0;y<h.length;y++){var S=h[y],R=S.event;S=S.listeners;t:{var _=void 0;if(c)for(var G=S.length-1;0<=G;G--){var $=S[G],Z=$.instance,ot=$.currentTarget;if($=$.listener,Z!==_&&R.isPropagationStopped())break t;_=$,R.currentTarget=ot;try{_(R)}catch(pt){Zf(pt)}R.currentTarget=null,_=Z}else for(G=0;G<S.length;G++){if($=S[G],Z=$.instance,ot=$.currentTarget,$=$.listener,Z!==_&&R.isPropagationStopped())break t;_=$,R.currentTarget=ot;try{_(R)}catch(pt){Zf(pt)}R.currentTarget=null,_=Z}}}}function Ve(h,c){var y=c[ui];y===void 0&&(y=c[ui]=new Set);var S=h+"__bubble";y.has(S)||(T2(c,h,2,!1),y.add(S))}function Tp(h,c,y){var S=0;c&&(S|=4),T2(y,h,S,c)}var c0="_reactListening"+Math.random().toString(36).slice(2);function wp(h){if(!h[c0]){h[c0]=!0,yr.forEach(function(y){y!=="selectionchange"&&(K3.has(y)||Tp(y,!1,h),Tp(y,!0,h))});var c=h.nodeType===9?h:h.ownerDocument;c===null||c[c0]||(c[c0]=!0,Tp("selectionchange",!1,c))}}function T2(h,c,y,S){switch(J2(c)){case 2:var R=TD;break;case 8:R=wD;break;default:R=Op}y=R.bind(null,c,y,h),R=void 0,!qy||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(R=!0),S?R!==void 0?h.addEventListener(c,y,{capture:!0,passive:R}):h.addEventListener(c,y,!0):R!==void 0?h.addEventListener(c,y,{passive:R}):h.addEventListener(c,y,!1)}function Cp(h,c,y,S,R){var _=S;if((c&1)===0&&(c&2)===0&&S!==null)t:for(;;){if(S===null)return;var G=S.tag;if(G===3||G===4){var $=S.stateNode.containerInfo;if($===R)break;if(G===4)for(G=S.return;G!==null;){var Z=G.tag;if((Z===3||Z===4)&&G.stateNode.containerInfo===R)return;G=G.return}for(;$!==null;){if(G=Yi($),G===null)return;if(Z=G.tag,Z===5||Z===6||Z===26||Z===27){S=_=G;continue t}$=$.parentNode}}S=S.return}V1(function(){var ot=_,pt=$y(y),xt=[];t:{var lt=ov.get(h);if(lt!==void 0){var ut=Ef,ne=h;switch(h){case"keypress":if(Mf(y)===0)break t;case"keydown":case"keyup":ut=$k;break;case"focusin":ne="focus",ut=Ky;break;case"focusout":ne="blur",ut=Ky;break;case"beforeblur":case"afterblur":ut=Ky;break;case"click":if(y.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Jk;break;case sv:case rv:case nv:ut=Lk;break;case av:ut=Qk;break;case"scroll":case"scrollend":ut=Vk;break;case"wheel":ut=t3;break;case"copy":case"cut":case"paste":ut=Uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=L1;break;case"toggle":case"beforetoggle":ut=i3}var Zt=(c&4)!==0,Si=!Zt&&(h==="scroll"||h==="scrollend"),et=Zt?lt!==null?lt+"Capture":null:lt;Zt=[];for(var K=ot,at;K!==null;){var St=K;if(at=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||at===null||et===null||(St=Qu(K,et),St!=null&&Zt.push(zc(K,St,at))),Si)break;K=K.return}0<Zt.length&&(lt=new ut(lt,ne,null,y,pt),xt.push({event:lt,listeners:Zt}))}}if((c&7)===0){t:{if(lt=h==="mouseover"||h==="pointerover",ut=h==="mouseout"||h==="pointerout",lt&&y!==Wy&&(ne=y.relatedTarget||y.fromElement)&&(Yi(ne)||ne[Xs]))break t;if((ut||lt)&&(lt=pt.window===pt?pt:(lt=pt.ownerDocument)?lt.defaultView||lt.parentWindow:window,ut?(ne=y.relatedTarget||y.toElement,ut=ot,ne=ne?Yi(ne):null,ne!==null&&(Si=n(ne),Zt=ne.tag,ne!==Si||Zt!==5&&Zt!==27&&Zt!==6)&&(ne=null)):(ut=null,ne=ot),ut!==ne)){if(Zt=B1,St="onMouseLeave",et="onMouseEnter",K="mouse",(h==="pointerout"||h==="pointerover")&&(Zt=L1,St="onPointerLeave",et="onPointerEnter",K="pointer"),Si=ut==null?lt:Qi(ut),at=ne==null?lt:Qi(ne),lt=new Zt(St,K+"leave",ut,y,pt),lt.target=Si,lt.relatedTarget=at,St=null,Yi(pt)===ot&&(Zt=new Zt(et,K+"enter",ne,y,pt),Zt.target=at,Zt.relatedTarget=Si,St=Zt),Si=St,ut&&ne)e:{for(Zt=ut,et=ne,K=0,at=Zt;at;at=Ll(at))K++;for(at=0,St=et;St;St=Ll(St))at++;for(;0<K-at;)Zt=Ll(Zt),K--;for(;0<at-K;)et=Ll(et),at--;for(;K--;){if(Zt===et||et!==null&&Zt===et.alternate)break e;Zt=Ll(Zt),et=Ll(et)}Zt=null}else Zt=null;ut!==null&&w2(xt,lt,ut,Zt,!1),ne!==null&&Si!==null&&w2(xt,Si,ne,Zt,!0)}}t:{if(lt=ot?Qi(ot):window,ut=lt.nodeName&&lt.nodeName.toLowerCase(),ut==="select"||ut==="input"&&lt.type==="file")var Lt=W1;else if(H1(lt))if($1)Lt=d3;else{Lt=u3;var we=l3}else ut=lt.nodeName,!ut||ut.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?ot&&Xy(ot.elementType)&&(Lt=W1):Lt=c3;if(Lt&&(Lt=Lt(h,ot))){X1(xt,Lt,y,pt);break t}we&&we(h,lt,ot),h==="focusout"&&ot&&lt.type==="number"&&ot.memoizedProps.value!=null&&Hy(lt,"number",lt.value)}switch(we=ot?Qi(ot):window,h){case"focusin":(H1(we)||we.contentEditable==="true")&&(gl=we,nm=ot,ac=null);break;case"focusout":ac=nm=gl=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,ev(xt,y,pt);break;case"selectionchange":if(g3)break;case"keydown":case"keyup":ev(xt,y,pt)}var Xt;if(em)t:{switch(h){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else fl?G1(h,y)&&(Kt="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(Kt="onCompositionStart");Kt&&(I1&&y.locale!=="ko"&&(fl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&fl&&(Xt=z1()):(bo=pt,Jy="value"in bo?bo.value:bo.textContent,fl=!0)),we=d0(ot,Kt),0<we.length&&(Kt=new P1(Kt,h,null,y,pt),xt.push({event:Kt,listeners:we}),Xt?Kt.data=Xt:(Xt=Y1(y),Xt!==null&&(Kt.data=Xt)))),(Xt=r3?n3(h,y):a3(h,y))&&(Kt=d0(ot,"onBeforeInput"),0<Kt.length&&(we=new P1("onBeforeInput","beforeinput",null,y,pt),xt.push({event:we,listeners:Kt}),we.data=Xt)),J3(xt,h,ot,y,pt)}E2(xt,c)})}function zc(h,c,y){return{instance:h,listener:c,currentTarget:y}}function d0(h,c){for(var y=c+"Capture",S=[];h!==null;){var R=h,_=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||_===null||(R=Qu(h,y),R!=null&&S.unshift(zc(h,R,_)),R=Qu(h,c),R!=null&&S.push(zc(h,R,_))),h.tag===3)return S;h=h.return}return[]}function Ll(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function w2(h,c,y,S,R){for(var _=c._reactName,G=[];y!==null&&y!==S;){var $=y,Z=$.alternate,ot=$.stateNode;if($=$.tag,Z!==null&&Z===S)break;$!==5&&$!==26&&$!==27||ot===null||(Z=ot,R?(ot=Qu(y,_),ot!=null&&G.unshift(zc(y,ot,Z))):R||(ot=Qu(y,_),ot!=null&&G.push(zc(y,ot,Z)))),y=y.return}G.length!==0&&h.push({event:c,listeners:G})}var tD=/\r\n?/g,eD=/\u0000|\uFFFD/g;function C2(h){return(typeof h=="string"?h:""+h).replace(tD,`
`).replace(eD,"")}function k2(h,c){return c=C2(c),C2(h)===c}function f0(){}function pi(h,c,y,S,R,_){switch(y){case"children":typeof S=="string"?c==="body"||c==="textarea"&&S===""||ul(h,S):(typeof S=="number"||typeof S=="bigint")&&c!=="body"&&ul(h,""+S);break;case"className":bn(h,"class",S);break;case"tabIndex":bn(h,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(h,y,S);break;case"style":F1(h,S,_);break;case"data":if(c!=="object"){bn(h,"data",S);break}case"src":case"href":if(S===""&&(c!=="a"||y!=="href")){h.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){h.removeAttribute(y);break}S=vf(""+S),h.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){h.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(y==="formAction"?(c!=="input"&&pi(h,c,"name",R.name,R,null),pi(h,c,"formEncType",R.formEncType,R,null),pi(h,c,"formMethod",R.formMethod,R,null),pi(h,c,"formTarget",R.formTarget,R,null)):(pi(h,c,"encType",R.encType,R,null),pi(h,c,"method",R.method,R,null),pi(h,c,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){h.removeAttribute(y);break}S=vf(""+S),h.setAttribute(y,S);break;case"onClick":S!=null&&(h.onclick=f0);break;case"onScroll":S!=null&&Ve("scroll",h);break;case"onScrollEnd":S!=null&&Ve("scrollend",h);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(y=S.__html,y!=null){if(R.children!=null)throw Error(i(60));h.innerHTML=y}}break;case"multiple":h.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":h.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){h.removeAttribute("xlink:href");break}y=vf(""+S),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(y,""+S):h.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(y,""):h.removeAttribute(y);break;case"capture":case"download":S===!0?h.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(y,S):h.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?h.setAttribute(y,S):h.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?h.removeAttribute(y):h.setAttribute(y,S);break;case"popover":Ve("beforetoggle",h),Ve("toggle",h),vn(h,"popover",S);break;case"xlinkActuate":Te(h,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Te(h,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Te(h,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Te(h,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Te(h,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Te(h,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Te(h,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Te(h,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Te(h,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":vn(h,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Fk.get(y)||y,vn(h,y,S))}}function kp(h,c,y,S,R,_){switch(y){case"style":F1(h,S,_);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(y=S.__html,y!=null){if(R.children!=null)throw Error(i(60));h.innerHTML=y}}break;case"children":typeof S=="string"?ul(h,S):(typeof S=="number"||typeof S=="bigint")&&ul(h,""+S);break;case"onScroll":S!=null&&Ve("scroll",h);break;case"onScrollEnd":S!=null&&Ve("scrollend",h);break;case"onClick":S!=null&&(h.onclick=f0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hi.hasOwnProperty(y))t:{if(y[0]==="o"&&y[1]==="n"&&(R=y.endsWith("Capture"),c=y.slice(2,R?y.length-7:void 0),_=h[ie]||null,_=_!=null?_[y]:null,typeof _=="function"&&h.removeEventListener(c,_,R),typeof S=="function")){typeof _!="function"&&_!==null&&(y in h?h[y]=null:h.hasAttribute(y)&&h.removeAttribute(y)),h.addEventListener(c,S,R);break t}y in h?h[y]=S:S===!0?h.setAttribute(y,""):vn(h,y,S)}}}function qs(h,c,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",h),Ve("load",h);var S=!1,R=!1,_;for(_ in y)if(y.hasOwnProperty(_)){var G=y[_];if(G!=null)switch(_){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:pi(h,c,_,G,y,null)}}R&&pi(h,c,"srcSet",y.srcSet,y,null),S&&pi(h,c,"src",y.src,y,null);return;case"input":Ve("invalid",h);var $=_=G=R=null,Z=null,ot=null;for(S in y)if(y.hasOwnProperty(S)){var pt=y[S];if(pt!=null)switch(S){case"name":R=pt;break;case"type":G=pt;break;case"checked":Z=pt;break;case"defaultChecked":ot=pt;break;case"value":_=pt;break;case"defaultValue":$=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,c));break;default:pi(h,c,S,pt,y,null)}}w1(h,_,$,Z,ot,G,R,!1),xf(h);return;case"select":Ve("invalid",h),S=G=_=null;for(R in y)if(y.hasOwnProperty(R)&&($=y[R],$!=null))switch(R){case"value":_=$;break;case"defaultValue":G=$;break;case"multiple":S=$;default:pi(h,c,R,$,y,null)}c=_,y=G,h.multiple=!!S,c!=null?ll(h,!!S,c,!1):y!=null&&ll(h,!!S,y,!0);return;case"textarea":Ve("invalid",h),_=R=S=null;for(G in y)if(y.hasOwnProperty(G)&&($=y[G],$!=null))switch(G){case"value":S=$;break;case"defaultValue":R=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:pi(h,c,G,$,y,null)}k1(h,S,R,_),xf(h);return;case"option":for(Z in y)if(y.hasOwnProperty(Z)&&(S=y[Z],S!=null))switch(Z){case"selected":h.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:pi(h,c,Z,S,y,null)}return;case"dialog":Ve("beforetoggle",h),Ve("toggle",h),Ve("cancel",h),Ve("close",h);break;case"iframe":case"object":Ve("load",h);break;case"video":case"audio":for(S=0;S<Vc.length;S++)Ve(Vc[S],h);break;case"image":Ve("error",h),Ve("load",h);break;case"details":Ve("toggle",h);break;case"embed":case"source":case"link":Ve("error",h),Ve("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in y)if(y.hasOwnProperty(ot)&&(S=y[ot],S!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:pi(h,c,ot,S,y,null)}return;default:if(Xy(c)){for(pt in y)y.hasOwnProperty(pt)&&(S=y[pt],S!==void 0&&kp(h,c,pt,S,y,void 0));return}}for($ in y)y.hasOwnProperty($)&&(S=y[$],S!=null&&pi(h,c,$,S,y,null))}function iD(h,c,y,S){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,_=null,G=null,$=null,Z=null,ot=null,pt=null;for(ut in y){var xt=y[ut];if(y.hasOwnProperty(ut)&&xt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":Z=xt;default:S.hasOwnProperty(ut)||pi(h,c,ut,null,S,xt)}}for(var lt in S){var ut=S[lt];if(xt=y[lt],S.hasOwnProperty(lt)&&(ut!=null||xt!=null))switch(lt){case"type":_=ut;break;case"name":R=ut;break;case"checked":ot=ut;break;case"defaultChecked":pt=ut;break;case"value":G=ut;break;case"defaultValue":$=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,c));break;default:ut!==xt&&pi(h,c,lt,ut,S,xt)}}Yy(h,G,$,Z,ot,pt,_,R);return;case"select":ut=G=$=lt=null;for(_ in y)if(Z=y[_],y.hasOwnProperty(_)&&Z!=null)switch(_){case"value":break;case"multiple":ut=Z;default:S.hasOwnProperty(_)||pi(h,c,_,null,S,Z)}for(R in S)if(_=S[R],Z=y[R],S.hasOwnProperty(R)&&(_!=null||Z!=null))switch(R){case"value":lt=_;break;case"defaultValue":$=_;break;case"multiple":G=_;default:_!==Z&&pi(h,c,R,_,S,Z)}c=$,y=G,S=ut,lt!=null?ll(h,!!y,lt,!1):!!S!=!!y&&(c!=null?ll(h,!!y,c,!0):ll(h,!!y,y?[]:"",!1));return;case"textarea":ut=lt=null;for($ in y)if(R=y[$],y.hasOwnProperty($)&&R!=null&&!S.hasOwnProperty($))switch($){case"value":break;case"children":break;default:pi(h,c,$,null,S,R)}for(G in S)if(R=S[G],_=y[G],S.hasOwnProperty(G)&&(R!=null||_!=null))switch(G){case"value":lt=R;break;case"defaultValue":ut=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==_&&pi(h,c,G,R,S,_)}C1(h,lt,ut);return;case"option":for(var ne in y)if(lt=y[ne],y.hasOwnProperty(ne)&&lt!=null&&!S.hasOwnProperty(ne))switch(ne){case"selected":h.selected=!1;break;default:pi(h,c,ne,null,S,lt)}for(Z in S)if(lt=S[Z],ut=y[Z],S.hasOwnProperty(Z)&&lt!==ut&&(lt!=null||ut!=null))switch(Z){case"selected":h.selected=lt&&typeof lt!="function"&&typeof lt!="symbol";break;default:pi(h,c,Z,lt,S,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in y)lt=y[Zt],y.hasOwnProperty(Zt)&&lt!=null&&!S.hasOwnProperty(Zt)&&pi(h,c,Zt,null,S,lt);for(ot in S)if(lt=S[ot],ut=y[ot],S.hasOwnProperty(ot)&&lt!==ut&&(lt!=null||ut!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,c));break;default:pi(h,c,ot,lt,S,ut)}return;default:if(Xy(c)){for(var Si in y)lt=y[Si],y.hasOwnProperty(Si)&&lt!==void 0&&!S.hasOwnProperty(Si)&&kp(h,c,Si,void 0,S,lt);for(pt in S)lt=S[pt],ut=y[pt],!S.hasOwnProperty(pt)||lt===ut||lt===void 0&&ut===void 0||kp(h,c,pt,lt,S,ut);return}}for(var et in y)lt=y[et],y.hasOwnProperty(et)&&lt!=null&&!S.hasOwnProperty(et)&&pi(h,c,et,null,S,lt);for(xt in S)lt=S[xt],ut=y[xt],!S.hasOwnProperty(xt)||lt===ut||lt==null&&ut==null||pi(h,c,xt,lt,S,ut)}var Dp=null,Fp=null;function g0(h){return h.nodeType===9?h:h.ownerDocument}function D2(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F2(h,c){if(h===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&c==="foreignObject"?0:h}function _p(h,c){return h==="textarea"||h==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Vp=null;function sD(){var h=window.event;return h&&h.type==="popstate"?h===Vp?!1:(Vp=h,!0):(Vp=null,!1)}var _2=typeof setTimeout=="function"?setTimeout:void 0,rD=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,nD=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(h){return V2.resolve(null).then(h).catch(aD)}:_2;function aD(h){setTimeout(function(){throw h})}function Lo(h){return h==="head"}function z2(h,c){var y=c,S=0,R=0;do{var _=y.nextSibling;if(h.removeChild(y),_&&_.nodeType===8)if(y=_.data,y==="/$"){if(0<S&&8>S){y=S;var G=h.ownerDocument;if(y&1&&Nc(G.documentElement),y&2&&Nc(G.body),y&4)for(y=G.head,Nc(y),G=y.firstChild;G;){var $=G.nextSibling,Z=G.nodeName;G[Be]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&G.rel.toLowerCase()==="stylesheet"||y.removeChild(G),G=$}}if(R===0){h.removeChild(_),Yc(c);return}R--}else y==="$"||y==="$?"||y==="$!"?R++:S=y.charCodeAt(0)-48;else S=0;y=_}while(y);Yc(c)}function zp(h){var c=h.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var y=c;switch(c=c.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":zp(y),Zi(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}h.removeChild(y)}}function oD(h,c,y,S){for(;h.nodeType===1;){var R=y;if(h.nodeName.toLowerCase()!==c.toLowerCase()){if(!S&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(S){if(!h[Be])switch(c){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(_=h.getAttribute("rel"),_==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(_!==R.rel||h.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||h.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||h.getAttribute("title")!==(R.title==null?null:R.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(_=h.getAttribute("src"),(_!==(R.src==null?null:R.src)||h.getAttribute("type")!==(R.type==null?null:R.type)||h.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&_&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(c==="input"&&h.type==="hidden"){var _=R.name==null?null:""+R.name;if(R.type==="hidden"&&h.getAttribute("name")===_)return h}else return h;if(h=$n(h.nextSibling),h===null)break}return null}function hD(h,c,y){if(c==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!y||(h=$n(h.nextSibling),h===null))return null;return h}function Np(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function lD(h,c){var y=h.ownerDocument;if(h.data!=="$?"||y.readyState==="complete")c();else{var S=function(){c(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),h._reactRetry=S}}function $n(h){for(;h!=null;h=h.nextSibling){var c=h.nodeType;if(c===1||c===3)break;if(c===8){if(c=h.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return h}var Bp=null;function N2(h){h=h.previousSibling;for(var c=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(c===0)return h;c--}else y==="/$"&&c++}h=h.previousSibling}return null}function B2(h,c,y){switch(c=g0(y),h){case"html":if(h=c.documentElement,!h)throw Error(i(452));return h;case"head":if(h=c.head,!h)throw Error(i(453));return h;case"body":if(h=c.body,!h)throw Error(i(454));return h;default:throw Error(i(451))}}function Nc(h){for(var c=h.attributes;c.length;)h.removeAttributeNode(c[0]);Zi(h)}var Fn=new Map,P2=new Set;function y0(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Za=U.d;U.d={f:uD,r:cD,D:dD,C:fD,L:gD,m:yD,X:pD,S:mD,M:SD};function uD(){var h=Za.f(),c=a0();return h||c}function cD(h){var c=ps(h);c!==null&&c.tag===5&&c.type==="form"?sb(c):Za.r(h)}var Il=typeof document>"u"?null:document;function L2(h,c,y){var S=Il;if(S&&typeof c=="string"&&c){var R=Rn(c);R='link[rel="'+h+'"][href="'+R+'"]',typeof y=="string"&&(R+='[crossorigin="'+y+'"]'),P2.has(R)||(P2.add(R),h={rel:h,crossOrigin:y,href:c},S.querySelector(R)===null&&(c=S.createElement("link"),qs(c,"link",h),$t(c),S.head.appendChild(c)))}}function dD(h){Za.D(h),L2("dns-prefetch",h,null)}function fD(h,c){Za.C(h,c),L2("preconnect",h,c)}function gD(h,c,y){Za.L(h,c,y);var S=Il;if(S&&h&&c){var R='link[rel="preload"][as="'+Rn(c)+'"]';c==="image"&&y&&y.imageSrcSet?(R+='[imagesrcset="'+Rn(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(R+='[imagesizes="'+Rn(y.imageSizes)+'"]')):R+='[href="'+Rn(h)+'"]';var _=R;switch(c){case"style":_=Ul(h);break;case"script":_=Ol(h)}Fn.has(_)||(h=d({rel:"preload",href:c==="image"&&y&&y.imageSrcSet?void 0:h,as:c},y),Fn.set(_,h),S.querySelector(R)!==null||c==="style"&&S.querySelector(Bc(_))||c==="script"&&S.querySelector(Pc(_))||(c=S.createElement("link"),qs(c,"link",h),$t(c),S.head.appendChild(c)))}}function yD(h,c){Za.m(h,c);var y=Il;if(y&&h){var S=c&&typeof c.as=="string"?c.as:"script",R='link[rel="modulepreload"][as="'+Rn(S)+'"][href="'+Rn(h)+'"]',_=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ol(h)}if(!Fn.has(_)&&(h=d({rel:"modulepreload",href:h},c),Fn.set(_,h),y.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Pc(_)))return}S=y.createElement("link"),qs(S,"link",h),$t(S),y.head.appendChild(S)}}}function mD(h,c,y){Za.S(h,c,y);var S=Il;if(S&&h){var R=Mt(S).hoistableStyles,_=Ul(h);c=c||"default";var G=R.get(_);if(!G){var $={loading:0,preload:null};if(G=S.querySelector(Bc(_)))$.loading=5;else{h=d({rel:"stylesheet",href:h,"data-precedence":c},y),(y=Fn.get(_))&&Pp(h,y);var Z=G=S.createElement("link");$t(Z),qs(Z,"link",h),Z._p=new Promise(function(ot,pt){Z.onload=ot,Z.onerror=pt}),Z.addEventListener("load",function(){$.loading|=1}),Z.addEventListener("error",function(){$.loading|=2}),$.loading|=4,m0(G,c,S)}G={type:"stylesheet",instance:G,count:1,state:$},R.set(_,G)}}}function pD(h,c){Za.X(h,c);var y=Il;if(y&&h){var S=Mt(y).hoistableScripts,R=Ol(h),_=S.get(R);_||(_=y.querySelector(Pc(R)),_||(h=d({src:h,async:!0},c),(c=Fn.get(R))&&Lp(h,c),_=y.createElement("script"),$t(_),qs(_,"link",h),y.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},S.set(R,_))}}function SD(h,c){Za.M(h,c);var y=Il;if(y&&h){var S=Mt(y).hoistableScripts,R=Ol(h),_=S.get(R);_||(_=y.querySelector(Pc(R)),_||(h=d({src:h,async:!0,type:"module"},c),(c=Fn.get(R))&&Lp(h,c),_=y.createElement("script"),$t(_),qs(_,"link",h),y.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},S.set(R,_))}}function I2(h,c,y,S){var R=(R=nt.current)?y0(R):null;if(!R)throw Error(i(446));switch(h){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(c=Ul(y.href),y=Mt(R).hoistableStyles,S=y.get(c),S||(S={type:"style",instance:null,count:0,state:null},y.set(c,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){h=Ul(y.href);var _=Mt(R).hoistableStyles,G=_.get(h);if(G||(R=R.ownerDocument||R,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(h,G),(_=R.querySelector(Bc(h)))&&!_._p&&(G.instance=_,G.state.loading=5),Fn.has(h)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Fn.set(h,y),_||xD(R,h,y,G.state))),c&&S===null)throw Error(i(528,""));return G}if(c&&S!==null)throw Error(i(529,""));return null;case"script":return c=y.async,y=y.src,typeof y=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ol(y),y=Mt(R).hoistableScripts,S=y.get(c),S||(S={type:"script",instance:null,count:0,state:null},y.set(c,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,h))}}function Ul(h){return'href="'+Rn(h)+'"'}function Bc(h){return'link[rel="stylesheet"]['+h+"]"}function U2(h){return d({},h,{"data-precedence":h.precedence,precedence:null})}function xD(h,c,y,S){h.querySelector('link[rel="preload"][as="style"]['+c+"]")?S.loading=1:(c=h.createElement("link"),S.preload=c,c.addEventListener("load",function(){return S.loading|=1}),c.addEventListener("error",function(){return S.loading|=2}),qs(c,"link",y),$t(c),h.head.appendChild(c))}function Ol(h){return'[src="'+Rn(h)+'"]'}function Pc(h){return"script[async]"+h}function O2(h,c,y){if(c.count++,c.instance===null)switch(c.type){case"style":var S=h.querySelector('style[data-href~="'+Rn(y.href)+'"]');if(S)return c.instance=S,$t(S),S;var R=d({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(h.ownerDocument||h).createElement("style"),$t(S),qs(S,"style",R),m0(S,y.precedence,h),c.instance=S;case"stylesheet":R=Ul(y.href);var _=h.querySelector(Bc(R));if(_)return c.state.loading|=4,c.instance=_,$t(_),_;S=U2(y),(R=Fn.get(R))&&Pp(S,R),_=(h.ownerDocument||h).createElement("link"),$t(_);var G=_;return G._p=new Promise(function($,Z){G.onload=$,G.onerror=Z}),qs(_,"link",S),c.state.loading|=4,m0(_,y.precedence,h),c.instance=_;case"script":return _=Ol(y.src),(R=h.querySelector(Pc(_)))?(c.instance=R,$t(R),R):(S=y,(R=Fn.get(_))&&(S=d({},y),Lp(S,R)),h=h.ownerDocument||h,R=h.createElement("script"),$t(R),qs(R,"link",S),h.head.appendChild(R),c.instance=R);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(S=c.instance,c.state.loading|=4,m0(S,y.precedence,h));return c.instance}function m0(h,c,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,_=R,G=0;G<S.length;G++){var $=S[G];if($.dataset.precedence===c)_=$;else if(_!==R)break}_?_.parentNode.insertBefore(h,_.nextSibling):(c=y.nodeType===9?y.head:y,c.insertBefore(h,c.firstChild))}function Pp(h,c){h.crossOrigin==null&&(h.crossOrigin=c.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=c.referrerPolicy),h.title==null&&(h.title=c.title)}function Lp(h,c){h.crossOrigin==null&&(h.crossOrigin=c.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=c.referrerPolicy),h.integrity==null&&(h.integrity=c.integrity)}var p0=null;function G2(h,c,y){if(p0===null){var S=new Map,R=p0=new Map;R.set(y,S)}else R=p0,S=R.get(y),S||(S=new Map,R.set(y,S));if(S.has(h))return S;for(S.set(h,null),y=y.getElementsByTagName(h),R=0;R<y.length;R++){var _=y[R];if(!(_[Be]||_[Ot]||h==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var G=_.getAttribute(c)||"";G=h+G;var $=S.get(G);$?$.push(_):S.set(G,[_])}}return S}function Y2(h,c,y){h=h.ownerDocument||h,h.head.insertBefore(y,c==="title"?h.querySelector("head > title"):null)}function AD(h,c,y){if(y===1||c.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return h=c.disabled,typeof c.precedence=="string"&&h==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function H2(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Lc=null;function vD(){}function bD(h,c,y){if(Lc===null)throw Error(i(475));var S=Lc;if(c.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var R=Ul(y.href),_=h.querySelector(Bc(R));if(_){h=_._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(S.count++,S=S0.bind(S),h.then(S,S)),c.state.loading|=4,c.instance=_,$t(_);return}_=h.ownerDocument||h,y=U2(y),(R=Fn.get(R))&&Pp(y,R),_=_.createElement("link"),$t(_);var G=_;G._p=new Promise(function($,Z){G.onload=$,G.onerror=Z}),qs(_,"link",y),c.instance=_}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(c,h),(h=c.state.preload)&&(c.state.loading&3)===0&&(S.count++,c=S0.bind(S),h.addEventListener("load",c),h.addEventListener("error",c))}}function MD(){if(Lc===null)throw Error(i(475));var h=Lc;return h.stylesheets&&h.count===0&&Ip(h,h.stylesheets),0<h.count?function(c){var y=setTimeout(function(){if(h.stylesheets&&Ip(h,h.stylesheets),h.unsuspend){var S=h.unsuspend;h.unsuspend=null,S()}},6e4);return h.unsuspend=c,function(){h.unsuspend=null,clearTimeout(y)}}:null}function S0(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var x0=null;function Ip(h,c){h.stylesheets=null,h.unsuspend!==null&&(h.count++,x0=new Map,c.forEach(RD,h),x0=null,S0.call(h))}function RD(h,c){if(!(c.state.loading&4)){var y=x0.get(h);if(y)var S=y.get(null);else{y=new Map,x0.set(h,y);for(var R=h.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<R.length;_++){var G=R[_];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(y.set(G.dataset.precedence,G),S=G)}S&&y.set(null,S)}R=c.instance,G=R.getAttribute("data-precedence"),_=y.get(G)||S,_===S&&y.set(null,R),y.set(G,R),this.count++,S=S0.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),_?_.parentNode.insertBefore(R,_.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(R,h.firstChild)),c.state.loading|=4}}var Ic={$$typeof:T,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function ED(h,c,y,S,R,_,G,$){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ue(0),this.hiddenUpdates=ue(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=_,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function X2(h,c,y,S,R,_,G,$,Z,ot,pt,xt){return h=new ED(h,c,y,G,$,Z,ot,xt),c=1,_===!0&&(c|=24),_=en(3,null,null,c),h.current=_,_.stateNode=h,c=Am(),c.refCount++,h.pooledCache=c,c.refCount++,_.memoizedState={element:S,isDehydrated:y,cache:c},Rm(_),h}function W2(h){return h?(h=Sl,h):Sl}function $2(h,c,y,S,R,_){R=W2(R),S.context===null?S.context=R:S.pendingContext=R,S=Eo(c),S.payload={element:y},_=_===void 0?null:_,_!==null&&(S.callback=_),y=To(h,S,c),y!==null&&(on(y,h,c),yc(y,h,c))}function j2(h,c){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<c?y:c}}function Up(h,c){j2(h,c),(h=h.alternate)&&j2(h,c)}function q2(h){if(h.tag===13){var c=pl(h,67108864);c!==null&&on(c,h,67108864),Up(h,67108864)}}var A0=!0;function TD(h,c,y,S){var R=B.T;B.T=null;var _=U.p;try{U.p=2,Op(h,c,y,S)}finally{U.p=_,B.T=R}}function wD(h,c,y,S){var R=B.T;B.T=null;var _=U.p;try{U.p=8,Op(h,c,y,S)}finally{U.p=_,B.T=R}}function Op(h,c,y,S){if(A0){var R=Gp(S);if(R===null)Cp(h,c,S,v0,y),Z2(h,S);else if(kD(R,h,c,y,S))S.stopPropagation();else if(Z2(h,S),c&4&&-1<CD.indexOf(h)){for(;R!==null;){var _=ps(R);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var G=Yt(_.pendingLanes);if(G!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;G;){var Z=1<<31-Mi(G);$.entanglements[1]|=Z,G&=~Z}la(_),(di&6)===0&&(r0=bi()+500,_c(0))}}break;case 13:$=pl(_,2),$!==null&&on($,_,2),a0(),Up(_,2)}if(_=Gp(S),_===null&&Cp(h,c,S,v0,y),_===R)break;R=_}R!==null&&S.stopPropagation()}else Cp(h,c,S,null,y)}}function Gp(h){return h=$y(h),Yp(h)}var v0=null;function Yp(h){if(v0=null,h=Yi(h),h!==null){var c=n(h);if(c===null)h=null;else{var y=c.tag;if(y===13){if(h=a(c),h!==null)return h;h=null}else if(y===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;h=null}else c!==h&&(h=null)}}return v0=h,null}function J2(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case pe:return 2;case gr:return 8;case Ge:case zt:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var Hp=!1,Io=null,Uo=null,Oo=null,Uc=new Map,Oc=new Map,Go=[],CD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z2(h,c){switch(h){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Uc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(c.pointerId)}}function Gc(h,c,y,S,R,_){return h===null||h.nativeEvent!==_?(h={blockedOn:c,domEventName:y,eventSystemFlags:S,nativeEvent:_,targetContainers:[R]},c!==null&&(c=ps(c),c!==null&&q2(c)),h):(h.eventSystemFlags|=S,c=h.targetContainers,R!==null&&c.indexOf(R)===-1&&c.push(R),h)}function kD(h,c,y,S,R){switch(c){case"focusin":return Io=Gc(Io,h,c,y,S,R),!0;case"dragenter":return Uo=Gc(Uo,h,c,y,S,R),!0;case"mouseover":return Oo=Gc(Oo,h,c,y,S,R),!0;case"pointerover":var _=R.pointerId;return Uc.set(_,Gc(Uc.get(_)||null,h,c,y,S,R)),!0;case"gotpointercapture":return _=R.pointerId,Oc.set(_,Gc(Oc.get(_)||null,h,c,y,S,R)),!0}return!1}function Q2(h){var c=Yi(h.target);if(c!==null){var y=n(c);if(y!==null){if(c=y.tag,c===13){if(c=a(y),c!==null){h.blockedOn=c,li(h.priority,function(){if(y.tag===13){var S=an();S=Fe(S);var R=pl(y,S);R!==null&&on(R,y,S),Up(y,S)}});return}}else if(c===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function b0(h){if(h.blockedOn!==null)return!1;for(var c=h.targetContainers;0<c.length;){var y=Gp(h.nativeEvent);if(y===null){y=h.nativeEvent;var S=new y.constructor(y.type,y);Wy=S,y.target.dispatchEvent(S),Wy=null}else return c=ps(y),c!==null&&q2(c),h.blockedOn=y,!1;c.shift()}return!0}function K2(h,c,y){b0(h)&&y.delete(c)}function DD(){Hp=!1,Io!==null&&b0(Io)&&(Io=null),Uo!==null&&b0(Uo)&&(Uo=null),Oo!==null&&b0(Oo)&&(Oo=null),Uc.forEach(K2),Oc.forEach(K2)}function M0(h,c){h.blockedOn===c&&(h.blockedOn=null,Hp||(Hp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,DD)))}var R0=null;function tM(h){R0!==h&&(R0=h,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){R0===h&&(R0=null);for(var c=0;c<h.length;c+=3){var y=h[c],S=h[c+1],R=h[c+2];if(typeof S!="function"){if(Yp(S||y)===null)continue;break}var _=ps(y);_!==null&&(h.splice(c,3),c-=3,Ym(_,{pending:!0,data:R,method:y.method,action:S},S,R))}}))}function Yc(h){function c(Z){return M0(Z,h)}Io!==null&&M0(Io,h),Uo!==null&&M0(Uo,h),Oo!==null&&M0(Oo,h),Uc.forEach(c),Oc.forEach(c);for(var y=0;y<Go.length;y++){var S=Go[y];S.blockedOn===h&&(S.blockedOn=null)}for(;0<Go.length&&(y=Go[0],y.blockedOn===null);)Q2(y),y.blockedOn===null&&Go.shift();if(y=(h.ownerDocument||h).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var R=y[S],_=y[S+1],G=R[ie]||null;if(typeof _=="function")G||tM(y);else if(G){var $=null;if(_&&_.hasAttribute("formAction")){if(R=_,G=_[ie]||null)$=G.formAction;else if(Yp(R)!==null)continue}else $=G.action;typeof $=="function"?y[S+1]=$:(y.splice(S,3),S-=3),tM(y)}}}function Xp(h){this._internalRoot=h}E0.prototype.render=Xp.prototype.render=function(h){var c=this._internalRoot;if(c===null)throw Error(i(409));var y=c.current,S=an();$2(y,S,h,c,null,null)},E0.prototype.unmount=Xp.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var c=h.containerInfo;$2(h.current,2,null,h,null,null),a0(),c[Xs]=null}};function E0(h){this._internalRoot=h}E0.prototype.unstable_scheduleHydration=function(h){if(h){var c=Ri();h={blockedOn:null,target:h,priority:c};for(var y=0;y<Go.length&&c!==0&&c<Go[y].priority;y++);Go.splice(y,0,h),y===0&&Q2(h)}};var eM=t.version;if(eM!=="19.1.0")throw Error(i(527,eM,"19.1.0"));U.findDOMNode=function(h){var c=h._reactInternals;if(c===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=l(c),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var FD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T0.isDisabled&&T0.supportsFiber)try{Di=T0.inject(FD),Se=T0}catch{}}return Wc.createRoot=function(h,c){if(!r(h))throw Error(i(299));var y=!1,S="",R=pb,_=Sb,G=xb,$=null;return c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(R=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&($=c.unstable_transitionCallbacks)),c=X2(h,1,!1,null,null,y,S,R,_,G,$,null),h[Xs]=c.current,wp(h),new Xp(c)},Wc.hydrateRoot=function(h,c,y){if(!r(h))throw Error(i(299));var S=!1,R="",_=pb,G=Sb,$=xb,Z=null,ot=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onUncaughtError!==void 0&&(_=y.onUncaughtError),y.onCaughtError!==void 0&&(G=y.onCaughtError),y.onRecoverableError!==void 0&&($=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(Z=y.unstable_transitionCallbacks),y.formState!==void 0&&(ot=y.formState)),c=X2(h,1,!0,c,y??null,S,R,_,G,$,Z,ot),c.context=W2(null),y=c.current,S=an(),S=Fe(S),R=Eo(S),R.callback=null,To(y,R,S),y=S,c.current.lanes=y,ye(c,y),la(c),h[Xs]=c.current,wp(h),new E0(c)},Wc.version="19.1.0",Wc}var dM;function HD(){if(dM)return jp.exports;dM=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jp.exports=YD(),jp.exports}var XD=HD(),$c={},fM;function WD(){if(fM)return $c;fM=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.parse=a,$c.serialize=u;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,n=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,m){const p=new n,x=g.length;if(x<2)return p;const v=(m==null?void 0:m.decode)||d;let A=0;do{const E=g.indexOf("=",A);if(E===-1)break;const T=g.indexOf(";",A),F=T===-1?x:T;if(E>F){A=g.lastIndexOf(";",E-1)+1;continue}const D=o(g,A,E),N=l(g,E,D),V=g.slice(D,N);if(p[V]===void 0){let P=o(g,E+1,F),b=l(g,F,P);const M=v(g.slice(P,b));p[V]=M}A=F+1}while(A<x);return p}function o(g,m,p){do{const x=g.charCodeAt(m);if(x!==32&&x!==9)return m}while(++m<p);return p}function l(g,m,p){for(;m>p;){const x=g.charCodeAt(--m);if(x!==32&&x!==9)return m+1}return p}function u(g,m,p){const x=(p==null?void 0:p.encode)||encodeURIComponent;if(!s.test(g))throw new TypeError(`argument name is invalid: ${g}`);const v=x(m);if(!t.test(v))throw new TypeError(`argument val is invalid: ${m}`);let A=g+"="+v;if(!p)return A;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);A+="; Max-Age="+p.maxAge}if(p.domain){if(!e.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);A+="; Domain="+p.domain}if(p.path){if(!i.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);A+="; Path="+p.path}if(p.expires){if(!f(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);A+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(A+="; HttpOnly"),p.secure&&(A+="; Secure"),p.partitioned&&(A+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return A}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function f(g){return r.call(g)==="[object Date]"}return $c}WD();var gM="popstate";function $D(s={}){function t(i,r){let{pathname:n,search:a,hash:o}=i.location;return OS("",{pathname:n,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:xd(r)}return qD(t,e,null,s)}function ji(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ta(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jD(){return Math.random().toString(36).substring(2,10)}function yM(s,t){return{usr:s.state,key:s.key,idx:t}}function OS(s,t,e=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Cu(t):t,state:e,key:t&&t.key||i||jD()}}function xd({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function Cu(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function qD(s,t,e,i={}){let{window:r=document.defaultView,v5Compat:n=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let v=d(),A=v==null?null:v-u;u=v,l&&l({action:o,location:x.location,delta:A})}function g(v,A){o="PUSH";let E=OS(x.location,v,A);u=d()+1;let T=yM(E,u),F=x.createHref(E);try{a.pushState(T,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(F)}n&&l&&l({action:o,location:x.location,delta:1})}function m(v,A){o="REPLACE";let E=OS(x.location,v,A);u=d();let T=yM(E,u),F=x.createHref(E);a.replaceState(T,"",F),n&&l&&l({action:o,location:x.location,delta:0})}function p(v){return JD(v)}let x={get action(){return o},get location(){return s(r,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(gM,f),l=v,()=>{r.removeEventListener(gM,f),l=null}},createHref(v){return t(r,v)},createURL:p,encodeLocation(v){let A=p(v);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:m,go(v){return a.go(v)}};return x}function JD(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ji(e,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:xd(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function TT(s,t,e="/"){return ZD(s,t,e,!1)}function ZD(s,t,e,i){let r=typeof t=="string"?Cu(t):t,n=lo(r.pathname||"/",e);if(n==null)return null;let a=wT(s);QD(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=lF(n);o=oF(a[l],u,i)}return o}function wT(s,t=[],e=[],i=""){let r=(n,a,o)=>{let l={relativePath:o===void 0?n.path||"":o,caseSensitive:n.caseSensitive===!0,childrenIndex:a,route:n};l.relativePath.startsWith("/")&&(ji(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=ao([i,l.relativePath]),d=e.concat(l);n.children&&n.children.length>0&&(ji(n.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),wT(n.children,t,d,u)),!(n.path==null&&!n.index)&&t.push({path:u,score:nF(u,n.index),routesMeta:d})};return s.forEach((n,a)=>{var o;if(n.path===""||!((o=n.path)!=null&&o.includes("?")))r(n,a);else for(let l of CT(n.path))r(n,a,l)}),t}function CT(s){let t=s.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),n=e.replace(/\?$/,"");if(i.length===0)return r?[n,""]:[n];let a=CT(i.join("/")),o=[];return o.push(...a.map(l=>l===""?n:[n,l].join("/"))),r&&o.push(...a),o.map(l=>s.startsWith("/")&&l===""?"/":l)}function QD(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:aF(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var KD=/^:[\w-]+$/,tF=3,eF=2,iF=1,sF=10,rF=-2,mM=s=>s==="*";function nF(s,t){let e=s.split("/"),i=e.length;return e.some(mM)&&(i+=rF),t&&(i+=eF),e.filter(r=>!mM(r)).reduce((r,n)=>r+(KD.test(n)?tF:n===""?iF:sF),i)}function aF(s,t){return s.length===t.length&&s.slice(0,-1).every((i,r)=>i===t[r])?s[s.length-1]-t[t.length-1]:0}function oF(s,t,e=!1){let{routesMeta:i}=s,r={},n="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=n==="/"?t:t.slice(n.length)||"/",f=mg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f&&u&&e&&!i[i.length-1].route.index&&(f=mg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),a.push({params:r,pathname:ao([n,f.pathname]),pathnameBase:fF(ao([n,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(n=ao([n,f.pathnameBase]))}return a}function mg(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,i]=hF(s.path,s.caseSensitive,s.end),r=t.match(e);if(!r)return null;let n=r[0],a=n.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:f},g)=>{if(d==="*"){let p=o[g]||"";a=n.slice(0,n.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[g];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:n,pathnameBase:a,pattern:s}}function hF(s,t=!1,e=!0){Ta(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function lF(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ta(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function lo(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=s.charAt(e);return i&&i!=="/"?null:s.slice(e)||"/"}function uF(s,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof s=="string"?Cu(s):s;return{pathname:e?e.startsWith("/")?e:cF(e,t):t,search:gF(i),hash:yF(r)}}function cF(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Qp(s,t,e,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dF(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function kT(s){let t=dF(s);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function DT(s,t,e,i=!1){let r;typeof s=="string"?r=Cu(s):(r={...s},ji(!r.pathname||!r.pathname.includes("?"),Qp("?","pathname","search",r)),ji(!r.pathname||!r.pathname.includes("#"),Qp("#","pathname","hash",r)),ji(!r.search||!r.search.includes("#"),Qp("#","search","hash",r)));let n=s===""||r.pathname==="",a=n?"/":r.pathname,o;if(a==null)o=e;else{let f=t.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;r.pathname=g.join("/")}o=f>=0?t[f]:"/"}let l=uF(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(n||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var ao=s=>s.join("/").replace(/\/\/+/g,"/"),fF=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),gF=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,yF=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function mF(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var pF=["GET",...FT];new Set(pF);var ku=tt.createContext(null);ku.displayName="DataRouter";var qg=tt.createContext(null);qg.displayName="DataRouterState";var _T=tt.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var SF=tt.createContext(new Map);SF.displayName="Fetchers";var xF=tt.createContext(null);xF.displayName="Await";var Va=tt.createContext(null);Va.displayName="Navigation";var Ld=tt.createContext(null);Ld.displayName="Location";var po=tt.createContext({outlet:null,matches:[],isDataRoute:!1});po.displayName="Route";var Ix=tt.createContext(null);Ix.displayName="RouteError";function AF(s,{relative:t}={}){ji(Id(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=tt.useContext(Va),{hash:r,pathname:n,search:a}=Ud(s,{relative:t}),o=n;return e!=="/"&&(o=n==="/"?e:ao([e,n])),i.createHref({pathname:o,search:a,hash:r})}function Id(){return tt.useContext(Ld)!=null}function tl(){return ji(Id(),"useLocation() may be used only in the context of a <Router> component."),tt.useContext(Ld).location}var VT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(s){tt.useContext(Va).static||tt.useLayoutEffect(s)}function vF(){let{isDataRoute:s}=tt.useContext(po);return s?zF():bF()}function bF(){ji(Id(),"useNavigate() may be used only in the context of a <Router> component.");let s=tt.useContext(ku),{basename:t,navigator:e}=tt.useContext(Va),{matches:i}=tt.useContext(po),{pathname:r}=tl(),n=JSON.stringify(kT(i)),a=tt.useRef(!1);return zT(()=>{a.current=!0}),tt.useCallback((l,u={})=>{if(Ta(a.current,VT),!a.current)return;if(typeof l=="number"){e.go(l);return}let d=DT(l,JSON.parse(n),r,u.relative==="path");s==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ao([t,d.pathname])),(u.replace?e.replace:e.push)(d,u.state,u)},[t,e,n,r,s])}tt.createContext(null);function Ud(s,{relative:t}={}){let{matches:e}=tt.useContext(po),{pathname:i}=tl(),r=JSON.stringify(kT(e));return tt.useMemo(()=>DT(s,JSON.parse(r),i,t==="path"),[s,r,i,t])}function MF(s,t){return NT(s,t)}function NT(s,t,e,i){var A;ji(Id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=tt.useContext(Va),{matches:n}=tt.useContext(po),a=n[n.length-1],o=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let E=d&&d.path||"";BT(l,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=tl(),g;if(t){let E=typeof t=="string"?Cu(t):t;ji(u==="/"||((A=E.pathname)==null?void 0:A.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=f;let m=g.pathname||"/",p=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=TT(s,{pathname:p});Ta(d||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ta(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=CF(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:ao([u,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ao([u,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),n,e,i);return t&&v?tt.createElement(Ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},v):v}function RF(){let s=VF(),t=mF(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},n={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",s),a=tt.createElement(tt.Fragment,null,tt.createElement("p",null," Hey developer "),tt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",tt.createElement("code",{style:n},"ErrorBoundary")," or"," ",tt.createElement("code",{style:n},"errorElement")," prop on your route.")),tt.createElement(tt.Fragment,null,tt.createElement("h2",null,"Unexpected Application Error!"),tt.createElement("h3",{style:{fontStyle:"italic"}},t),e?tt.createElement("pre",{style:r},e):null,a)}var EF=tt.createElement(RF,null),TF=class extends tt.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?tt.createElement(po.Provider,{value:this.props.routeContext},tt.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wF({routeContext:s,match:t,children:e}){let i=tt.useContext(ku);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),tt.createElement(po.Provider,{value:s},e)}function CF(s,t=[],e=null,i=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let r=s,n=e==null?void 0:e.errors;if(n!=null){let l=r.findIndex(u=>u.route.id&&(n==null?void 0:n[u.route.id])!==void 0);ji(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let a=!1,o=-1;if(e)for(let l=0;l<r.length;l++){let u=r[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:d,errors:f}=e,g=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){a=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((l,u,d)=>{let f,g=!1,m=null,p=null;e&&(f=n&&u.route.id?n[u.route.id]:void 0,m=u.route.errorElement||EF,a&&(o<0&&d===0?(BT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):o===d&&(g=!0,p=u.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,d+1)),v=()=>{let A;return f?A=m:g?A=p:u.route.Component?A=tt.createElement(u.route.Component,null):u.route.element?A=u.route.element:A=l,tt.createElement(wF,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:e!=null},children:A})};return e&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?tt.createElement(TF,{location:e.location,revalidation:e.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}function Ux(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kF(s){let t=tt.useContext(ku);return ji(t,Ux(s)),t}function DF(s){let t=tt.useContext(qg);return ji(t,Ux(s)),t}function FF(s){let t=tt.useContext(po);return ji(t,Ux(s)),t}function Ox(s){let t=FF(s),e=t.matches[t.matches.length-1];return ji(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function _F(){return Ox("useRouteId")}function VF(){var i;let s=tt.useContext(Ix),t=DF("useRouteError"),e=Ox("useRouteError");return s!==void 0?s:(i=t.errors)==null?void 0:i[e]}function zF(){let{router:s}=kF("useNavigate"),t=Ox("useNavigate"),e=tt.useRef(!1);return zT(()=>{e.current=!0}),tt.useCallback(async(r,n={})=>{Ta(e.current,VT),e.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:t,...n}))},[s,t])}var pM={};function BT(s,t,e){!t&&!pM[s]&&(pM[s]=!0,Ta(!1,e))}tt.memo(NF);function NF({routes:s,future:t,state:e}){return NT(s,void 0,e,t)}function PT(s){ji(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BF({basename:s="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:n=!1}){ji(!Id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=s.replace(/^\/*/,"/"),o=tt.useMemo(()=>({basename:a,navigator:r,static:n,future:{}}),[a,r,n]);typeof e=="string"&&(e=Cu(e));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:g="default"}=e,m=tt.useMemo(()=>{let p=lo(l,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:g},navigationType:i}},[a,l,u,d,f,g,i]);return Ta(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:tt.createElement(Va.Provider,{value:o},tt.createElement(Ld.Provider,{children:t,value:m}))}function PF({children:s,location:t}){return MF(GS(s),t)}function GS(s,t=[]){let e=[];return tt.Children.forEach(s,(i,r)=>{if(!tt.isValidElement(i))return;let n=[...t,r];if(i.type===tt.Fragment){e.push.apply(e,GS(i.props.children,n));return}ji(i.type===PT,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ji(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||n.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=GS(i.props.children,n)),e.push(a)}),e}var rg="get",ng="application/x-www-form-urlencoded";function Jg(s){return s!=null&&typeof s.tagName=="string"}function LF(s){return Jg(s)&&s.tagName.toLowerCase()==="button"}function IF(s){return Jg(s)&&s.tagName.toLowerCase()==="form"}function UF(s){return Jg(s)&&s.tagName.toLowerCase()==="input"}function OF(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function GF(s,t){return s.button===0&&(!t||t==="_self")&&!OF(s)}var w0=null;function YF(){if(w0===null)try{new FormData(document.createElement("form"),0),w0=!1}catch{w0=!0}return w0}var HF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(s){return s!=null&&!HF.has(s)?(Ta(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ng}"`),null):s}function XF(s,t){let e,i,r,n,a;if(IF(s)){let o=s.getAttribute("action");i=o?lo(o,t):null,e=s.getAttribute("method")||rg,r=Kp(s.getAttribute("enctype"))||ng,n=new FormData(s)}else if(LF(s)||UF(s)&&(s.type==="submit"||s.type==="image")){let o=s.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=s.getAttribute("formaction")||o.getAttribute("action");if(i=l?lo(l,t):null,e=s.getAttribute("formmethod")||o.getAttribute("method")||rg,r=Kp(s.getAttribute("formenctype"))||Kp(o.getAttribute("enctype"))||ng,n=new FormData(o,s),!YF()){let{name:u,type:d,value:f}=s;if(d==="image"){let g=u?`${u}.`:"";n.append(`${g}x`,"0"),n.append(`${g}y`,"0")}else u&&n.append(u,f)}}else{if(Jg(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=rg,i=null,r=ng,a=s}return n&&r==="text/plain"&&(a=n,n=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:n,body:a}}function Gx(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function WF(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $F(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function jF(s,t,e){let i=await Promise.all(s.map(async r=>{let n=t.routes[r.route.id];if(n){let a=await WF(n,e);return a.links?a.links():[]}return[]}));return QF(i.flat(1).filter($F).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function SM(s,t,e,i,r,n){let a=(l,u)=>e[u]?l.route.id!==e[u].route.id:!0,o=(l,u)=>{var d;return e[u].pathname!==l.pathname||((d=e[u].route.path)==null?void 0:d.endsWith("*"))&&e[u].params["*"]!==l.params["*"]};return n==="assets"?t.filter((l,u)=>a(l,u)||o(l,u)):n==="data"?t.filter((l,u)=>{var f;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=e[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qF(s,t,{includeHydrateFallback:e}={}){return JF(s.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let n=[r.module];return r.clientActionModule&&(n=n.concat(r.clientActionModule)),r.clientLoaderModule&&(n=n.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(n=n.concat(r.hydrateFallbackModule)),r.imports&&(n=n.concat(r.imports)),n}).flat(1))}function JF(s){return[...new Set(s)]}function ZF(s){let t={},e=Object.keys(s).sort();for(let i of e)t[i]=s[i];return t}function QF(s,t){let e=new Set;return new Set(t),s.reduce((i,r)=>{let n=JSON.stringify(ZF(r));return e.has(n)||(e.add(n),i.push({key:n,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KF=new Set([100,101,204,205]);function t4(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&lo(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LT(){let s=tt.useContext(ku);return Gx(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function e4(){let s=tt.useContext(qg);return Gx(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Yx=tt.createContext(void 0);Yx.displayName="FrameworkContext";function IT(){let s=tt.useContext(Yx);return Gx(s,"You must render this element inside a <HydratedRouter> element"),s}function i4(s,t){let e=tt.useContext(Yx),[i,r]=tt.useState(!1),[n,a]=tt.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,g=tt.useRef(null);tt.useEffect(()=>{if(s==="render"&&a(!0),s==="viewport"){let x=A=>{A.forEach(E=>{a(E.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[s]),tt.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let m=()=>{r(!0)},p=()=>{r(!1),a(!1)};return e?s!=="intent"?[n,g,{}]:[n,g,{onFocus:jc(o,m),onBlur:jc(l,p),onMouseEnter:jc(u,m),onMouseLeave:jc(d,p),onTouchStart:jc(f,m)}]:[!1,g,{}]}function jc(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function s4({page:s,...t}){let{router:e}=LT(),i=tt.useMemo(()=>TT(e.routes,s,e.basename),[e.routes,s,e.basename]);return i?tt.createElement(n4,{page:s,matches:i,...t}):null}function r4(s){let{manifest:t,routeModules:e}=IT(),[i,r]=tt.useState([]);return tt.useEffect(()=>{let n=!1;return jF(s,t,e).then(a=>{n||r(a)}),()=>{n=!0}},[s,t,e]),i}function n4({page:s,matches:t,...e}){let i=tl(),{manifest:r,routeModules:n}=IT(),{basename:a}=LT(),{loaderData:o,matches:l}=e4(),u=tt.useMemo(()=>SM(s,t,l,r,i,"data"),[s,t,l,r,i]),d=tt.useMemo(()=>SM(s,t,l,r,i,"assets"),[s,t,l,r,i]),f=tt.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let p=new Set,x=!1;if(t.forEach(A=>{var T;let E=r.routes[A.route.id];!E||!E.hasLoader||(!u.some(F=>F.route.id===A.route.id)&&A.route.id in o&&((T=n[A.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?x=!0:p.add(A.route.id))}),p.size===0)return[];let v=t4(s,a);return x&&p.size>0&&v.searchParams.set("_routes",t.filter(A=>p.has(A.route.id)).map(A=>A.route.id).join(",")),[v.pathname+v.search]},[a,o,i,r,u,t,s,n]),g=tt.useMemo(()=>qF(d,r),[d,r]),m=r4(d);return tt.createElement(tt.Fragment,null,f.map(p=>tt.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...e})),g.map(p=>tt.createElement("link",{key:p,rel:"modulepreload",href:p,...e})),m.map(({key:p,link:x})=>tt.createElement("link",{key:p,...x})))}function a4(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var UT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UT&&(window.__reactRouterVersion="7.6.2")}catch{}function o4({basename:s,children:t,window:e}){let i=tt.useRef();i.current==null&&(i.current=$D({window:e,v5Compat:!0}));let r=i.current,[n,a]=tt.useState({action:r.action,location:r.location}),o=tt.useCallback(l=>{tt.startTransition(()=>a(l))},[a]);return tt.useLayoutEffect(()=>r.listen(o),[r,o]),tt.createElement(BF,{basename:s,children:t,location:n.location,navigationType:n.action,navigator:r})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GT=tt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:n,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f,...g},m){let{basename:p}=tt.useContext(Va),x=typeof u=="string"&&OT.test(u),v,A=!1;if(typeof u=="string"&&x&&(v=u,UT))try{let b=new URL(window.location.href),M=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=lo(M.pathname,p);M.origin===b.origin&&w!=null?u=w+M.search+M.hash:A=!0}catch{Ta(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=AF(u,{relative:r}),[T,F,D]=i4(i,g),N=c4(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:f});function V(b){t&&t(b),b.defaultPrevented||N(b)}let P=tt.createElement("a",{...g,...D,href:v||E,onClick:A||n?t:V,ref:a4(m,F),target:l,"data-discover":!x&&e==="render"?"true":void 0});return T&&!x?tt.createElement(tt.Fragment,null,P,tt.createElement(s4,{page:E})):P});GT.displayName="Link";var h4=tt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:n,to:a,viewTransition:o,children:l,...u},d){let f=Ud(a,{relative:u.relative}),g=tl(),m=tt.useContext(qg),{navigator:p,basename:x}=tt.useContext(Va),v=m!=null&&m4(f)&&o===!0,A=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,E=g.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;e||(E=E.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&x&&(T=lo(T,x)||T);const F=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=E===A||!r&&E.startsWith(A)&&E.charAt(F)==="/",N=T!=null&&(T===A||!r&&T.startsWith(A)&&T.charAt(A.length)==="/"),V={isActive:D,isPending:N,isTransitioning:v},P=D?t:void 0,b;typeof i=="function"?b=i(V):b=[i,D?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M=typeof n=="function"?n(V):n;return tt.createElement(GT,{...u,"aria-current":P,className:b,ref:d,style:M,to:a,viewTransition:o},typeof l=="function"?l(V):l)});h4.displayName="NavLink";var l4=tt.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:n,method:a=rg,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...g},m)=>{let p=g4(),x=y4(o,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&OT.test(o),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let F=T.nativeEvent.submitter,D=(F==null?void 0:F.getAttribute("formmethod"))||a;p(F||T.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:n,relative:u,preventScrollReset:d,viewTransition:f})};return tt.createElement("form",{ref:m,method:v,action:x,onSubmit:i?l:E,...g,"data-discover":!A&&s==="render"?"true":void 0})});l4.displayName="Form";function u4(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(s){let t=tt.useContext(ku);return ji(t,u4(s)),t}function c4(s,{target:t,replace:e,state:i,preventScrollReset:r,relative:n,viewTransition:a}={}){let o=vF(),l=tl(),u=Ud(s,{relative:n});return tt.useCallback(d=>{if(GF(d,t)){d.preventDefault();let f=e!==void 0?e:xd(l)===xd(u);o(s,{replace:f,state:i,preventScrollReset:r,relative:n,viewTransition:a})}},[l,o,u,e,i,t,s,r,n,a])}var d4=0,f4=()=>`__${String(++d4)}__`;function g4(){let{router:s}=YT("useSubmit"),{basename:t}=tt.useContext(Va),e=_F();return tt.useCallback(async(i,r={})=>{let{action:n,method:a,encType:o,formData:l,body:u}=XF(i,t);if(r.navigate===!1){let d=r.fetcherKey||f4();await s.fetch(d,e,r.action||n,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await s.navigate(r.action||n,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,t,e])}function y4(s,{relative:t}={}){let{basename:e}=tt.useContext(Va),i=tt.useContext(po);ji(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),n={...Ud(s||".",{relative:t})},a=tl();if(s==null){n.search=a.search;let o=new URLSearchParams(n.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();n.search=d?`?${d}`:""}}return(!s||s===".")&&r.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(n.pathname=n.pathname==="/"?e:ao([e,n.pathname])),xd(n)}function m4(s,t={}){let e=tt.useContext(_T);ji(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YT("useViewTransitionState"),r=Ud(s,{relative:t.relative});if(!e.isTransitioning)return!1;let n=lo(e.currentLocation.pathname,i)||e.currentLocation.pathname,a=lo(e.nextLocation.pathname,i)||e.nextLocation.pathname;return mg(r.pathname,a)!=null||mg(r.pathname,n)!=null}[...KF];var Od="delete",Ni=5,Pn=1<<Ni,Sr=Pn-1,Le={};function YS(){return{value:!1}}function Ln(s){s&&(s.value=!0)}function Hx(){}function cu(s){return s.size===void 0&&(s.size=s.__iterate(HT)),s.size}function sh(s,t){if(typeof t!="number"){var e=t>>>0;if(""+e!==t||e===4294967295)return NaN;t=e}return t<0?cu(s)+t:t}function HT(){return!0}function Zg(s,t,e){return(s===0&&!WT(s)||e!==void 0&&s<=-e)&&(t===void 0||e!==void 0&&t>=e)}function Gd(s,t){return XT(s,t,0)}function Qg(s,t){return XT(s,t,t)}function XT(s,t,e){return s===void 0?e:WT(s)?t===1/0?t:Math.max(0,t+s)|0:t===void 0||t===s?s:Math.min(t,s)|0}function WT(s){return s<0||s===0&&1/s===-1/0}var $T="@@__IMMUTABLE_ITERABLE__@@";function Wr(s){return!!(s&&s[$T])}var jT="@@__IMMUTABLE_KEYED__@@";function Oi(s){return!!(s&&s[jT])}var qT="@@__IMMUTABLE_INDEXED__@@";function Gr(s){return!!(s&&s[qT])}function Kg(s){return Oi(s)||Gr(s)}var fs=function(t){return Wr(t)?t:xn(t)},Gn=function(s){function t(e){return Oi(e)?e:lh(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t}(fs),el=function(s){function t(e){return Gr(e)?e:ia(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t}(fs),Du=function(s){function t(e){return Wr(e)&&!Kg(e)?e:zu(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t}(fs);fs.Keyed=Gn;fs.Indexed=el;fs.Set=Du;var JT="@@__IMMUTABLE_SEQ__@@";function Xx(s){return!!(s&&s[JT])}var ZT="@@__IMMUTABLE_RECORD__@@";function Fu(s){return!!(s&&s[ZT])}function za(s){return Wr(s)||Fu(s)}var _u="@@__IMMUTABLE_ORDERED__@@";function Zn(s){return!!(s&&s[_u])}var Yd=0,ea=1,On=2,HS=typeof Symbol=="function"&&Symbol.iterator,QT="@@iterator",ty=HS||QT,ai=function(t){this.next=t};ai.prototype.toString=function(){return"[Iterator]"};ai.KEYS=Yd;ai.VALUES=ea;ai.ENTRIES=On;ai.prototype.inspect=ai.prototype.toSource=function(){return this.toString()};ai.prototype[ty]=function(){return this};function Gi(s,t,e,i){var r=s===0?t:s===1?e:[t,e];return i?i.value=r:i={value:r,done:!1},i}function $r(){return{value:void 0,done:!0}}function KT(s){return Array.isArray(s)?!0:!!ey(s)}function xM(s){return s&&typeof s.next=="function"}function XS(s){var t=ey(s);return t&&t.call(s)}function ey(s){var t=s&&(HS&&s[HS]||s[QT]);if(typeof t=="function")return t}function p4(s){var t=ey(s);return t&&t===s.entries}function S4(s){var t=ey(s);return t&&t===s.keys}var Vu=Object.prototype.hasOwnProperty;function tw(s){return Array.isArray(s)||typeof s=="string"?!0:s&&typeof s=="object"&&Number.isInteger(s.length)&&s.length>=0&&(s.length===0?Object.keys(s).length===1:s.hasOwnProperty(s.length-1))}var xn=function(s){function t(e){return e==null?$x():za(e)?e.toSeq():A4(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(i,r){var n=this._cache;if(n){for(var a=n.length,o=0;o!==a;){var l=n[r?a-++o:o++];if(i(l[1],l[0],this)===!1)break}return o}return this.__iterateUncached(i,r)},t.prototype.__iterator=function(i,r){var n=this._cache;if(n){var a=n.length,o=0;return new ai(function(){if(o===a)return $r();var l=n[r?a-++o:o++];return Gi(i,l[0],l[1])})}return this.__iteratorUncached(i,r)},t}(fs),lh=function(s){function t(e){return e==null?$x().toKeyedSeq():Wr(e)?Oi(e)?e.toSeq():e.fromEntrySeq():Fu(e)?e.toSeq():jx(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(xn),ia=function(s){function t(e){return e==null?$x():Wr(e)?Oi(e)?e.entrySeq():e.toIndexedSeq():Fu(e)?e.toSeq().entrySeq():ew(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(xn),zu=function(s){function t(e){return(Wr(e)&&!Kg(e)?e:ia(e)).toSetSeq()}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(xn);xn.isSeq=Xx;xn.Keyed=lh;xn.Set=zu;xn.Indexed=ia;xn.prototype[JT]=!0;var Yh=function(s){function t(e){this._array=e,this.size=e.length}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.get=function(i,r){return this.has(i)?this._array[sh(this,i)]:r},t.prototype.__iterate=function(i,r){for(var n=this._array,a=n.length,o=0;o!==a;){var l=r?a-++o:o++;if(i(n[l],l,this)===!1)break}return o},t.prototype.__iterator=function(i,r){var n=this._array,a=n.length,o=0;return new ai(function(){if(o===a)return $r();var l=r?a-++o:o++;return Gi(i,l,n[l])})},t}(ia),Wx=function(s){function t(e){var i=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=i,this.size=i.length}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.get=function(i,r){return r!==void 0&&!this.has(i)?r:this._object[i]},t.prototype.has=function(i){return Vu.call(this._object,i)},t.prototype.__iterate=function(i,r){for(var n=this._object,a=this._keys,o=a.length,l=0;l!==o;){var u=a[r?o-++l:l++];if(i(n[u],u,this)===!1)break}return l},t.prototype.__iterator=function(i,r){var n=this._object,a=this._keys,o=a.length,l=0;return new ai(function(){if(l===o)return $r();var u=a[r?o-++l:l++];return Gi(i,u,n[u])})},t}(lh);Wx.prototype[_u]=!0;var x4=function(s){function t(e){this._collection=e,this.size=e.length||e.size}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(i,r){if(r)return this.cacheResult().__iterate(i,r);var n=this._collection,a=XS(n),o=0;if(xM(a))for(var l;!(l=a.next()).done&&i(l.value,o++,this)!==!1;);return o},t.prototype.__iteratorUncached=function(i,r){if(r)return this.cacheResult().__iterator(i,r);var n=this._collection,a=XS(n);if(!xM(a))return new ai($r);var o=0;return new ai(function(){var l=a.next();return l.done?l:Gi(i,o++,l.value)})},t}(ia),AM;function $x(){return AM||(AM=new Yh([]))}function jx(s){var t=qx(s);if(t)return t.fromEntrySeq();if(typeof s=="object")return new Wx(s);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+s)}function ew(s){var t=qx(s);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+s)}function A4(s){var t=qx(s);if(t)return p4(s)?t.fromEntrySeq():S4(s)?t.toSetSeq():t;if(typeof s=="object")return new Wx(s);throw new TypeError("Expected Array or collection object of values, or keyed object: "+s)}function qx(s){return tw(s)?new Yh(s):KT(s)?new x4(s):void 0}var iw="@@__IMMUTABLE_MAP__@@";function Jx(s){return!!(s&&s[iw])}function sw(s){return Jx(s)&&Zn(s)}function vM(s){return!!(s&&typeof s.equals=="function"&&typeof s.hashCode=="function")}function yn(s,t){if(s===t||s!==s&&t!==t)return!0;if(!s||!t)return!1;if(typeof s.valueOf=="function"&&typeof t.valueOf=="function"){if(s=s.valueOf(),t=t.valueOf(),s===t||s!==s&&t!==t)return!0;if(!s||!t)return!1}return!!(vM(s)&&vM(t)&&s.equals(t))}var qc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t|=0,e|=0;var i=t&65535,r=e&65535;return i*r+((t>>>16)*r+i*(e>>>16)<<16>>>0)|0};function iy(s){return s>>>1&1073741824|s&3221225471}var v4=Object.prototype.valueOf;function dn(s){if(s==null)return bM(s);if(typeof s.hashCode=="function")return iy(s.hashCode(s));var t=w4(s);if(t==null)return bM(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return b4(t);case"string":return t.length>C4?M4(t):WS(t);case"object":case"function":return E4(t);case"symbol":return R4(t);default:if(typeof t.toString=="function")return WS(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function bM(s){return s===null?1108378658:1108378659}function b4(s){if(s!==s||s===1/0)return 0;var t=s|0;for(t!==s&&(t^=s*4294967295);s>4294967295;)s/=4294967295,t^=s;return iy(t)}function M4(s){var t=iS[s];return t===void 0&&(t=WS(s),eS===k4&&(eS=0,iS={}),eS++,iS[s]=t),t}function WS(s){for(var t=0,e=0;e<s.length;e++)t=31*t+s.charCodeAt(e)|0;return iy(t)}function R4(s){var t=EM[s];return t!==void 0||(t=rw(),EM[s]=t),t}function E4(s){var t;if($S&&(t=jS.get(s),t!==void 0)||(t=s[Nh],t!==void 0)||!RM&&(t=s.propertyIsEnumerable&&s.propertyIsEnumerable[Nh],t!==void 0||(t=T4(s),t!==void 0)))return t;if(t=rw(),$S)jS.set(s,t);else{if(MM!==void 0&&MM(s)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(RM)Object.defineProperty(s,Nh,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(s.propertyIsEnumerable!==void 0&&s.propertyIsEnumerable===s.constructor.prototype.propertyIsEnumerable)s.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},s.propertyIsEnumerable[Nh]=t;else if(s.nodeType!==void 0)s[Nh]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var MM=Object.isExtensible,RM=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function T4(s){if(s&&s.nodeType>0)switch(s.nodeType){case 1:return s.uniqueID;case 9:return s.documentElement&&s.documentElement.uniqueID}}function w4(s){return s.valueOf!==v4&&typeof s.valueOf=="function"?s.valueOf(s):s}function rw(){var s=++tS;return tS&1073741824&&(tS=0),s}var $S=typeof WeakMap=="function",jS;$S&&(jS=new WeakMap);var EM=Object.create(null),tS=0,Nh="__immutablehash__";typeof Symbol=="function"&&(Nh=Symbol(Nh));var C4=16,k4=255,eS=0,iS={},sy=function(s){function t(e,i){this._iter=e,this._useKeys=i,this.size=e.size}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.get=function(i,r){return this._iter.get(i,r)},t.prototype.has=function(i){return this._iter.has(i)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var i=this,r=Zx(this,!0);return this._useKeys||(r.valueSeq=function(){return i._iter.toSeq().reverse()}),r},t.prototype.map=function(i,r){var n=this,a=lw(this,i,r);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().map(i,r)}),a},t.prototype.__iterate=function(i,r){var n=this;return this._iter.__iterate(function(a,o){return i(a,o,n)},r)},t.prototype.__iterator=function(i,r){return this._iter.__iterator(i,r)},t}(lh);sy.prototype[_u]=!0;var nw=function(s){function t(e){this._iter=e,this.size=e.size}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.includes=function(i){return this._iter.includes(i)},t.prototype.__iterate=function(i,r){var n=this,a=0;return r&&cu(this),this._iter.__iterate(function(o){return i(o,r?n.size-++a:a++,n)},r)},t.prototype.__iterator=function(i,r){var n=this,a=this._iter.__iterator(ea,r),o=0;return r&&cu(this),new ai(function(){var l=a.next();return l.done?l:Gi(i,r?n.size-++o:o++,l.value,l)})},t}(ia),aw=function(s){function t(e){this._iter=e,this.size=e.size}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.has=function(i){return this._iter.includes(i)},t.prototype.__iterate=function(i,r){var n=this;return this._iter.__iterate(function(a){return i(a,a,n)},r)},t.prototype.__iterator=function(i,r){var n=this._iter.__iterator(ea,r);return new ai(function(){var a=n.next();return a.done?a:Gi(i,a.value,a.value,a)})},t}(zu),ow=function(s){function t(e){this._iter=e,this.size=e.size}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(i,r){var n=this;return this._iter.__iterate(function(a){if(a){wM(a);var o=Wr(a);return i(o?a.get(1):a[1],o?a.get(0):a[0],n)}},r)},t.prototype.__iterator=function(i,r){var n=this._iter.__iterator(ea,r);return new ai(function(){for(;;){var a=n.next();if(a.done)return a;var o=a.value;if(o){wM(o);var l=Wr(o);return Gi(i,l?o.get(0):o[0],l?o.get(1):o[1],a)}}})},t}(lh);nw.prototype.cacheResult=sy.prototype.cacheResult=aw.prototype.cacheResult=ow.prototype.cacheResult=tA;function hw(s){var t=Na(s);return t._iter=s,t.size=s.size,t.flip=function(){return s},t.reverse=function(){var e=s.reverse.apply(this);return e.flip=function(){return s.reverse()},e},t.has=function(e){return s.includes(e)},t.includes=function(e){return s.has(e)},t.cacheResult=tA,t.__iterateUncached=function(e,i){var r=this;return s.__iterate(function(n,a){return e(a,n,r)!==!1},i)},t.__iteratorUncached=function(e,i){if(e===On){var r=s.__iterator(e,i);return new ai(function(){var n=r.next();if(!n.done){var a=n.value[0];n.value[0]=n.value[1],n.value[1]=a}return n})}return s.__iterator(e===ea?Yd:ea,i)},t}function lw(s,t,e){var i=Na(s);return i.size=s.size,i.has=function(r){return s.has(r)},i.get=function(r,n){var a=s.get(r,Le);return a===Le?n:t.call(e,a,r,s)},i.__iterateUncached=function(r,n){var a=this;return s.__iterate(function(o,l,u){return r(t.call(e,o,l,u),l,a)!==!1},n)},i.__iteratorUncached=function(r,n){var a=s.__iterator(On,n);return new ai(function(){var o=a.next();if(o.done)return o;var l=o.value,u=l[0];return Gi(r,u,t.call(e,l[1],u,s),o)})},i}function Zx(s,t){var e=this,i=Na(s);return i._iter=s,i.size=s.size,i.reverse=function(){return s},s.flip&&(i.flip=function(){var r=hw(s);return r.reverse=function(){return s.flip()},r}),i.get=function(r,n){return s.get(t?r:-1-r,n)},i.has=function(r){return s.has(t?r:-1-r)},i.includes=function(r){return s.includes(r)},i.cacheResult=tA,i.__iterate=function(r,n){var a=this,o=0;return n&&cu(s),s.__iterate(function(l,u){return r(l,t?u:n?a.size-++o:o++,a)},!n)},i.__iterator=function(r,n){var a=0;n&&cu(s);var o=s.__iterator(On,!n);return new ai(function(){var l=o.next();if(l.done)return l;var u=l.value;return Gi(r,t?u[0]:n?e.size-++a:a++,u[1],l)})},i}function uw(s,t,e,i){var r=Na(s);return i&&(r.has=function(n){var a=s.get(n,Le);return a!==Le&&!!t.call(e,a,n,s)},r.get=function(n,a){var o=s.get(n,Le);return o!==Le&&t.call(e,o,n,s)?o:a}),r.__iterateUncached=function(n,a){var o=this,l=0;return s.__iterate(function(u,d,f){if(t.call(e,u,d,f))return l++,n(u,i?d:l-1,o)},a),l},r.__iteratorUncached=function(n,a){var o=s.__iterator(On,a),l=0;return new ai(function(){for(;;){var u=o.next();if(u.done)return u;var d=u.value,f=d[0],g=d[1];if(t.call(e,g,f,s))return Gi(n,i?f:l++,g,u)}})},r}function D4(s,t,e){var i=Bu().asMutable();return s.__iterate(function(r,n){i.update(t.call(e,r,n,s),0,function(a){return a+1})}),i.asImmutable()}function F4(s,t,e){var i=Oi(s),r=(Zn(s)?co():Bu()).asMutable();s.__iterate(function(a,o){r.update(t.call(e,a,o,s),function(l){return l=l||[],l.push(i?[o,a]:a),l})});var n=Kx(s);return r.map(function(a){return Ci(s,n(a))}).asImmutable()}function _4(s,t,e){var i=Oi(s),r=[[],[]];s.__iterate(function(a,o){r[t.call(e,a,o,s)?1:0].push(i?[o,a]:a)});var n=Kx(s);return r.map(function(a){return Ci(s,n(a))})}function Qx(s,t,e,i){var r=s.size;if(Zg(t,e,r))return s;if(typeof r>"u"&&(t<0||e<0))return Qx(s.toSeq().cacheResult(),t,e,i);var n=Gd(t,r),a=Qg(e,r),o=a-n,l;o===o&&(l=o<0?0:o);var u=Na(s);return u.size=l===0?l:s.size&&l||void 0,!i&&Xx(s)&&l>=0&&(u.get=function(d,f){return d=sh(this,d),d>=0&&d<l?s.get(d+n,f):f}),u.__iterateUncached=function(d,f){var g=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var m=0,p=!0,x=0;return s.__iterate(function(v,A){if(!(p&&(p=m++<n)))return x++,d(v,i?A:x-1,g)!==!1&&x!==l}),x},u.__iteratorUncached=function(d,f){if(l!==0&&f)return this.cacheResult().__iterator(d,f);if(l===0)return new ai($r);var g=s.__iterator(d,f),m=0,p=0;return new ai(function(){for(;m++<n;)g.next();if(++p>l)return $r();var x=g.next();return i||d===ea||x.done?x:d===Yd?Gi(d,p-1,void 0,x):Gi(d,p-1,x.value[1],x)})},u}function V4(s,t,e){var i=Na(s);return i.__iterateUncached=function(r,n){var a=this;if(n)return this.cacheResult().__iterate(r,n);var o=0;return s.__iterate(function(l,u,d){return t.call(e,l,u,d)&&++o&&r(l,u,a)}),o},i.__iteratorUncached=function(r,n){var a=this;if(n)return this.cacheResult().__iterator(r,n);var o=s.__iterator(On,n),l=!0;return new ai(function(){if(!l)return $r();var u=o.next();if(u.done)return u;var d=u.value,f=d[0],g=d[1];return t.call(e,g,f,a)?r===On?u:Gi(r,f,g,u):(l=!1,$r())})},i}function cw(s,t,e,i){var r=Na(s);return r.__iterateUncached=function(n,a){var o=this;if(a)return this.cacheResult().__iterate(n,a);var l=!0,u=0;return s.__iterate(function(d,f,g){if(!(l&&(l=t.call(e,d,f,g))))return u++,n(d,i?f:u-1,o)}),u},r.__iteratorUncached=function(n,a){var o=this;if(a)return this.cacheResult().__iterator(n,a);var l=s.__iterator(On,a),u=!0,d=0;return new ai(function(){var f,g,m;do{if(f=l.next(),f.done)return i||n===ea?f:n===Yd?Gi(n,d++,void 0,f):Gi(n,d++,f.value[1],f);var p=f.value;g=p[0],m=p[1],u&&(u=t.call(e,m,g,o))}while(u);return n===On?f:Gi(n,g,m,f)})},r}function z4(s,t){var e=Oi(s),i=[s].concat(t).map(function(a){return Wr(a)?e&&(a=Gn(a)):a=e?jx(a):ew(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(i.length===0)return s;if(i.length===1){var r=i[0];if(r===s||e&&Oi(r)||Gr(s)&&Gr(r))return r}var n=new Yh(i);return e?n=n.toKeyedSeq():Gr(s)||(n=n.toSetSeq()),n=n.flatten(!0),n.size=i.reduce(function(a,o){if(a!==void 0){var l=o.size;if(l!==void 0)return a+l}},0),n}function dw(s,t,e){var i=Na(s);return i.__iterateUncached=function(r,n){if(n)return this.cacheResult().__iterate(r,n);var a=0,o=!1;function l(u,d){u.__iterate(function(f,g){return(!t||d<t)&&Wr(f)?l(f,d+1):(a++,r(f,e?g:a-1,i)===!1&&(o=!0)),!o},n)}return l(s,0),a},i.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var a=s.__iterator(r,n),o=[],l=0;return new ai(function(){for(;a;){var u=a.next();if(u.done!==!1){a=o.pop();continue}var d=u.value;if(r===On&&(d=d[1]),(!t||o.length<t)&&Wr(d))o.push(a),a=d.__iterator(r,n);else return e?u:Gi(r,l++,d,u)}return $r()})},i}function N4(s,t,e){var i=Kx(s);return s.toSeq().map(function(r,n){return i(t.call(e,r,n,s))}).flatten(!0)}function B4(s,t){var e=Na(s);return e.size=s.size&&s.size*2-1,e.__iterateUncached=function(i,r){var n=this,a=0;return s.__iterate(function(o){return(!a||i(t,a++,n)!==!1)&&i(o,a++,n)!==!1},r),a},e.__iteratorUncached=function(i,r){var n=s.__iterator(ea,r),a=0,o;return new ai(function(){return(!o||a%2)&&(o=n.next(),o.done)?o:a%2?Gi(i,a++,t):Gi(i,a++,o.value,o)})},e}function du(s,t,e){t||(t=fw);var i=Oi(s),r=0,n=s.toSeq().map(function(a,o){return[o,a,r++,e?e(a,o,s):a]}).valueSeq().toArray();return n.sort(function(a,o){return t(a[3],o[3])||a[2]-o[2]}).forEach(i?function(a,o){n[o].length=2}:function(a,o){n[o]=a[1]}),i?lh(n):Gr(s)?ia(n):zu(n)}function C0(s,t,e){if(t||(t=fw),e){var i=s.toSeq().map(function(r,n){return[r,e(r,n,s)]}).reduce(function(r,n){return TM(t,r[1],n[1])?n:r});return i&&i[0]}return s.reduce(function(r,n){return TM(t,r,n)?n:r})}function TM(s,t,e){var i=s(e,t);return i===0&&e!==t&&(e==null||e!==e)||i>0}function k0(s,t,e,i){var r=Na(s),n=new Yh(e).map(function(a){return a.size});return r.size=i?n.max():n.min(),r.__iterate=function(a,o){for(var l=this.__iterator(ea,o),u,d=0;!(u=l.next()).done&&a(u.value,d++,this)!==!1;);return d},r.__iteratorUncached=function(a,o){var l=e.map(function(f){return f=fs(f),XS(o?f.reverse():f)}),u=0,d=!1;return new ai(function(){var f;return d||(f=l.map(function(g){return g.next()}),d=i?f.every(function(g){return g.done}):f.some(function(g){return g.done})),d?$r():Gi(a,u++,t.apply(null,f.map(function(g){return g.value})))})},r}function Ci(s,t){return s===t?s:Xx(s)?t:s.constructor(t)}function wM(s){if(s!==Object(s))throw new TypeError("Expected [K, V] tuple: "+s)}function Kx(s){return Oi(s)?Gn:Gr(s)?el:Du}function Na(s){return Object.create((Oi(s)?lh:Gr(s)?ia:zu).prototype)}function tA(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):xn.prototype.cacheResult.call(this)}function fw(s,t){return s===void 0&&t===void 0?0:s===void 0?1:t===void 0?-1:s>t?1:s<t?-1:0}function Sa(s,t){t=t||0;for(var e=Math.max(0,s.length-t),i=new Array(e),r=0;r<e;r++)i[r]=s[r+t];return i}function eA(s,t){if(!s)throw new Error(t)}function fn(s){eA(s!==1/0,"Cannot perform this action with an infinite size.")}function gw(s){if(tw(s)&&typeof s!="string")return s;if(Zn(s))return s.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+s)}var P4=Object.prototype.toString;function L4(s){if(!s||typeof s!="object"||P4.call(s)!=="[object Object]")return!1;var t=Object.getPrototypeOf(s);if(t===null)return!0;for(var e=t,i=Object.getPrototypeOf(t);i!==null;)e=i,i=Object.getPrototypeOf(e);return e===t}function rh(s){return typeof s=="object"&&(za(s)||Array.isArray(s)||L4(s))}function Ad(s){try{return typeof s=="string"?JSON.stringify(s):String(s)}catch{return JSON.stringify(s)}}function I4(s,t){return za(s)?s.has(t):rh(s)&&Vu.call(s,t)}function yw(s,t,e){return za(s)?s.get(t,e):I4(s,t)?typeof s.get=="function"?s.get(t):s[t]:e}function pg(s){if(Array.isArray(s))return Sa(s);var t={};for(var e in s)Vu.call(s,e)&&(t[e]=s[e]);return t}function U4(s,t){if(!rh(s))throw new TypeError("Cannot update non-data-structure value: "+s);if(za(s)){if(!s.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+s);return s.remove(t)}if(!Vu.call(s,t))return s;var e=pg(s);return Array.isArray(e)?e.splice(t,1):delete e[t],e}function O4(s,t,e){if(!rh(s))throw new TypeError("Cannot update non-data-structure value: "+s);if(za(s)){if(!s.set)throw new TypeError("Cannot update immutable value without .set() method: "+s);return s.set(t,e)}if(Vu.call(s,t)&&e===s[t])return s;var i=pg(s);return i[t]=e,i}function Nu(s,t,e,i){i||(i=e,e=void 0);var r=mw(za(s),s,gw(t),0,e,i);return r===Le?e:r}function mw(s,t,e,i,r,n){var a=t===Le;if(i===e.length){var o=a?r:t,l=n(o);return l===o?t:l}if(!a&&!rh(t))throw new TypeError("Cannot update within non-data-structure value in path ["+e.slice(0,i).map(Ad)+"]: "+t);var u=e[i],d=a?Le:yw(t,u,Le),f=mw(d===Le?s:za(d),d,e,i+1,r,n);return f===d?t:f===Le?U4(t,u):O4(a?s?Jn():{}:t,u,f)}function G4(s,t,e){return Nu(s,t,Le,function(){return e})}function iA(s,t){return G4(this,s,t)}function Y4(s,t){return Nu(s,t,function(){return Le})}function sA(s){return Y4(this,s)}function pw(s,t,e,i){return Nu(s,[t],e,i)}function rA(s,t,e){return arguments.length===1?s(this):pw(this,s,t,e)}function nA(s,t,e){return Nu(this,s,t,e)}function Sw(){for(var s=[],t=arguments.length;t--;)s[t]=arguments[t];return Aw(this,s)}function xw(s){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];if(typeof s!="function")throw new TypeError("Invalid merger function: "+s);return Aw(this,t,s)}function Aw(s,t,e){for(var i=[],r=0;r<t.length;r++){var n=Gn(t[r]);n.size!==0&&i.push(n)}return i.length===0?s:s.toSeq().size===0&&!s.__ownerID&&i.length===1?s.constructor(i[0]):s.withMutations(function(a){for(var o=e?function(u,d){pw(a,d,Le,function(f){return f===Le?u:e(f,u,d)})}:function(u,d){a.set(d,u)},l=0;l<i.length;l++)i[l].forEach(o)})}function aA(s,t,e){return oA(s,t,H4(e))}function oA(s,t,e){if(!rh(s))throw new TypeError("Cannot merge into non-data-structure value: "+s);if(za(s))return typeof e=="function"&&s.mergeWith?s.mergeWith.apply(s,[e].concat(t)):s.merge?s.merge.apply(s,t):s.concat.apply(s,t);for(var i=Array.isArray(s),r=s,n=i?el:Gn,a=i?function(l){r===s&&(r=pg(r)),r.push(l)}:function(l,u){var d=Vu.call(r,u),f=d&&e?e(r[u],l,u):l;(!d||f!==r[u])&&(r===s&&(r=pg(r)),r[u]=f)},o=0;o<t.length;o++)n(t[o]).forEach(a);return r}function H4(s){function t(e,i,r){return rh(e)&&rh(i)&&X4(e,i)?oA(e,[i],t):s?s(e,i,r):i}return t}function X4(s,t){var e=xn(s),i=xn(t);return Gr(e)===Gr(i)&&Oi(e)===Oi(i)}function vw(){for(var s=[],t=arguments.length;t--;)s[t]=arguments[t];return aA(this,s)}function bw(s){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return aA(this,t,s)}function hA(s){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return Nu(this,s,Jn(),function(i){return oA(i,t)})}function lA(s){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return Nu(this,s,Jn(),function(i){return aA(i,t)})}function Hd(s){var t=this.asMutable();return s(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Xd(){return this.__ownerID?this:this.__ensureOwner(new Hx)}function Wd(){return this.__ensureOwner()}function uA(){return this.__altered}var Bu=function(s){function t(e){return e==null?Jn():Jx(e)&&!Zn(e)?e:Jn().withMutations(function(i){var r=s(e);fn(r.size),r.forEach(function(n,a){return i.set(a,n)})})}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return Jn().withMutations(function(n){for(var a=0;a<i.length;a+=2){if(a+1>=i.length)throw new Error("Missing value for key: "+i[a]);n.set(i[a],i[a+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(i,r){return this._root?this._root.get(0,void 0,i,r):r},t.prototype.set=function(i,r){return DM(this,i,r)},t.prototype.remove=function(i){return DM(this,i,Le)},t.prototype.deleteAll=function(i){var r=fs(i);return r.size===0?this:this.withMutations(function(n){r.forEach(function(a){return n.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Jn()},t.prototype.sort=function(i){return co(du(this,i))},t.prototype.sortBy=function(i,r){return co(du(this,r,i))},t.prototype.map=function(i,r){var n=this;return this.withMutations(function(a){a.forEach(function(o,l){a.set(l,i.call(r,o,l,n))})})},t.prototype.__iterator=function(i,r){return new W4(this,i,r)},t.prototype.__iterate=function(i,r){var n=this,a=0;return this._root&&this._root.iterate(function(o){return a++,i(o[1],o[0],n)},r),a},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?cA(this.size,this._root,i,this.__hash):this.size===0?Jn():(this.__ownerID=i,this.__altered=!1,this)},t}(Gn);Bu.isMap=Jx;var Li=Bu.prototype;Li[iw]=!0;Li[Od]=Li.remove;Li.removeAll=Li.deleteAll;Li.setIn=iA;Li.removeIn=Li.deleteIn=sA;Li.update=rA;Li.updateIn=nA;Li.merge=Li.concat=Sw;Li.mergeWith=xw;Li.mergeDeep=vw;Li.mergeDeepWith=bw;Li.mergeIn=hA;Li.mergeDeepIn=lA;Li.withMutations=Hd;Li.wasAltered=uA;Li.asImmutable=Wd;Li["@@transducer/init"]=Li.asMutable=Xd;Li["@@transducer/step"]=function(s,t){return s.set(t[0],t[1])};Li["@@transducer/result"]=function(s){return s.asImmutable()};var vd=function(t,e){this.ownerID=t,this.entries=e};vd.prototype.get=function(t,e,i,r){for(var n=this.entries,a=0,o=n.length;a<o;a++)if(yn(i,n[a][0]))return n[a][1];return r};vd.prototype.update=function(t,e,i,r,n,a,o){for(var l=n===Le,u=this.entries,d=0,f=u.length;d<f&&!yn(r,u[d][0]);d++);var g=d<f;if(g?u[d][1]===n:l)return this;if(Ln(o),(l||!g)&&Ln(a),!(l&&u.length===1)){if(!g&&!l&&u.length>=Q4)return $4(t,u,r,n);var m=t&&t===this.ownerID,p=m?u:Sa(u);return g?l?d===f-1?p.pop():p[d]=p.pop():p[d]=[r,n]:p.push([r,n]),m?(this.entries=p,this):new vd(t,p)}};var fu=function(t,e,i){this.ownerID=t,this.bitmap=e,this.nodes=i};fu.prototype.get=function(t,e,i,r){e===void 0&&(e=dn(i));var n=1<<((t===0?e:e>>>t)&Sr),a=this.bitmap;return(a&n)===0?r:this.nodes[Mw(a&n-1)].get(t+Ni,e,i,r)};fu.prototype.update=function(t,e,i,r,n,a,o){i===void 0&&(i=dn(r));var l=(e===0?i:i>>>e)&Sr,u=1<<l,d=this.bitmap,f=(d&u)!==0;if(!f&&n===Le)return this;var g=Mw(d&u-1),m=this.nodes,p=f?m[g]:void 0,x=dA(p,t,e+Ni,i,r,n,a,o);if(x===p)return this;if(!f&&x&&m.length>=K4)return q4(t,m,d,l,x);if(f&&!x&&m.length===2&&FM(m[g^1]))return m[g^1];if(f&&x&&m.length===1&&FM(x))return x;var v=t&&t===this.ownerID,A=f?x?d:d^u:d|u,E=f?x?Rw(m,g,x,v):Z4(m,g,v):J4(m,g,x,v);return v?(this.bitmap=A,this.nodes=E,this):new fu(t,A,E)};var bd=function(t,e,i){this.ownerID=t,this.count=e,this.nodes=i};bd.prototype.get=function(t,e,i,r){e===void 0&&(e=dn(i));var n=(t===0?e:e>>>t)&Sr,a=this.nodes[n];return a?a.get(t+Ni,e,i,r):r};bd.prototype.update=function(t,e,i,r,n,a,o){i===void 0&&(i=dn(r));var l=(e===0?i:i>>>e)&Sr,u=n===Le,d=this.nodes,f=d[l];if(u&&!f)return this;var g=dA(f,t,e+Ni,i,r,n,a,o);if(g===f)return this;var m=this.count;if(!f)m++;else if(!g&&(m--,m<t_))return j4(t,d,m,l);var p=t&&t===this.ownerID,x=Rw(d,l,g,p);return p?(this.count=m,this.nodes=x,this):new bd(t,m,x)};var gu=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entries=i};gu.prototype.get=function(t,e,i,r){for(var n=this.entries,a=0,o=n.length;a<o;a++)if(yn(i,n[a][0]))return n[a][1];return r};gu.prototype.update=function(t,e,i,r,n,a,o){i===void 0&&(i=dn(r));var l=n===Le;if(i!==this.keyHash)return l?this:(Ln(o),Ln(a),fA(this,t,e,i,[r,n]));for(var u=this.entries,d=0,f=u.length;d<f&&!yn(r,u[d][0]);d++);var g=d<f;if(g?u[d][1]===n:l)return this;if(Ln(o),(l||!g)&&Ln(a),l&&f===2)return new uo(t,this.keyHash,u[d^1]);var m=t&&t===this.ownerID,p=m?u:Sa(u);return g?l?d===f-1?p.pop():p[d]=p.pop():p[d]=[r,n]:p.push([r,n]),m?(this.entries=p,this):new gu(t,this.keyHash,p)};var uo=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entry=i};uo.prototype.get=function(t,e,i,r){return yn(i,this.entry[0])?this.entry[1]:r};uo.prototype.update=function(t,e,i,r,n,a,o){var l=n===Le,u=yn(r,this.entry[0]);if(u?n===this.entry[1]:l)return this;if(Ln(o),l){Ln(a);return}return u?t&&t===this.ownerID?(this.entry[1]=n,this):new uo(t,this.keyHash,[r,n]):(Ln(a),fA(this,t,e,dn(r),[r,n]))};vd.prototype.iterate=gu.prototype.iterate=function(s,t){for(var e=this.entries,i=0,r=e.length-1;i<=r;i++)if(s(e[t?r-i:i])===!1)return!1};fu.prototype.iterate=bd.prototype.iterate=function(s,t){for(var e=this.nodes,i=0,r=e.length-1;i<=r;i++){var n=e[t?r-i:i];if(n&&n.iterate(s,t)===!1)return!1}};uo.prototype.iterate=function(s,t){return s(this.entry)};var W4=function(s){function t(e,i,r){this._type=i,this._reverse=r,this._stack=e._root&&CM(e._root)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var i=this._type,r=this._stack;r;){var n=r.node,a=r.index++,o=void 0;if(n.entry){if(a===0)return sS(i,n.entry)}else if(n.entries){if(o=n.entries.length-1,a<=o)return sS(i,n.entries[this._reverse?o-a:a])}else if(o=n.nodes.length-1,a<=o){var l=n.nodes[this._reverse?o-a:a];if(l){if(l.entry)return sS(i,l.entry);r=this._stack=CM(l,r)}continue}r=this._stack=this._stack.__prev}return $r()},t}(ai);function sS(s,t){return Gi(s,t[0],t[1])}function CM(s,t){return{node:s,index:0,__prev:t}}function cA(s,t,e,i){var r=Object.create(Li);return r.size=s,r._root=t,r.__ownerID=e,r.__hash=i,r.__altered=!1,r}var kM;function Jn(){return kM||(kM=cA(0))}function DM(s,t,e){var i,r;if(s._root){var n=YS(),a=YS();if(i=dA(s._root,s.__ownerID,0,void 0,t,e,n,a),!a.value)return s;r=s.size+(n.value?e===Le?-1:1:0)}else{if(e===Le)return s;r=1,i=new vd(s.__ownerID,[[t,e]])}return s.__ownerID?(s.size=r,s._root=i,s.__hash=void 0,s.__altered=!0,s):i?cA(r,i):Jn()}function dA(s,t,e,i,r,n,a,o){return s?s.update(t,e,i,r,n,a,o):n===Le?s:(Ln(o),Ln(a),new uo(t,i,[r,n]))}function FM(s){return s.constructor===uo||s.constructor===gu}function fA(s,t,e,i,r){if(s.keyHash===i)return new gu(t,i,[s.entry,r]);var n=(e===0?s.keyHash:s.keyHash>>>e)&Sr,a=(e===0?i:i>>>e)&Sr,o,l=n===a?[fA(s,t,e+Ni,i,r)]:(o=new uo(t,i,r),n<a?[s,o]:[o,s]);return new fu(t,1<<n|1<<a,l)}function $4(s,t,e,i){s||(s=new Hx);for(var r=new uo(s,dn(e),[e,i]),n=0;n<t.length;n++){var a=t[n];r=r.update(s,0,void 0,a[0],a[1])}return r}function j4(s,t,e,i){for(var r=0,n=0,a=new Array(e),o=0,l=1,u=t.length;o<u;o++,l<<=1){var d=t[o];d!==void 0&&o!==i&&(r|=l,a[n++]=d)}return new fu(s,r,a)}function q4(s,t,e,i,r){for(var n=0,a=new Array(Pn),o=0;e!==0;o++,e>>>=1)a[o]=e&1?t[n++]:void 0;return a[i]=r,new bd(s,n+1,a)}function Mw(s){return s-=s>>1&1431655765,s=(s&858993459)+(s>>2&858993459),s=s+(s>>4)&252645135,s+=s>>8,s+=s>>16,s&127}function Rw(s,t,e,i){var r=i?s:Sa(s);return r[t]=e,r}function J4(s,t,e,i){var r=s.length+1;if(i&&t+1===r)return s[t]=e,s;for(var n=new Array(r),a=0,o=0;o<r;o++)o===t?(n[o]=e,a=-1):n[o]=s[o+a];return n}function Z4(s,t,e){var i=s.length-1;if(e&&t===i)return s.pop(),s;for(var r=new Array(i),n=0,a=0;a<i;a++)a===t&&(n=1),r[a]=s[a+n];return r}var Q4=Pn/4,K4=Pn/2,t_=Pn/4,Ew="@@__IMMUTABLE_LIST__@@";function Tw(s){return!!(s&&s[Ew])}var $d=function(s){function t(e){var i=ag();if(e==null)return i;if(Tw(e))return e;var r=s(e),n=r.size;return n===0?i:(fn(n),n>0&&n<Pn?Md(0,n,Ni,null,new Zo(r.toArray())):i.withMutations(function(a){a.setSize(n),r.forEach(function(o,l){return a.set(l,o)})}))}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(i,r){if(i=sh(this,i),i>=0&&i<this.size){i+=this._origin;var n=ww(this,i);return n&&n.array[i&Sr]}return r},t.prototype.set=function(i,r){return e_(this,i,r)},t.prototype.remove=function(i){return this.has(i)?i===0?this.shift():i===this.size-1?this.pop():this.splice(i,1):this},t.prototype.insert=function(i,r){return this.splice(i,0,r)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ni,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):ag()},t.prototype.push=function(){var i=arguments,r=this.size;return this.withMutations(function(n){Ho(n,0,r+i.length);for(var a=0;a<i.length;a++)n.set(r+a,i[a])})},t.prototype.pop=function(){return Ho(this,0,-1)},t.prototype.unshift=function(){var i=arguments;return this.withMutations(function(r){Ho(r,-i.length);for(var n=0;n<i.length;n++)r.set(n,i[n])})},t.prototype.shift=function(){return Ho(this,1)},t.prototype.concat=function(){for(var i=arguments,r=[],n=0;n<arguments.length;n++){var a=i[n],o=s(typeof a!="string"&&KT(a)?a:[a]);o.size!==0&&r.push(o)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(l){r.forEach(function(u){return u.forEach(function(d){return l.push(d)})})})},t.prototype.setSize=function(i){return Ho(this,0,i)},t.prototype.map=function(i,r){var n=this;return this.withMutations(function(a){for(var o=0;o<n.size;o++)a.set(o,i.call(r,a.get(o),o,n))})},t.prototype.slice=function(i,r){var n=this.size;return Zg(i,r,n)?this:Ho(this,Gd(i,n),Qg(r,n))},t.prototype.__iterator=function(i,r){var n=r?this.size:0,a=_M(this,r);return new ai(function(){var o=a();return o===cd?$r():Gi(i,r?--n:n++,o)})},t.prototype.__iterate=function(i,r){for(var n=r?this.size:0,a=_M(this,r),o;(o=a())!==cd&&i(o,r?--n:n++,this)!==!1;);return n},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?Md(this._origin,this._capacity,this._level,this._root,this._tail,i,this.__hash):this.size===0?ag():(this.__ownerID=i,this.__altered=!1,this)},t}(el);$d.isList=Tw;var Ts=$d.prototype;Ts[Ew]=!0;Ts[Od]=Ts.remove;Ts.merge=Ts.concat;Ts.setIn=iA;Ts.deleteIn=Ts.removeIn=sA;Ts.update=rA;Ts.updateIn=nA;Ts.mergeIn=hA;Ts.mergeDeepIn=lA;Ts.withMutations=Hd;Ts.wasAltered=uA;Ts.asImmutable=Wd;Ts["@@transducer/init"]=Ts.asMutable=Xd;Ts["@@transducer/step"]=function(s,t){return s.push(t)};Ts["@@transducer/result"]=function(s){return s.asImmutable()};var Zo=function(t,e){this.array=t,this.ownerID=e};Zo.prototype.removeBefore=function(t,e,i){if(i===e?1<<e:this.array.length===0)return this;var r=i>>>e&Sr;if(r>=this.array.length)return new Zo([],t);var n=r===0,a;if(e>0){var o=this.array[r];if(a=o&&o.removeBefore(t,e-Ni,i),a===o&&n)return this}if(n&&!a)return this;var l=yu(this,t);if(!n)for(var u=0;u<r;u++)l.array[u]=void 0;return a&&(l.array[r]=a),l};Zo.prototype.removeAfter=function(t,e,i){if(i===(e?1<<e:0)||this.array.length===0)return this;var r=i-1>>>e&Sr;if(r>=this.array.length)return this;var n;if(e>0){var a=this.array[r];if(n=a&&a.removeAfter(t,e-Ni,i),n===a&&r===this.array.length-1)return this}var o=yu(this,t);return o.array.splice(r+1),n&&(o.array[r]=n),o};var cd={};function _M(s,t){var e=s._origin,i=s._capacity,r=Rd(i),n=s._tail;return a(s._root,s._level,0);function a(u,d,f){return d===0?o(u,f):l(u,d,f)}function o(u,d){var f=d===r?n&&n.array:u&&u.array,g=d>e?0:e-d,m=i-d;return m>Pn&&(m=Pn),function(){if(g===m)return cd;var p=t?--m:g++;return f&&f[p]}}function l(u,d,f){var g,m=u&&u.array,p=f>e?0:e-f>>d,x=(i-f>>d)+1;return x>Pn&&(x=Pn),function(){for(;;){if(g){var v=g();if(v!==cd)return v;g=null}if(p===x)return cd;var A=t?--x:p++;g=a(m&&m[A],d-Ni,f+(A<<d))}}}}function Md(s,t,e,i,r,n,a){var o=Object.create(Ts);return o.size=t-s,o._origin=s,o._capacity=t,o._level=e,o._root=i,o._tail=r,o.__ownerID=n,o.__hash=a,o.__altered=!1,o}var VM;function ag(){return VM||(VM=Md(0,0,Ni))}function e_(s,t,e){if(t=sh(s,t),t!==t)return s;if(t>=s.size||t<0)return s.withMutations(function(a){t<0?Ho(a,t).set(0,e):Ho(a,0,t+1).set(t,e)});t+=s._origin;var i=s._tail,r=s._root,n=YS();return t>=Rd(s._capacity)?i=qS(i,s.__ownerID,0,t,e,n):r=qS(r,s.__ownerID,s._level,t,e,n),n.value?s.__ownerID?(s._root=r,s._tail=i,s.__hash=void 0,s.__altered=!0,s):Md(s._origin,s._capacity,s._level,r,i):s}function qS(s,t,e,i,r,n){var a=i>>>e&Sr,o=s&&a<s.array.length;if(!o&&r===void 0)return s;var l;if(e>0){var u=s&&s.array[a],d=qS(u,t,e-Ni,i,r,n);return d===u?s:(l=yu(s,t),l.array[a]=d,l)}return o&&s.array[a]===r?s:(n&&Ln(n),l=yu(s,t),r===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=r,l)}function yu(s,t){return t&&s&&t===s.ownerID?s:new Zo(s?s.array.slice():[],t)}function ww(s,t){if(t>=Rd(s._capacity))return s._tail;if(t<1<<s._level+Ni){for(var e=s._root,i=s._level;e&&i>0;)e=e.array[t>>>i&Sr],i-=Ni;return e}}function Ho(s,t,e){t!==void 0&&(t|=0),e!==void 0&&(e|=0);var i=s.__ownerID||new Hx,r=s._origin,n=s._capacity,a=r+t,o=e===void 0?n:e<0?n+e:r+e;if(a===r&&o===n)return s;if(a>=o)return s.clear();for(var l=s._level,u=s._root,d=0;a+d<0;)u=new Zo(u&&u.array.length?[void 0,u]:[],i),l+=Ni,d+=1<<l;d&&(a+=d,r+=d,o+=d,n+=d);for(var f=Rd(n),g=Rd(o);g>=1<<l+Ni;)u=new Zo(u&&u.array.length?[u]:[],i),l+=Ni;var m=s._tail,p=g<f?ww(s,o-1):g>f?new Zo([],i):m;if(m&&g>f&&a<n&&m.array.length){u=yu(u,i);for(var x=u,v=l;v>Ni;v-=Ni){var A=f>>>v&Sr;x=x.array[A]=yu(x.array[A],i)}x.array[f>>>Ni&Sr]=m}if(o<n&&(p=p&&p.removeAfter(i,0,o)),a>=g)a-=g,o-=g,l=Ni,u=null,p=p&&p.removeBefore(i,0,a);else if(a>r||g<f){for(d=0;u;){var E=a>>>l&Sr;if(E!==g>>>l&Sr)break;E&&(d+=(1<<l)*E),l-=Ni,u=u.array[E]}u&&a>r&&(u=u.removeBefore(i,l,a-d)),u&&g<f&&(u=u.removeAfter(i,l,g-d)),d&&(a-=d,o-=d)}return s.__ownerID?(s.size=o-a,s._origin=a,s._capacity=o,s._level=l,s._root=u,s._tail=p,s.__hash=void 0,s.__altered=!0,s):Md(a,o,l,u,p)}function Rd(s){return s<Pn?0:s-1>>>Ni<<Ni}var co=function(s){function t(e){return e==null?rd():sw(e)?e:rd().withMutations(function(i){var r=Gn(e);fn(r.size),r.forEach(function(n,a){return i.set(a,n)})})}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(i,r){var n=this._map.get(i);return n!==void 0?this._list.get(n)[1]:r},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):rd()},t.prototype.set=function(i,r){return NM(this,i,r)},t.prototype.remove=function(i){return NM(this,i,Le)},t.prototype.__iterate=function(i,r){var n=this;return this._list.__iterate(function(a){return a&&i(a[1],a[0],n)},r)},t.prototype.__iterator=function(i,r){return this._list.fromEntrySeq().__iterator(i,r)},t.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var r=this._map.__ensureOwner(i),n=this._list.__ensureOwner(i);return i?gA(r,n,i,this.__hash):this.size===0?rd():(this.__ownerID=i,this.__altered=!1,this._map=r,this._list=n,this)},t}(Bu);co.isOrderedMap=sw;co.prototype[_u]=!0;co.prototype[Od]=co.prototype.remove;function gA(s,t,e,i){var r=Object.create(co.prototype);return r.size=s?s.size:0,r._map=s,r._list=t,r.__ownerID=e,r.__hash=i,r.__altered=!1,r}var zM;function rd(){return zM||(zM=gA(Jn(),ag()))}function NM(s,t,e){var i=s._map,r=s._list,n=i.get(t),a=n!==void 0,o,l;if(e===Le){if(!a)return s;r.size>=Pn&&r.size>=i.size*2?(l=r.filter(function(u,d){return u!==void 0&&n!==d}),o=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),s.__ownerID&&(o.__ownerID=l.__ownerID=s.__ownerID)):(o=i.remove(t),l=n===r.size-1?r.pop():r.set(n,void 0))}else if(a){if(e===r.get(n)[1])return s;o=i,l=r.set(n,[t,e])}else o=i.set(t,r.size),l=r.set(r.size,[t,e]);return s.__ownerID?(s.size=o.size,s._map=o,s._list=l,s.__hash=void 0,s.__altered=!0,s):gA(o,l)}var Cw="@@__IMMUTABLE_STACK__@@";function JS(s){return!!(s&&s[Cw])}var yA=function(s){function t(e){return e==null?D0():JS(e)?e:D0().pushAll(e)}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(i,r){var n=this._head;for(i=sh(this,i);n&&i--;)n=n.next;return n?n.value:r},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var i=arguments;if(arguments.length===0)return this;for(var r=this.size+arguments.length,n=this._head,a=arguments.length-1;a>=0;a--)n={value:i[a],next:n};return this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):nd(r,n)},t.prototype.pushAll=function(i){if(i=s(i),i.size===0)return this;if(this.size===0&&JS(i))return i;fn(i.size);var r=this.size,n=this._head;return i.__iterate(function(a){r++,n={value:a,next:n}},!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):nd(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):D0()},t.prototype.slice=function(i,r){if(Zg(i,r,this.size))return this;var n=Gd(i,this.size),a=Qg(r,this.size);if(a!==this.size)return s.prototype.slice.call(this,i,r);for(var o=this.size-n,l=this._head;n--;)l=l.next;return this.__ownerID?(this.size=o,this._head=l,this.__hash=void 0,this.__altered=!0,this):nd(o,l)},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?nd(this.size,this._head,i,this.__hash):this.size===0?D0():(this.__ownerID=i,this.__altered=!1,this)},t.prototype.__iterate=function(i,r){var n=this;if(r)return new Yh(this.toArray()).__iterate(function(l,u){return i(l,u,n)},r);for(var a=0,o=this._head;o&&i(o.value,a++,this)!==!1;)o=o.next;return a},t.prototype.__iterator=function(i,r){if(r)return new Yh(this.toArray()).__iterator(i,r);var n=0,a=this._head;return new ai(function(){if(a){var o=a.value;return a=a.next,Gi(i,n++,o)}return $r()})},t}(el);yA.isStack=JS;var vr=yA.prototype;vr[Cw]=!0;vr.shift=vr.pop;vr.unshift=vr.push;vr.unshiftAll=vr.pushAll;vr.withMutations=Hd;vr.wasAltered=uA;vr.asImmutable=Wd;vr["@@transducer/init"]=vr.asMutable=Xd;vr["@@transducer/step"]=function(s,t){return s.unshift(t)};vr["@@transducer/result"]=function(s){return s.asImmutable()};function nd(s,t,e,i){var r=Object.create(vr);return r.size=s,r._head=t,r.__ownerID=e,r.__hash=i,r.__altered=!1,r}var BM;function D0(){return BM||(BM=nd(0))}var kw="@@__IMMUTABLE_SET__@@";function mA(s){return!!(s&&s[kw])}function Dw(s){return mA(s)&&Zn(s)}function Fw(s,t){if(s===t)return!0;if(!Wr(t)||s.size!==void 0&&t.size!==void 0&&s.size!==t.size||s.__hash!==void 0&&t.__hash!==void 0&&s.__hash!==t.__hash||Oi(s)!==Oi(t)||Gr(s)!==Gr(t)||Zn(s)!==Zn(t))return!1;if(s.size===0&&t.size===0)return!0;var e=!Kg(s);if(Zn(s)){var i=s.entries();return t.every(function(l,u){var d=i.next().value;return d&&yn(d[1],l)&&(e||yn(d[0],u))})&&i.next().done}var r=!1;if(s.size===void 0)if(t.size===void 0)typeof s.cacheResult=="function"&&s.cacheResult();else{r=!0;var n=s;s=t,t=n}var a=!0,o=t.__iterate(function(l,u){if(e?!s.has(l):r?!yn(l,s.get(u,Le)):!yn(s.get(u,Le),l))return a=!1,!1});return a&&s.size===o}function il(s,t){var e=function(i){s.prototype[i]=t[i]};return Object.keys(t).forEach(e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(e),s}function Sg(s){if(!s||typeof s!="object")return s;if(!Wr(s)){if(!rh(s))return s;s=xn(s)}if(Oi(s)){var t={};return s.__iterate(function(i,r){t[r]=Sg(i)}),t}var e=[];return s.__iterate(function(i){e.push(Sg(i))}),e}var ry=function(s){function t(e){return e==null?ad():mA(e)&&!Zn(e)?e:ad().withMutations(function(i){var r=s(e);fn(r.size),r.forEach(function(n){return i.add(n)})})}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(i){return this(Gn(i).keySeq())},t.intersect=function(i){return i=fs(i).toArray(),i.length?Qs.intersect.apply(t(i.pop()),i):ad()},t.union=function(i){return i=fs(i).toArray(),i.length?Qs.union.apply(t(i.pop()),i):ad()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(i){return this._map.has(i)},t.prototype.add=function(i){return F0(this,this._map.set(i,i))},t.prototype.remove=function(i){return F0(this,this._map.remove(i))},t.prototype.clear=function(){return F0(this,this._map.clear())},t.prototype.map=function(i,r){var n=this,a=!1,o=F0(this,this._map.mapEntries(function(l){var u=l[1],d=i.call(r,u,u,n);return d!==u&&(a=!0),[d,d]},r));return a?o:this},t.prototype.union=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return i=i.filter(function(n){return n.size!==0}),i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(n){for(var a=0;a<i.length;a++)typeof i[a]=="string"?n.add(i[a]):s(i[a]).forEach(function(o){return n.add(o)})})},t.prototype.intersect=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];if(i.length===0)return this;i=i.map(function(a){return s(a)});var n=[];return this.forEach(function(a){i.every(function(o){return o.includes(a)})||n.push(a)}),this.withMutations(function(a){n.forEach(function(o){a.remove(o)})})},t.prototype.subtract=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];if(i.length===0)return this;i=i.map(function(a){return s(a)});var n=[];return this.forEach(function(a){i.some(function(o){return o.includes(a)})&&n.push(a)}),this.withMutations(function(a){n.forEach(function(o){a.remove(o)})})},t.prototype.sort=function(i){return Ed(du(this,i))},t.prototype.sortBy=function(i,r){return Ed(du(this,r,i))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(i,r){var n=this;return this._map.__iterate(function(a){return i(a,a,n)},r)},t.prototype.__iterator=function(i,r){return this._map.__iterator(i,r)},t.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var r=this._map.__ensureOwner(i);return i?this.__make(r,i):this.size===0?this.__empty():(this.__ownerID=i,this._map=r,this)},t}(Du);ry.isSet=mA;var Qs=ry.prototype;Qs[kw]=!0;Qs[Od]=Qs.remove;Qs.merge=Qs.concat=Qs.union;Qs.withMutations=Hd;Qs.asImmutable=Wd;Qs["@@transducer/init"]=Qs.asMutable=Xd;Qs["@@transducer/step"]=function(s,t){return s.add(t)};Qs["@@transducer/result"]=function(s){return s.asImmutable()};Qs.__empty=ad;Qs.__make=_w;function F0(s,t){return s.__ownerID?(s.size=t.size,s._map=t,s):t===s._map?s:t.size===0?s.__empty():s.__make(t)}function _w(s,t){var e=Object.create(Qs);return e.size=s?s.size:0,e._map=s,e.__ownerID=t,e}var PM;function ad(){return PM||(PM=_w(Jn()))}var i_=function(s){function t(e,i,r){if(!(this instanceof t))return new t(e,i,r);if(eA(r!==0,"Cannot step a Range by 0"),e=e||0,i===void 0&&(i=1/0),r=r===void 0?1:Math.abs(r),i<e&&(r=-r),this._start=e,this._end=i,this._step=r,this.size=Math.max(0,Math.ceil((i-e)/r-1)+1),this.size===0){if(rS)return rS;rS=this}}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(i,r){return this.has(i)?this._start+sh(this,i)*this._step:r},t.prototype.includes=function(i){var r=(i-this._start)/this._step;return r>=0&&r<this.size&&r===Math.floor(r)},t.prototype.slice=function(i,r){return Zg(i,r,this.size)?this:(i=Gd(i,this.size),r=Qg(r,this.size),r<=i?new t(0,0):new t(this.get(i,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(i){var r=i-this._start;if(r%this._step===0){var n=r/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(i){return this.indexOf(i)},t.prototype.__iterate=function(i,r){for(var n=this.size,a=this._step,o=r?this._start+(n-1)*a:this._start,l=0;l!==n&&i(o,r?n-++l:l++,this)!==!1;)o+=r?-a:a;return l},t.prototype.__iterator=function(i,r){var n=this.size,a=this._step,o=r?this._start+(n-1)*a:this._start,l=0;return new ai(function(){if(l===n)return $r();var u=o;return o+=r?-a:a,Gi(i,r?n-++l:l++,u)})},t.prototype.equals=function(i){return i instanceof t?this._start===i._start&&this._end===i._end&&this._step===i._step:Fw(this,i)},t}(ia),rS;function Vw(s,t,e){for(var i=gw(t),r=0;r!==i.length;)if(s=yw(s,i[r++],Le),s===Le)return e;return s}function zw(s,t){return Vw(this,s,t)}function s_(s,t){return Vw(s,t,Le)!==Le}function r_(s){return s_(this,s)}function Nw(){fn(this.size);var s={};return this.__iterate(function(t,e){s[e]=t}),s}fs.isIterable=Wr;fs.isKeyed=Oi;fs.isIndexed=Gr;fs.isAssociative=Kg;fs.isOrdered=Zn;fs.Iterator=ai;il(fs,{toArray:function(){fn(this.size);var t=new Array(this.size||0),e=Oi(this),i=0;return this.__iterate(function(r,n){t[i++]=e?[n,r]:r}),t},toIndexedSeq:function(){return new nw(this)},toJS:function(){return Sg(this)},toKeyedSeq:function(){return new sy(this,!0)},toMap:function(){return Bu(this.toKeyedSeq())},toObject:Nw,toOrderedMap:function(){return co(this.toKeyedSeq())},toOrderedSet:function(){return Ed(Oi(this)?this.valueSeq():this)},toSet:function(){return ry(Oi(this)?this.valueSeq():this)},toSetSeq:function(){return new aw(this)},toSeq:function(){return Gr(this)?this.toIndexedSeq():Oi(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return yA(Oi(this)?this.valueSeq():this)},toList:function(){return $d(Oi(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return this.size===0?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ci(this,z4(this,t))},includes:function(t){return this.some(function(e){return yn(e,t)})},entries:function(){return this.__iterator(On)},every:function(t,e){fn(this.size);var i=!0;return this.__iterate(function(r,n,a){if(!t.call(e,r,n,a))return i=!1,!1}),i},filter:function(t,e){return Ci(this,uw(this,t,e,!0))},partition:function(t,e){return _4(this,t,e)},find:function(t,e,i){var r=this.findEntry(t,e);return r?r[1]:i},forEach:function(t,e){return fn(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){fn(this.size),t=t!==void 0?""+t:",";var e="",i=!0;return this.__iterate(function(r){i?i=!1:e+=t,e+=r!=null?r.toString():""}),e},keys:function(){return this.__iterator(Yd)},map:function(t,e){return Ci(this,lw(this,t,e))},reduce:function(t,e,i){return LM(this,t,e,i,arguments.length<2,!1)},reduceRight:function(t,e,i){return LM(this,t,e,i,arguments.length<2,!0)},reverse:function(){return Ci(this,Zx(this,!0))},slice:function(t,e){return Ci(this,Qx(this,t,e,!0))},some:function(t,e){fn(this.size);var i=!1;return this.__iterate(function(r,n,a){if(t.call(e,r,n,a))return i=!0,!1}),i},sort:function(t){return Ci(this,du(this,t))},values:function(){return this.__iterator(ea)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,e){return cu(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return D4(this,t,e)},equals:function(t){return Fw(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Yh(t._cache);var e=t.toSeq().map(a_).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(nS(t),e)},findEntry:function(t,e,i){var r=i;return this.__iterate(function(n,a,o){if(t.call(e,n,a,o))return r=[a,n],!1}),r},findKey:function(t,e){var i=this.findEntry(t,e);return i&&i[0]},findLast:function(t,e,i){return this.toKeyedSeq().reverse().find(t,e,i)},findLastEntry:function(t,e,i){return this.toKeyedSeq().reverse().findEntry(t,e,i)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(HT,null,t)},flatMap:function(t,e){return Ci(this,N4(this,t,e))},flatten:function(t){return Ci(this,dw(this,t,!0))},fromEntrySeq:function(){return new ow(this)},get:function(t,e){return this.find(function(i,r){return yn(r,t)},void 0,e)},getIn:zw,groupBy:function(t,e){return F4(this,t,e)},has:function(t){return this.get(t,Le)!==Le},hasIn:r_,isSubset:function(t){return t=typeof t.includes=="function"?t:fs(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:fs(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return yn(e,t)})},keySeq:function(){return this.toSeq().map(n_).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return C0(this,t)},maxBy:function(t,e){return C0(this,e,t)},min:function(t){return C0(this,t?IM(t):OM)},minBy:function(t,e){return C0(this,e?IM(e):OM,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Ci(this,cw(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(nS(t),e)},sortBy:function(t,e){return Ci(this,du(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Ci(this,V4(this,t,e))},takeUntil:function(t,e){return this.takeWhile(nS(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=o_(this))}});var cr=fs.prototype;cr[$T]=!0;cr[ty]=cr.values;cr.toJSON=cr.toArray;cr.__toStringMapper=Ad;cr.inspect=cr.toSource=function(){return this.toString()};cr.chain=cr.flatMap;cr.contains=cr.includes;il(Gn,{flip:function(){return Ci(this,hw(this))},mapEntries:function(t,e){var i=this,r=0;return Ci(this,this.toSeq().map(function(n,a){return t.call(e,[a,n],r++,i)}).fromEntrySeq())},mapKeys:function(t,e){var i=this;return Ci(this,this.toSeq().flip().map(function(r,n){return t.call(e,r,n,i)}).flip())}});var jd=Gn.prototype;jd[jT]=!0;jd[ty]=cr.entries;jd.toJSON=Nw;jd.__toStringMapper=function(s,t){return Ad(t)+": "+Ad(s)};il(el,{toKeyedSeq:function(){return new sy(this,!1)},filter:function(t,e){return Ci(this,uw(this,t,e,!1))},findIndex:function(t,e){var i=this.findEntry(t,e);return i?i[0]:-1},indexOf:function(t){var e=this.keyOf(t);return e===void 0?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return e===void 0?-1:e},reverse:function(){return Ci(this,Zx(this,!1))},slice:function(t,e){return Ci(this,Qx(this,t,e,!1))},splice:function(t,e){var i=arguments.length;if(e=Math.max(e||0,0),i===0||i===2&&!e)return this;t=Gd(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ci(this,i===1?r:r.concat(Sa(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var i=this.findLastEntry(t,e);return i?i[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Ci(this,dw(this,t,!1))},get:function(t,e){return t=sh(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?e:this.find(function(i,r){return r===t},void 0,e)},has:function(t){return t=sh(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ci(this,B4(this,t))},interleave:function(){var t=[this].concat(Sa(arguments)),e=k0(this.toSeq(),ia.of,t),i=e.flatten(!0);return e.size&&(i.size=e.size*t.length),Ci(this,i)},keySeq:function(){return i_(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Ci(this,cw(this,t,e,!1))},zip:function(){var t=[this].concat(Sa(arguments));return Ci(this,k0(this,UM,t))},zipAll:function(){var t=[this].concat(Sa(arguments));return Ci(this,k0(this,UM,t,!0))},zipWith:function(t){var e=Sa(arguments);return e[0]=this,Ci(this,k0(this,t,e))}});var Pu=el.prototype;Pu[qT]=!0;Pu[_u]=!0;il(Du,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var mu=Du.prototype;mu.has=cr.includes;mu.contains=mu.includes;mu.keys=mu.values;il(lh,jd);il(ia,Pu);il(zu,mu);function LM(s,t,e,i,r,n){return fn(s.size),s.__iterate(function(a,o,l){r?(r=!1,e=a):e=t.call(i,e,a,o,l)},n),e}function n_(s,t){return t}function a_(s,t){return[t,s]}function nS(s){return function(){return!s.apply(this,arguments)}}function IM(s){return function(){return-s.apply(this,arguments)}}function UM(){return Sa(arguments)}function OM(s,t){return s<t?1:s>t?-1:0}function o_(s){if(s.size===1/0)return 0;var t=Zn(s),e=Oi(s),i=t?1:0,r=s.__iterate(e?t?function(n,a){i=31*i+GM(dn(n),dn(a))|0}:function(n,a){i=i+GM(dn(n),dn(a))|0}:t?function(n){i=31*i+dn(n)|0}:function(n){i=i+dn(n)|0});return h_(r,i)}function h_(s,t){return t=qc(t,3432918353),t=qc(t<<15|t>>>-15,461845907),t=qc(t<<13|t>>>-13,5),t=(t+3864292196|0)^s,t=qc(t^t>>>16,2246822507),t=qc(t^t>>>13,3266489909),t=iy(t^t>>>16),t}function GM(s,t){return s^t+2654435769+(s<<6)+(s>>2)|0}var Ed=function(s){function t(e){return e==null?ZS():Dw(e)?e:ZS().withMutations(function(i){var r=Du(e);fn(r.size),r.forEach(function(n){return i.add(n)})})}return s&&(t.__proto__=s),t.prototype=Object.create(s&&s.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(i){return this(Gn(i).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(ry);Ed.isOrderedSet=Dw;var sl=Ed.prototype;sl[_u]=!0;sl.zip=Pu.zip;sl.zipWith=Pu.zipWith;sl.zipAll=Pu.zipAll;sl.__empty=ZS;sl.__make=Bw;function Bw(s,t){var e=Object.create(sl);return e.size=s?s.size:0,e._map=s,e.__ownerID=t,e}var YM;function ZS(){return YM||(YM=Bw(rd()))}function l_(s){if(Fu(s))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(za(s))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(s===null||typeof s!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Re=function(t,e){var i;l_(t);var r=function(o){var l=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!i){i=!0;var u=Object.keys(t),d=n._indices={};n._name=e,n._keys=u,n._defaultValues=t;for(var f=0;f<u.length;f++){var g=u[f];d[g]=f,n[g]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+SA(this)+' with property "'+g+'" since that property name is part of the Record API.'):u_(n,g)}}return this.__ownerID=void 0,this._values=$d().withMutations(function(m){m.setSize(l._keys.length),Gn(o).forEach(function(p,x){m.set(l._indices[x],p===l._defaultValues[x]?void 0:p)})}),this},n=r.prototype=Object.create(_i);return n.constructor=r,e&&(r.displayName=e),r};Re.prototype.toString=function(){for(var t=SA(this)+" { ",e=this._keys,i,r=0,n=e.length;r!==n;r++)i=e[r],t+=(r?", ":"")+i+": "+Ad(this.get(i));return t+" }"};Re.prototype.equals=function(t){return this===t||Fu(t)&&pu(this).equals(pu(t))};Re.prototype.hashCode=function(){return pu(this).hashCode()};Re.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Re.prototype.get=function(t,e){if(!this.has(t))return e;var i=this._indices[t],r=this._values.get(i);return r===void 0?this._defaultValues[t]:r};Re.prototype.set=function(t,e){if(this.has(t)){var i=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(i!==this._values&&!this.__ownerID)return pA(this,i)}return this};Re.prototype.remove=function(t){return this.set(t)};Re.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:pA(this,t)};Re.prototype.wasAltered=function(){return this._values.wasAltered()};Re.prototype.toSeq=function(){return pu(this)};Re.prototype.toJS=function(){return Sg(this)};Re.prototype.entries=function(){return this.__iterator(On)};Re.prototype.__iterator=function(t,e){return pu(this).__iterator(t,e)};Re.prototype.__iterate=function(t,e){return pu(this).__iterate(t,e)};Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?pA(this,e,t):(this.__ownerID=t,this._values=e,this)};Re.isRecord=Fu;Re.getDescriptiveName=SA;var _i=Re.prototype;_i[ZT]=!0;_i[Od]=_i.remove;_i.deleteIn=_i.removeIn=sA;_i.getIn=zw;_i.hasIn=cr.hasIn;_i.merge=Sw;_i.mergeWith=xw;_i.mergeIn=hA;_i.mergeDeep=vw;_i.mergeDeepWith=bw;_i.mergeDeepIn=lA;_i.setIn=iA;_i.update=rA;_i.updateIn=nA;_i.withMutations=Hd;_i.asMutable=Xd;_i.asImmutable=Wd;_i[ty]=_i.entries;_i.toJSON=_i.toObject=cr.toObject;_i.inspect=_i.toSource=function(){return this.toString()};function pA(s,t,e){var i=Object.create(Object.getPrototypeOf(s));return i._values=t,i.__ownerID=e,i}function SA(s){return s.constructor.displayName||s.constructor.name||"Record"}function pu(s){return jx(s._keys.map(function(t){return[t,s.get(t)]}))}function u_(s,t){try{Object.defineProperty(s,t,{get:function(){return this.get(t)},set:function(e){eA(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch{}}var QS=function(s,t){return QS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},QS(s,t)};function c_(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");QS(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function HM(s){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&s[t],i=0;if(e)return e.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function KS(s,t){var e=typeof Symbol=="function"&&s[Symbol.iterator];if(!e)return s;var i=e.call(s),r,n=[],a;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return n}function d_(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(KS(arguments[t]));return s}var Pw=function(s){c_(t,s);function t(e){var i=this,r="EventError: "+e+"}";return i=s.call(this,r)||this,Object.setPrototypeOf(i,t.prototype),i}return t}(Error),f_=function(s,t){return{token:s+"-"+t,ownerIndex:s,id:t}},g_=0,XM=function(s,t){return new Pw("Event listener with "+s.token+" id does not exist at Eventer with "+t+" id.")},qi=function(){function s(){this.id=++g_,this.lastEventIndex=0,this.topics=new Map}return s.prototype.on=function(t,e,i){var r=this.topics.get(t),n=i||f_(this.id,++this.lastEventIndex);return r?r.set(n,e):this.topics.set(t,new Map([[n,e]])),n},s.prototype.has=function(t,e){var i,r;if(e){var n=this.topics.get(e);if(n){var a=n.get(t);return a||XM(t,this.id)}else return new Pw("Eventer with "+t.ownerIndex+" does not have "+e+".")}else{try{for(var o=HM(this.topics),l=o.next();!l.done;l=o.next()){var u=KS(l.value,2),d=u[0],n=u[1],a=n.get(t);if(a)return a}}catch(f){i={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return XM(t,this.id)}},s.prototype.off=function(t,e){var i,r;if(e){var n=this.topics.get(e);return!!(n&&n.delete(t))}else{try{for(var a=HM(this.topics),o=a.next();!o.done;o=a.next()){var l=KS(o.value,2),u=l[0],n=l[1];if(n.delete(t))return!0}}catch(d){i={error:d}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return!1}},s.prototype.allOff=function(){return this.topics.clear(),this},s.prototype.topicOff=function(t){return this.topics.delete(t)},s.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=this.topics.get(t),n=0;if(r){var a=new Map(r);a.forEach(function(o){o.apply(void 0,d_(e)),n++})}return n},s.prototype.listeners=function(t){var e=this.topics.get(t);return e||new Map},s}(),_0={exports:{}},WM;function y_(){if(WM)return _0.exports;WM=1,_0.exports=s,_0.exports.default=s;function s(B,U,O){O=O||2;var W=U&&U.length,I=W?U[0]*O:B.length,X=t(B,0,I,O,!0),j=[];if(!X||X.next===X.prev)return j;var Q,J,st,nt,ct,dt,Tt;if(W&&(X=l(B,U,X,O)),B.length>80*O){Q=st=B[0],J=nt=B[1];for(var At=O;At<I;At+=O)ct=B[At],dt=B[At+1],ct<Q&&(Q=ct),dt<J&&(J=dt),ct>st&&(st=ct),dt>nt&&(nt=dt);Tt=Math.max(st-Q,nt-J),Tt=Tt!==0?32767/Tt:0}return i(X,j,O,Q,J,Tt,0),j}function t(B,U,O,W,I){var X,j;if(I===H(B,U,O,W)>0)for(X=U;X<O;X+=W)j=C(X,B[X],B[X+1],j);else for(X=O-W;X>=U;X-=W)j=C(X,B[X],B[X+1],j);return j&&F(j,j.next)&&(k(j),j=j.next),j}function e(B,U){if(!B)return B;U||(U=B);var O=B,W;do if(W=!1,!O.steiner&&(F(O,O.next)||T(O.prev,O,O.next)===0)){if(k(O),O=U=O.prev,O===O.next)break;W=!0}else O=O.next;while(W||O!==U);return U}function i(B,U,O,W,I,X,j){if(B){!j&&X&&m(B,W,I,X);for(var Q=B,J,st;B.prev!==B.next;){if(J=B.prev,st=B.next,X?n(B,W,I,X):r(B)){U.push(J.i/O|0),U.push(B.i/O|0),U.push(st.i/O|0),k(B),B=st.next,Q=st.next;continue}if(B=st,B===Q){j?j===1?(B=a(e(B),U,O),i(B,U,O,W,I,X,2)):j===2&&o(B,U,O,W,I,X):i(e(B),U,O,W,I,X,1);break}}}}function r(B){var U=B.prev,O=B,W=B.next;if(T(U,O,W)>=0)return!1;for(var I=U.x,X=O.x,j=W.x,Q=U.y,J=O.y,st=W.y,nt=I<X?I<j?I:j:X<j?X:j,ct=Q<J?Q<st?Q:st:J<st?J:st,dt=I>X?I>j?I:j:X>j?X:j,Tt=Q>J?Q>st?Q:st:J>st?J:st,At=W.next;At!==U;){if(At.x>=nt&&At.x<=dt&&At.y>=ct&&At.y<=Tt&&A(I,Q,X,J,j,st,At.x,At.y)&&T(At.prev,At,At.next)>=0)return!1;At=At.next}return!0}function n(B,U,O,W){var I=B.prev,X=B,j=B.next;if(T(I,X,j)>=0)return!1;for(var Q=I.x,J=X.x,st=j.x,nt=I.y,ct=X.y,dt=j.y,Tt=Q<J?Q<st?Q:st:J<st?J:st,At=nt<ct?nt<dt?nt:dt:ct<dt?ct:dt,Vt=Q>J?Q>st?Q:st:J>st?J:st,Pt=nt>ct?nt>dt?nt:dt:ct>dt?ct:dt,jt=x(Tt,At,U,O,W),Jt=x(Vt,Pt,U,O,W),_t=B.prevZ,Ct=B.nextZ;_t&&_t.z>=jt&&Ct&&Ct.z<=Jt;){if(_t.x>=Tt&&_t.x<=Vt&&_t.y>=At&&_t.y<=Pt&&_t!==I&&_t!==j&&A(Q,nt,J,ct,st,dt,_t.x,_t.y)&&T(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,Ct.x>=Tt&&Ct.x<=Vt&&Ct.y>=At&&Ct.y<=Pt&&Ct!==I&&Ct!==j&&A(Q,nt,J,ct,st,dt,Ct.x,Ct.y)&&T(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;_t&&_t.z>=jt;){if(_t.x>=Tt&&_t.x<=Vt&&_t.y>=At&&_t.y<=Pt&&_t!==I&&_t!==j&&A(Q,nt,J,ct,st,dt,_t.x,_t.y)&&T(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;Ct&&Ct.z<=Jt;){if(Ct.x>=Tt&&Ct.x<=Vt&&Ct.y>=At&&Ct.y<=Pt&&Ct!==I&&Ct!==j&&A(Q,nt,J,ct,st,dt,Ct.x,Ct.y)&&T(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function a(B,U,O){var W=B;do{var I=W.prev,X=W.next.next;!F(I,X)&&D(I,W,W.next,X)&&b(I,X)&&b(X,I)&&(U.push(I.i/O|0),U.push(W.i/O|0),U.push(X.i/O|0),k(W),k(W.next),W=B=X),W=W.next}while(W!==B);return e(W)}function o(B,U,O,W,I,X){var j=B;do{for(var Q=j.next.next;Q!==j.prev;){if(j.i!==Q.i&&E(j,Q)){var J=w(j,Q);j=e(j,j.next),J=e(J,J.next),i(j,U,O,W,I,X,0),i(J,U,O,W,I,X,0);return}Q=Q.next}j=j.next}while(j!==B)}function l(B,U,O,W){var I=[],X,j,Q,J,st;for(X=0,j=U.length;X<j;X++)Q=U[X]*W,J=X<j-1?U[X+1]*W:B.length,st=t(B,Q,J,W,!1),st===st.next&&(st.steiner=!0),I.push(v(st));for(I.sort(u),X=0;X<I.length;X++)O=d(I[X],O);return O}function u(B,U){return B.x-U.x}function d(B,U){var O=f(B,U);if(!O)return U;var W=w(O,B);return e(W,W.next),e(O,O.next)}function f(B,U){var O=U,W=B.x,I=B.y,X=-1/0,j;do{if(I<=O.y&&I>=O.next.y&&O.next.y!==O.y){var Q=O.x+(I-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(Q<=W&&Q>X&&(X=Q,j=O.x<O.next.x?O:O.next,Q===W))return j}O=O.next}while(O!==U);if(!j)return null;var J=j,st=j.x,nt=j.y,ct=1/0,dt;O=j;do W>=O.x&&O.x>=st&&W!==O.x&&A(I<nt?W:X,I,st,nt,I<nt?X:W,I,O.x,O.y)&&(dt=Math.abs(I-O.y)/(W-O.x),b(O,B)&&(dt<ct||dt===ct&&(O.x>j.x||O.x===j.x&&g(j,O)))&&(j=O,ct=dt)),O=O.next;while(O!==J);return j}function g(B,U){return T(B.prev,B,U.prev)<0&&T(U.next,B,B.next)<0}function m(B,U,O,W){var I=B;do I.z===0&&(I.z=x(I.x,I.y,U,O,W)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==B);I.prevZ.nextZ=null,I.prevZ=null,p(I)}function p(B){var U,O,W,I,X,j,Q,J,st=1;do{for(O=B,B=null,X=null,j=0;O;){for(j++,W=O,Q=0,U=0;U<st&&(Q++,W=W.nextZ,!!W);U++);for(J=st;Q>0||J>0&&W;)Q!==0&&(J===0||!W||O.z<=W.z)?(I=O,O=O.nextZ,Q--):(I=W,W=W.nextZ,J--),X?X.nextZ=I:B=I,I.prevZ=X,X=I;O=W}X.nextZ=null,st*=2}while(j>1);return B}function x(B,U,O,W,I){return B=(B-O)*I|0,U=(U-W)*I|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,B|U<<1}function v(B){var U=B,O=B;do(U.x<O.x||U.x===O.x&&U.y<O.y)&&(O=U),U=U.next;while(U!==B);return O}function A(B,U,O,W,I,X,j,Q){return(I-j)*(U-Q)>=(B-j)*(X-Q)&&(B-j)*(W-Q)>=(O-j)*(U-Q)&&(O-j)*(X-Q)>=(I-j)*(W-Q)}function E(B,U){return B.next.i!==U.i&&B.prev.i!==U.i&&!P(B,U)&&(b(B,U)&&b(U,B)&&M(B,U)&&(T(B.prev,B,U.prev)||T(B,U.prev,U))||F(B,U)&&T(B.prev,B,B.next)>0&&T(U.prev,U,U.next)>0)}function T(B,U,O){return(U.y-B.y)*(O.x-U.x)-(U.x-B.x)*(O.y-U.y)}function F(B,U){return B.x===U.x&&B.y===U.y}function D(B,U,O,W){var I=V(T(B,U,O)),X=V(T(B,U,W)),j=V(T(O,W,B)),Q=V(T(O,W,U));return!!(I!==X&&j!==Q||I===0&&N(B,O,U)||X===0&&N(B,W,U)||j===0&&N(O,B,W)||Q===0&&N(O,U,W))}function N(B,U,O){return U.x<=Math.max(B.x,O.x)&&U.x>=Math.min(B.x,O.x)&&U.y<=Math.max(B.y,O.y)&&U.y>=Math.min(B.y,O.y)}function V(B){return B>0?1:B<0?-1:0}function P(B,U){var O=B;do{if(O.i!==B.i&&O.next.i!==B.i&&O.i!==U.i&&O.next.i!==U.i&&D(O,O.next,B,U))return!0;O=O.next}while(O!==B);return!1}function b(B,U){return T(B.prev,B,B.next)<0?T(B,U,B.next)>=0&&T(B,B.prev,U)>=0:T(B,U,B.prev)<0||T(B,B.next,U)<0}function M(B,U){var O=B,W=!1,I=(B.x+U.x)/2,X=(B.y+U.y)/2;do O.y>X!=O.next.y>X&&O.next.y!==O.y&&I<(O.next.x-O.x)*(X-O.y)/(O.next.y-O.y)+O.x&&(W=!W),O=O.next;while(O!==B);return W}function w(B,U){var O=new z(B.i,B.x,B.y),W=new z(U.i,U.x,U.y),I=B.next,X=U.prev;return B.next=U,U.prev=B,O.next=I,I.prev=O,W.next=O,O.prev=W,X.next=W,W.prev=X,W}function C(B,U,O,W){var I=new z(B,U,O);return W?(I.next=W.next,I.prev=W,W.next.prev=I,W.next=I):(I.prev=I,I.next=I),I}function k(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function z(B,U,O){this.i=B,this.x=U,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(B,U,O,W){var I=U&&U.length,X=I?U[0]*O:B.length,j=Math.abs(H(B,0,X,O));if(I)for(var Q=0,J=U.length;Q<J;Q++){var st=U[Q]*O,nt=Q<J-1?U[Q+1]*O:B.length;j-=Math.abs(H(B,st,nt,O))}var ct=0;for(Q=0;Q<W.length;Q+=3){var dt=W[Q]*O,Tt=W[Q+1]*O,At=W[Q+2]*O;ct+=Math.abs((B[dt]-B[At])*(B[Tt+1]-B[dt+1])-(B[dt]-B[Tt])*(B[At+1]-B[dt+1]))}return j===0&&ct===0?0:Math.abs((ct-j)/j)};function H(B,U,O,W){for(var I=0,X=U,j=O-W;X<O;X+=W)I+=(B[j]-B[X])*(B[X+1]+B[j+1]),j=X;return I}return s.flatten=function(B){for(var U=B[0][0].length,O={vertices:[],holes:[],dimensions:U},W=0,I=0;I<B.length;I++){for(var X=0;X<B[I].length;X++)for(var j=0;j<U;j++)O.vertices.push(B[I][X][j]);I>0&&(W+=B[I-1].length,O.holes.push(W))}return O},_0.exports}var m_=y_();const Lw=ET(m_);class Iw{constructor(){this.i=!0}o(){return this.i}}let p_=class extends Iw{constructor(t,e){super(),this.u=t,this.i=e}S(t){return t!==this.u&&(this.u=t,this.i=!0),this}M(){return this.u}o(){return super.o()}};const Y=(s,t)=>({x:s,y:t}),wa=(s,t)=>({x:s,y:t}),_n=(s,t,e)=>({position:s,high:t,low:e}),It=(s,t,e)=>({x:s,y:t,z:e}),Uw=s=>{const t=Array(0),e=Array(0);return s.length>0&&s.forEach(i=>{t.push(Y(i.position,i.high)),e.push(Y(i.position,i.low))}),[t,e]},se=(s,t)=>({min:s,max:t}),Ow=(s,t,e,i)=>({x:Math.ceil(s),y:Math.ceil(t),width:Math.ceil(e),height:Math.ceil(i)}),qt=(s,t=!0)=>new p_(s,t),oo=(s=0,t=0,e=0,i=0)=>({left:s,top:t,right:e,bottom:i}),od=oo,ru=(s,t)=>({left:t.left!==void 0?t.left:s.left,top:t.top!==void 0?t.top:s.top,right:t.right!==void 0?t.right:s.right,bottom:t.bottom!==void 0?t.bottom:s.bottom}),S_=Re({type:"color",r:1,g:1,b:1,a:1});class mn extends S_{constructor(t){super(t)}toUint32(){return this._!==void 0||(this._=v_(this.getR(),this.getG(),this.getB(),this.getA())),this._}toString(){return`color:${this.r},${this.g},${this.b},${this.a}`}setA(t){return this.set("a",t/255)}setR(t){return this.set("r",t/255)}setG(t){return this.set("g",t/255)}setB(t){return this.set("b",t/255)}getA(){return 255*this.get("a")}getR(){return 255*this.get("r")}getG(){return 255*this.get("g")}getB(){return 255*this.get("b")}getHighlight(){return this.C||(this.C=new mn({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.C}getLighter(){return this.T||(this.T=new mn({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.T}getDarker(){return this.F||(this.F=new mn({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.F}toRGBAString(){return`rgba( ${255*this.r}, ${255*this.g}, ${255*this.b}, ${255*this.a} )`}}const Td=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="color"),L=(s,t,e,i=255)=>new mn({r:s/255,g:t/255,b:e/255,a:i/255}),Ys=s=>{const t=s.startsWith("#")?s.substring(1):s.startsWith("0x")?s.substr(2):s;switch(t.length){case 8:return new mn({r:+`0x${t.substring(0,2)}`/255,g:+`0x${t.substring(2,4)}`/255,b:+`0x${t.substring(4,6)}`/255,a:+`0x${t.substring(6,8)}`/255});case 6:return new mn({r:+`0x${t.substring(0,2)}`/255,g:+`0x${t.substring(2,4)}`/255,b:+`0x${t.substring(4,6)}`/255});case 4:return new mn({r:+`0x${t.charAt(0)}${t.charAt(0)}`/255,g:+`0x${t.charAt(1)}${t.charAt(1)}`/255,b:+`0x${t.charAt(2)}${t.charAt(2)}`/255,a:+`0x${t.charAt(3)}${t.charAt(3)}`/255});case 3:return new mn({r:+`0x${t.charAt(0)}${t.charAt(0)}`/255,g:+`0x${t.charAt(1)}${t.charAt(1)}`/255,b:+`0x${t.charAt(2)}${t.charAt(2)}`/255});default:throw new Error(`ColorHEX parsing error | input: ${s}`)}},x_=(s,t=1,e=1)=>{let i,r,n;s/=360;const a=Math.floor(6*s),o=6*s-a,l=e*(1-t),u=e*(1-o*t),d=e*(1-(1-o)*t);switch(a%6){case 0:i=e,r=d,n=l;break;case 1:i=u,r=e,n=l;break;case 2:i=l,r=e,n=d;break;case 3:i=l,r=u,n=e;break;case 4:i=d,r=l,n=e;break;default:i=e,r=l,n=u}return new mn({r:i,g:r,b:n})},A_=s=>L(255&s,255&(s>>=8),255&(s>>=8),255&(s>>=8)),Hh=new mn({}),ti=L(0,0,0,0),v_=(s,t,e,i=255)=>(i<<24|e<<16|t<<8|s)>>>0,b_=(s,t)=>s.value-t.value,M_=Re({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:L(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1}),$M=s=>{const{steps:t}=s,e=t.length;t.sort(b_);const[i,r]=e>0?[t[0].value,t[e-1].value]:[0,0],n=e>0?e-1:0,a=Array(n);for(let o=0;o<n;o+=1)a[o]={min:t[o],max:t[o+1]};return{min:i,max:r,length:e,steps:t,subranges:a,isValid:e>0&&i!==r}};class R_ extends M_{constructor(t){super(((e,i)=>({steps:e.steps,title:e.title,units:e.units,interpolate:e.interpolate,percentageValues:e.percentageValues,color:e.color,length:i.length,min:i.min,max:i.max,subranges:i.subranges,isValid:i.isValid}))(t,$M(t)))}toString(){return`LUT:interpolate=${this.interpolate},steps=${this.steps.length},percentage=${this.percentageValues}`}setSteps(t){return this.merge($M({...this,steps:t}))}getSteps(){return this.get("steps")}setTitle(t){return this.set("title",t)}getTitle(){return this.get("title")}setUnits(t){return this.set("units",t)}getUnits(){return this.get("units")}setInterpolation(t){return this.set("interpolate",t)}getInterpolation(){return this.get("interpolate")}setFallbackColor(t){return this.set("color",t)}getFallbackColor(){return this.get("color")}setPercentageValues(t){return this.set("percentageValues",t)}getPercentageValues(){return this.get("percentageValues")}getColors(t){if(Array.isArray(t)){if(Array.isArray(t[0])){const n=t,a=n.length,o=n[0].length,l=[...Array(a)].map(()=>Array(o));for(let u=0;u<a;u+=1)for(let d=0;d<o;d+=1)l[u][d]=this.I(n[u][d]);return l}const e=t,i=e.length,r=Array(i);for(let n=0;n<i;n+=1)r[n]=this.I(e[n]);return r}return this.I(t)}I(t){const{steps:e}=this,i=e.length;if(i===0)return this.getFallbackColor();if(i===1)return e[0].color||this.color;if(this.interpolate){for(let o=0;o<i-1;o+=1){const l=e[o],u=e[o+1],d=Math.min(l.value,u.value),f=Math.max(l.value,u.value);if(t>=d&&t<=f){if(d===f)return l.color;const g=(t-l.value)/(u.value-l.value);return r=l.color,n=u.color,a=g,new mn({r:r.r+(n.r-r.r)*a,g:r.g+(n.g-r.g)*a,b:r.b+(n.b-r.b)*a,a:r.a+(n.a-r.a)*a})}}return t<e[0].value?e[0].color:e[i-1].color}var r,n,a;for(let o=i-1;o>=0;o-=1)if(t>=e[o].value)return e[o].color;return e[0].color}}const E_=Re({type:"fillstyle",fillType:"empty"});class T_ extends E_{toString(){return"emptyFill"}}const Nt=new T_,Gw=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="empty"),w_=Re({type:"fillstyle",fillType:"solid",color:L(255,255,255)});class Yw extends w_{}class rt extends Yw{constructor(t){super({...t,fillType:"solid"})}toString(){return`solidFill:${this.color.toString()}`}setColor(t){return Td(t)?this.set("color",t):this.set("color",t(this.get("color")))}getColor(){return this.get("color")}setA(t){return this.setColor(this.getColor().setA(t))}setR(t){return this.setColor(this.getColor().setR(t))}setG(t){return this.setColor(this.getColor().setG(t))}setB(t){return this.setColor(this.getColor().setB(t))}}const fe=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="solid");class jM extends Yw{constructor(t){super({...t,fillType:"individual"})}toString(){return`individualPointFill:${this.color.toString()}`}setFallbackColor(t){return Td(t)?this.set("color",t):this.set("color",t(this.get("color")))}getFallbackColor(){return this.get("color")}}const Gs=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="individual");Re({type:"fillstyle",fillType:"palette",lut:new R_({steps:[]}),lookUpProperty:"value"});const Bi=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="palette"),Yr={linear:(s,t,e)=>{const i=t-s;return r=>r<e?s+i/e*r:t},easeIn:(s,t,e)=>i=>i<e?s+Math.abs(2*(Math.sqrt(.5)*i/e)**2)*(t-s):t,easeOut:(s,t,e)=>i=>i<e?s+Math.abs(1-2*(Math.sqrt(.5)*(1-i/e))**2)*(t-s):t,ease:(s,t,e)=>i=>i<e?s+(i<e/2?.5*(i/e*2)**2.5:.5+.5*(1-(1-2*(i/e-.5))**2.5))*(t-s):t,logarithmic:s=>{const t=bA(s);return(e,i,r)=>{const n=t(e),a=t(i);return o=>o<r?s**(n+Math.abs(1-2*(Math.sqrt(.5)*(1-o/r))**2)*(a-n)):i}}};class xA{constructor(t,e,i,r=Yr.linear,n){this.delta=0,this.nextAnimations=new Array,this.P=!1,this.easing=Yr.linear,this.D=new qi,this.isOver=()=>(this.delta===this.duration||this.P)&&this.nextAnimations.length===0,this.values=t,this.action=e,this.duration=i,this.easing=r,this.L=n,this.eases=t.map(([a,o])=>r(a,o,i))}R(){this.D.emit("start")}start(){return this.L.includes(this)||this.L.push(this),this}addNextAnimations(t){return t instanceof Array?t.forEach(e=>this.nextAnimations.push(e)):this.nextAnimations.push(t),this}NextAnimation(t,e,i=this.duration,r=this.easing){const n=new xA(t,e,i,r,this.L);return this.nextAnimations.push(n),n}onAnimationStart(t,e){return this.D.on("start",t,e)}onAnimationEnd(t,e){return this.D.on("end",t,e)}onEveryAnimationEnd(t,e){return this.D.on("everyEnd",t,e)}onAllAnimationEnd(t,e){return this.D.on("allEnd",t,e)}allOffAnimationEnd(){return this.D.topicOff("end"),this}allOffEveryAnimationEnd(){return this.D.topicOff("everyEnd"),this}allOffAllAnimationEnd(){return this.D.topicOff("allEnd"),this}offAnimationEnd(t){return this.D.off(t,"end")}offEveryAnimationEnd(t){return this.D.off(t,"everyEnd")}offAllAnimationEnd(t){return this.D.off(t,"allEnd")}finish(t=!0){if(this.P=!0,this.L.splice(this.L.indexOf(this),1),this.nextAnimations.length>0){const e=this.nextAnimations[0];return t&&(this.D.listeners("allEnd").forEach((i,r)=>e.onAllAnimationEnd(i,r)),this.D.listeners("everyEnd").forEach((i,r)=>e.onEveryAnimationEnd(i,r))),e.addNextAnimations(this.nextAnimations.slice(1)),e.start(),t&&(this.D.emit("end",e),this.D.emit("everyEnd",e)),e}t&&(this.D.emit("end",void 0),this.D.emit("everyEnd",void 0),this.D.emit("allEnd"))}finishAll(t=!0){let e=this;for(;e;)e=e.finish(t)}getFinalValues(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map(ZM):this.values.map(ZM)}getTimeUntilFinish(){let t=this.duration-this.delta;for(let e=0;e<this.nextAnimations.length;e+=1)t+=this.nextAnimations[e].duration-this.nextAnimations[e].delta;return t}}const Ca=(s,t=60)=>{t>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");const e=[];let i,r,n=0;const a=()=>{i=void 0;const o=Date.now();r=r||o,n=o-r,n/1e3>=1/t&&(r=Date.now()-n%(1e3/t),e.forEach(l=>{l.delta===0&&l.R(),l.delta+=n-n%(1e3/t),l.delta>l.duration&&(l.delta=l.duration),l.action(l.eases.map(u=>u(l.delta))),l.delta===l.duration&&l.finish()}),s()),e.length>0?i=ht.requestAnimationFrame(a):(i=void 0,r=void 0)};return(o=1e3,l=Yr.linear)=>(u,d,f=o)=>{const g=new xA(u,d,f,l,e).start();return i||(i=ht.requestAnimationFrame(a)),g}};var Us,Os;(function(s){s.circle="circle",s.ellipse="ellipse"})(Us||(Us={})),function(s){s.closestSide="closest-side",s.closestCorner="closest-corner",s.farthestSide="farthest-side",s.farthestCorner="farthest-corner"}(Os||(Os={}));const C_=Re({type:"fillstyle",fillType:"radial-gradient",stops:[{color:Ys("#f00"),offset:0},{color:Ys("#0f0"),offset:1}],position:Y(.5,.5),shape:Us.ellipse,extent:Os.farthestCorner});class Rs extends C_{constructor(t){if(super(t),t===null||t&&t.stops===null||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.")}toString(){return`radialGradientFill:${this.shape},${this.extent},${this.position.x},${this.position.y},${this.stops.map(t=>`${t.offset},${t.color.toString()}`).join(",")}`}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)}getColorStops(){return this.get("stops")}setPosition(t){return this.set("position",t)}getPosition(){return this.get("position")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}setExtent(t){return this.set("extent",t)}getExtent(){return this.get("extent")}}const gi=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="radial-gradient"),k_=Re({type:"fillstyle",fillType:"linear-gradient",stops:[{color:Ys("#f00"),offset:0},{color:Ys("#0f0"),offset:1}],angle:0});class Vs extends k_{constructor(t){if(super(t),t===null||t&&t.stops===null||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.")}toString(){return`linearGradientFill:${this.angle},${this.stops.map(t=>`${t.offset},${t.color.toString()}`).join(",")}`}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");const e=t.sort((i,r)=>i.offset-r.offset);return this.set("stops",e)}getColorStops(){return this.get("stops")}setAngle(t,e){return this.set("angle",e?uC(t):t)}getAngle(t){return t?Ur(this.get("angle")):this.get("angle")}}const yi=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="linear-gradient"),D_=Re({type:"linestyle",lineType:"empty"}),bt=new class extends D_{constructor(){super(...arguments),this.thickness=0}setThickness(s){return this}getThickness(){return 0}V(){return 0}setFillStyle(s){return this}getFillStyle(){return Nt}},qM=s=>!(!s||typeof s!="object"||!("lineType"in s)||s.lineType!=="empty");class Hw{constructor(t,e,i,r){this.cellIndex=t,this.cellSpan=e,this.cellsAmount=i,this.observedAmount=r,this.x=new aS,this.y=new aS,this.z=new aS,this.D=new qi;const n={...t},a={...e};if(r){const o=f=>{this.cellsAmount.x=f.reduce(wd,0),this.cellIndex.x=f.reduce((g,m,p)=>p>=n.x?g:g+m,0),this.cellSpan.x=f.reduce((g,m,p)=>p>=n.x&&p<n.x+a.x?g+m:g,0),this.D.emit("cell-resize")},l=r.x.O(o);o(r.x.M());const u=f=>{this.cellsAmount.y=f.reduce(wd,0),this.cellIndex.y=f.reduce((g,m,p)=>p>=n.y?g:g+m,0),this.cellSpan.y=f.reduce((g,m,p)=>p>=n.y&&p<n.y+a.y?g+m:g,0),this.D.emit("cell-resize")},d=r.y.O(u);u(r.y.M()),this.N=()=>{r.x.G(l),r.y.G(d)}}}W(){return this.N&&(this.N(),this.N=void 0),this}U(t){return this.D.on("cell-resize",t)}Y(t){return this.D.off(t,"cell-resize")}}class aS extends Iw{constructor(){super(...arguments),this.H=0,this.$=10,this.X=1}j(){return this.i=!1,this}Z(){return this.i=!0,this}getInnerStart(){return this.H}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.getInnerEnd()-this.getInnerStart())}J(t,e){return this.H=t,this.$=e,this.K(),this}q(t){return this.X=t,this.K(),this}tt(t){return t/this.X}K(){const t=this.tt(this.$-this.H),e=this.X;this.it!==void 0&&ki(t,this.it)!==!1||(this.i=!0,this.st=e,this.it=t)}et(){return this.it}ht(){return this.st}rt(){return this.$<this.H}nt(t,e){return!0}}const ws={d1:s=>new s.scale1DConstructor(0,1,1,void 0),d2:s=>new s.scaleXYConstructor().ot({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0),d3:()=>new Hw({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},Su=(s,t,e)=>t===e?s:e.ut(t.ct(s)),mt=(s,t,e)=>{if(t===e)return s;const i=t instanceof zn?t.x:t.x instanceof zn?t.x.x:t.x.dt,r=t instanceof zn?t.y:t.y instanceof zn?t.y.y:t.y.dt,n=e instanceof zn?e.x:e.x instanceof zn?e.x.x:e.x.dt,a=e instanceof zn?e.y:e.y instanceof zn?e.y.y:e.y.dt;return{...s,x:Su(s.x,i,n),y:Su(s.y,r,a)}},F_=(s,t,e)=>{if(t.id==="axes"&&e.id==="world")return t.chart.At.ft(s);if(t.id==="world"&&e.id==="axes")return t.chart.At.yt(s);if(t.id===e.id)return s;throw new Error("LC JS translatePoint3D misusage | originCoordinateSystem and targetCoordinateSystem arguments must be either Chart3D.coordsWorld or Chart3D.coordsAxis")},__=(...s)=>{if(s.length===0)return{remove:ae};let t=!1;const e=s.map(n=>n.onIntervalChange((a,o,l)=>((u,d,f)=>{t||(t=!0,s.filter(g=>g!==u).forEach(g=>g.St(d,f,!1,u.getStopped(),"synchronizedAxis")),t=!1)})(n,o,l)));let i=!1;const r=s.map(n=>n.onStoppedStateChanged((a,o)=>((l,u)=>{i||(i=!0,s.filter(d=>d!==l).forEach(d=>d.setStopped(u)),i=!1)})(n,o)));return{remove:()=>{s.forEach((n,a)=>{n.offIntervalChange(e[a]),n.offStoppedStateChanged(r[a])})}}};class dd extends Error{constructor(t,e){super(`ChartError: ${t} ${e?`in ${e.constructor.name}`:""}`),Object.setPrototypeOf(this,dd.prototype)}}class zi extends Error{constructor(t,e,i=!1){const r=`EngineError: ${t} ${e?`in ${e.constructor.name}`:""}`;super(r),i&&ht.alert(r),Object.setPrototypeOf(this,zi.prototype)}}class AA extends zi{constructor(t){super(t),Object.setPrototypeOf(this,AA.prototype)}}var ke,Lr,ze,Qt;(function(s){s[s.Content=0]="Content",s[s.PaddedContent=1]="PaddedContent",s[s.PaddedBackground=2]="PaddedBackground",s[s.Everything=3]="Everything"})(ke||(ke={})),function(s){s[s.never=0]="never",s[s.always=1]="always",s[s.whenHovered=2]="whenHovered",s[s.whenDragged=3]="whenDragged",s[s.whenNotDragged=4]="whenNotDragged",s[s.whenHoveredOrDragged=5]="whenHoveredOrDragged"}(Lr||(Lr={})),function(s){s[s.notDraggable=0]="notDraggable",s[s.draggable=1]="draggable",s[s.onlyHorizontal=2]="onlyHorizontal",s[s.onlyVertical=3]="onlyVertical"}(ze||(ze={})),function(s){s[s.Up=0]="Up",s[s.Right=1]="Right",s[s.Down=2]="Down",s[s.Left=3]="Left"}(Qt||(Qt={}));const ht=typeof window<"u"?window:typeof global<"u"&&global._lcjs?global._lcjs:{},JM=(s,t)=>s.x===t.x&&s.y===t.y,V0=s=>s!==Rt&&s!==Ft&&!Number.isNaN(s)&&Number.isFinite(s)&&s!==1/0&&s!==-1/0,ZM=s=>s[1],Gh=s=>s.dispose(),ae=()=>{},ki=(s,t)=>s===t,ee=(s,t,e)=>e>t?Math.min(Math.max(s,t),e):Math.min(Math.max(s,e),t),xg=s=>Array.prototype.concat.apply([],s),Ne=(s,t)=>s!==void 0?s:t,Xw=s=>s.vt(),Ww=s=>s.bt(),$w=s=>s.xt(),jw=s=>s.Mt(),qw=s=>s.min.x,Jw=s=>s.max.x,Zw=s=>s.min.y,Qw=s=>s.max.y,jo=(s,t,e,i,r)=>{if(s.length>0){let n=r?i(r):void 0;for(let a=0;a<s.length;a+=1){const o=t(s[a]);o!==void 0&&(n=n!==void 0?e(n,o):o)}return n}if(r)return i(r)},QM=(s,t)=>s.position===t.position&&s.high===t.high&&s.low===t.low,V_=Y(0,1),z_=Y(1,0),N_=Y(0,-1),B_=Y(-1,0),P_=Y(0,0),Kw=s=>{switch(s){case Qt.Up:return V_;case Qt.Right:return z_;case Qt.Down:return N_;case Qt.Left:return B_;default:return P_}},KM=s=>s===Qt.Left||s===Qt.Right,vt=s=>{s.stopPropagation(),s.preventDefault()},Ch=(s,t)=>{if(!t)return s;const e=s.length,i=new Float32Array(2*e);let r=0;for(let n=0;n<e;n+=1){const a=s[n],o=Math.fround(a);i[r+0]=o,i[r+1]=a-o,r+=2}return i},Hr=(s,t)=>{if(!t){const n=s.length,a=new Float32Array(2*n);let o=0;for(let l=0;l<n;l+=1){const u=s[l];a[o+0]=u.x,a[o+1]=u.y,o+=2}return a}const e=s.length,i=new Float32Array(4*e);let r=0;for(let n=0;n<e;n+=1){const a=s[n],o=Math.fround(a.x),l=Math.fround(a.y);i[r+0]=o,i[r+1]=l,i[r+2]=a.x-o,i[r+3]=a.y-l,r+=4}return i},vA=s=>{const t=s.length,e=new Float32Array(3*t);let i=0;for(let r=0;r<t;r+=1){const n=s[r];e[i+0]=n.x,e[i+1]=n.y,e[i+2]=n.z,i+=3}return e},tC=s=>t=>{const e=s.indexOf(t);e>=0&&s.splice(e,1)},eC=s=>{let t=s.length;for(let e=0;e<t-1;e+=1)s[e].x===s[e+1].x&&s[e].y===s[e+1].y&&(s.splice(e,1),e-=1,t-=1);return s},bA=s=>{const t=Math.log(s);return e=>Math.log(e)/t},L_=bA(Math.E),iC=(s,t)=>{const e=t[s];return e?e():void 0},tR=(s,t)=>{let e;if(t)e=t;else{const i={x:0,y:0};for(let r=0;r<s.length;r+=1)i.x+=s[r].x/s.length,i.y+=s[r].y/s.length;e=i}return s.sort((i,r)=>rx(be(i,e))-rx(be(r,e)))},Es=(s,t,e)=>{if(s.length===0)return e.canReturnB===!1?t.slice():t;const i=t.length;if(i<1e5)return s.push.apply(s,t),s;for(let r=0;r<i;r+=1)s.push(t[r]);return s},_s=(s,t,e)=>e<0?s:e>1?t:L(s.getR()+e*(t.getR()-s.getR()),s.getG()+e*(t.getG()-s.getG()),s.getB()+e*(t.getB()-s.getB()),s.getA()+e*(t.getA()-s.getA())),tx=s=>s.getA()===255?s:s.setA(255),Ag=(()=>{const s=L(0,0,0);return t=>(t=tx(t),new Rs({shape:Us.circle,extent:Os.farthestCorner,position:{x:.2,y:.8},stops:[{offset:0,color:t},{offset:1,color:_s(t,s,.5)}]}))})(),oi=(()=>{const s=t=>{var e;if(t){if(fe(t))return t.getColor().getA()===0?void 0:t.getColor();if(gi(t)||yi(t)){const i=t.getColorStops();return i.length===3?i[1].color:(e=i[0])===null||e===void 0?void 0:e.color}Bi(t)}};return(t,e,i,r)=>{const n=[];if(r.fill&&n.push(r.fill),r.fill2&&n.push(r.fill2),r.stroke){const u=r.stroke.getFillStyle();u!==Nt&&n.push(u)}if(r.point3D){const u=r.point3D;n.push(u.getFillStyle())}let a;if(r.behavior&&r.behavior.colorStep===!0){const[u,d]=n.reduce((f,g)=>{if(f[0]&&f[1])return f;const m=s(g);return m&&(f[0]===void 0?f[0]=m:f[1]=m),f},[void 0,void 0]);a=u&&d?(o=u)===(l=d)||o.getR()===l.getR()&&o.getG()===l.getG()&&o.getB()===l.getB()?Ag(o):(o=tx(o),l=tx(l),new Vs({angle:0,stops:[{offset:0,color:l},{offset:.5,color:l},{offset:.5,color:o},{offset:1,color:o}]})):e.uiButtonFillStyle}else{const u=n.reduce((d,f)=>d||s(f),void 0);a=u?i?new rt({color:u}):Ag(u):e.uiButtonFillStyle}var o,l;t.setButtonOnFillStyle(a)}})(),os=s=>{const t=s;if(Bi(t))return{lut:t.getPalette(),lookUpProperty:t.getLookUpProperty()}},MA=s=>{let t=0;return()=>(t+=1,`${s}-${t}`)},Fs=(s,t)=>{let e=typeof s=="string"?s:String(s);const i=e.indexOf(".");let r=i>=0?i:e.length;for(;r<t;r+=1)e=`0${e}`;return e},re=(s,t)=>typeof s=="function"?s(t):s,Qo=s=>s.ctrlKey?Math.sign(s.deltaY)*Math.min(.05*Math.abs(s.deltaY),1):Math.sign(s.deltaY),Qn=(s,t)=>t(),sC=()=>new Error(`LightningChart JS encountered an unexpected error.
Please report this issue to https://lightningchart.com/js-charts/docs/contact`);new rt({color:L(255,255,255,1)});const ex=s=>s===Ie||s.min.x===Ie.min.x&&s.max.x===Ie.max.x&&s.min.y===Ie.min.y&&s.max.y===Ie.max.y,Xo=s=>Array.from(new Set(s)),oS=s=>s.filter(t=>t!==void 0),Ko=s=>typeof s=="boolean"?s?1:0:s>1?1:s<0?0:s,rC=(s,t,e)=>{t.length<=0||(s.setText(e.label).setOn(t[0].getVisible()),e.style&&s.setButtonOnFillStyle(e.style),e.toggleVisibilityOnClick&&s.onSwitch((i,r)=>t.forEach(n=>n.setVisible(r))),s.onMouseEnter(()=>t.forEach(i=>i.setHighlight(!0))),s.onMouseLeave(()=>t.forEach(i=>i.setHighlight(!1))),t.forEach(i=>i.onMouseEnter(()=>s.setHighlight(!0))),t.forEach(i=>i.onMouseLeave(()=>s.setHighlight(!1))),t.forEach(i=>i.onTouchStart(()=>s.setHighlight(!0))),t.forEach(i=>i.onTouchEnd(()=>s.setHighlight(!1))))},Lu=(s,t)=>{throw new Error(t)},nC=()=>{const s=Ca(()=>{});let t;return(e,i,r,n)=>{const a=n==null?void 0:n.onStart,o=n==null?void 0:n.onCompleted,l=(n==null?void 0:n.easing)||Yr.ease,u=(n==null?void 0:n.durationMs)||1e3;let d;if(t)if(t.nextAnimations.length===0){const f=t.NextAnimation([[e,i]],([g])=>{t=f,r(g)},u,l);d=f}else{e=t.nextAnimations.pop().values[0][0];const f=t.NextAnimation([[e,i]],([g])=>{t=f,r(g)},u,l);d=f}else d=s(u,l)([[e,i]],([f])=>{r(f)}),t=d;d.onAnimationEnd(()=>{t=void 0}),a&&d.onAnimationStart(a),o&&d.onAnimationEnd(o)}},qd=s=>{let t;return()=>t||(t=s(),t)},Ks=s=>{if(s===bt)return 0;const t=s.getThickness();return t<0?1:1*t},aC=(s,t,e,i)=>{const r=`LightningChart JS Resources not found.
resourcesBaseUrl: "${s}"
initiator: ${e}
resource url: ${t}
For more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/`;if(i.shouldCrash)throw ht.alert(r),new Error(r);ht.console.warn(r)},hS=(s,t,e,i=0)=>{if(s<e(i)||e(t)<s)return;const r=t;for(;i!==t;){const a=Math.ceil((i+t)/2);s<e(a)?t=a-1:i=a}const n=Math.abs(s-e(i));return i<r&&Math.abs(s-e(i+1))<n?i+1:i},Iu=()=>{const s=new Map;return{_t:t=>(t.setMouseEnterEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.wt(e,i,r)}),t.setMouseLeaveEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Ct(e,i,r)}),t.setMouseClickEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.kt(e,i,r)}),t.setMouseDoubleClickEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Tt(e,i,r)}),t.setMouseDownEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Ft(e,i,r)}),t.setMouseUpEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.It(e,i,r)}),t.setMouseMoveEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Pt(e,i,r)}),t.setMouseDragEventHandler((e,i,r,n,a,o)=>{const l=o&&s.get(o);l&&l.Dt(e,i,r,n,a,o)}),t.setMouseDragStartEventHandler((e,i,r,n)=>{const a=n&&s.get(n);a&&a.Bt(e,i,r,n)}),t.setMouseDragStopEventHandler((e,i,r,n,a)=>{const o=a&&s.get(a);o&&o.Lt(e,i,r,n,a)}),t.setMouseWheelEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Rt(e,i,r)}),t.setTouchStartEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Et(e,i,r)}),t.setTouchMoveEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.zt(e,i,r)}),t.setTouchEndEventHandler((e,i,r)=>{const n=r&&s.get(r);n&&n.Vt(e,i,r)}),t),Ot:(t,e)=>{s.set(t,e)},Nt:()=>{s.clear()}}},ka={left:0,right:0,top:0,bottom:0},oC=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER),ix=(s,t,e)=>{t&&t.Gt();const i=e();return{Wt:s,Gt:()=>{i.forEach(r=>s.Ut(r))}}},gt={add:(s,t)=>It(s.x+t,s.y+t,s.z+t),addVec(s,...t){const e={x:s.x,y:s.y,z:s.z};for(const i of t)e.x+=i.x,e.y+=i.y,e.z+=i.z;return e},subtract:(s,t)=>It(s.x-t,s.y-t,s.z-t),subtractVec(s,...t){const e={x:s.x,y:s.y,z:s.z};for(const i of t)e.x-=i.x,e.y-=i.y,e.z-=i.z;return e},multiply:(s,t)=>It(s.x*t,s.y*t,s.z*t),divide:(s,t)=>It(s.x/t,s.y/t,s.z/t),multiplyVec(s,...t){const e={x:s.x,y:s.y,z:s.z};for(const i of t)e.x*=i.x,e.y*=i.y,e.z*=i.z;return e},divideVec(s,...t){const e={x:s.x,y:s.y,z:s.z};for(const i of t)e.x/=i.x,e.y/=i.y,e.z/=i.z;return e},length:s=>Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z),normalize:s=>gt.divide(s,gt.length(s)),dot:(s,t)=>s.x*t.x+s.y*t.y+s.z*t.z,cross:(s,t)=>It(s.y*t.z-s.z*t.y,s.z*t.x-s.x*t.z,s.x*t.y-s.y*t.x),angle:(s,t)=>Math.acos(gt.dot(s,t)/(gt.length(s)*gt.length(t))),rotateAroundAxis(s,t,e){const i=Math.cos(e),r=Math.sin(e),n=gt.dot(t,s),a=gt.cross(t,s);return gt.addVec(gt.multiply(s,i),gt.addVec(gt.multiply(t,(1-i)*n),gt.multiply(a,r)))},lerp:(s,t,e)=>(e=ee(e,0,1),gt.addVec(gt.multiply(s,1-e),gt.multiply(t,e))),equals:(s,t)=>ki(s.x,t.x)&&ki(s.y,t.y)&&ki(s.z,t.z),abs:s=>({x:Math.abs(s.x),y:Math.abs(s.y),z:Math.abs(s.z)}),sign:s=>({x:Math.sign(s.x),y:Math.sign(s.y),z:Math.sign(s.z)})},Rt=Number.MAX_SAFE_INTEGER,Ft=-Number.MAX_SAFE_INTEGER,Ie=se(Y(Rt,Rt),Y(Ft,Ft)),Ir=se(It(Rt,Rt,Rt),It(Ft,Ft,Ft)),sx=(s,t)=>{const e=Math.log(s)/Math.log(t);return Math.floor((i=>(Math.ceil(i)-i<1e-4?i=Math.ceil(i):i-Math.floor(i)<1e-4&&(i=Math.floor(i)),i))(e))},vg=(s,t)=>!(t.min.x>s.max.x||t.max.x<s.min.x||t.min.y>s.max.y||t.max.y<s.min.y),bg=(s,t)=>!(s[1].x<t[0].x||s[0].x>t[1].x||s[3].y<t[0].y||s[0].y>t[3].y),hC=(s,t)=>se(Y(Math.max(Math.min(s[0].x,s[2].x),Math.min(t[0].x,t[2].x)),Math.max(Math.min(s[0].y,s[2].y),Math.min(t[0].y,t[2].y))),Y(Math.min(Math.max(s[0].x,s[2].x),Math.max(t[0].x,t[2].x)),Math.min(Math.max(s[0].y,s[2].y),Math.max(t[0].y,t[2].y)))),lC=s=>{const t=s.length;for(let e=0;e<t;e+=1)for(let i=e+1;i<t;i+=1)if(vg(s[e],s[i]))return!0;return!1},wd=(s,t)=>t+s,I_=(s,t,e)=>{const i=be(t,s),r=i.x*i.x+i.y*i.y;if(r===0)return s;const n=be(e,s),a=(n.x*i.x+n.y*i.y)/r;return a<=0?s:a>=1?t:Y(s.x+a*i.x,s.y+a*i.y)},Aa=(s,t,e)=>e>t?s>=t&&s<=e:s>=e&&s<=t,Da=(s,t)=>{const e=s.x-t.x,i=s.y-t.y;return Math.sqrt(e*e+i*i)},eR=(s,t)=>{const e=s.x-t.x,i=s.y-t.y;return e*e+i*i},fo=(s,t,e)=>Bt(s,Wt(be(t,s),e)),lS=(s,t,e)=>gt.addVec(s,gt.multiply(gt.subtractVec(t,s),e));function ei(s){const t=s.length;if(t>0){let e=s[0].x,i=s[0].x,r=s[0].y,n=s[0].y;for(let a=0;a<t;a+=1){const o=s[a];o.x>e&&(e=o.x),o.x<i&&(i=o.x),o.y>r&&(r=o.y),o.y<n&&(n=o.y)}return se(Y(i,n),Y(e,r))}return Ie}function RA(s){const t=s.length;if(t>0){let e=s[0].x,i=s[0].x,r=s[0].y,n=s[0].y,a=s[0].z,o=s[0].z;for(let l=0;l<t;l+=1){const u=s[l];u.x>e&&(e=u.x),u.x<i&&(i=u.x),u.y>r&&(r=u.y),u.y<n&&(n=u.y),u.z>a&&(a=u.z),u.z<o&&(o=u.z)}return se(It(i,n,o),It(e,r,a))}return Ir}const ur=(...s)=>{const t={min:{x:Rt,y:Rt},max:{x:Ft,y:Ft}};for(const e of s)t.min.x=t.min.x<e.min.x?t.min.x:e.min.x,t.max.x=t.max.x>e.max.x?t.max.x:e.max.x,t.min.y=t.min.y<e.min.y?t.min.y:e.min.y,t.max.y=t.max.y>e.max.y?t.max.y:e.max.y;return t},Mg=(s,t)=>se(It(s.min.x<t.min.x?s.min.x:t.min.x,s.min.y<t.min.y?s.min.y:t.min.y,s.min.z<t.min.z?s.min.z:t.min.z),It(s.max.x>t.max.x?s.max.x:t.max.x,s.max.y>t.max.y?s.max.y:t.max.y,s.max.z>t.max.z?s.max.z:t.max.z));function U_(s,t,e,i){const r=s.x-i.x,n=s.y-i.y,a=i.x-e.x,o=e.y-i.y,l=o*r+a*n,u=(i.y-t.y)*r+(t.x-i.x)*n,d=o*(t.x-i.x)+a*(t.y-i.y);return d<0?l<=0&&u<=0&&l+u>=d:l>=0&&u>=0&&l+u<=d}function va(s,t,e){return Y(Math.cos(e)*(s.x-t.x)+Math.sin(e)*(s.y-t.y)+t.x,-Math.sin(e)*(s.x-t.x)+Math.cos(e)*(s.y-t.y)+t.y)}function iR(s,t){return Y(s.x-t.x,s.y-t.y)}function hr(s){const t=go(s);return t===0?Y(0,0):Y(s.x/t,s.y/t)}function ny(s,t){let e={x:t.x-s.x,y:t.y-s.y};e=hr(e);const i=Math.PI/2,r=e.x;return e.x=-Math.sin(i)*e.y,e.y=r*Math.sin(i),e}function go(s){return Math.sqrt(s.x*s.x+s.y*s.y)}function Wt(s,t){return Y(s.x*t,s.y*t)}function Bt(s,t){return Y(s.x+t.x,s.y+t.y)}function be(s,t){return Y(s.x-t.x,s.y-t.y)}function lr(s,t){return Y(s.x*t.x,s.y*t.y)}function fd(s,t){return Y(s.x/t.x,s.y/t.y)}function sR(s){return Wt(s,-1)}function uS(s,t){return s.x*t.x+s.y*t.y}const Kl=(s,t,e)=>{const i=(e.y-t.y)/(e.x-t.x),r=t.y+(s-t.x)*i;return Y(s,r)},EA=(s,t,e)=>{const i=(e.y-t.y)/(e.x-t.x),r=t.x+(s-t.y)/i;return Y(r,s)};function Ur(s){return s*Math.PI/180}function uC(s){return 180*s/Math.PI}function rx(s){return 180*Math.atan2(s.y,s.x)/Math.PI}function TA(s){return Y(Math.cos(s),Math.sin(s))}function rR(s){let t=-1;const e=Math.cos(s),i=Math.sin(s);return e>0&&e<1&&i>0&&i<1?t=1:e<0&&e>-1&&i>0&&i<1?t=2:e<0&&e>-1&&i<0&&i>-1?t=3:e>0&&e<1&&i<0&&i>-1&&(t=4),t}const nx=(s,t,e,i)=>{let r,n,a,o;if(t.x-s.x!=0||i.x-e.x!=0)return t.x-s.x==0?(a=t.x,n=(i.y-e.y)/(i.x-e.x),o=n*(a-e.x)+e.y):i.x-e.x==0?(a=i.x,r=(t.y-s.y)/(t.x-s.x),o=r*(a-s.x)+s.y):(r=(t.y-s.y)/(t.x-s.x),n=(i.y-e.y)/(i.x-e.x),a=(e.y-n*e.x+r*s.x-s.y)/(r-n),o=r*(a-s.x)+s.y),Y(a,o)},nR=(s,t)=>{const e=s.length,i=t.length,r=new Uint16Array(e+i);return r.set(s,0),r.set(t,e),r};class O_{constructor(){this.Yt=!0}getInnerStart(){return this.H}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.$-this.H)}J(t,e){return this.Yt=t!==this.H||e!==this.$,this.H=t,this.$=e,this}j(){return this.Yt=!1,this}Z(){return this.Yt=!0,this}}class cC extends O_{constructor(t,e,i,r){if(super(),this.Ht=!0,this.$t=!0,this.Xt=[0,0],this.jt=!0,this.Zt=t,this.Qt=e,this.Jt=i,this.Kt=t,this.qt=e,r){const n=r.O(this.ti.bind(this));this.ti(r.M()),this.ii=()=>r.G(n)}}q(t){return this.X=t,this.$t=!0,this}si(t){return this.Xt=t.map(Math.abs),this.jt=!0,this}ei(){return this.Zt/this.Jt*this.X+this.Xt[0]}hi(){return(this.Zt+this.Qt)/this.Jt*this.X-this.Xt[1]}ri(){return this.getCellSize()-this.ni()}oi(){return this.X}getCellSize(){return this.ai(this.X)}ni(){return this.Xt[0]+this.Xt[1]}li(){return this.Xt}ti(t){this.Jt=t.reduce(wd,0),this.Zt=t.reduce((e,i,r)=>r>=this.Kt?e:e+i,0),this.Qt=t.reduce((e,i,r)=>r>=this.Kt&&r<this.Kt+this.qt?e+i:e,0),this.Ht=!0,this.ui()}ai(t){return t*this.Qt/this.Jt}j(){return super.j(),this.$t=!1,this.jt=!1,this.Ht=!1,this}Z(){return super.Z(),this.$t=!0,this.jt=!0,this.Ht=!0,this}}class nh extends cC{constructor(t,e,i,r){super(t,e,i,r),this.ci={internal:10,function:Ih(10),number:10},this.X=1e3,this.J(1,1e3),this.di=this.fi()}nt(t,e,i,r,n){if(t===e)return!1;const a=Math.min(t,e)<z0,o=Math.max(t,e)>cS;return!a&&!o||!!n&&(e>t?{start:a?z0:t,end:o?cS:e}:{start:o?cS:t,end:a?z0:e})}ct(t){const e=this.ei(),i=this.hi(),r=Math.max(t,z0);return e+(this.ci.function(r)-this.di.scaleStartLog)/this.di.scaleIntervalLog*(i-e)}ut(t){const e=this.ei(),i=(t-e)/(this.hi()-e),r=this.di.scaleStartLog+i*this.di.scaleIntervalLog;return this.ci.number**r}ui(){this.ci&&this.fi()}J(t,e){return super.J(t,e),this.ci&&this.fi(),this}si(t){return super.si(t),this.ci&&this.fi(),this}q(t){return super.q(t),this.ci&&this.fi(),this}Ai(t){return this.ci={internal:t,function:Ih(t),number:xu(t)},this}gi(){return this.ci.internal}mi(t,e){const i=this.ct(t)+e;return this.ut(i)}yi(){return this.$t||this.Yt||this.jt||this.Ht}fi(){const t=this.ci.function(this.H),e=this.ci.function(this.$)-t,i=2*this.ei()/this.X-1,r=2*this.hi()/this.X-1-i;return this.di={scaleStartLog:t,scaleIntervalLog:e,viewportStart:i,viewportSize:r},this.di}pi(){return this.di}}const Ih=s=>s==="e"?L_:bA(s),xu=s=>s==="e"?Math.E:s,z0=.9*10**-4,cS=1.1*10**25,G_=[{prefix:"T",unit:10**12},{prefix:"B",unit:10**9},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],dC=(s,t,e)=>{const i=Math.abs(e-t),r=Math.max(2-sx(i,10),0);return s.toFixed(r)},ga={Numeric:(s,t)=>dC(s,t.getInnerStart(),t.getInnerEnd()),NumericUnits:(s,t)=>{const e=Math.abs(t.getInnerEnd()-t.getInnerStart()),i=s<0;s=Math.abs(s);let r="",n="";if(e>=1e3&&s>1e3){let a="";for(const o of G_){const l=Math.round(1e3*s/o.unit)/1e3;if(l>=1){a=l.toString(),n=o.prefix;break}}r=(i?"-":"")+a}else{let a=String(Math.floor(s));const o=sx(s,1e3);for(let l=1;l<=o;l+=1){const u=a.length-(3*l+(l-1));a=`${a.substring(0,u)} ${a.substring(u,a.length)}`}r=(i?"-":"")+a+(e<=10?((l,u)=>{if(u===0)return"";let d=(Math.abs(l)-Math.abs(Math.floor(l))).toString().substring(1);return d.length>u&&(d=d.substring(0,u+1)),d})(s,2-sx(e,10)):"")}return r+=n,r},LogarithmicExponentsRounded:(s,t,e,i=10)=>{const r=Ih(i)(s);return`${i}${dS(r)}`},LogarithmicExponents:(s,t,e,i=10)=>{const r=Ih(i),n=Math.floor(r(s)),a=s/xu(i)**n;return`${Math.round(a)}${i}${dS(n)}`},LogarithmicExtreme:(s,t,e,i=10)=>{const r=Ih(i),n=Math.floor(r(s));return`${(s/xu(i)**n).toFixed(2)}${i}${dS(n)}`},LogarithmicNoExponents:(s,t,e,i=10)=>{const r=Ih(i);if(i==="e")return`${Math.floor(r(s))}e`;const n=s.toString();if(s>1)return n;const a=Math.floor(r(s));return s.toFixed(Math.abs(a))}},dS=s=>Math.round(s).toString().split("").map(t=>{switch(t){case"0":return"";case"1":return"";case"2":return"";case"3":return"";case"4":return"";case"5":return"";case"6":return"";case"7":return"";case"8":return"";case"9":return"";case"-":return"";default:return t}}).join("");class xr extends cC{constructor(t,e,i,r){super(t,e,i,r),this.Si=!1,this.vi=!1,this.bi=0,this.X=1e3,this.J(0,10),this.K()}yi(){return this.vi}nt(t,e,i,r,n){if(t===e)return!1;const a=Math.abs(r-i),o=Math.abs(e-t);if(!this.Si){const f=((p,x,v)=>{const A=((E,T)=>{if(T<Rt&&T>Ft&&E<Rt&&E>Ft){const F=Math.abs(E/8388608),D=Math.abs(T/2**23),N=Math.min(F,D);return 10**Math.floor(Math.log10(N))}})(p,x);if(A!==void 0)return A*v})(t,e,this.getCellSize());if(f===void 0)return!1;if(o>f)return!0;const g=(e+t)/2,m=(n?f/2:a/2)*(t>e?-1:1);return{start:g-m,end:g+m}}const l=10**-(12-Math.log10(Math.max(Math.abs(t),1)));if(o>l)return!0;const u=(e+t)/2,d=(n?l/2:a/2)*(t>e?-1:1);return{start:u-d,end:u+d}}ui(){this.K()}ct(t){return this.ei()+(t-this.H)/(this.$-this.H)*(this.hi()-this.ei())}ut(t){return this.H+(t-this.ei())/(this.hi()-this.ei())*(this.$-this.H)}J(t,e){return super.J(t,e),this.K(),this}si(t){return super.si(t),this.K(),this}q(t){return super.q(t),this.xi=fS(this.$-this.H,this.Xt,this.X,this.Qt,this.Jt),this.K(),this}Mi(){return this.Si=!0,this}_i(){return this.Si}wi(){return Math.abs(this.Ci)}ki(){return this.wi()/this.xi}Ti(){return this.Fi}Ii(){return this.Pi}getPixelSize(){return this.xi}pi(){return this.di}Z(){return super.Z(),this.vi=!0,this}j(){return super.j(),this.vi=!1,this}Di(t,e=ga.Numeric){return e(t,this)}Bi(){const t=Math.abs(this.getInnerEnd()).toString().length,e=Math.abs(this.getInnerStart()).toString().length;return t>e?t:e}Li(t){return fS(t,this.Xt,this.X,this.Qt,this.Jt)}K(){let t=this.H,e=this.$,i=0;this.Si&&(t=0,e=this.$-this.H,i=this.H);const r=e-t,n=fS(r,this.Xt,this.X,this.Qt,this.Jt);this.Pi=t-this.Xt[0]*n,this.Fi=e+this.Xt[1]*n;const a=this.Fi-this.Pi,o=a-this.Ci,l=Math.abs(o/n),u=r-this.bi,d=Math.abs(u/n);(!this.di||l>=.4||d>=.4)&&(this.bi=r,this.Ci=a,this.xi=n,this.vi=!0);const f=this.Ci*this.Jt/(2*this.Qt),g=-(this.Pi-this.Ci*this.Zt/this.Qt)-f,m=2*this.ei()/this.X-1,p=2*this.hi()/this.X-1-m;this.di={displacement:g,scaling:f,highPrecisionOffset:i,viewportStart:m,viewportSize:p,scaleStartLog:0,scaleIntervalLog:0}}mi(t,e){return t+this.xi*e}}const fS=(s,t,e,i=1,r=1)=>s/(e*i/r-(t[0]+t[1]));class zn{Ri(t,e){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),this}j(){return this.x.j(),this.y.j(),this}Z(){return this.x.Z(),this.y.Z(),this}q(t,e){return typeof t=="object"?(this.x.q(t.x),this.y.q(t.y)):(this.x.q(t),this.y.q(e)),this}oi(){return Y(this.x.oi(),this.y.oi())}Ei(t){return this.x.si(t),this}zi(t){return this.y.si(t),this}ni(){return Y(this.x.ni(),this.y.ni())}Vi(t,e){return this.x.J(t,e),this}Oi(t,e){return this.y.J(t,e),this}getInnerIntervalPixels(){const t=this.x.getCellSize(),e=this.y.getCellSize();return{x:t-this.x.ni(),y:e-this.y.ni()}}Ni(){return this.x.yi()||this.y.yi()}}class Me extends zn{constructor(){super(...arguments),this.Gi="LinearScaleXY"}ot(t,e,i,r){return this.x=new xr(t.x,e.x,i.x,r?r.x:void 0),this.y=new xr(t.y,e.y,i.y,r?r.y:void 0),this}_i(){return this.x._i()||this.y._i()}Wi(){return Y(this.x.getPixelSize(),this.y.getPixelSize())}pi(){return{x:this.x.pi(),y:this.y.pi()}}mi(t,e){const i=this.Wi();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}Ui(t,e,i,r){const n=this.Wi(),a=ny(t,e);return a.x*=r,a.y*=r,{x:t.x+i*n.x*a.x,y:t.y+i*n.y*a.y}}}class Pi extends zn{constructor(){super(...arguments),this.Gi="MixedScaleXY"}_i(){return!1}mi(t,e){const i=this.x.ct(t.x),r=this.y.ct(t.y),n={x:i+e.x,y:r+e.y};return{x:this.x.ut(n.x),y:this.y.ut(n.y)}}Ui(t,e,i,r){const n={x:this.x.ct(t.x),y:this.y.ct(t.y)},a={x:this.x.ct(e.x),y:this.y.ct(e.y)},o=hr(be(a,n)),l=ny(a,n),u={x:n.x+o.x*r+l.x*i,y:n.y+o.y*r+l.y*i};return{x:this.x.ut(u.x),y:this.y.ut(u.y)}}pi(){const t=this.x.pi(),e=this.y.pi();return{uScaleStart:[this.x.H,this.y.H],uScaleInterval:[this.x.getInnerInterval(),this.y.getInnerInterval()],uScaleStartLog:[t.scaleStartLog,e.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,e.scaleIntervalLog],uViewportStart:[t.viewportStart,e.viewportStart],uViewportSize:[t.viewportSize,e.viewportSize]}}}const ay=(s,t)=>s instanceof nh||t instanceof nh?new Pi().Ri(s,t):new Me().Ri(s,t),nu=s=>s==="client",wA=s=>!!(s&&typeof s=="object"&&"clientX"in s&&typeof s.clientX=="number"&&"clientY"in s&&typeof s.clientY=="number"),Kn=s=>s==="relative",aR=s=>!!(s&&typeof s=="object"&&"x"in s&&typeof s.x=="number"&&"y"in s&&typeof s.y=="number");var cn;(function(s){s[s.noHighlighting=0]="noHighlighting",s[s.onHover=1]="onHover"})(cn||(cn={}));class Jd{constructor(t,e,i,r){this.Yi=!0,this.Hi=cn.onHover,this.$i=!1,this.Xi=!0,this.ji=!1,this.D=new qi,this.Zi=[],this.Qi=[],this.onMouseEnter=n=>this.D.on("mouseEnter",n),this.onMouseLeave=n=>this.D.on("mouseLeave",n),this.onMouseClick=n=>this.D.on("mouseClick",n),this.onMouseDoubleClick=n=>this.D.on("mouseDoubleClick",n),this.onMouseDown=n=>this.D.on("mouseDown",n),this.onMouseUp=n=>this.D.on("mouseUp",n),this.onMouseMove=n=>this.D.on("mouseMove",n),this.offMouseEnter=n=>this.D.off(n,"mouseEnter"),this.offMouseLeave=n=>this.D.off(n,"mouseLeave"),this.offMouseClick=n=>this.D.off(n,"mouseClick"),this.offMouseDoubleClick=n=>this.D.off(n,"mouseDoubleClick"),this.offMouseDown=n=>this.D.off(n,"mouseDown"),this.offMouseUp=n=>this.D.off(n,"mouseUp"),this.offMouseMove=n=>this.D.off(n,"mouseMove"),this.offMouseDragStart=n=>this.D.off(n,"mouseDragStart"),this.offMouseDrag=n=>this.D.off(n,"mouseDrag"),this.offMouseDragStop=n=>this.D.off(n,"mouseDragStop"),this.offMouseWheel=n=>this.D.off(n,"mouseWheel"),this.wt=(n,a,o)=>{this.D.emit("mouseEnter",this,a),this.ji=!0,this.Hi===cn.onHover&&this.setHighlight(!0)},this.Ct=(n,a,o)=>{this.D.emit("mouseLeave",this,a),this.ji=!1,this.Hi===cn.onHover&&this.setHighlight(!1)},this.Pt=(n,a,o)=>{this.D.emit("mouseMove",this,a)},this.kt=(n,a,o)=>this.D.emit("mouseClick",this,a),this.Tt=(n,a,o)=>this.D.emit("mouseDoubleClick",this,a),this.Ft=(n,a,o)=>this.D.emit("mouseDown",this,a),this.It=(n,a,o)=>this.D.emit("mouseUp",this,a),this.Bt=(n,a,o,l)=>{this.D.emit("mouseDragStart",this,a,o)},this.Dt=(n,a,o,l,u,d)=>{this.D.emit("mouseDrag",this,a,o,l,u)},this.Lt=(n,a,o,l,u)=>{this.D.emit("mouseDragStop",this,a,o,l)},this.Rt=(n,a,o)=>{this.D.emit("mouseWheel",this,a)},this.Et=(n,a,o)=>{this.D.emit("touchStart",this,a),this.ji=!0,this.Hi===cn.onHover&&this.setHighlight(!0)},this.zt=(n,a,o)=>{this.D.emit("touchMove",this,a)},this.Vt=(n,a,o)=>{this.D.emit("touchEnd",this,a),this.ji=!1,this.Hi===cn.onHover&&this.setHighlight(!1)},this.Ji=t,this.Ki=e,this.qi=i,this.ts=new Map,this.ss=r,this.es=this.ss.hs(this,{rs:{themeEffectEnabled:this.qi.effectsText},ns:{}}),this.Ji.us.ls.os(this,n=>{this.ts.forEach((a,o)=>o.cs(n)),this.Qi.forEach(a=>a.setHighlight(n)),this.Zi.forEach(a=>a.cs(n))},{animationEnabled:this.Ji.getAnimationsEnabled()})}ds(t,e){const i=(e==null?void 0:e.setEventHandlers)===void 0||e.setEventHandlers,r=(e==null?void 0:e.isText)!==void 0&&e.isText;this.ts.set(t,{isText:r});const n=Array.from(this.ts);this.es.rs.fs(n.filter(o=>o[1].isText).map(o=>o[0])),this.es.ns.fs(n.filter(o=>!o[1].isText).map(o=>o[0])),t.setMouseInteractions(this.Yi).setVisible(this.Xi).cs(this.Ji.us.ls.As(this,!0)),i&&t.setMouseEnterEventHandler(this.wt).setMouseLeaveEventHandler(this.Ct).setMouseClickEventHandler(this.kt).setMouseDoubleClickEventHandler(this.Tt).setMouseDownEventHandler(this.Ft).setMouseUpEventHandler(this.It).setMouseMoveEventHandler(this.Pt).setMouseDragStartEventHandler(this.Bt).setMouseDragEventHandler(this.Dt).setMouseDragStopEventHandler(this.Lt).setMouseWheelEventHandler(this.Rt).setTouchStartEventHandler(this.Et).setTouchMoveEventHandler(this.zt).setTouchEndEventHandler(this.Vt);const a=t.onDispose(()=>{t.offDispose(a),this.ts.delete(t)})}gs(t){this.Zi=t;const e=this.Ji.us.ls.As(this,!0);t.forEach(i=>{i.cs(e).ys(this.Xi)})}setEffect(t){return this.es.rs.ps(t&&this.qi.effectsText),this.es.ns.ps(t),this.Ji.us.Ss(),this}getEffect(){return this.es.rs.vs()||this.es.ns.vs()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setIcon(t){return this.bs=t,this.Ji.us.Ss(),this}getIcon(){return this.bs}setName(t){return this.xs=t,this.Qi.forEach(e=>e.setText(this.xs)),this}getName(){return this.xs}dispose(){return this.$i||(this.$i=!0,this.ts.forEach((t,e)=>e.dispose()),this.Ki(this),this.Qi.forEach(t=>{t.dispose()}),this.Qi.length=0,this.D.emit("dispose",this),this.Ji.us.Ss()),this}setVisible(t){return t===this.Xi||(this.Xi=t,this.ts.forEach((e,i)=>i.setVisible(t)),this.Zi.forEach(e=>e.ys(t)),this.Qi.forEach(e=>e.setOn(t)),this.D.emit("visibleStateChanged",this,this.Xi),this.Ji.us.Ss()),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}setHighlight(t){return this.Ji.us.ls.Ms(this,t),this.D.emit("highlight",this,t),this}getHighlight(){return this.Ji.us.ls.As(this)}setAnimationHighlight(t){return this.Ji.us.ls._s(this,t),this}getAnimationHighlight(){return this.Ji.us.ls.ws(this)}setMouseInteractions(t){return this.Yi=t,this.ts.forEach((e,i)=>i.setMouseInteractions(t)),this.Ji.us.Ss(),this}getMouseInteractions(){return this.Yi}getIsUnderMouse(){return this.ji}setHighlightOnHover(t){return this.Hi=t?cn.onHover:cn.noHighlighting,t===!1&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.Hi!==cn.noHighlighting}attach(t,e=!0,i=!1){return rC(t,[this],{toggleVisibilityOnClick:e,label:this.xs,style:void 0}),this.Qi.push(t),t.onDispose(()=>{const r=this.Qi.indexOf(t);r>=0&&this.Qi.splice(r,1)}),this}Cs(){return this.bs}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}offDispose(t){return this.D.off(t,"dispose")}}class fC extends Jd{constructor(t,e,i,r,n,a,o,l){super(e,i,o,l),this.ks=t,this.axis=r,this.dt=n,this.Ts=a,this.Fs()}}const gS=s=>{const t=s.length;if(t>0){let e=0,i=0;for(let r=0;r<t;r+=1)e+=s[r].x,i+=s[r].y;return Y(e/t,i/t)}return Y(0,0)},tr=(...s)=>{const t=s.length,e=new Array(t).fill(!1),i=(r,n)=>{for(let a=0;a<t;a+=1){const o=s[a],l=o.Is(r,n);l?o.Ps(r,n,!0):e[a]&&e[a]&&o.Ps(r,n,!1),e[a]=l}return!1};return{onTouchStart:i,onTouchMove:i,onTouchEnd:i}},gC=class{constructor(s,t=300){this.Ds=!1,this.Bs=[],this.Ls=300,this.Rs=s,this.Ls=t}Is(s,t){const e=ht.performance.now();let i=!1;for(let r=0;r<this.Bs.length;r+=1)e-this.Bs[r].time>=this.Ls?(this.Bs.splice(r,1),r-=1):this.Bs[r].state&&(i=!0);return this.Ds?t.interactions.length===0&&(this.Bs.push({state:!1,time:e}),this.Ds=!1):t.interactions.length===1&&t.type==="pointerdown"&&(this.Bs.push({state:!0,time:e}),i=!0,this.Ds=!0),i}Ps(s,t,e){if(e){const i=this.Bs.reduce((r,n)=>(n.state?r.on+=1:r.off+=1,r),{on:0,off:0});i.on>=2&&i.off>=1&&(this.Rs(s,t),this.Bs.length=0)}}},Xr=class{constructor(s,t,e,i=1,r=100){this.Es=s,this.zs=t,this.Vs=e,this.Os=i,this.Ns=r}Is(s,t){const e=t.interactions.length;if(e===this.Os){if(this.Gs!==void 0)return!0;if(t.type==="pointerdown"&&(e===1||(i=>{const r=i.length;if(r>0){const n=gS(i);let a=0;for(let o=0;o<r;o+=1)a=Math.max(a,Da(n,Y(i[o].x,i[o].y)));return a}return Rt})(t.interactions)<=this.Ns))return this.Gs=gS(t.interactions),!0}return!1}Ps(s,t,e){const i=this.Ws;if(!e||t.forceTouchEnd||t.type==="pointerup")this.Vs&&this.Vs(s,this.Gs,i,t),this.Gs=void 0,this.Ws=void 0;else{const r=gS(t.interactions);t.type==="pointerdown"?this.Es&&this.Es(s,this.Gs,t):t.type==="pointermove"&&this.zs&&this.zs(s,this.Gs,r,Y(r.x-i.x,i.y-r.y),t),this.Ws=r}}},CA=class{constructor(s,t,e){this.Us=!1,this.Es=s,this.zs=t,this.Vs=e}Is(s,t){return this.Us?t.interactions.length!==2&&(this.Us=!1):t.interactions.length===2&&t.type==="pointerdown"&&(this.Us=!0),this.Us}Ps(s,t,e){let i,r;if(e&&t.type!=="pointerup"){if(t.type==="pointerdown"){const n=t.interactions;i=n[0],r=n[1],this.Es(s,i,r,t)}else if(t.type==="pointermove"){i=t.interactions[0],r=t.interactions[1];const n=this.Ys,a=this.Hs,o=Y(i.x-n.x,n.y-i.y),l=Y(r.x-a.x,a.y-r.y);this.zs(s,i,r,o,l,t)}}else{const n=t.interactions;this.Vs(s,n[0],n[1],t)}this.Ys=i,this.Hs=r}},Y_=Re({type:"linestyle",lineType:"solid",fillStyle:new rt({color:L(255,255,255)}),thickness:1});class te extends Y_{constructor(t){super({...t,lineType:"solid"})}setFillStyle(t){return typeof t=="function"?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return typeof t=="function"?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}V(){const t=this.getThickness();return t<0?1:t}}const zs=s=>!(!s||typeof s!="object"||!("lineType"in s)||s.lineType!=="solid");class H_{constructor(t,e){this.$s=t,this.Xs=e,this.js=e.rows*d6,this.Zs=e.columns*f6}}var jn,au;(function(s){s[s.ZoomIn=0]="ZoomIn",s[s.ZoomInX=1]="ZoomInX",s[s.ZoomInY=2]="ZoomInY",s[s.ZoomOut=3]="ZoomOut",s[s.ZoomOutX=4]="ZoomOutX",s[s.ZoomOutY=5]="ZoomOutY",s[s.ZoomToFit=6]="ZoomToFit",s[s.ToggleAnimations=7]="ToggleAnimations"})(jn||(jn={})),function(s){s[s.Circle=0]="Circle",s[s.Rectangle=1]="Rectangle",s[s.RoundedRectangle=2]="RoundedRectangle"}(au||(au={}));const X_={x:-43,y:0},W_={x:-65,y:0},$_={x:-86,y:0},j_={x:-107,y:-1},q_={x:-128,y:-3},J_={x:-150,y:0},Z_={x:-171,y:0},Q_={x:-276,y:0},K_={x:-298,y:0},t6={x:0,y:0},e6={x:-21,y:0};class So extends H_{constructor(t,e,i,r){super(t,i),this.Qs=ht.document.createElement("button"),this.Js=ht.document.createElement("div"),this.Ks=ht.document.createElement("label"),this.Xs=i,this.qs=e,this.Ji=r}te(t,e,i,r){this.ie(t,r),this.se(),this.ee(e),this.he(),this.Ks.textContent=i||"";const n=ht.document.createElement("div");this.re(n),this.Qs.onclick=this.onClick.bind(this),n.appendChild(this.Js),n.appendChild(this.Ks),this.Qs.appendChild(n)}he(){this.Qs.style.cursor="pointer"}re(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"}ee(t){typeof t=="string"?(this.Js.style.backgroundImage=`url(${t})`,this.Js.style.backgroundSize="100%",this.Js.style.backgroundRepeat="no-repeat",this.Js.style.backgroundPosition="center",this.Js.style.width="20px",this.Js.style.height="20px"):this.applyStyleForSprite(t),this.Js.style.margin="auto"}se(){switch(this.qs){case au.RoundedRectangle:this.Qs.style.borderRadius="10px";break;case au.Rectangle:this.Qs.style.borderRadius="0px";break;case au.Circle:default:this.Qs.style.borderRadius="31px"}}ie(t,e){this.Qs.style.width=`${this.Zs.toString()}px`,this.Qs.style.height=`${this.js.toString()}px`,this.Qs.style.backgroundColor=t,this.Qs.style.opacity=e||g6,this.Qs.style.alignItems="center",this.Qs.style.border="2px solid #707070",this.Qs.style.transition="background-color .8s ease"}applyStyleForSprite(t){this.Js.style.backgroundImage=`url(${this.$s}/${pC})`,this.Js.style.backgroundPositionX=`${t.x}px`,this.Js.style.backgroundPositionY=`${t.y}px`,this.Js.style.backgroundSize="1600%",this.Js.style.backgroundRepeat="no-repeat",this.Js.style.width="20px",this.Js.style.height="20px"}ne(t){return t.appendChild(this.Qs),t}oe(){return this.Qs}}class yC extends So{constructor(t,e,i,r){super(t,e,i,r),this.ae="",this.le="",this.ue=!1,this.Ji=r}ce(){this.de(),this.onToggledStateAction()}fe(){this.Ae(),this.onInitialStateAction()}Ae(){this.ge(this.ae)}de(){this.ge(this.le)}ge(t){typeof t=="string"?this.Js.style.background=t:(this.Js.style.backgroundImage=`url(${this.$s}/${pC})`,this.Js.style.backgroundPositionX=`${t.x}px`,this.Js.style.backgroundPositionY=`${t.y}px`)}onClick(){this.ue?this.fe():this.ce(),this.ue=!this.ue}}class i6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),X_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:-1,y:-1})}}class s6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),j_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:-1,y:0})}}class r6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),J_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:0,y:-1})}}class n6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),W_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:1,y:1})}}class a6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),q_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:1,y:0})}}class o6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),Z_)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:0,y:1})}}class h6 extends yC{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.ae=Q_,this.le=K_,this.te(r.onScreenMenuBackgroundColor.toRGBAString(),this.ae)}onToggledStateAction(){this.Ji.setAnimationsEnabled(!1)}onInitialStateAction(){this.Ji.setAnimationsEnabled(!0)}}class l6 extends So{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const r=this.Ji.getTheme();this.te(r.onScreenMenuBackgroundColor.toRGBAString(),$_)}onClick(){this.Ji.forEachAxis(t=>{t.fit(!0)})}}class u6 extends So{constructor(t,e,i){super(t,e.shape||SC,e.dimensions||{rows:1,columns:1},i);const r=i.getTheme(),n=e.color||r.onScreenMenuBackgroundColor.toRGBAString(),a=e.icon||"",o=e.label||"",l=e.opacity||"";this.te(n,a,o,l),this.ye=e.action}onClick(){this.ye(this.Ji)}}class c6 extends yC{constructor(t,e,i,r){super(t,e,{rows:1,columns:1},i),this.Ji=i,this.pe=r,this.ae=e6,this.le=t6,this.te(oR,this.ae)}Ae(){this.ge(this.ae),this.Qs.style.backgroundColor=oR,this.Qs.style.border="2px solid #707070",this.Qs.style.margin="0px"}de(){this.ge(this.le),this.Qs.style.background="#FECC00 0% 0% no-repeat padding-box",this.Qs.style.border="10px solid #BCBCBC12",this.Qs.style.margin="1px"}onToggledStateAction(){var t;(t=this.pe)===null||t===void 0||t.style.setProperty("display","block")}onInitialStateAction(){var t;(t=this.pe)===null||t===void 0||t.style.setProperty("display","none")}}var he;(function(s){s.Move="move",s.ResizeColumn="col-resize",s.ResizeRow="row-resize",s.Horizontal="ew-resize",s.Vertical="ns-resize",s.NorthWest="nw-resize",s.NorthEast="ne-resize",s.Copy="copy",s.CrossHair="crosshair",s.Default="default",s.Help="help",s.Restricted="not-allowed",s.None="none",s.Point="pointer",s.Text="text",s.Wait="wait",s.ZoomIn="zoom-in",s.ZoomOut="zoom-out"})(he||(he={}));const Au={LeftBottom:Y(-1,-1),CenterBottom:Y(0,-1),RightCenter:Y(1,0),LeftTop:Y(-1,1),RightTop:Y(1,1)},mC=new rt({color:L(255,255,255,0)});new te({thickness:1,fillStyle:mC});const d6=60,f6=60,g6="1.0",pC="osm/osm-sprite-transparent.png",SC=au.Circle,oR="#363636";var tu;(function(s){s[s.TopRight=0]="TopRight",s[s.TopLeft=1]="TopLeft",s[s.BottomLeft=2]="BottomLeft",s[s.BottomRight=3]="BottomRight"})(tu||(tu={}));class y6 extends fC{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n,a,o,l),this.xs="Band",this.Se=0,this.ve=0,this.be=this.qi.bandFillStyle,this.xe=this.qi.bandStrokeStyle,this.Me=!0,this._e=this.ks.ke(this.dt).Ce(this.be).we(this.xe).cs(this.getHighlight()),this.ds(this._e)}setValueStart(t){return this.Se=t,this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss(),this}getValueStart(){return this.Se}setValueEnd(t){return this.ve=t,this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss(),this}getValueEnd(){return this.ve}setFillStyle(t){this.be=typeof t=="function"?t(this.be):t;const e=this.be;return this._e.Ce(e),this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){this.xe=typeof t=="function"?t(this.xe):t;const e=this.xe;return this._e.we(e),this.ks.Ss(),this}getStrokeStyle(){return this.xe}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}Te(){return this._e.Fe(this.Ts.toVec2(this.Se,this.Ts.getHeight(this.dt).getInnerStart())).q(this.Ts.toVec2(this.ve-this.Se,this.Ts.getHeight(this.dt).getInnerInterval())),this}attach(t,e=!0,i=!1){return super.attach(t,e),oi(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}Ie(t,e){t.cs(e),this.ks.Ss()}setDefaultMouseInteractions(t){return this.Me=t,this}Fs(){let t,e;const i=(a,o)=>{if(!this.Me)return;const l=mt(this.ks.us.Pe(o.x,o.y),this.ks.us.dt,this.dt),u=this.Ts.getWidth(l),d=this.axis.dt.ct(this.Se),f=this.axis.dt.ct(this.ve),g=(this.axis.dt.ct(u)-d)/(f-d);t=!(g<.1||g>.9),t===!1&&(e=g<.5)},r=(a,o,l,u,d)=>{if(!this.Me)return;const f=this.Ts.getWidth(u);t?(this.Se=this.axis.dt.mi(this.Se,f),this.ve=this.axis.dt.mi(this.ve,f)):e?this.Se=this.axis.dt.mi(this.Se,f):this.ve=this.axis.dt.mi(this.ve,f),vt(d),this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss()};this.onMouseMove((a,o)=>{if(!this.Me)return;i(0,Y(o.clientX,o.clientY));const l=t?he.Point:this.Ts.getWidth({x:he.Horizontal,y:he.Vertical});this.De=this.Ji.engine.setMouseStyle(l,this.De)}),this.onMouseLeave(()=>{this.Me&&(this.Ji.engine.restoreMouseStyle(this.De),this.De=void 0)}),this.onMouseDrag((a,o,l,u,d)=>{this.Me&&l===0&&r(0,0,0,d,o)});const n=tr(new Xr(i,r));this.onTouchStart(n.onTouchStart),this.onTouchMove(n.onTouchMove),this.onTouchEnd(n.onTouchEnd)}}class m6 extends fC{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n,a,o,l),this.xs="Constant Line",this.u=0,this.xe=this.qi.constantLineStrokeStyle,this.Be=!0,this.Me=!0,this.Le=this.ks.Ee(this.dt).Re(this.xe).cs(this.getHighlight()),this.ds(this.Le)}setValue(t){return this.u=t,this.D.emit("valueChange",this,this.u),this.ks.Ss(),this}getValue(){return this.u}setStrokeStyle(t){this.xe=typeof t=="function"?t(this.xe):t;const e=this.xe;return this.Le.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.xe}setInteractionMoveByDragging(t){return this.Be=t,this}getInteractionMoveByDragging(){return this.Be}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}Te(){return this.Le.Ve(this.Ts.toVec2(this.u,this.Ts.getHeight(this.dt).getInnerStart())).ze(this.Ts.toVec2(this.u,this.Ts.getHeight(this.dt).getInnerEnd())),this}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{stroke:this.xe}),this}Ie(t,e){t.cs(e),this.ks.Ss()}setDefaultMouseInteractions(t){return this.Me=t,this}Fs(){const t=(i,r)=>{this.Me&&this.Be&&(this.u=this.axis.dt.mi(this.u,this.Ts.getWidth(r)),this.D.emit("valueChange",this,this.u),this.ks.Ss(),vt(i))};this.onMouseMove(()=>{if(this.Me&&this.Be){const i=this.Ts.getWidth({x:he.Horizontal,y:he.Vertical});this.De=this.Ji.engine.setMouseStyle(i,this.De)}}),this.onMouseLeave(()=>{this.Me&&this.Be&&(this.Ji.engine.restoreMouseStyle(this.De),this.De=void 0)}),this.onMouseDrag((i,r,n,a,o)=>{this.Me&&this.Be&&n===0&&t(r,o)});const e=tr(new Xr(void 0,(i,r,n,a,o)=>t(o,a)));this.onTouchStart(e.onTouchStart),this.onTouchMove(e.onTouchMove),this.onTouchEnd(e.onTouchEnd)}}const Fa={fitting:{start:(s,t,e,i)=>t>=s?e:i,end:(s,t,e,i)=>t>=s?i:e,allowIntervalLengthChange:!0},expansion:{start:(s,t,e,i)=>t>=s?e<s?e:s:i>s?i:s,end:(s,t,e,i)=>t>=s?i>t?i:t:e<t?e:t,allowIntervalLengthChange:!0},progressive:{},regressive:{}},Rg={Empty:"Empty",Numeric:"Numeric"},hR=s=>s.Oe!==void 0,p6=s=>s.Ne!==void 0,Uh={Ge:ga.Numeric},S6=(s,t)=>[s,t],pr=(s,t,e,i)=>{const r=[],n=Math.round(Math.abs((s-t)/e));for(let a=1;a<n;a+=1){const o=Math.round((s+e*a)*i)/i;o<t&&r.push(o)}return r},or=(s,t,e,i,r)=>{ki(s,0)&&(s=0),ki(t,0)&&(t=0);const n=[];let a=i!==void 0?((o,l,u)=>o-(o-u)%l)(s,e,i):s;if(e<=0)throw new Error(`_getRegularGreatKeyValues unit less than or equal to 0, unit: ${e}`);for(;a<t&&ki(a,t)===!1;)n.push(a),a+=e,a=Math.round(a*r)/r;return n.push(a),n},xC=(s,t,e,i)=>{const r=[];let n=e(s),a=0;for(;n<t&&ki(n,t)===!1;)if(r.push(n),n=i(n),a+=1,a>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(n),r},de=(s,...t)=>{const e=t.length>0?t.length:s?1:0;return(i,r,n,a,o,l)=>{if(r>=e)return;const u=t[r]||1;let d=!1,f=!1,g=1;return s&&(d="ignore"in s?s.ignore==="first"||s.ignore==="both":d,f="ignore"in s?s.ignore==="last"||s.ignore==="both":f,g="offset"in s&&s.offset!==void 0?s.offset:g),((m,p,x,v,A)=>(x&&(m=m.filter((E,T)=>T>0)),v&&(m=m.filter((E,T)=>T<m.length-1)),m.filter((E,T)=>(T+A)%p==0)))(i,u,d,f,g)}},yS=(...s)=>{const t=s.length>0?s.length:0;return(e,i,r,n,a,o)=>{if(i>=t)return;const l=s[i]||1;return e.filter((u,d)=>d%l==0)}},N0=(s,t)=>{if(t.has(s))return t.get(s);const e=ei(s.Ue.We());if(ex(e))return e;const i=s.Ye.mi(e.min,{x:-5,y:-5}),r=s.Ye.mi(e.min,{x:5,y:5}),n=s.Ye.mi(e.max,{x:-5,y:-5}),a=s.Ye.mi(e.max,{x:5,y:5}),o={min:{x:Math.min(i.x,r.x,n.x,a.x),y:Math.min(i.y,r.y,n.y,a.y)},max:{x:Math.max(i.x,r.x,n.x,a.x),y:Math.max(i.y,r.y,n.y,a.y)}};return t.set(s,o),o},lR=s=>{const t=new Map;if(s!==Uh){for(const e of s.He)t.set(e,new Map);for(const e of s.$e)t.set(e,new Map)}return t};class Xh{constructor(t,e,i,r,n,a,o){this.D=new qi,this.Xe=Uh,this.je=Rg.Empty,this.Ze=new Map,this.Qe=new Map,this.Je=Fa.fitting,this.Ke=!0,this.qe=Ca(()=>this.chart.us.Ss())(300,Yr.linear),this.th=!0,this.Xi=!0,this.ih=!1,this.sh=Ft,this.eh=!1,this.hh=!1,this.rh=Ft,this.oh=Ft,this.ah=Ft,this.lh=!1,this.uh=()=>{this.ih||this.Je===void 0||this.chart.us.Ss(!0)},this.dh={},this.fh=(l,u,d,f,g,m)=>{const p=[],x=[];for(const v of l){if(v<d||v>f){p.push(v);continue}const A=this.Ze.get(u),E=(A?A.get(v):void 0)||this.Ah(v,u);E.gh=!1;const T=this.mh(E,g);m.set(E,T),p.push(v),x.push(E)}return{displayedKeyValues:p,createdTicks:x}},this.yh=(l,u,d,f,g,m,p,x,v,A,E)=>{const T=[];for(let F=0;F<l.length;F+=1){const D=l[F],N=u[F];let V,P,b;if(this.ph(D,d)){const M=N0(D,v);P=[l[F-1],l[F+1]],b=P.concat(A).concat(E).filter(w=>w!==void 0).filter(w=>w.Sh!==d||!!l.find(C=>C===w)).map(w=>vg(M,N0(w,v))?w:void 0),V=b.some(w=>w!==void 0)}else V=!1;if(V){let M=!0;const w=b.filter(C=>C!==void 0);if(M&&w.every(C=>hR(C.Sh))&&(M=!1),M&&d.bh&&d.bh.xh&&d.bh.xh(N,f,g,m,p,x)===!1&&(M=!1),M===!1)continue;return!0}T.push(D)}return T},this.formatValue=l=>this.Xe.Ge(l,this.dt),this.Mh=!0,this._h=!0,this.chart=t,this.wh=e,this.qi=r,this.Ch=a,this.dt=i,this.kh=o,o.type==="logarithmic"&&this.setAnimationZoom(Yr.logarithmic(xu(o.base))),this.Th=a.numeric,this.Fh("Numeric"),this.Ih=i.getInnerStart(),this.Ph=i.getInnerEnd(),this.setAnimationsEnabled(n)}setDefaultInterval(t,e){return this.Dh=t,(e==null?void 0:e.applyImmediately)!==!1&&(this.lh=!0,this.chart.us.Ss()),this}getDefaultInterval(){return this.Dh}getTitle(){return this.Lh.Bh()}setTitle(t){return this.Lh.Rh(t),this.chart.us.Ss(),this}getTitleFillStyle(){return this.Lh.Eh()}setIntervalRestrictions(t){return this.zh=t,this.chart.us.Ss(),this}getIntervalRestrictions(){return this.zh}setTitleFillStyle(t){return this.Lh.Ce(t),this.chart.us.Ss(),this}getTitleFont(){return this.Lh.Vh()}setTitleFont(t){return this.Lh.Oh(t),this.chart.us.Ss(),this}setTitleRotation(t){return this.Lh.Nh(t),this.chart.us.Ss(),this}getTitleRotation(){return this.Lh.Gh()}setTitleEffect(t){return this.Wh.ps(t),this.chart.us.Ss(),this}getTitleEffect(){return this.Wh.vs()}Fh(t,e){if(this.Ze.size>0&&this.Uh(),t==="Empty")this.Xe=Uh,this.je=t;else if(t==="Numeric"){this.je!=="Numeric"&&(this.Th=this.Ch.numeric);const i=e||(r=>r);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}else if(t==="DateTime"){this.je!=="DateTime"&&(this.Th=this.Ch.datetime);const i=e||(r=>r);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}else if(t==="Time"){this.je!=="Time"&&(this.Th=this.Ch.time);const i=e||(r=>r);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}return this.Qe.forEach(i=>Array.from(i.values()).forEach(r=>r.dispose())),this.Qe=lR(this.Xe),this.chart.us.Ss(),this}Hh(){return this.Xe}$h(t){this.Xe=t,this.Qe.forEach(e=>Array.from(e.values()).forEach(i=>i.dispose())),this.Qe=lR(this.Xe),this.chart.us.Ss()}setInterval(t){const{start:e,end:i,animate:r,stopAxisAfter:n}=t;return this.St(e!==void 0?e:this.Ih,i!==void 0?i:this.Ph,r!==void 0&&r,n===void 0||n,"userSetInterval"),this}St(t,e,i=!1,r=!0,n){let a={start:t,end:e};const o=!0,l=Math.abs(e-t);if(Math.abs(this.Ph-this.Ih),this.Xe.Xh!==void 0&&this.Xe.Xh>l){const f=(e+t)/2,g=this.Xe.Xh/2*(t>e?-1:1);a={start:f-g,end:f+g}}if(this.Xe.jh!==void 0&&this.Xe.jh<l){const f=(e+t)/2,g=this.Xe.jh/2*(t>e?-1:1);a={start:f-g,end:f+g}}const u=this.dt.nt(a.start,a.end,this.Ih,this.Ph,o);if(u===!1)return this;if(u!==!0){if(a=u,n==="zoomBandChart")return this}let d;switch(n){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":d=!0;break;case"zoomBandChart":case"synchronizedAxis":d=!1;break;default:return Lu(0,""),this}if(this.Zh&&this.Zh.finishAll(!1),this.qe&&(i===!0||i>0)){this.setStopped(!0);const f=i===!0?void 0:i,g=!this.Zh||this.Zh.isOver()?this.qe:this.Zh.NextAnimation.bind(this);this.Zh=g([[this.Ih,a.start],[this.Ph,a.end]],([m,p])=>{this.Qh(m,p,o)},f),this.Zh.onAnimationEnd(()=>{this.Zh=void 0,d&&(this.ah=ht.performance.now())}),this.Zh.onAnimationEnd(()=>this.setStopped(r))}else this.Qh(a.start,a.end,o),this.setStopped(r),d&&(this.ah=ht.performance.now());return this}getInterval(){return{start:this.Ih,end:this.Ph}}setStopped(t){return t===this.ih||(t&&(this.Zh&&this.Zh.finishAll(!1),this.Zh=void 0),this.ih=t,this.D.emit("stoppedStateChanged",this,this.ih),this.sh=ht.performance.now(),this.chart.us.Ss()),this}getStopped(){return this.ih}onStoppedStateChanged(t){return this.D.on("stoppedStateChanged",t)}offStoppedStateChanged(t){return this.D.off(t,"stoppedStateChanged")}fit(t,e){const i=this.Jh(),r=this.Dh||x6,n=typeof r=="function"?r({curStart:this.Ih,curEnd:this.Ph,dataMin:i==null?void 0:i.min,dataMax:i==null?void 0:i.max}):r;return this.St(n.start!==void 0?n.start:this.Ih,n.end!==void 0?n.end:this.Ph,n.animate!==void 0?n.animate:t===void 0||t,n.stopAxisAfter!==void 0?n.stopAxisAfter:e===void 0||e,"userFit"),this}setScrollStrategy(t){return this.Je=t,this.chart.us.Ss(),this}getScrollStrategy(){return this.Je}setAnimationScroll(t){return this.Ke=!!t,this.chart.us.Ss(),this}setAnimationZoom(t,e=300){return this.Zh&&(this.Zh.finishAll(!1),this.Zh=void 0),this.qe=t?Ca(()=>this.chart.us.Ss())(e,t):void 0,this}setAnimationsEnabled(t){return this.th=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(Yr.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this}getAnimationsEnabled(){return this.th}setVisible(t){const e=this.Xi!==t;return this.Xi=t,this.Lh.setVisible(t),this.Kh(i=>{i.Ue.setVisible(t)}),e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onIntervalChange(t){return this.D.on("scaleChange",t)}offIntervalChange(t){return this.D.off(t,"scaleChange")}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}qh(t,e){const i=new Map;if(this.Xe===Uh||!this.Xi)return this.Uh(),i;e=e||new Map;const r=this.tr(),n=r.min,a=r.max,o=a-n,l=t.physicalAxisSize;this.dh.physicalAxisSize=l;const u=AC(this.Xe,n,a,this.Ih,this.Ph,l),d=[];if(this.ir(),d.push(...this.sr(this.Xe,n,a,u,e,t,i)),this.er(this.Xe,n,a,u,e,t,d,i),this.hr(),u)for(const[f,g]of this.Qe){const m=u.get(f);if(m!==void 0)for(const[p,x]of g)m.includes(p)||(x==null||x.dispose(),g.delete(p))}return this.dh.min=n,this.dh.max=a,this.dh.scaleInterval=o,this.dh.physicalAxisSize=l,i}rr(t){const e=t.Sh.nr;t.Ue.Rh(e(t.u,this.dt)).Ps()}ar(t,e){const i=e.lr;t.Ue.Ce(i.getLabelFillStyle()).Oh(i.getLabelFont()).Nh(i.getLabelRotation())}Ah(t,e){const i=this.Qe.get(e);let r=i.get(t);r?(i.delete(t),r.Sh=e,r.ys(!0)):r=this.ur(t,e);const n=this.Ze.get(e)||new Map;return n.set(t,r),this.Ze.set(e,n),this.ar(r,e),r}mh(t,e){const i=this.cr(t,e);return this.rr(t),i}sr(t,e,i,r,n,a,o){const l=[];for(const u of t.He){const d=r.get(u);for(const f of d){if(f<e||f>i)continue;const g=this.Ze.get(u),m=(g?g.get(f):void 0)||this.Ah(f,u),p=this.mh(m,a),x=N0(m,n);l.find(v=>vg(x,N0(v,n)))&&m.Ue.setVisible(!1),m.gh=!1,o.set(m,p),l.push(m)}}return l}er(t,e,i,r,n,a,o,l){let u,d=[];for(const f of t.$e){const g=r.get(f);if(!g)break;let m;if(u===void 0)m=[{start:e,end:i,keyValues:g}];else{m=[];for(let F=0;F<u.length-1;F+=1){const D=u[F],N=u[F+1],V={start:D,end:N,keyValues:[]};for(const P of g)P>=D&&P<N&&V.keyValues.push(P);m.push(V)}}if(u=g,p6(f))continue;let p=0,x=-1,v=[],A=[];for(let F=0;F<m.length;F+=1){const D=this.fh(m[F].keyValues,f,e,i,a,l);v=v.concat(D.displayedKeyValues),A=A.concat(D.createdTicks)}let E=A,T=!0;if(f.lr.getLabelFillStyle()!==Nt){let F=[];for(;++x<m.length;){const D=m[x],N=D.start,V=D.end;let P=D.keyValues;if(p>0){if(f.bh===void 0){T=!1;break}const M=f.bh.dr;if(P=M(P,p-1,N,V,e,i),P===void 0)break}const b=this.yh(A.filter(M=>P.some(w=>ki(M.u,w))),v,f,p,N,V,e,i,n,o,d);b!==!0?F=F.concat(b):(p+=1,x=-1,F=[])}E=F,A.forEach(D=>{F.find(N=>N===D)||this.Ar(D)})}if(d=E,!T)break}}Ar(t){const e=this.Ze.get(t.Sh);e==null||e.delete(t.u);const i=this.Qe.get(t.Sh);i&&i.has(t.u)?t.dispose():i&&(t.ys(!1),i.set(t.u,t))}Kh(t){for(const e of this.Ze.values())for(const i of e.values())t(i)}gr(t,e){for(const i of this.Ze.values())for(const r of i.values())e=t(e,r);return e}Uh(){this.Ze.forEach((t,e)=>{t.forEach(i=>this.Ar(i))}),this.Ze.clear()}ir(){for(const t of this.Ze.values())for(const e of t.values())e.gh=!0}hr(){for(const t of this.Ze.values())for(const[e,i]of t.entries())i.gh&&(i.dispose(),t.delete(e))}tr(){const t=this.dt.getInnerStart()<this.dt.getInnerEnd()?this.dt.getInnerStart():this.dt.getInnerEnd(),e=this.dt.getInnerEnd()>this.dt.getInnerStart()?this.dt.getInnerEnd():this.dt.getInnerStart();return se(t,e)}ph(t,e){return!(t.gh||t.Ue.Bh().length===0||hR(e)&&e.mr!==!0)}yr(t,e){return this.Xe===Uh||(this.Xe.He.forEach(i=>{e=t(e,i.lr)}),this.Xe.$e.forEach(i=>{(r=>r.nr!==void 0)(i)&&(e=t(e,i.lr))})),e}Jh(){let t=this.wh.pr();const e=this.wh.Sr();let i;if(t!==void 0&&V0(t)&&e!==void 0&&V0(e)&&(this.kh.type==="logarithmic"&&(t===0&&(t=Math.min(1,e)),Math.sign(t)!==Math.sign(e)&&(t=Math.min(1,e-.1))),i?(i.min=Math.min(i.min,t),i.max=Math.max(i.max,e)):i=se(t,e)),i&&V0(i.min)&&V0(i.max))return ki(i.min,i.max)?{min:i.min-1,max:i.max+1}:i}vr(){if(!this.Mh)return 0;let t=0;const e=this.wh.br();return e&&(t=Math.max(t,e)),t}setAutoRegionsEnabled(t){return this.Mh=t,this.chart.us.Ss(),this}Mr(){var t;const e=this.eh;let i=!1;if(this.lh&&this.Dh){const r=this.Jh(),n=typeof this.Dh=="function"?this.Dh({curStart:this.Ih,curEnd:this.Ph,dataMin:r==null?void 0:r.min,dataMax:r==null?void 0:r.max}):this.Dh;this.setInterval(n),this.lh=!1}if(this.Je&&!this.ih){const r=this.Jh();if(r){const n=this.Ih,a=this.Ph;let o=this.Je.start(n,a,r.min,r.max),l=this.Je.end(n,a,r.min,r.max);const u=(t=this.Je.allowIntervalLengthChange)===null||t===void 0||t,d=cR(this.zh,r,{start:o,end:l},{start:n,end:a},u);o=d.start,l=d.end;const f=ki(n,o)===!1,g=ki(a,l)===!1;if(o=f?o:n,l=g?l:a,f||g){let m=!1;if(this.Ke&&!this._h)if(this.Ke){m=!0;const p=f?this._r(n,o):n,x=g?this._r(a,l):a;if(this.Qh(p,x,u)===!0&&(f&&ki(p,o)===!1||g&&ki(x,l)===!1)){this.chart.us.Ss(!0),i=!0;let v=Math.abs(l-o)/Math.abs(p-x);v<1&&(v=1/v),this.hh=v>=1.4}}else m=!1;m||this.Qh(o,l,u),this._h=!1}}}return i?(this.eh!==i&&(this.eh=i,this.rh=ht.performance.now()),this.wr&&(clearTimeout(this.wr),this.wr=void 0)):e===!0&&this.wr===void 0&&(this.hh=!1,this.wr=setTimeout(()=>{this.eh!==!1&&(this.eh=!1,this.rh=ht.performance.now()),this.wr=void 0,this.chart.us.Ss()},200)),this}Qh(t,e,i){let r={start:t,end:e},n=!0;if(this.zh){const f=this.Jh();r=cR(this.zh,f,r,{start:this.Ih,end:this.Ph},i)}const a=Math.abs(e-t),o=Math.abs(this.Ph-this.Ih);if(this.Xe.Xh!==void 0&&this.Xe.Xh>a){const f=(e+t)/2,g=(i?this.Xe.Xh/2:o/2)*(t>e?-1:1);r={start:f-g,end:f+g},n=!1}if(this.Xe.jh!==void 0&&this.Xe.jh<a){const f=(e+t)/2,g=(i?this.Xe.jh/2:o/2)*(t>e?-1:1);r={start:f-g,end:f+g},n=!1}let l=this.dt.nt(r.start,r.end,this.Ih,this.Ph,i);if(l===!1)return!1;l!==!0&&(r=l);const u=this.vr(),d=this.Cr(Math.min(r.start,r.end),Math.max(r.start,r.end),u);return l=this.dt.nt(r.end>r.start?d.min:d.max,r.end>r.start?d.max:d.min,this.Ih,this.Ph,!1),!!l&&(l===!0?this.dt.J(r.end>r.start?d.min:d.max,r.end>r.start?d.max:d.min):this.dt.J(r.start,r.end),this.Ih=r.start,this.Ph=r.end,this.D.emit("scaleChange",this,r.start,r.end),this.oh=ht.performance.now(),this.chart.us.Ss(),n)}kr(){return this.eh}Tr(){return this.Zh!==void 0}}class Zd{constructor(t,e,i,r,n=i.Pr(r).Ir(ka).Fr(ka).setMouseInteractions(!1)){this.gh=!1,this.$i=!1,this.ts=[],this.Sh=t,this.u=e,this.Dr=i,this.Ye=r,this.Ue=n,this.ts.push(n)}ys(t){this.ts.forEach(e=>e.setVisible(t))}dispose(){return this.$i||(this.$i=!0,this.ts.forEach(t=>t.dispose())),this}}const AC=(s,t,e,i,r,n)=>{const a=new Map;for(const l of s.He){let u=l.Br(t,e,i,r);u=uR(u),a.set(l,u)}let o;for(const l of s.$e){let u;if(o===void 0)u=l.Br(t,e,t,e);else{let d=[];const f=o.filter(g=>t<=g&&g<=e).length;if(f>0){const g=n/(f-1);if(l.Lr!==void 0&&l.Lr>g)break}for(let g=0;g<o.length-1;g+=1){const m=l.Br(o[g],o[g+1],t,e);d=d.concat(m)}u=d}u=uR(u),a.set(l,u),o=u}return a},uR=s=>(s=(t=>{const e={},i=[],r=t.length;let n=0;for(let a=0;a<r;a+=1){const o=t[a];e[o]!==1&&(e[o]=1,i[n]=o,n+=1)}return i})(s)).sort((t,e)=>t-e),cR=(s,t,e,i,r)=>{const n=typeof s=="function"?s({curStart:i.start,curEnd:i.end,dataMin:t==null?void 0:t.min,dataMax:t==null?void 0:t.max}):s;if(!n)return e;const a={start:e.start,end:e.end};let o=Math.abs(e.end-e.start);if(n.intervalMin!==void 0&&o<n.intervalMin){const l=(a.start+a.end)/2;a.start=l+.5*Math.sign(e.start-l)*n.intervalMin,a.end=l+.5*Math.sign(e.end-l)*n.intervalMin}if(o=Math.abs(e.end-e.start),n.intervalMax!==void 0&&o>n.intervalMax){const l=(a.start+a.end)/2;a.start=l+.5*Math.sign(e.start-l)*n.intervalMax,a.end=l+.5*Math.sign(e.end-l)*n.intervalMax}return o=Math.abs(e.end-e.start),n.startMin!==void 0&&(a.start=Math.max(a.start,n.startMin),r||ki(Math.abs(a.start-a.end),o)||(a.end=a.start+Math.sign(e.end-e.start)*o)),o=Math.abs(e.end-e.start),n.startMax!==void 0&&(a.start=Math.min(a.start,n.startMax),r||ki(Math.abs(a.start-a.end),o)||(a.end=a.start+Math.sign(e.end-e.start)*o)),o=Math.abs(e.end-e.start),n.endMin!==void 0&&(a.end=Math.max(a.end,n.endMin),r||ki(Math.abs(a.start-a.end),o)||(a.start=a.end+Math.sign(e.start-e.end)*o)),o=Math.abs(e.end-e.start),n.endMax!==void 0&&(a.end=Math.min(a.end,n.endMax),r||ki(Math.abs(a.start-a.end),o)||(a.start=a.end+Math.sign(e.start-e.end)*o)),a},x6=s=>{if(s.dataMin===void 0||s.dataMax===void 0)return{stopAxisAfter:!1};const t=s.curEnd>=s.curStart;return{start:t?s.dataMin:s.dataMax,end:t?s.dataMax:s.dataMin,stopAxisAfter:!1}},A6=Re({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1});class oy extends A6{constructor(t){super(t)}setSize(t){return this.set("size",t)}setFamily(t){return this.set("family",t)}setWeight(t){return this.set("weight",t)}setStyle(t){return this.set("style",t)}setVariant(t){return this.set("variant",t)}getSize(){return this.get("size")}getFamily(){return this.get("family")}getWeight(){return this.get("weight")}getStyle(){return this.get("style")}getVariant(){return this.get("variant")}}const gd=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="font"),vC=new oy,dR=new class{getFillStyle(){return Nt}},v6=Re({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new rt,wireframeStyle:bt});class bC extends v6{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return typeof t=="function"?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setWireframeStyle(t){return typeof t=="function"?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)}getWireframeStyle(){return this.get("wireframeStyle")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}}const so=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="triangulated-points-3d"),b6=Re({type:"pixelated-points-3d",size:5,fillStyle:new rt});class M6 extends b6{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return typeof t=="function"?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}}const fR=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="pixelated-points-3d"),Eg={Triangulated:bC,Pixelated:M6};class R6{constructor(t){this.Rr=new Map,this.us=t}os(t,e,i){const r=i.animationEnabled;this.Rr.set(t,{applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:r,curAnimatedHighlightValue:0});const n=t.onDispose(()=>{this.Rr.delete(t),t.offDispose(n)})}Er(t,e){let i=e.animationEnabled;const r=[],n=t.onDispose(()=>{r.forEach(a=>{this.Rr.delete(a)}),t.offDispose(n)});return{zr:(a,o)=>{const l={applyHighlight:o,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:i,curAnimatedHighlightValue:0};r.push(a),this.Rr.set(a,l)},Vr:()=>{r.forEach(a=>{this.Rr.delete(a)}),r.length=0},Or:a=>{i=a,r.forEach(o=>{this._s(o,i)})},Nr:()=>i}}Ms(t,e){const i=this.Rr.get(t);i&&(i.curUnanimatedHighlightValue=Ko(e),this.us.Ss())}As(t,e=!1){const i=this.Rr.get(t);return i?e?i.curAnimatedHighlightValue:i.curUnanimatedHighlightValue:0}_s(t,e){const i=this.Rr.get(t);i&&(i.animationEnabled=e)}ws(t){const e=this.Rr.get(t);return!!e&&e.animationEnabled}Ps(t){let e=!1;this.Rr.forEach((i,r)=>{let n;if(i.animationEnabled)if(i.curUnanimatedHighlightValue>0){const o=i.curAnimationPositionMillis/1e3;n=i.curUnanimatedHighlightValue*Math.abs(Math.sin(o*Math.PI/2+.5));const l=i.curAnimatedHighlightValue===0?1:t;i.curAnimationPositionMillis+=l,e=!0}else i.curAnimatedHighlightValue>0&&i.curUnanimatedHighlightValue===0?(n=Math.max(i.curAnimatedHighlightValue-t/1e3,0),e=e||n>0):n=0,i.curAnimationPositionMillis=0;else n=i.curUnanimatedHighlightValue;n!==i.curAnimatedHighlightValue&&(i.applyHighlight(n),i.curAnimatedHighlightValue=n)}),e&&this.us.Ss(!0)}}const gR=new Map,kA=(s,t)=>{const e=s.getSize(),i=s.getFamily(),r=s.getWeight(),n=s.getStyle(),a=s.getVariant(),o=`${n} ${a?"small-caps":"normal"} ${r} ${e}px ${i}`,l=`${o} ${t.toFixed(2)}`;let u=gR.get(l);return u||(u=((d,f,g,m)=>({font:d,properties:f,dpr:g,id:m}))(o,{type:"font",size:e,family:i,style:n,variant:a,weight:r},t,l),gR.set(l,u)),u};var nr,Vn;(function(s){s[s.click=0]="click",s[s.dbclick=1]="dbclick",s[s.mouseDown=2]="mouseDown",s[s.mouseUp=3]="mouseUp",s[s.contextmenu=4]="contextmenu",s[s.wheel=5]="wheel"})(nr||(nr={})),function(s){s[s.touchStart=0]="touchStart",s[s.touchMove=1]="touchMove",s[s.touchEnd=2]="touchEnd"}(Vn||(Vn={}));const E6=s=>({container:s.Gr,scale:s.dt,setMouseStyle:(t,e)=>s.Wr(t,e),restoreMouseStyle:t=>s.Ur(t),clientLocation2Engine:(t,e)=>s.Pe(t,e),engineLocation2Client:(t,e)=>s.Yr(t,e),captureFrame:(t,e,i)=>s.Hr(t,e,i),renderFrame:(t,e,i=!1)=>s.$r(t,e,i),layout:()=>{s.Xr(),s.jr(),s.Qr.Zr(),s.Ss()},setBackgroundFillStyle(t){return s.setBackgroundFillStyle(t),this},setBackgroundStrokeStyle(t){return s.setBackgroundStrokeStyle(t),this},getBackgroundFillStyle:()=>s.getBackgroundFillStyle(),getBackgroundStrokeStyle:()=>s.getBackgroundStrokeStyle(),addCustomIcon:(t,e)=>s.Jr(t,e),onRenderFrame:t=>s.Kr(t),offRenderFrame:t=>s.qr(t)}),Bh=[];let fa;const mS=()=>{if(fa!==void 0){const s=ht.getComputedStyle(ht.document.body),t=Number(s.getPropertyValue("margin-top").replace("px",""))+Number(s.getPropertyValue("margin-bottom").replace("px",""));fa.style.height=ht.innerHeight-t+"px",(()=>{for(let e=0;e<Bh.length;e+=1)Bh[e]()})()}},yR=new rt({color:L(255,255,255)}),Ns={font:kA(vC,0),fillStyle:yR,lineStyle:new te({fillStyle:yR,thickness:1}),pointStyle3D:new Eg.Triangulated};class T6{constructor(t,e,i){this.D=new qi,this.dt=ws.d2({scaleXYConstructor:Me}),this.tn=new Map,this.sn=Ca(()=>this.Ss(),60),this.en=Y(0,0),this.hn=!1,this.rn=ae,this.nn=()=>{},this.an=[],this.ln=-1,this.un=[],this.cn=!0,this.$i=!1,this.dn=!1,this.jr=()=>{const{bottom:u,left:d}=this.Gr.getBoundingClientRect();return this.en=Y(Math.floor(d),Math.floor(u)),this},this.Xr=()=>{this.fn&&this.fn()},this.Wr=(u,d)=>{if(!d){this.Gr.style.cursor=u;const f=this.ln;return this.ln+=1,this.un.push([f,u]),f}return this.Ur(d),this.Wr(u)},this.Ur=u=>{const d=u?this.un.findIndex(f=>f[0]===u):-1;d>=0?(this.un.splice(d,1),this.un.length>0?this.Gr.style.cursor=this.un[this.un.length-1][1]:this.Gr.style.cursor="default"):(this.un.push([0,"default"]),this.Gr.style.cursor="default")},this.An=u=>(this.gn.S(u),this),this.mn=()=>this.gn.M(),this.yn=()=>{this.rn&&this.rn(1e3/60),this.pn(),this.Sn(),this.nn&&this.nn()},this.vn=u=>(this.tn.set(u.bn(),u),this.tn=new Map([...this.tn.entries()].sort((d,f)=>d[0]-f[0])),u),this.xn=u=>(this.tn.delete(u),this),this.j=()=>(this.gn.i=!1,this),this.Z=()=>(this.gn.i=!0,this),this.Mn=u=>{if(!this.cn)return;const d=this._n,f=d&&d.clientX===u.clientX&&d.clientY===u.clientY,g=this.Pe(u.clientX,u.clientY),m=this.wn(u,{x:u.clientX,y:u.clientY});if(this.Cn&&((m==null?void 0:m.entity)!==this.Cn.entity||m.collectionMember!==this.Cn.collectionMember)&&!this.kn){this.Cn.entity.ji=!1;const p=this.Cn.entity.Tn;p&&p(this.Cn.entity,u,this.Cn.collectionMember)}if(m&&m.entity.getMouseInteractions()&&!this.kn)if(m.entity.ji){if(!f){const p=m.entity.Fn;p&&p(m.entity,u,m.collectionMember)}}else{m.entity.ji=!0;const p=m.entity.In;p&&p(m.entity,u,m.collectionMember)}if(this.kn){const p=this.kn.entity.Pn,x=d?Y(u.clientX-d.clientX,d.clientY-u.clientY):{x:0,y:0};!p||x.x===0&&x.y===0||p(this.kn.entity,u,this.kn.button,this.kn.startLocation,x,this.kn.collectionMember)}this.Dn=u,this._n=u,this.Bn=g,this.Cn=m},this.Ln=u=>{if(this.cn=!1,this.Bn=void 0,this.Dn=u,this.Cn&&!this.Rn&&!this.kn){this.Cn.entity.ji=!1;const d=this.Cn.entity.Tn;d&&d(this.Cn.entity,u,this.Cn.collectionMember),this.Cn=void 0}},this.En=u=>{if(this.cn=!0,this.Dn=u,this.kn&&u.buttons<=0){const d=this.kn.entity.zn;d&&d(this.kn.entity,u,this.kn.button,this.kn.startLocation,this.kn.collectionMember),this.kn=void 0}if(this.Rn&&u.buttons<=0){const d=this.Rn.entity.Vn;d&&d(this.Rn.entity,u,this.Rn.collectionMember),this.Rn=void 0}},this.On=()=>this.Bn,this.Qr=t,this.qi=e.theme,this.Nn=i.Nn,this.Gn=i.Gn,this.Wn=i.Wn,this.Un={Yn:e&&e.overrideInteractionMouseButtons?e.overrideInteractionMouseButtons:void 0,$s:e&&e.resourcesBaseUrl!==void 0&&e.resourcesBaseUrl!==null?e.resourcesBaseUrl:`${ht.location.origin}/resources`,Hn:!e||!("warnings"in e)||typeof e.warnings!="boolean"||e.warnings,$n:(()=>{const u=e==null?void 0:e.pickingPrecision;if(typeof u=="string"){const d=u.toLowerCase();if(d==="best")return 1;if(d==="high")return .5;if(d==="low")return 1/8}return 1/4})(),Xn:(e==null?void 0:e.interactable)===void 0||e.interactable,jn:e.textPixelSnappingEnabled===void 0||e.textPixelSnappingEnabled};const r=e?e.container:void 0;if(r){if(typeof r=="string"){const u=ht.document.getElementById(r);if(!u)throw new Error(`Container "${r}" doesn't exist.`);this.Gr=u}else this.Gr=r;ht.addEventListener("resize",this.Xr),this.an.push(()=>{ht.removeEventListener("resize",this.Xr)})}else{if(fa===void 0){const d=ht.document.createElement("div");d.id="lcjs-auto-flexbox",d.style.position="relative",d.style.width="100%",d.style.display="flex",d.style.flexDirection="column",ht.document.body.appendChild(d),fa=d,ht.addEventListener("resize",mS)}let u=1;for(;ht.document.getElementById(`chart-${u}`)!==null;)u+=1;this.Gr=ht.document.createElement("div"),this.Gr.id=`chart-${u}`,this.Gr.style.flex="1",this.Gr.style.height="100%",fa.appendChild(this.Gr),mS(),Bh.push(this.Xr),this.an.push(()=>{fa&&fa.removeChild(this.Gr),Bh.includes(this.Xr)&&Bh.splice(Bh.indexOf(this.Xr),1),Bh.length===0&&fa&&(ht.document.body.removeChild(fa),fa=void 0,ht.removeEventListener("resize",mS))})}if(ht.ResizeObserver){const u=d=>{for(const f of d)f.target===this.Gr&&this.Xr()};this.Zn=new ht.ResizeObserver(u.bind(this)),this.Zn.observe(this.Gr)}this.Gr.style.position===""&&(this.Gr.style.position="relative"),this.Gr.style.boxSizing="content-box",this.Gr.addEventListener("fullscreenchange",this.Xr),this.Gr.addEventListener("webkitfullscreenchange",this.Xr);const n=e?e.maxFps:void 0;this.Qn=n?n===-1?-1:n!==0?1e3/n:0:0;const a=new Map;let o=!1;const l=(u,d)=>f=>{const g=function(m){return{x:m.clientX,y:m.clientY}}(f);switch(f.type){case"pointerover":case"pointerenter":case"pointermove":case"pointerdown":a.set(f.pointerId,g);break;default:a.delete(f.pointerId),o=!1}switch(f.interactions=Array.from(a.values()),f.pointerType){case"pen":case"mouse":default:u&&u(f);break;case"touch":d&&d(f)}f.defaultPrevented&&(o=!0)};this.Gr.onwheel=this.Jn(nr.wheel),this.Gr.oncontextmenu=this.Jn(nr.contextmenu),this.Gr.onclick=this.Jn(nr.click),this.Gr.ondblclick=this.Jn(nr.dbclick),this.Gr.onlostpointercapture=()=>{o=!1},this.Gr.ontouchmove=u=>{o&&u.preventDefault()},this.Gr.onpointerover=l(),this.Gr.onpointerenter=l(this.En),this.Gr.onpointerdown=l(this.Jn(nr.mouseDown),this.Kn(Vn.touchStart)),this.Gr.onpointermove=l(this.Mn,this.Kn(Vn.touchMove)),this.Gr.onpointerup=l(this.Jn(nr.mouseUp),this.Kn(Vn.touchEnd)),this.Gr.onpointercancel=l(),this.Gr.onpointerout=l(),this.Gr.onpointerleave=l(this.Ln,this.Kn(Vn.touchEnd)),ht.addEventListener("scroll",this.jr,{passive:!0}),this.gn=qt(new mn({r:0,g:0,b:0,a:0})),this.ls=new R6(this)}qn(t,e){var i,r,n,a;((i=this.Cn)===null||i===void 0?void 0:i.entity)===t.entity&&this.Cn.collectionMember===t.collectionMember&&(this.Cn=e),((r=this.io)===null||r===void 0?void 0:r.entity)===t.entity&&this.io.collectionMember===t.collectionMember&&(this.io=e),((n=this.Rn)===null||n===void 0?void 0:n.entity)===t.entity&&this.Rn.collectionMember===t.collectionMember&&(this.Rn={...e,event:this.Rn.event}),((a=this.kn)===null||a===void 0?void 0:a.entity)===t.entity&&this.kn.collectionMember===t.collectionMember&&(this.kn={...e,button:this.kn.button,startLocation:this.kn.startLocation})}so(){this.dn=!0,this.rn=void 0,this.nn=void 0}Kr(t){return this.D.on("render",t)}qr(t){return this.D.off(t)}eo(){return this.ho}ro(){return this.no}setBackgroundFillStyle(t){return this.oo.Ce(t),this}getBackgroundFillStyle(){return this.oo.Eh()}setBackgroundStrokeStyle(t){return this.oo.we(t),this}getBackgroundStrokeStyle(){return this.oo.ao()}lo(t){return this.nn=t,this}uo(t){return this.rn=t,this}co(t){return this.tn.get(t)}do(){return Array.from(this.tn.keys()).reverse().reduce((t,e)=>e!==Number.MAX_SAFE_INTEGER&&e>t?e:t,0)+1}Jn(t){return e=>this.fo(t,e)}fo(t,e){if(!this.cn)return;t===nr.contextmenu&&vt(e);const i=this.Pe(e.clientX,e.clientY),r=this.wn(e,{x:e.clientX,y:e.clientY});if(t===nr.mouseUp){if(this.kn){const n=this.kn.entity.zn;if(n&&n(this.kn.entity,e,this.kn.button,this.kn.startLocation,this.kn.collectionMember),(r==null?void 0:r.entity)!==this.kn.entity||r.collectionMember!==this.kn.collectionMember){this.kn.entity.ji=!1;const a=this.kn.entity.Tn;a&&a(this.kn.entity,e,this.kn.collectionMember)}this.kn=void 0}if(this.Rn){const n=this.Rn.entity.getMouseInteractions()&&this.Rn.entity.Vn;n&&n(this.Rn.entity,e,this.Rn.collectionMember),this.Rn=void 0}}else if(r&&r.entity.getMouseInteractions()){const n=t===nr.click?r.entity.Ao:t===nr.dbclick?r.entity.mo:t===nr.mouseDown?r.entity.yo:t===nr.wheel?r.entity.po:t===nr.contextmenu?r.entity.So:void 0;if(n&&n(r.entity,e,r.collectionMember),t===nr.mouseDown){this.Rn={entity:r.entity,collectionMember:r.collectionMember,event:e};const a=this.Rn.event.button,o=r.entity.vo;o&&o(r.entity,e,a,r.collectionMember),this.kn={entity:r.entity,collectionMember:r.collectionMember,button:a,startLocation:Y(e.clientX,e.clientY)}}}this.Dn=e,this.Bn=i,this.Cn=r}Kn(t){return e=>this.bo(t,e)}bo(t,e){const i=e.interactions.length;if(this.xo=e,this.io){const r=t===Vn.touchMove?this.io.entity.Mo:t===Vn.touchEnd?this.io.entity._o:t===Vn.touchStart?this.io.entity.wo:void 0;r&&r(this.io.entity,e,this.io.collectionMember),t===Vn.touchEnd&&i===0&&(this.io.entity.ji=!1,this.io=void 0)}else if(t===Vn.touchStart){for(let r=0;r<i&&(this.io=this.wn(e,{x:e.interactions[r].x,y:e.interactions[r].y}),!this.io);r+=1);if(this.io){this.io.entity.ji=!0;const r=this.io.entity.wo;r&&r(this.io.entity,e,this.io.collectionMember)}}t===Vn.touchEnd?this.Bn=void 0:this.Bn=this.Pe(e.clientX,e.clientY)}Co(t){return this.D.on("resize",t)}ko(t){return this.D.off(t,"resize")}To(){return this.D.topicOff("resize"),this}Fo(t){return this.D.on("inViewChange",t)}Io(t){return this.D.off(t)}W(){if(!this.$i){if(this.$i=!0,this.tn)for(const t of this.tn.values())t.W();this.rn=void 0,this.nn=void 0,ht.removeEventListener("scroll",this.jr),this.Gr.removeEventListener("fullscreenchange",this.Xr),this.Gr.removeEventListener("webkitfullscreenchange",this.Xr),this.Zn&&(this.Zn.disconnect(),this.Zn=void 0),this.an.forEach(t=>{t()}),this.an.length=0}}Pe(t,e){return Y(t-this.en.x,this.en.y-e)}Yr(t,e){return Y(t+this.en.x,this.en.y-e)}Po(t){const e=this.Pe(t.clientX,t.clientY);return{engineX:e.x,engineY:e.y}}Do(t){const e=this.Yr(t.engineX,t.engineY);return{clientX:e.x,clientY:e.y}}}const mR=(s=1)=>({type:"horizontalProgressive",packager:(t,e,i)=>{if(t.length>1){const r=Wt(e,i*s),n=Math.abs(r.x),a=t.length,o=[];let l=0,u=0,d=t[0].x+n;for(;u<a;){const f=t[u];if(o[l]=f,l+=1,u+=1,f.x<d&&u<a){const g=u;let m=f.y,p=f.y;for(;u<a&&t[u].x<=d;)t[u].y>m&&(m=t[u].y),t[u].y<p&&(p=t[u].y),u+=1;if(g!==u){const x=(o[l-1].x+t[u-1].x)/2;o[l+0]=Y(x,p),o[l+1]=Y(x,m),o[l+2]=t[u-1],l+=3}}d+=n}return o}return t.slice()}}),pR=(s=1)=>({type:"horizontalRegressive",packager:(t,e,i)=>{if(t.length>1){const r=Wt(e,i*s),n=Math.abs(r.x),a=t.length,o=[];let l=0,u=0,d=t[0].x-n;for(;u<a;){const f=t[u];if(o[l]=f,l+=1,u+=1,f.x>d&&u<a){const g=u;let m=f.y,p=f.y;for(;u<a&&t[u].x>=d;)t[u].y>m&&(m=t[u].y),t[u].y<p&&(p=t[u].y),u+=1;if(g!==u){const x=(o[l-1].x+t[u-1].x)/2;o[l+0]=Y(x,p),o[l+1]=Y(x,m),o[l+2]=t[u-1],l+=3}}d-=n}return o}return t.slice()}}),SR=(s=1)=>({type:"verticalProgressive",packager:(t,e,i)=>{if(t.length>1){const r=Wt(e,i*s),n=Math.abs(r.y),a=t.length,o=[];let l=0,u=0,d=t[0].y+n;for(;u<a;){const f=t[u];if(o[l]=f,l+=1,u+=1,f.y<d&&u<a){const g=u;let m=f.x,p=f.x;for(;u<a&&t[u].y<=d;)t[u].x>m&&(m=t[u].x),t[u].x<p&&(p=t[u].x),u+=1;if(g!==u){const x=(o[l-1].y+t[u-1].y)/2;o[l+0]=Y(p,x),o[l+1]=Y(m,x),o[l+2]=t[u-1],l+=3}}d+=n}return o}return t.slice()}}),xR=(s=1)=>({type:"verticalRegressive",packager:(t,e,i)=>{if(t.length>1){const r=Wt(e,i*s),n=Math.abs(r.y),a=t.length,o=[];let l=0,u=0,d=t[0].y-n;for(;u<a;){const f=t[u];if(o[l]=f,l+=1,u+=1,f.y>d&&u<a){const g=u;let m=f.x,p=f.x;for(;u<a&&t[u].y>=d;)t[u].x>m&&(m=t[u].x),t[u].x<p&&(p=t[u].x),u+=1;if(g!==u){const x=(o[l-1].y+t[u-1].y)/2;o[l+0]=Y(p,x),o[l+1]=Y(m,x),o[l+2]=t[u-1],l+=3}}d-=n}return o}return t.slice()}});var Qe;(function(s){s[s.Square=0]="Square",s[s.Circle=1]="Circle",s[s.Triangle=2]="Triangle",s[s.Cross=3]="Cross",s[s.Diamond=4]="Diamond",s[s.Plus=5]="Plus",s[s.Minus=6]="Minus",s[s.Arrow=7]="Arrow",s[s.Star=8]="Star"})(Qe||(Qe={}));const B0={ProgressiveX:"ProgressiveX",ProgressiveY:"ProgressiveY",RegressiveX:"RegressiveX",RegressiveY:"RegressiveY"};var ns;(function(s){s[s.Nearest=0]="Nearest",s[s.NearestX=1]="NearestX",s[s.NearestY=2]="NearestY"})(ns||(ns={}));const eu=s=>{const t=s==="nearest"?ns.Nearest:s==="nearest-x"?ns.NearestX:s==="nearest-y"?ns.NearestY:void 0;return t!==void 0?t:ns.NearestX},DA=(s,t,e,i,r,n,a,o,l,u)=>{const d=s.length;if(d===0)return;const f=i?1:0,g=d-(r?2:1);if(e===ns.Nearest)return w6(s,t,n,a,f,g);if(e===ns.NearestX||e===ns.NearestY){if(typeof u=="boolean"&&(l==="x"&&e===ns.NearestX||l==="y"&&e===ns.NearestY))return Cd(s,mt(t,a,n),l,u,f,g);if(e===ns.NearestX)return C6(s,mt(t,a,n),o,f,g);if(e===ns.NearestY)return k6(s,mt(t,a,n),o,f,g)}},w6=(s,t,e,i,r,n)=>{let a,o=Number.MAX_VALUE;for(let l=r;l<=n;l+=1){const u=s[l];if(!Number.isNaN(u.x)&&!Number.isNaN(u.y)){const d=mt(u,e,i),f=(d.x-t.x)**2+(d.y-t.y)**2;f<o&&(o=f,a=l)}}return a},C6=(s,t,e,i,r)=>{if(t.x<e.min.x||t.x>e.max.x)return;let n,a=Number.MAX_VALUE;for(let o=i;o<=r;o+=1){const l=s[o],u=l.x>t.x?l.x-t.x:t.x-l.x;u<a&&!Number.isNaN(l.x)&&!Number.isNaN(l.y)&&(a=u,n=o)}return n},k6=(s,t,e,i,r)=>{if(t.y<e.min.y||t.y>e.max.y)return;let n,a=Number.MAX_VALUE;for(let o=i;o<=r;o+=1){const l=s[o],u=l.y>t.y?l.y-t.y:t.y-l.y;u<a&&!Number.isNaN(l.x)&&!Number.isNaN(l.y)&&(a=u,n=o)}return n},Cd=(s,t,e,i,r,n)=>{const a=e==="x",o=a?t.x:t.y,l=s[r],u=s[n],d=l.x<u.x?l.x:u.x,f=l.y<u.y?l.y:u.y,g=l.x>u.x?l.x:u.x,m=l.y>u.y?l.y:u.y;if(a&&(o<d||o>g)||!a&&(o<f||o>m))return;let p=r,x=Math.floor((r+n)/2),v=n,A=-1;for(;;){const E=o-(a?s[x].x:s[x].y);if(E*(i?-1:1)>0)p=Math.min(x+1,v),A=Math.floor((p+v)/2);else{if(Math.abs(E)===0)return x;v=Math.max(x-1,p),A=Math.floor((p+v)/2)}if(A===x){const T=x>r?Math.abs(o-(a?s[x-1].x:s[x-1].y)):Rt,F=x<n?Math.abs(o-(a?s[x+1].x:s[x+1].y)):Rt,D=Math.abs(E);switch(Math.min(D,T,F)){case T:return x-1;case F:return x+1;default:return x}}else x=A}},MC=(s,t,e,i,r,n)=>{const a=e==="x",o=a?t.x:t.y,l=s[r],u=s[n],d=l.x<u.x?l.x:u.x,f=l.y<u.y?l.y:u.y,g=l.x>u.x?l.x:u.x,m=l.y>u.y?l.y:u.y;if(a&&(o<d||o>g)||!a&&(o<f||o>m))return;let p=r,x=Math.floor((r+n)/2),v=n,A=-1;for(;;){const E=o-(a?s[x].x:s[x].y);if(E*(i?-1:1)>0)p=Math.min(x+1,v),A=Math.floor((p+v)/2);else{if(Math.abs(E)===0)return{a:x,b:x,lerpAmount:0};v=Math.max(x-1,p),A=Math.floor((p+v)/2)}if(A===x){if(E*(i?-1:1)<0&&x>r){const T=s[x-1],F=s[x];return{a:x-1,b:x,lerpAmount:a?(t.x-T.x)/(F.x-T.x):(t.y-T.y)/(F.y-T.y)}}if(x<n){const T=s[x],F=s[x+1];return{a:x,b:x+1,lerpAmount:a?(t.x-T.x)/(F.x-T.x):(t.y-T.y)/(F.y-T.y)}}return{a:x,b:x,lerpAmount:0}}x=A}};let AR=0;class RC{constructor(t,e,i){this.Bo=qt(!0),this.Lo=!1,this.ji=!1,this.Ro=!1,this.$i=!1,this.Xi=!0,this.Eo=void 0,this.zo=0,this.D=new qi,this.Fn=void 0,this.In=void 0,this.Tn=void 0,this.Ao=void 0,this.po=void 0,this.So=void 0,this.mo=void 0,this.yo=void 0,this.Vn=void 0,this.vo=void 0,this.Pn=void 0,this.zn=void 0,this.wo=void 0,this.Mo=void 0,this._o=void 0,this.onDispose=r=>this.D.on("dispose",r),this.offDispose=r=>this.D.off(r,"dispose"),this.us=t,this.Vo=e,this.Oo=i,this.No=AR,AR+=1,this.Go=t.qi.highlightColorOffset}Wo(t){return this.Oo.find(e=>e.type===t)!==void 0}Uo(t,e){var i;return!!this.Wo(t)&&e((i=this.Oo.find(r=>r.type===t))===null||i===void 0?void 0:i.args)===!0}dispose(){return this.$i||(this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.$i=!0,this.Vo(this),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}setVisible(t){const e=this.Xi;return this.Xi=t,!t&&e&&(this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.ji=!1),this}getVisible(){return this.Xi}setMouseInteractions(t){const e=this.Bo.M();return this.Bo.S(t),t||(e&&this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.ji=!1),this}getMouseInteractions(){return this.Bo.M()}getIsUnderMouse(){return this.ji}getIsGrabbed(){return this.Ro}setMouseMoveEventHandler(t){return this.Fn=t,this}setMouseEnterEventHandler(t){return this.In=t,this}setMouseLeaveEventHandler(t){return this.Tn=t,this}setMouseClickEventHandler(t){return this.Ao=t,this}setMouseDoubleClickEventHandler(t){return this.mo=t,this}setMouseDownEventHandler(t){return this.yo=t,this}setMouseUpEventHandler(t){return this.Vn=t,this}setMouseWheelEventHandler(t){return this.po=t,this}setMouseContextMenuEventHandler(t){return this.So=t,this}setMouseDragEventHandler(t){return this.Pn=t,this}setMouseDragStartEventHandler(t){return this.vo=t,this}setMouseDragStopEventHandler(t){return this.zn=t,this}setTouchStartEventHandler(t){return this.wo=t,this}setTouchMoveEventHandler(t){return this.Mo=t,this}setTouchEndEventHandler(t){return this._o=t,this}Yo(t){return this.Eo=t,this}Ho(){return this.Eo?this.Eo:D6}cs(t){return this.zo=t,this}$o(){return this.zo}Xo(t){return this.Go=t,this}jo(){return this.Go}}const D6=se(Y(0,0),Y(0,0));class Tg extends RC{constructor(t,e,i,r){super(t,i,r),this.Zo=0,this.ks=e,this.ks.Qo=!0}Jo(t){return this.Zo===t||(this.Zo=t,this.ks.Qo=!0),this}Ko(){return this.Zo}}class hy extends Tg{constructor(t,e,i,r,n){super(t,e,r,n),this.qo=!0,this.dt=i}}const th=(s,t,e)=>{if(e instanceof Me){const i=e.Wi(),r=lr(t,{x:Math.abs(i.x),y:Math.abs(i.y)});return se(Y(s.min.x-r.x,s.min.y-r.y),Y(s.max.x+r.x,s.max.y+r.y))}return se(e.mi(Y(s.min.x,s.min.y),Wt(t,-1)),e.mi(Y(s.max.x,s.max.y),t))},vu=(s,t)=>typeof t=="function"?t(s):t,bu=(s,t)=>!s||s!==t,F6=(s,t)=>s===Nt&&t!==Nt,EC=s=>s!==Nt;class rl extends hy{constructor(t,e,i,r,n){super(t,e,i,r,n),this.be=Ns.fillStyle,this.us=t}Ce(t){return this.be=vu(this.be,t),this}Eh(){return this.be}ta(){return bu(this.ia,this.be)}sa(){return F6(this.ia,this.be)}ea(){return EC(this.be)}ha(t){this.ia=t}}class ly extends rl{constructor(t,e,i,r,n){super(t,e,i,r,n),this.xe=Ns.lineStyle,this.us=t}we(t){return this.xe=typeof t=="function"?t(this.xe):t,this}ao(){return this.xe}ra(){return!this.na||this.na!==this.xe}oa(t){return!this.na||this.na.getThickness()!==t}ea(){return this.xe!==bt||super.ea()}sa(){return(this.xe!==bt||this.be!==Nt)&&this.na===bt&&this.ia===Nt}aa(t){this.na=t}}class _6 extends rl{constructor(t,e,i,r,n,a=qt(5)){super(t,e,i,r,n),this.size=qt(5),this.size=a}q(t){return this.size.S(t),this}}class V6 extends rl{constructor(t,e,i,r,n,a=qt(Ns.font)){super(t,e,i,r,n),this.la=qt(""),this.ua=qt(Y(0,0)),this.ca=qt(0),this.da=qt(0),this.fa=qt(Y(0,0)),this.Aa=qt(0),this.ga=qt(vC),this.ma=Y(0,0),this.Xt=qt(oo(1,1,1,1)),this.ya=qt(od(4,4,4,4)),this.font=qt(Ns.font),this.pa=!1,this.font=a}ea(){return EC(this.be)&&this.la.M().length>0}sa(){return this.pa===!1&&this.ea()}Rh(t){return this.la.S(t),this}Bh(){return this.la.M()}Oh(t){return gd(t)?this.ga.S(t):this.ga.S(t(this.ga.M())),this}Vh(){return this.ga.M()}Sa(t){return this.ga.S(this.ga.M().setFamily(t)),this}va(){return this.ga.M().getFamily()}ba(t){return this.ga.S(this.ga.M().setSize(t)),this}xa(){return this.ga.M().getSize()}Ma(t){return this.ga.S(this.ga.M().setWeight(t)),this}_a(){return this.ga.M().getWeight()}wa(t){return this.ga.S(this.ga.M().setStyle(t)),this}Ca(){return this.ga.M().getStyle()}ka(t){return this.ga.S(this.ga.M().setVariant(t)),this}Ta(){return this.ga.M().getVariant()}Fe(t){return this.ua.S(t),this}Fa(){return this.ua.M()}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}Ia(t,e){return this.fa.S(Y(t,e)),this}Pa(){return this.fa.M()}Da(t){return this.da.S(t),this}Ba(){return this.da.M()}La(t){return this.ca.S(t),this}Ra(){return this.ca.M()}Ea(t){return this.da.S(t.x),this.ca.S(t.y),this}Fr(t){return this.Xt.S(t),this}za(){return this.Xt.M()}Ir(t){return this.ya.S(t),this}Va(){return this.ya.M()}}class FA extends _6{constructor(t,e,i,r,n,a=5){super(t,e,i,r,n,qt(a)),this.Oa=[],this.Na=qt(Qe.Square),this.Aa=qt(0),this.Ga=qt(!1),this.Wa=qt(!1),this.Ua=qt(!1),this.Ya=Ie,this.Ha=0,this.$a=[],this.Xa=0,this.ja=Ie,this.Za=ns.Nearest,this.Qa=!1,this.Ja=void 0}Ka(t){return this.Za=t,this}qa(){return this.$a}tl(){return this.Oa}il(t){return this.Na.S(t),this}sl(){return this.Na.M()}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}el(t){return this.Ga.S(t),this}hl(t){return this.Wa.S(t),this}rl(t){return this.Ua.S(t),this}nl(t,e){return Array.isArray(t)||(t=[t]),this.Xa+=t.length,this.$a=Es(this.$a,t,{canReturnB:!0}),this.ja&&(this.ja=e?ur(this.ja,e):void 0),this.Ja=void 0,this}Nt(){return this.Qa=!0,this.Oa.length=0,this.Ha=0,this.Ya=Ie,this.$a=[],this.Xa=0,this.Ja=void 0,this}ol(){return this.Ha}al(){return this.Xa}}class z6 extends ly{constructor(t,e,i,r,n){super(t,e,i,r,n),this.ua=qt(Y(0,0)),this.X=qt(Y(100,100)),this.Aa=qt(0),this.ma=qt(Y(0,0)),this.ll=!1}Ps(){return this.ul(),this}Fe(t){const e=this.ua.M();return t.x===e.x&&t.y===e.y||(this.ua.S(t),this.ul()),this}Fa(){return this.ua.M()}cl(t){const e=this.ua.M();return t!==e.x&&(this.ua.S(Y(t,e.y)),this.ul()),this}dl(t){const e=this.ua.M();return t!==e.y&&(this.ua.S(Y(e.x,t)),this.ul()),this}q(t){const e=this.X.M();return t.x===e.x&&t.y===e.y||(this.X.S(Y(t.x,t.y)),this.ul()),this}oi(){return this.X.M()}fl(t){const e=this.X.M();return t!==e.x&&(this.X.S(Y(t,e.y)),this.ul()),this}Al(t){const e=this.X.M();return t!==e.x&&(this.X.S(Y(e.x,t)),this.ul()),this}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}ml(t){const e=this.ma.M();return t===e&&e.x===t.x&&e.y===t.y||(t===void 0?(this.ll=!1,this.ul()):(this.ll=!0,this.ma.S(t))),this}ul(){if(!this.ll){const t=this.ua.M(),e=this.X.M(),i=Y(t.x+e.x/2,t.y+e.y/2),r=this.ma.M();i.x===r.x&&i.y===r.y||this.ma.S(i)}}}class N6 extends ly{constructor(){super(...arguments),this.Oa=[],this.ua=qt(Y(0,0)),this.Ya=Ie,this.yl=!1}pl(t){return t=eC(t),this.Oa=t,this.yl=!0,this}Sl(){return this.Oa}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}}class B6 extends N6{}class P6 extends rl{constructor(t,e,i,r,n){super(t,e,i,r,n),this.xl=new Array,this.Ml=new Array,this._l=qt({type:"disabled",packager:(a,o,l)=>a.slice()}),this.Ya=Ie,this.wl=0,this.Cl=!1,this.$a=[Array(),Array()],this.kl=!1,this.Tl=new rt().setColor(L(42,171,240)),this.Qa=!1,this.Fl=!1,this.Il=!1}nl(t,e){const i=this.wl-1,r=i>0&&!this.kl;let[n,a]=r?[[this.xl[i]],[this.Ml[i]]]:[[],[]];if(t instanceof Array){const[o,l]=Uw(t);n=Es(n,o,{canReturnB:!0}),a=Es(a,l,{canReturnB:!0})}else{const o=t.position;n.push(Y(o,t.high)),a.push(Y(o,t.low))}return this.kl?(this.$a[0]=Es(this.$a[0],n,{canReturnB:!0}),this.$a[1]=Es(this.$a[1],a,{canReturnB:!0})):(this.$a=[n,a],this.kl=!0),this.Ya=ur(this.Ya,e||ur(ei(n),ei(a))),this}Nt(){return this.Qa=!0,this.xl.length=0,this.Ml.length=0,this.wl=0,this.Ya=Ie,this}tl(){return[this.xl,this.Ml]}qa(){return[this.$a[0],this.$a[1]]}Pl(t){return this._l.S(t),this}Dl(){return this._l.M()}Bl(t){return this.Tl=typeof t=="function"?t(this.Tl):t,this}Ll(){return this.Tl}ol(){return this.wl-(Number(this.Fl)+Number(this.Il))}al(){return this.$a.length}Rl(t){return this.Fl=t,this}El(){return this.Fl}zl(t){return this.Il=t,this}Vl(){return this.Il}sa(){return this.ia===Nt&&this.Ol===Nt&&(this.be!==Nt||this.Tl!==Nt)}Nl(t){this.Ol=t}ea(){return this.Tl!==Nt||super.ea()}ta(){return super.ta()||!this.Ol||this.Ol!==this.Tl}}class L6 extends ly{constructor(t,e,i,r,n){super(t,e,i,r,n),this.ua=qt(Y(0,0)),this.Gl=qt(0),this.Fi=qt(360),this.Wl=qt(100),this.Ul=qt(100),this.Yl=qt(0),this.Hl=qt(void 0),this.$l=Y(0,0),this.Xl=Y(0,0),this.jl=Y(0,0)}Zl(){return this.Wl.M()}Ql(){return this.Ul.M()}Fa(){return this.ua.M()}Jl(){return this.Gl.M()}Ti(){return this.Fi.M()}Kl(){return this.Yl.M()}ql(){return this.Hl.M()}tu(){return this.$l}iu(){return this.Xl}su(){return this.jl}Fe(t){return this.ua.S(t),this}eu(t){return this.Gl.S(t),this}ze(t){return this.Fi.S(t),this}hu(t){return this.Ul.S(t),this.Wl.S(t),this}ru(t){return this.Wl.S(t),this}nu(t){return this.Ul.S(t),this}ou(t){return this.Yl.S(t<0?0:t),this}au(t){return this.Hl.S(t!==void 0&&t<=0?void 0:t),this}}var jr;(function(s){s[s.Complex=0]="Complex",s[s.Simple=1]="Simple"})(jr||(jr={}));const I6=(s,t)=>typeof t=="function"?t(s):t,U6=(s,t)=>!s||s!==t,O6=(s,t)=>!s||s.getThickness()!==t,G6=(s,t)=>s===bt&&t!==bt,Y6=s=>s!==bt&&s.getFillStyle()!==Nt;class uy extends hy{constructor(t,e,i,r,n){super(t,e,i,r,n),this.lu=Ns.lineStyle,this.engine=t}Re(t){return this.lu=I6(this.lu,t),this}uu(){return this.lu}ra(){return U6(this.cu,this.lu)}du(t){return O6(this.cu,t)}sa(){return G6(this.cu,this.lu)}ea(){return Y6(this.lu)}fu(t){this.cu=t}}class H6 extends uy{constructor(t,e,i,r,n){super(t,e,i,r,n),this.Pi=Y(0,0),this.Fi=Y(0,0),this.Au=!1}S({min:t,max:e}){return t.x===this.Pi.x&&t.y===this.Pi.y&&e.x===this.Fi.x&&e.y===this.Fi.y||(this.Au=!0,this.Pi=t,this.Fi=e),this}Ii(){return this.Pi}Ti(){return this.Fi}Ve(t){return t.x===this.Pi.x&&t.y===this.Pi.y||(this.Au=!0,this.Pi=t),this}ze(t){return t.x===this.Fi.x&&t.y===this.Fi.y||(this.Au=!0,this.Fi=t),this}}class X6 extends uy{constructor(t,e,i,r,n){super(t,e,i,r,n),this.gu=void 0,this.mu=!1}}class ax extends uy{constructor(t,e,i,r,n){super(t,e,i,r,n),this.yu=[],this.Ya=Ie,this.$a=new Array,this.Ha=0,this.Za=ns.NearestX,this.Qa=!1,this.pu=qt(void 0),this.Fl=!1,this.Il=!1}Su(t){return this.pu.S(t),this}vu(){return this.pu.M()}qa(){return this.$a}tl(){return this.yu}Ka(t){return this.Za=t,this}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Ya=Ie,this}ol(){return this.Ha-(Number(this.Fl)+Number(this.Il))}al(){return this.$a.length}Rl(t){return this.Fl=t,this}El(){return this.Fl}zl(t){return this.Il=t,this}Vl(){return this.Il}}const W6=s=>{const t=s.getDraggingMode();return t!==void 0&&t!==ze.notDraggable?t===ze.draggable?he.Move:t===ze.onlyHorizontal?he.Horizontal:he.Vertical:void 0};class cy{constructor(){this.Xi=!0,this.D=new qi,this.bu=0,this.wt=(t,e,i)=>{this.bu===0&&this.D.emit("mouseEnter",this,e),this.bu+=1},this.Ct=(t,e,i)=>{this.bu-=1,this.bu<1&&(this.D.emit("mouseLeave",this,e),this.bu=0)},this.kt=(t,e,i)=>{this.D.emit("mouseClick",this,e)},this.Tt=(t,e,i)=>{this.D.emit("mouseDoubleClick",this,e)},this.Ft=(t,e,i)=>{this.D.emit("mouseDown",this,e)},this.It=(t,e,i)=>{this.D.emit("mouseUp",this,e)},this.Pt=(t,e,i)=>{this.D.emit("mouseMove",this,e)},this.Bt=(t,e,i,r)=>{this.D.emit("mouseDragStart",this,e,i)},this.Dt=(t,e,i,r,n,a)=>{this.D.emit("mouseDrag",this,e,i,r,n)},this.Lt=(t,e,i,r,n)=>{this.D.emit("mouseDragStop",this,e,i,r)},this.Rt=(t,e,i)=>{this.D.emit("mouseWheel",this,e)},this.Et=(t,e)=>{this.bu+=1,this.D.emit("touchStart",this,e)},this.zt=(t,e)=>{this.D.emit("touchMove",this,e)},this.Vt=(t,e)=>{this.bu-=1,this.D.emit("touchEnd",this,e)},this.xu=t=>(t instanceof hy?t.setMouseEnterEventHandler(this.wt).setMouseLeaveEventHandler(this.Ct).setMouseClickEventHandler(this.kt).setMouseDoubleClickEventHandler(this.Tt).setMouseDownEventHandler(this.Ft).setMouseUpEventHandler(this.It).setMouseMoveEventHandler(this.Pt).setMouseDragEventHandler(this.Dt).setMouseDragStartEventHandler(this.Bt).setMouseDragStopEventHandler(this.Lt).setMouseWheelEventHandler(this.Rt).setTouchStartEventHandler(this.Et).setTouchMoveEventHandler(this.zt).setTouchEndEventHandler(this.Vt):(t.onMouseEnter(this.wt),t.onMouseLeave(this.Ct),t.onMouseClick(this.kt),t.onMouseDoubleClick(this.Tt),t.onMouseDown(this.Ft),t.onMouseUp(this.It),t.onMouseMove(this.Pt),t.onMouseDrag(this.Dt),t.onMouseDragStart(this.Bt),t.onMouseDragStop(this.Lt),t.onMouseWheel(this.Rt),t.onTouchStart(this.Et),t.onTouchMove(this.zt),t.onTouchEnd(this.Vt)),t)}onMouseEnter(t){return this.D.on("mouseEnter",t)}onMouseLeave(t){return this.D.on("mouseLeave",t)}onMouseClick(t){return this.D.on("mouseClick",t)}onMouseDoubleClick(t){return this.D.on("mouseDoubleClick",t)}onMouseDown(t){return this.D.on("mouseDown",t)}onMouseUp(t){return this.D.on("mouseUp",t)}onMouseMove(t){return this.D.on("mouseMove",t)}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}offMouseEnter(t){return this.D.off(t,"mouseEnter")}offMouseLeave(t){return this.D.off(t,"mouseLeave")}offMouseClick(t){return this.D.off(t,"mouseClick")}offMouseDoubleClick(t){return this.D.off(t,"mouseDoubleClick")}offMouseDown(t){return this.D.off(t,"mouseDown")}offMouseUp(t){return this.D.off(t,"mouseUp")}offMouseMove(t){return this.D.off(t,"mouseMove")}offMouseDragStart(t){return this.D.off(t,"mouseDragStart")}offMouseDrag(t){return this.D.off(t,"mouseDrag")}offMouseDragStop(t){return this.D.off(t,"mouseDragStop")}offMouseWheel(t){return this.D.off(t,"mouseWheel")}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}getIsUnderMouse(){return this.bu>0}setVisible(t){const e=this.Xi!==t;return this.Xi=t,e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}const TC=(s,t,e)=>{const i=s.getDraggingMode();if(i!==ze.notDraggable){const r=s.scale.mi(s.getPosition(),{x:i!==ze.onlyVertical?t.x:0,y:i!==ze.onlyHorizontal?t.y:0}),n=s.scale,a=s.getSize(),o=s.getOrigin(),l=n.mi({x:n.x.getInnerStart(),y:n.y.getInnerStart()},lr({x:(1+o.x)/2,y:(1+o.y)/2},a)),u=n.mi({x:n.x.getInnerEnd(),y:n.y.getInnerEnd()},lr({x:(o.x-1)/2,y:(o.y-1)/2},a)),d={x:Math.min(Math.max(r.x,l.x),u.x),y:Math.min(Math.max(r.y,l.y),u.y)};s.setPosition(d),vt(e)}},$6=(s,t,e,i,r)=>{TC(s,r,t)},j6=(s,t,e,i,r)=>{TC(s,i,r)};class Uu extends cy{constructor(t,e,i,r,n){super(),this.position=Y(50,50),this.origin=Y(0,0),this.size=Y(0,0),this.$i=!1,this.Mu=void 0,this._u=void 0,this.wu=W6,this.Cu=void 0,this.Bo=!0,this.ku=()=>{const o=typeof this.wu=="function"?this.wu(this):this.wu;o&&(this._u=this.ks.us.Wr(o))},this.Tu=()=>{this.ks.us.Ur(this._u)},this.Xt=oo(0,0,0,0),this.ks=t,this.renderingScale=e,this.scale=i,this.Vo=r,this.qi=n,this.ks.Ss(),this.onMouseEnter(this.ku),this.onMouseLeave(this.Tu),this.onMouseDrag($6);const a=tr(new Xr(ae,j6,ae));this.onTouchStart(a.onTouchStart),this.onTouchMove(a.onTouchMove),this.onTouchEnd(a.onTouchEnd),this.qi=n}setMouseInteractions(t){return this.Fu().forEach(e=>e.setMouseInteractions(t)),this.Bo=t,this}getMouseInteractions(){return this.Bo}setEffect(t){return this.es=this.es||this.ks.us.es.hs(this,{Iu:{shapes:this.Fu()}}),this.es.Iu.ps(t),this}getEffect(){return!!this.es&&this.es.Iu.vs()}setAutoDispose(t){return this.Cu=t,this.ks.Ss(),this}getAutoDispose(){return this.Cu}getSize(t=ke.Everything){return t===ke.Everything?Y(this.size.x+(this.Xt.left+this.Xt.right),this.size.y+(this.Xt.bottom+this.Xt.top)):this.size}setContentSize(t){this.size=t}setMargin(t){return this.Xt=typeof t=="object"?ru(this.Xt,t):{left:t,top:t,right:t,bottom:t},this.ks.Ss(),this}getMargin(){return this.Xt}Te(){if(this.Cu){const t=this.size,e=this.renderingScale.oi(),i={x:t.x/e.x,y:t.y/e.y};(this.Cu.type==="max-width"&&i.x>=this.Cu.maxWidth||this.Cu.type==="max-height"&&i.y>=this.Cu.maxHeight)&&this.dispose()}return this}Ps(){return this}dispose(){return this.$i||(this.ks.Ss(),this.$i=!0,this.Vo(this),this.D.emit("dispose",this),this.Fu().forEach(t=>t.dispose())),this}setVisible(t){return super.setVisible(t),this.Fu().forEach(e=>e.setVisible(t)),this.ks.Ss(),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setPosition(t){return this.position=t,this.ks.Ss(),this}getPosition(t=this.origin,e=ke.Everything){const i=this.getSize(ke.Everything),r=this.scale.mi(this.position,lr({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},i));if(e===ke.Everything)return this.scale.mi(r,lr({x:(t.x+1)/2,y:(t.y+1)/2},i));const n=this.scale.mi(r,{x:this.Xt.left,y:this.Xt.bottom}),a=this.getSize(ke.Content);return this.scale.mi(n,lr({x:(t.x+1)/2,y:(t.y+1)/2},a))}setOrigin(t){return this.origin=t,this.ks.Ss(),this}getOrigin(){return this.origin}setDraggingMode(t=ze.notDraggable){return this.Mu=t,this.ks.Ss(),this}getDraggingMode(){return this.Mu!==void 0?this.Mu:ze.notDraggable}setMouseStyle(t){return this.wu=t,this}getMouseStyle(){return this.wu}}class q6 extends Uu{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.ya=oo(),this.Pu=0,this.ks=t,this.Du=r,this.backgroundElement=new this.Du(this.ks,this.renderingScale,this.scale,ae,a),this.xu(this.backgroundElement)}Fu(){return this.backgroundElement.Fu()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setBackground(t){return t(this.backgroundElement),this}getBackground(){return this.backgroundElement}Te(){return super.Te(),this.$i||this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,ke.PaddedBackground)).Te(),this}Ps(){const t=this.getSize(ke.PaddedContent);return this.backgroundElement.Bu(t).Ps(),super.Ps()}dispose(){return super.dispose(),this.backgroundElement.dispose(),this}setVisible(t){return super.setVisible(t),this.backgroundElement.setVisible(t),this}setPadding(t){return this.ya=typeof t=="object"?ru(this.ya,t):{left:t,top:t,right:t,bottom:t},this.ks.Ss(),this}getPadding(){return this.ya}getSize(t=ke.Everything){let e=super.getSize(t);return t>=ke.PaddedContent&&(e=Y(e.x+this.ya.left+this.ya.right,e.y+this.ya.bottom+this.ya.top)),t>=ke.PaddedBackground&&(e=Y(e.x+this.backgroundElement.Lu()+this.backgroundElement.Ru(),e.y+this.backgroundElement.Eu()+this.backgroundElement.zu())),e}getPosition(t=this.origin,e=ke.Everything){if(e===ke.Everything)return super.getPosition(t,e);const i=super.getPosition(Y(-1,-1),ke.Everything),r=this.getMargin(),n=this.scale.mi(i,{x:r.left,y:r.bottom});if(e===ke.PaddedBackground){const d=this.getSize(ke.PaddedBackground);return this.scale.mi(n,lr({x:(t.x+1)/2,y:(t.y+1)/2},d))}const a=this.scale.mi(n,{x:this.backgroundElement.Lu(),y:this.backgroundElement.Eu()});if(e===ke.PaddedContent){const d=this.getSize(ke.PaddedContent);return this.scale.mi(a,lr({x:(t.x+1)/2,y:(t.y+1)/2},d))}const o=this.getPadding(),l=this.scale.mi(a,{x:o.left,y:o.bottom}),u=this.getSize(ke.Content);return this.scale.mi(l,lr({x:(t.x+1)/2,y:(t.y+1)/2},u))}setMouseInteractions(t){return super.setMouseInteractions(t),this.backgroundElement.setMouseInteractions(t),this}getHighlight(){return this.Pu}setHighlight(t){return this.Pu=Ko(t),this.backgroundElement.setHighlight(t),this.D.emit("highlight",this,t),this}}const Wh=s=>"setBackground"in s;class J6 extends cy{constructor(t,e,i,r,n,a,o,l,u,d,f){super(),this.u=0,this.Vu=1,this.Ou=!0,this.Nu=new oy,this.Gu=!0,this.$i=!1,this.axisScale=r,this.renderingScale=n,this.Wu=o,this.Uu=l,this.Yu=u,this.Vo=d,this.Hu=e,this.$u=i,this.Xu=this.xu(this.Hu.Ee(this.renderingScale)),this.qi=f,this.ju=this.xu(this.Yu.Zu(this.$u,this.renderingScale,a,ae,this.qi,!1).setOrigin(Kw(this.Uu)).setDirection(this.Uu)),this.axis=t,this.setMouseInteractions(!1),this.ju.Qu==="major"?this.Xu.Re(f.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):this.ju.Qu==="minor"?this.Xu.Re(f.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):this.ju.Qu==="other"&&this.Xu.Re(f.cursorGridStrokeStyleX)}setValue(t){return this.u=t,this.$u.Ss(),this.D.emit("valueChange",this,this.u),this}getValue(){return this.u}setTextFormatter(t){return this.Ju=t,this.$u.Ss(),this}setTickLength(t){return this.ju.setPointerLength(t),this.Hu.Ss(),this}getTickLength(){return this.ju.getPointerLength()}setTickLabelPadding(t){return this.ju.setTickLabelPadding(t),this.Hu.Ss(),this}setTickLabelRotation(t){return this.ju.setTextRotation(t),this.Hu.Ss(),this}getTickLabelRotation(){return this.ju.getTextRotation()}getTickLabelPadding(){return this.ju.getTickLabelPadding()}setGridStrokeLength(t){return this.Vu=t,this.Hu.Ss(),this}getGridStrokeLength(){return this.Vu}setGridStrokeStyle(t){return this.Xu.Re(t),this.Hu.Ss(),this}getGridStrokeStyle(){return this.Xu.uu()}dispose(){return this.$i||(this.$i=!0,this.Xu.dispose(),this.ju.dispose(),this.Vo(this),this.Hu.us.Ss(),this.D.emit("dispose",this)),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setMarkerVisible(t){return this.Ou=t,this.$u.Ss(),this}getMarkerVisible(){return this.Ou}setMarker(t){return t(this.ju),this.$u.Ss(),this}getMarker(){return this.ju}setMouseInteractions(t){return this.ju.setMouseInteractions(t),this.Xu.setMouseInteractions(t),this}getMouseInteractions(){return this.Xu.getMouseInteractions()}setAllocatesAxisSpace(t){return this.Gu=t,this.$u.Ss(),this}getAllocatesAxisSpace(){return this.Gu}isInScale(){return Aa(this.u,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}}class Z6 extends J6{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,f,u,d),this.Ku=!1,this.Vo=u,this.Hu=e,this.$u=i}dispose(){return this.Ku=!1,super.dispose()}update(){return this}plot(t,e,i,r,n){if(this.isInScale()&&this.getVisible()&&t){this.Ku=!1;const a=Su(this.u,this.axisScale,this.Wu.getWidth(this.renderingScale));this.Xu.setVisible(!0).Ve(this.Wu.toPoint(a,e)).ze(this.Wu.toPoint(a,e-(r+i*this.Vu))),this.Ou?(this.Ju&&this.ju.setText(this.Ju(this.u,this)),this.ju.setVisible(!0).setPosition(this.Wu.toPoint(a,n))):this.ju.setVisible(!1)}else this.Xu.setVisible(!1),this.ju.setVisible(!1);return this.ju.Ps().Te(),this}qu(){const t=this.ju.Ps().getSize();return this.Wu.getHeight(t)}}const Qd=(s,t)=>s.setTextFillStyle(t.uiTextFillStyle).setTextFont(t.uiTextFont),wC=(s,t)=>(oi(s.setButtonSize(t.uiButtonSize),t,!1,{fill:t.uiButtonFillStyle}),s),xo=(s,t,e)=>{e&&Wh(s)&&s.setBackground(i=>i.setFillStyle(t.uiBackgroundFillStyle).setStrokeStyle(t.uiBackgroundStrokeStyle)).setEffect(!0)},Yn={uiElement:void 0,stylers:$d(),addStyler(s){return{...this,stylers:this.stylers.push(s)}},applyStylers(s,t){return this.stylers.forEach(e=>e!==void 0?e(s,t):void 0),s}},nl={background:void 0,setBackground(s){return{...this,background:s}}},_A={Zu(s,t,e,i,r,n){const a=this.applyStylers(new this.uiElement(s,t,e,i,r),r);return xo(a,r,n),a}},Q6={Zu(s,t,e,i,r,n){const a=this.applyStylers(new this.uiElement(s,t,e,this.background,i,r),r);return xo(a,r,n),a}};class K6 extends Uu{constructor(){super(...arguments),this.tc=!0}Te(){return super.Te(),this}setMouseInteractions(t){return this.tc=t,this}getMouseInteractions(){return this.tc}Fu(){return[]}}class VA extends Uu{constructor(){super(...arguments),this.D=new qi,this.Pu=0}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}getHighlight(){return this.Pu}setHighlight(t){return this.Pu=t,this.Fu().forEach(e=>e.cs(t)),this.D.emit("highlight",this,t),this.ks.Ss(),this}}class CC extends VA{}class tV extends CC{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.ks=t,this.Na=this.ks.ic(this.renderingScale,jr.Simple).setVisible(!1).Ce(Nt).we(bt),this.xu(this.Na)}sc(){const t=this.hc();if(t.length>2){const e=ei(t),i=Y(e.max.x-e.min.x,e.max.y-e.min.y);this.setContentSize(i);const r=t.map(n=>{const a=Bt(n,Wt(e.min,-1));return this.scale.mi(this.position,Bt(a,lr(Wt(Bt(this.origin,Y(1,1)),-.5),i)))}).map(n=>mt(n,this.scale,this.renderingScale));this.Na.pl(r).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.Na&&this.Na.setVisible(!1),this.setContentSize(Y(0,0))}Te(){return super.Te(),this.$i||this.sc(),this}Ps(){return this.sc(),super.Ps()}setVisible(t){return super.setVisible(t),this.Na.setVisible(t),this}}const eh=(s,t,e)=>s*(1-e)+t*e,kC=(s,t,e,i,r)=>{if(t.value===void 0||e.value===void 0||i.value===void 0||r.value===void 0)return;const n=(s.x-e.point.x)/(r.point.x-e.point.x),a=(r.point.y-e.point.y)*n+e.point.y,o=(s.x-t.point.x)/(i.point.x-t.point.x),l=(i.point.y-t.point.y)*o+t.point.y,u=(s.y-l)/(a-l),d=eh(e.value,r.value,n),f=eh(t.value,i.value,o);return eh(f,d,u)};class zA{constructor(){this.type="simple"}}const Ou=new zA;class eV{constructor(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=Ys("#000"),this.specularColor=Ys("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)}}const Gu=new eV,iV={Simple:zA};var as;(function(s){s[s.Fill=0]="Fill",s[s.Fit=1]="Fit",s[s.Stretch=2]="Stretch",s[s.Center=3]="Center",s[s.Tile=4]="Tile"})(as||(as={}));const sV=Re({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:L(0,0,0,0),sourceMissingColor:L(0,0,0,0),fitMode:as.Fill});class ta extends sV{constructor(t){super(t)}setSource(t){return this.set("source",t)}getSource(){return this.get("source")}setSurroundingColor(t){return Td(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))}getSurroundingColor(){return this.get("surroundingColor")}setSourceMissingColor(t){return Td(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))}getSourceMissingColor(){return this.get("sourceMissingColor")}setFitMode(t){return this.set("fitMode",t)}getFitMode(){return this.get("fitMode")}toString(){return`imagefill:${this.fitMode}`}}const Yu=s=>!!(s&&typeof s=="object"&&"type"in s&&s.type==="fillstyle"&&"fillType"in s&&s.fillType==="image"),DC={DashedEqual:[2,2]},rV=Re({type:"linestyle",lineType:"dashed",pattern:DC.DashedEqual,fillStyle:new rt({color:L(255,255,255)}),thickness:1,patternScale:3});class nV extends rV{constructor(t){super({...t,lineType:"dashed"})}setFillStyle(t){return typeof t=="function"?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return typeof t=="function"?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}V(){const t=this.getThickness();return t<0?1:t}setPattern(t){return typeof t=="function"?this.set("pattern",t(this.getPattern())):this.set("pattern",t)}getPattern(){return this.get("pattern")}setPatternScale(t){return typeof t=="function"?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)}getPatternScale(){return this.get("patternScale")}}const dy=s=>!(!s||typeof s!="object"||!("lineType"in s)||s.lineType!=="dashed"),aV=Re({type:"icon",width:void 0,height:void 0,rc:void 0,nc:ae,oc:ae});class oV extends aV{constructor(t,e,i,r){super({...r,rc:t,nc:e,oc:i})}dispose(){return this.oc(this),this}setWidth(t){const e=this.set("width",t);return this.nc(e),e}getWidth(){return this.get("width")}setHeight(t){const e=this.set("height",t);return this.nc(e),e}getHeight(){return this.get("height")}setSize(t,e){const i=this.withMutations(r=>{r.set("width",t).set("height",e)});return this.nc(i),i}oi(){if(!this.rc)return{x:0,y:0};const t=this.rc.width,e=this.rc.height;if(t===0||e===0)return{x:0,y:0};const i=this.width,r=this.height;return typeof i=="number"&&typeof r=="number"?{x:i,y:r}:typeof i=="number"?{x:i,y:e*i/t}:typeof r=="number"?{x:t*r/e,y:r}:{x:t,y:e}}}const $h=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="icon"),hV=Re({type:"glow",color:L(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}});class fy extends hV{constructor(t){super(t)}setSpread(t){return this.set("spread",typeof t=="function"?t(this.get("spread")):t)}getSpread(){return this.get("spread")}setBlur(t){return this.set("blur",typeof t=="function"?t(this.get("blur")):t)}getBlur(){return this.get("blur")}setColor(t){return this.set("color",typeof t=="function"?t(this.get("color")):t)}getColor(){return this.get("color")}setOffset(t){return this.set("offset",typeof t=="function"?t(this.get("offset")):t)}getOffset(){return this.get("offset")}}class NA{constructor(t){this.ac=0,this.lc=0,this.uc=0,this.cc=!1,this.dc=!0,this.fc=!1,this.Ac={warningDisplayed:!1,expandEvents:[]},this.D=new qi,this.dc=!t||t.autoSortingEnabled===void 0||t.autoSortingEnabled,(t==null?void 0:t.dataPattern)!==void 0&&(this.gc={userSpecified:t.dataPattern===null?void 0:t.dataPattern}),this.mc=(t==null?void 0:t.lookupValues)!==void 0&&t.lookupValues,this.yc=(t==null?void 0:t.colors)!==void 0&&t.colors,this.Sc=(t==null?void 0:t.ids)!==void 0&&t.ids,this.vc=(t==null?void 0:t.sizes)!==void 0&&t.sizes,this.bc=(t==null?void 0:t.rotations)!==void 0&&t.rotations,this.xc=t!=null&&t.dataStorage?t.dataStorage:Float64Array,this.Mc=(t==null?void 0:t.allowInputModification)!==!1}add(t){return Array.isArray(t)?this.appendJSON(t,{x:"x",y:"y"}):this.appendSample(t),this}addArraysXY(t,e){return this.appendSamples({xValues:t,yValues:e}),this}appendJSON(t,e={x:"x",y:"y"}){const i=t.length,r=e.x,n=e.y,a=e.lookupValue,o=e.size,l=e.rotation,u=e.color,d=e.id;let f,g,m,p,x,v,A;if(r){f=new this.xc(i);for(let E=0;E<i;E+=1){const T=t[E];f[E]=T[r]}}if(n){g=new this.xc(i);for(let E=0;E<i;E+=1){const T=t[E];g[E]=T[n]}}if(a){m=new Float32Array(i);for(let E=0;E<i;E+=1){const T=t[E];m[E]=T[a]}}if(u){p=[];for(let E=0;E<i;E+=1){const T=t[E];p[E]=T[u]}}if(d){x=new Uint32Array(i);for(let E=0;E<i;E+=1){const T=t[E];x[E]=T[d]}}if(o){v=new Float32Array(i);for(let E=0;E<i;E+=1){const T=t[E];v[E]=T[o]}}if(l){A=new Float32Array(i);for(let E=0;E<i;E+=1){const T=t[E];A[E]=T[l]}}return this.appendSamples({xValues:f,yValues:g,ids:x,colors:p,lookupValues:m,sizes:v,rotations:A,start:e.start,step:e.step}),this}appendSample(t){const{samplesCacheX:e,samplesCacheY:i,samplesCacheColors:r,samplesCacheIDs:n,samplesCacheLookup:a,samplesCacheSize:o,samplesCacheRotation:l,maxSampleCount:u,dataPattern:d}=this._c({appendCount:1}),f=this.wc(),g=t.step!==void 0?t.step:1,m=t.x!==void 0?t.x:f?f.x+g:0,p=t.y!==void 0?t.y:f?f.y+g:0;if(d&&this.dc&&this.Cc&&this.kc&&!this.Tc(d,m,p)&&!this.fc)return this.Fc(this.Cc,this.kc,new this.xc([m]),new this.xc([p]),t.lookupValue!==void 0?new Float32Array([t.lookupValue]):void 0,t.color!==void 0?this.Ic((t.color,[t.color])):void 0,t.id!==void 0?new Uint32Array([t.id]):void 0,t.size!==void 0?new Float32Array([t.size]):void 0,t.rotation!==void 0?new Float32Array([t.rotation]):void 0,d),this;if(e[this.ac]=m,i[this.ac]=p,t.lookupValue!==void 0&&a&&(a[this.ac]=t.lookupValue),t.color!==void 0&&r){const x=this.Ic((t.color,[t.color]));x!==void 0&&(r[this.ac]=x[0])}return t.id!==void 0&&n&&(n[this.ac]=t.id),t.size!==void 0&&o&&(o[this.ac]=t.size),t.rotation!==void 0&&l&&(l[this.ac]=t.rotation),this.Pc(this.ac,this.ac),this.ac+=1,this.ac>u-1&&(this.ac=0,this.cc=!0),this.lc=Math.min(this.lc+1,u),this.uc+=1,this}appendSamples(t){const{lookupValues:e,colors:i,ids:r,sizes:n,rotations:a,start:o,step:l}=t;let u=t.offset,d=t.count;const f=t.xValues||t.yValues;if(!f)return this;const g=f.length;if(u=u!==void 0?u:0,d=d!==void 0?d:g-u,d<=0)return this;const m=t.offsetLookupValues!==void 0?t.offsetLookupValues:u,p=t.offsetColors!==void 0?t.offsetColors:u,x=t.offsetIds!==void 0?t.offsetIds:u,v=t.offsetSizes!==void 0?t.offsetSizes:u,A=t.offsetRotations!==void 0?t.offsetRotations:u,[E,T]=this.Dc(d,t.xValues,"x",o,l,u),[F,D]=this.Dc(d,t.yValues,"y",o,l,u),N=this.Ic(i),{samplesCacheX:V,samplesCacheY:P,samplesCacheLookup:b,samplesCacheColors:M,samplesCacheIDs:w,samplesCacheSize:C,samplesCacheRotation:k,maxSampleCount:z,dataPattern:H,incomingDataReplacedCache:B}=this._c({appendCount:d,...T===0&&D===0&&u===0&&m===0&&p===0&&x===0&&v===0&&A===0?{incomingDataX:E,incomingDataY:F,incomingDataLookup:e,incomingDataIDs:r,incomingDataColors:N,incomingDataSize:n,incomingDataRotation:a}:{}});if(!B&&H&&this.dc&&this.Cc&&this.kc){const W=E[T],I=F[D];if(!this.Tc(H,W,I)&&!this.fc)return this.Fc(this.Cc,this.kc,ar(E,T,T+d),ar(F,D,D+d),ar(e,m,m+d),ar(N,p,p+d),ar(r,x,x+d),ar(n,v,v+d),ar(a,A,A+d),H),this}const U=z-this.ac,O=Math.min(d,U);if(O>0&&(B||(xi(V,E,T,O,this.ac),xi(P,F,D,O,this.ac),e&&b&&xi(b,e,m,O,this.ac),r&&w&&xi(w,r,x,O,this.ac),N&&M&&xi(M,N,p,O,this.ac),n&&C&&xi(C,n,v,O,this.ac),a&&k&&xi(k,a,A,O,this.ac)),this.Pc(this.ac,this.ac+O-1),this.ac+=O,this.ac>z-1&&(this.ac=0,this.cc=!0)),this.lc=Math.min(this.lc+O,z),this.uc+=O,this.Bc(),d-O>0){const W={xValues:E?ar(E,T+O,void 0):void 0,yValues:F?ar(F,D+O,void 0):void 0,lookupValues:e?ar(e,m+O,void 0):void 0,ids:r?ar(r,x+O,void 0):void 0,colors:N?ar(N,p+O,void 0):void 0,sizes:n?ar(n,v+O,void 0):void 0,rotations:a?ar(a,A+O,void 0):void 0};this.appendSamples(W)}return this}setSamples(t){return this.clear().appendSamples(t)}fill(t){const e=this.Cc||this.kc;if(!e)return this;const i=e.length;if(t.x!==void 0&&(this.Cc=this.Cc||new this.xc(i),this.Cc.fill(t.x)),t.y!==void 0&&(this.kc=this.kc||new this.xc(i),this.kc.fill(t.y)),t.lookupValue!==void 0&&(this.Lc=this.Lc||new Float32Array(i),this.Lc.fill(t.lookupValue)),t.color!==void 0){const r=this.Ic([t.color]);r&&(this.Rc=this.Rc||new Uint32Array(i),this.Rc.fill(r[0]))}return t.size!==void 0&&(this.Ec=this.Ec||new Float32Array(i),this.Ec.fill(t.size)),t.rotation!==void 0&&(this.zc=this.zc||new Float32Array(i),this.zc.fill(t.rotation)),this.D.emit("cleared"),this}alterSamples(t,e){const{xValues:i,yValues:r,lookupValues:n,colors:a,ids:o,sizes:l,rotations:u}=e;let d=e.offset,f=e.count;const g=i||r||n||a||o||l||u;if(!g)return this;const m=g.length;if(d=d!==void 0?d:0,f=f!==void 0?f:m-d,f<=0)return this;const p=e.offsetLookupValues!==void 0?e.offsetLookupValues:d,x=e.offsetColors!==void 0?e.offsetColors:d,v=e.offsetIds!==void 0?e.offsetIds:d,A=e.offsetSizes!==void 0?e.offsetSizes:d,E=e.offsetRotations!==void 0?e.offsetRotations:d,T=this.Ic(a),F=this.uc-1,D=this.Vc!==void 0?Math.max(this.uc-this.Vc,0):0,N=t+f-1,V=Math.max(t,D),P=Math.min(N,F),b=P-V+1;if(this.uc>0&&b>0){const{samplesCacheX:w,samplesCacheY:C,samplesCacheColors:k,samplesCacheIDs:z,samplesCacheLookup:H,samplesCacheSize:B,samplesCacheRotation:U}=this._c({appendCount:0}),O=w.length;if(this.Vc!==void 0&&this.cc&&this.uc%this.Vc!=0){const W=this.uc-this.uc%this.Vc,I=this.uc-1,X=this.uc-this.lc,j=W-1,Q=Math.max(V,X),J=Math.min(P,j)-Q+1;if(J>0){const ct=Q-t,dt=Vi(Q,this.uc,O,this.ac);i&&xi(w,i,d+ct,J,dt),r&&xi(C,r,d+ct,J,dt),n&&H&&xi(H,n,p+ct,J,dt),o&&z&&xi(z,o,v+ct,J,dt),T&&k&&xi(k,T,x+ct,J,dt),l&&B&&xi(B,l,A+ct,J,dt),u&&U&&xi(U,u,E+ct,J,dt)}const st=Math.max(V,W),nt=Math.min(P,I)-st+1;if(nt>0){const ct=st-t,dt=Vi(st,this.uc,O,this.ac);i&&xi(w,i,d+ct,nt,dt),r&&xi(C,r,d+ct,nt,dt),n&&H&&xi(H,n,p+ct,nt,dt),o&&z&&xi(z,o,v+ct,nt,dt),T&&k&&xi(k,T,x+ct,nt,dt),l&&B&&xi(B,l,A+ct,nt,dt),u&&U&&xi(U,u,E+ct,nt,dt)}}else{const W=V-D;i&&xi(w,i,d,b,W),r&&xi(C,r,d,b,W),n&&H&&xi(H,n,p,b,W),o&&z&&xi(z,o,v,b,W),T&&k&&xi(k,T,x,b,W),l&&B&&xi(B,l,A,b,W),u&&U&&xi(U,u,E,b,W)}this.D.emit("cleared")}const M=t+f-1-F;if(M>0){const w=P+1-t;this.appendSamples({xValues:i,yValues:r,lookupValues:n,colors:a,ids:o,sizes:l,rotations:u,offset:d+w,offsetLookupValues:p+w,offsetColors:x+w,offsetIds:v+w,offsetSizes:A+w,offsetRotations:E+w,count:M})}return this}alterSamplesByID(t,e){if(!this.Sc)throw new Error("LightningChart JS attempted to use alterSamplesByID on DataSetXY that doesn't have IDs enabled.");const i=t.length,r=this.Oc;if(i<=0||!r)return this;const n=((typeof e.color=="object"?this.Ic([e.color]):typeof e.color=="number"?[e.color]:[])||[])[0],a=Array.isArray(e.xValues)?new this.xc(e.xValues):e.xValues,o=Array.isArray(e.yValues)?new this.xc(e.yValues):e.yValues,l=Array.isArray(e.yValues)?new Float32Array(e.yValues):e.yValues,u=this.Ic(e.colors),d=Array.isArray(e.sizes)?new Float32Array(e.sizes):e.sizes,f=Array.isArray(e.rotations)?new Float32Array(e.rotations):e.rotations,g=r.length,m=this.lc,p=this.uc-1,x=Math.max(p-m+1,0);for(let v=0;v<i;v+=1){const A=t[v],E=ih(A,x,p,F=>r[Vi(F,this.uc,g,this.ac)]),T=Vi(E,this.uc,g,this.ac);r[T]===A&&(e.x!==void 0&&this.Cc&&(this.Cc[T]=e.x),e.y!==void 0&&this.kc&&(this.kc[T]=e.y),e.lookupValue!==void 0&&this.Lc&&(this.Lc[T]=e.lookupValue),e.size!==void 0&&this.Ec&&(this.Ec[T]=e.size),e.rotation!==void 0&&this.zc&&(this.zc[T]=e.rotation),n!==void 0&&this.Rc&&(this.Rc[T]=n),a&&this.Cc&&(this.Cc[T]=a[v]),o&&this.kc&&(this.kc[T]=o[v]),l&&this.Lc&&(this.Lc[T]=l[v]),u&&this.Rc&&(this.Rc[T]=u[v]),d&&this.Ec&&(this.Ec[T]=d[v]),f&&this.zc&&(this.zc[T]=f[v]))}return this.D.emit("cleared"),this}clear(){return this.ac=0,this.lc=0,this.uc=0,this.cc=!1,this.D.emit("cleared"),this}getSampleCount(){return this.lc}getNextSampleIndex(){return this.uc}setMaxSampleCount(t){if(typeof t=="object"){this.Nc&&this.offMaxSampleCountExceeded(this.Nc);const e=t.max;this.Nc=this.onMaxSampleCountExceeded((i,r,n,a)=>{if(e!==void 0&&n>=e)return;let o=2*n;e!==void 0&&(o=Math.min(o,e)),this.setMaxSampleCount(o)}),this.Vc===void 0&&this.setMaxSampleCount(1e5)}else if(typeof t=="number"){const e=t;if(this.Vc!==void 0&&this.Vc>e)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.Cc||!this.kc)return this.Vc=e,this;if(e===this.Vc)return this;if(this.cc&&this.ac!==0)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.Vc=e,this.lc<e?(this.ac=this.lc,this.cc=!1):(this.ac=0,this.cc=!0);const i=new this.xc(this.Vc);i.set(this.Cc);const r=new this.xc(this.Vc);if(r.set(this.kc),this.Cc=i,this.kc=r,this.mc){const n=new Float32Array(this.Vc);this.Lc&&n.set(this.Lc),this.Lc=n}if(this.Sc){const n=new Uint32Array(this.Vc);this.Oc&&n.set(this.Oc),this.Oc=n}if(this.yc){const n=new Uint32Array(this.Vc);this.Rc&&n.set(this.Rc),this.Rc=n}if(this.vc){const n=new Float32Array(this.Vc);this.Ec&&n.set(this.Ec),this.Ec=n}if(this.bc){const n=new Float32Array(this.Vc);this.zc&&n.set(this.zc),this.zc=n}}return this}getMaxSampleCount(){return this.Vc}readBack(t){if(!this.Cc||!this.kc)return{xValues:new this.xc,yValues:new this.xc};const e=this.Cc.length;let i=[];if(t!=null&&t.onlyInRange){const m=this.Gc();if(!m)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `visibleOnly: true` without a data pattern.\nThis operation is only supported for patterned data (e.g. 'ProgressiveX')");const p=Math.min(t.onlyInRange.start,t.onlyInRange.end),x=Math.max(t.onlyInRange.start,t.onlyInRange.end),v=BA(p,x,this.Cc,this.uc,this.lc,this.ac,m,0);if(!v)return{xValues:new this.xc,yValues:new this.xc};i=v.dataRanges}else if(this.Vc!==void 0&&this.cc&&this.uc%this.Vc!=0){const m=this.ac,p=e-m,x=this.ac-1;i.push({offset:m,count:p}),i.push({offset:0,count:x+1})}else i.push({offset:0,count:this.lc});const r=i.reduce((m,p)=>m+p.count,0),n=new this.xc(r),a=new this.xc(r),o=this.yc?new Uint32Array(r):void 0,l=this.mc?new Float32Array(r):void 0,u=this.Sc?new Uint32Array(r):void 0,d=this.vc?new Float32Array(r):void 0,f=this.bc?new Float32Array(r):void 0;let g=0;for(const m of i)n.set(this.Cc.subarray(m.offset,m.offset+m.count),g),a.set(this.kc.subarray(m.offset,m.offset+m.count),g),this.yc&&o&&this.Rc&&o.set(this.Rc.subarray(m.offset,m.offset+m.count),g),this.mc&&l&&this.Lc&&l.set(this.Lc.subarray(m.offset,m.offset+m.count),g),this.Sc&&u&&this.Oc&&u.set(this.Oc.subarray(m.offset,m.offset+m.count),g),this.vc&&d&&this.Ec&&d.set(this.Ec.subarray(m.offset,m.offset+m.count),g),this.bc&&f&&this.zc&&f.set(this.zc.subarray(m.offset,m.offset+m.count),g),g+=m.count;return{xValues:n,yValues:a,lookupValues:l,colors:o,ids:u,sizes:d,rotations:f}}onMaxSampleCountExceeded(t){return this.D.on("maxSampleCountExceeded",t)}offMaxSampleCountExceeded(t){return this.D.off(t)}Dc(t,e,i,r,n,a){if(e===void 0){const o=this.wc();n=n!==void 0?n:1,r=r!==void 0?r:o?o[i]+n:0;const l=new this.xc(t);for(let u=0;u<t;u+=1)l[u]=r+u*n;return[l,0]}return[e,a]}Ic(t){if(!t||t.length===0)return;const e=t[0];if(Td(e)){const i=t.length,r=new Uint32Array(i);for(let n=0;n<i;n+=1){const a=t[n],o=255*a.a<<24|255*a.b<<16|255*a.g<<8|255*a.r;r[n]=o}return r}return t}Wc(){return{min:0,max:this.Vc!==void 0&&this.cc?this.Vc-1:this.lc-1}}Uc(t){t=Math.min(t,this.lc),this.uc-=t,this.lc-=t,this.ac-=t,this.ac<0&&this.Vc!==void 0&&(this.ac+=this.Vc)}Fc(t,e,i,r,n,a,o,l,u,d){var f;const g=i.length,m=i[0],p=i[g-1],x=r[g-1];if(this.Tc(d,p,x)){const v=((f=this.wc())===null||f===void 0?void 0:f.x)||0;let A=0;for(let T=0;T<g;T+=1)if(i[T]>v){A=T;break}const E={xValues:i,yValues:r,lookupValues:n,colors:a,ids:o,sizes:l,rotations:u,offset:A};this.fc=!0,this.appendSamples(E),this.fc=!1}else{const v=t.length,A=this.lc,E=this.uc-1,T=Math.max(E-A+1,0),F=ih(m,T,E,nt=>t[Vi(nt,this.uc,v,this.ac)]),D=F-1,N=F+1,V=t[Vi(F,this.uc,v,this.ac)],P=N<=this.uc-1?t[Vi(N,this.uc,v,this.ac)]:void 0,b=P!==void 0&&P<m?N+1:V<m?F+1:D+1,M=E-b+1,w=new this.xc(M),C=new this.xc(M),k=this.mc?new Float32Array(M):void 0,z=this.yc?new Uint32Array(M):void 0,H=this.Sc?new Uint32Array(M):void 0,B=this.vc?new Float32Array(M):void 0,U=this.bc?new Float32Array(M):void 0;let O=0;for(let nt=b;nt<=E;nt+=1){const ct=Vi(nt,this.uc,v,this.ac);w[O]=t[ct],C[O]=e[ct],k&&this.Lc&&(k[O]=this.Lc[ct]),z&&this.Rc&&(z[O]=this.Rc[ct]),H&&this.Oc&&(H[O]=this.Oc[ct]),B&&this.Ec&&(B[O]=this.Ec[ct]),U&&this.zc&&(U[O]=this.zc[ct]),O+=1}this.Uc(M);const W=new this.xc(g+M);W.set(i),W.set(w,g);const I=new this.xc(g+M);let X,j,Q,J,st;I.set(r),I.set(C,g),n&&k&&(X=new Float32Array(g+M),X.set(n),X.set(k,g)),a&&z&&(j=new Uint32Array(g+M),j.set(a),j.set(z,g)),o&&H&&(Q=new Uint32Array(g+M),Q.set(o),Q.set(H,g)),l&&B&&(J=new Float32Array(g+M),J.set(l),J.set(B,g)),u&&U&&(st=new Float32Array(g+M),st.set(u),st.set(U,g)),this.fc=!0,this.appendSamples({xValues:W,yValues:I,lookupValues:X,colors:j,ids:Q,sizes:J,rotations:st}),this.fc=!1,this.D.emit("cleared")}}Gc(){return this.Bc()}Bc(){let t;if(this.gc&&"userSpecified"in this.gc)t=this.gc.userSpecified;else if(this.gc&&"autoDetectResult"in this.gc)t=this.gc.autoDetectResult;else if(this.Cc&&this.kc&&this.uc>0){const e=this.Vc!==void 0&&this.cc?this.ac:0,i=this.lc-1,r=this.Vc!==void 0&&this.cc?0:void 0,n=this.Vc!==void 0&&this.cc?this.ac-1:void 0,[a,o]=r!==void 0&&n!==void 0&&Math.abs(n-r)>Math.abs(i-e)?[r,n]:[e,i];if(1+o-a>=2){let l,u,d=this.Cc[a],f=this.kc[a];for(let g=a+1;g<=o;g+=1){if(l!==!1){const m=this.Cc[g],p=Math.sign(m-d);p!==0&&l&&l.direction!==p?l=!1:p===0||l||(l={direction:p}),d=m}if(u!==!1){const m=this.kc[g],p=Math.sign(m-f);p!==0&&u&&u.direction!==p?u=!1:p===0||u||(u={direction:p}),f=m}}t=l&&l.direction>0?B0.ProgressiveX:l&&l.direction<0?B0.RegressiveX:u&&u.direction>0?B0.ProgressiveY:u&&u.direction<0?B0.RegressiveY:void 0,this.gc={autoDetectResult:t},t&&ht.console.warn(`LightningChart JS DataSetXY warning | Data pattern was detected automatically (DataPatterns.${t}).
Automatic detection is only intended for kick-starting application development, not for production use.
Add { dataPattern: '${t}'} } to your application when creating series or DataSetXY to get clear this warning.`)}}if(t&&t!=="ProgressiveX")throw new Error("LightningChart JS New XY rework beta features do not yet support other data patterns than ProgressiveX. This will be introduced in near future.");return t}Tc(t,e,i){const r=this.wc();return!r||(t==="ProgressiveX"?e>r.x:t==="RegressiveX"?e<r.x:t==="ProgressiveY"?i>r.y:t!=="RegressiveY"||i<r.y)}_c(t){if(t.incomingDataX&&t.incomingDataY&&this.lc===0&&!this.Cc&&!this.kc&&(this.Vc===void 0||this.Vc===t.appendCount)&&this.Mc)return this.Cc=kh(t.incomingDataX,this.xc)||new this.xc,this.kc=kh(t.incomingDataY,this.xc)||new this.xc,this.Lc=this.mc?kh(t.incomingDataLookup,Float32Array):void 0,this.Oc=this.Sc?kh(t.incomingDataIDs,Uint32Array):void 0,this.Rc=this.yc?kh(t.incomingDataColors,Uint32Array):void 0,this.Ec=this.vc?kh(t.incomingDataSize,Float32Array):void 0,this.zc=this.bc?kh(t.incomingDataRotation,Float32Array):void 0,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:t.appendCount,incomingDataReplacedCache:!0};if(this.Vc===void 0){const e=this.lc+t.appendCount;if(!this.Cc||!this.kc)return this.Cc=new this.xc(e),this.kc=new this.xc(e),this.Lc=this.mc?new Float32Array(e):void 0,this.Oc=this.Sc?new Uint32Array(e):void 0,this.Rc=this.yc?new Uint32Array(e):void 0,this.Ec=this.vc?new Float32Array(e):void 0,this.zc=this.bc?new Float32Array(e):void 0,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e};const i=this.Cc.length;if(i<e){if(!this.Ac.warningDisplayed){const a=ht.performance.now();if(this.Ac.expandEvents=this.Ac.expandEvents.filter(o=>a-o.timestamp<5e3),e>1e3&&this.Ac.expandEvents.push({timestamp:a}),this.Ac.expandEvents.length>5)return ht.console.warn(`LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.
Automatic max sample count control was enabled.
For streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning.`),this.Ac.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this._c(t)}const r=new this.xc(e);r.set(this.Cc),this.Cc=r;const n=new this.xc(e);if(n.set(this.kc),this.kc=n,this.mc){const a=new Float32Array(e);this.Lc&&a.set(this.Lc),this.Lc=a}if(this.Sc){const a=new Uint32Array(e);this.Oc&&a.set(this.Oc),this.Oc=a}if(this.yc){const a=new Uint32Array(e);this.Rc&&a.set(this.Rc),this.Rc=a}if(this.vc){const a=new Float32Array(e);this.Ec&&a.set(this.Ec),this.Ec=a}if(this.bc){const a=new Float32Array(e);this.zc&&a.set(this.zc),this.zc=a}return this.ac=this.lc,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e}}if(i>4*e){const r=new this.xc(e);r.set(this.Cc.subarray(0,this.lc)),this.Cc=r;const n=new this.xc(e);if(n.set(this.kc.subarray(0,this.lc)),this.kc=n,this.mc){const a=new Float32Array(e);this.Lc&&a.set(this.Lc.subarray(0,this.lc)),this.Lc=a}if(this.Sc){const a=new Uint32Array(e);this.Oc&&a.set(this.Oc.subarray(0,this.lc)),this.Oc=a}if(this.yc){const a=new Uint32Array(e);this.Rc&&a.set(this.Rc.subarray(0,this.lc)),this.Rc=a}if(this.vc){const a=new Float32Array(e);this.Ec&&a.set(this.Ec.subarray(0,this.lc)),this.Ec=a}if(this.bc){const a=new Float32Array(e);this.zc&&a.set(this.zc.subarray(0,this.lc)),this.zc=a}return{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e}}return{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:i}}return t.appendCount+this.lc>this.Vc&&this.D.emit("maxSampleCountExceeded",this,this.lc,this.Vc,this.lc+t.appendCount),this.Cc=this.Cc||new this.xc(this.Vc),this.kc=this.kc||new this.xc(this.Vc),this.Lc=this.Lc||(this.mc?new Float32Array(this.Vc):void 0),this.Oc=this.Oc||(this.Sc?new Uint32Array(this.Vc):void 0),this.Rc=this.Rc||(this.yc?new Uint32Array(this.Vc):void 0),this.Ec=this.Ec||(this.vc?new Float32Array(this.Vc):void 0),this.zc=this.zc||(this.bc?new Float32Array(this.Vc):void 0),{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:this.Vc}}Yc(){if(!this.Cc||!this.kc||this.lc===0)return;if(this.Vc===void 0)return this.uc>0?{x:this.Cc[0],y:this.kc[0]}:void 0;if(!this.cc)return{x:this.Cc[0],y:this.kc[0]};let t=this.ac-this.lc;return t<0&&(t+=this.Vc),{x:this.Cc[t],y:this.kc[t]}}wc(){if(!this.Cc||!this.kc||this.lc===0)return;if(this.Vc===void 0){const e=this.lc-1;return e>=0?{x:this.Cc[e],y:this.kc[e]}:void 0}let t=this.ac-1;return t<0&&(t+=this.Vc),{x:this.Cc[t],y:this.kc[t]}}Hc(t,e,i,r){const n=this.Bc(),a=this.Cc,o=this.kc;if(!a||!o)return;const l=A=>({x:a[A],y:o[A],lookupValue:this.mc&&this.Lc?this.Lc[A]:void 0,id:this.Sc&&this.Oc?this.Oc[A]:void 0,color:this.yc&&this.Rc?this.Rc[A]:void 0,size:this.vc&&this.Ec?this.Ec[A]:void 0,rotation:this.bc&&this.zc?this.zc[A]:void 0}),u=a.length,d=this.lc,f=this.uc-1,g=Math.max(f-d+1,0);if(n){const A=this.Yc(),E=this.wc();if(!(A&&E&&this.Cc&&this.kc))return;const T=n==="ProgressiveX"||n==="RegressiveX"?"x":"y",F=T==="x"?"y":"x",D=T==="x"?this.Cc:this.kc,N=F==="x"?this.Cc:this.kc,V=t[T],P=Math.min(A[T],E[T]),b=Math.max(A[T],E[T]);if(V<P||V>b)return;const M=ih(V,g,f,Q=>D[Vi(Q,this.uc,u,this.ac)]),w=Vi(M,this.uc,u,this.ac);if(!e)return l(w);const C=M-1,k=M+1,z=V>=D[w]&&(n==="ProgressiveX"||n==="ProgressiveY")?k<=f?Vi(k,this.uc,u,this.ac):void 0:C>=g?Vi(C,this.uc,u,this.ac):void 0;if(z===void 0)return;const H=D[w],B=N[w],U=D[z],O=N[z],W=Math.min(H,U),I=W===H?B:O,X=Math.max(H,U),j=eh(I,X===H?B:O,(V-W)/(X-W));return n==="ProgressiveX"||n==="RegressiveX"?{x:V,y:j}:{x:j,y:V}}let m,p=Number.MAX_VALUE;const x=mt(t,i,r),v=this.lc-1;for(let A=0;A<=v;A+=1){const E=a[A],T=o[A];if(!Number.isNaN(E)&&!Number.isNaN(T)){const F=Su(E,i.x,r.x),D=Su(T,i.y,r.y),N=(F-x.x)**2+(D-x.y)**2;N<p&&(p=N,m=A)}}return m===void 0?void 0:l(m)}Pc(t,e){this.D.emit("changed",t,e)}Ut(t){return this.D.off(t)}$c(t){return this.D.on("changed",t)}Xc(t){return this.D.on("cleared",t)}}const Vi=(s,t,e,i)=>s%e,BA=(s,t,e,i,r,n,a,o)=>{if(i===0||r===0)return;const l=e.length,u=i-1,d=Math.max(u-r+1,0),f=ih(s,d,u,A=>e[Vi(A,i,l)]),g=ih(t,d,u,A=>e[Vi(A,i,l)]),m=Math.max(f-o,d),p=Math.min(g+o,u),x=Vi(m,i,l),v=Vi(p,i,l);return x>v?{iFirstSample:m,iLastSample:p,iFirstSampleDataArray:x,iLastSampleDataArray:v,dataRanges:[{offset:x,count:l-x},{offset:0,count:v+1}]}:{iFirstSample:m,iLastSample:p,iFirstSampleDataArray:x,iLastSampleDataArray:v,dataRanges:[{offset:x,count:v-x+1}]}},ih=(s,t,e,i)=>{const r=e;for(;t!==e;){const a=Math.ceil((t+e)/2);s<i(a)?e=a-1:t=a}const n=Math.abs(s-i(t));return t<r&&Math.abs(s-i(t+1))<n?t+1:t},xi=(s,t,e,i,r)=>{const n=t.length;if(Array.isArray(t))for(let a=0;a<i;a+=1)s[r+a]=t[e+a];else s.set(n===i?t:t.subarray(e,e+i),r)},kh=(s,t)=>s===void 0?void 0:Array.isArray(s)?new t(s):s instanceof t?s:new t(s),ar=(s,t,e)=>{if(s!==void 0)return Array.isArray(s)?s.slice(t,e):s.subarray(t,e)};class ox extends VA{constructor(t,e,i,r,n){super(t,e,i,r,n),this.la="label",this.Na=this.ks.Pr(this.renderingScale).Rh(this.la).Ce(Nt).Fr(ka).Ir(ka),this.setMargin(5),this.xu(this.Na)}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}Te(){const t=this.getPosition(Y(0,0),ke.Content),e=mt(t,this.scale,this.renderingScale);return this.Na.Fe(e),this}Ps(){this.Na.Ps();const t=this.la.length===0?Y(0,0):this.Na.jc();return this.setContentSize(t),super.Ps()}setText(t){return this.la=t,this.Na.Rh(this.la),this.ks.Ss(),this}getText(){return this.la}setFont(t){return this.Na.Oh(t),this.ks.Ss(),this}getFont(){return this.Na.Vh()}setTextRotation(t){return this.Na.Nh(t),this.ks.Ss(),this}getTextRotation(){return this.Na.Gh()}}const Kd={...Yn,..._A,uiElement:ox};class br extends CC{constructor(t,e,i,r,n){super(t,e,i,r,n),this.Zc=!1,this.fitTo=this.Bu.bind(this),this.setSize=this.fitTo,this.Na=this.ks.ic(e).Ce(Nt).we(bt),this.xu(this.Na)}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}Te(){const t=ei([this.getPosition(Y(-1,-1),ke.Content),this.getPosition(Y(1,1),ke.Content)].map(e=>mt(e,this.scale,this.renderingScale)));return this.Zc?this.Na.pl([{x:(t.min.x+t.max.x)/2,y:t.min.y},{x:t.min.x,y:(t.min.y+t.max.y)/2},{x:(t.min.x+t.max.x)/2,y:t.max.y},{x:t.max.x,y:(t.min.y+t.max.y)/2}]):this.Na.pl([t.min,{x:t.min.x,y:t.max.y},t.max,{x:t.max.x,y:t.min.y}]),this}Bu(t){return this.setContentSize(t),this.ks.Ss(),this}Lu(){return 0}Ru(){return 0}zu(){return 0}Eu(){return 0}}class hx extends tV{constructor(t,e,i,r,n){super(t,e,i,jr.Simple,r,n),this.td=qt(Y(0,0)),this.sd=qt(10),this.ed=qt(void 0),this.Uu=qt(Qt.Right),this.sc()}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}setDirection(t){return this.Uu.S(t),this.ks.Ss(),this}getDirection(){return this.Uu.M()}setPointerLength(t){return this.sd.S(t),this.ks.Ss(),this}getPointerLength(){return this.sd.M()}setPointerAngle(t){return this.ed.S(t),this.ks.Ss(),this}getPointerAngle(){let t=this.ed.M();if(t===void 0){const e=this.hd();if(e===0)return 0;t=e!==0?180*Math.atan(2*this.getPointerLength()/e)/Math.PI:0}return Math.min(Math.max(t,1),89)}Bu(t){return this.td.S(t),this.ks.Ss(),this}rd(){const t=this.getPointerAngle();return t===0?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)}nd(){return KM(this.Uu.M())?this.td.M().x:this.td.M().y}hd(){return KM(this.Uu.M())?this.td.M().y:this.td.M().x}Lu(){switch(this.Uu.M()){case Qt.Right:return 0;case Qt.Left:return this.getPointerLength();case Qt.Up:case Qt.Down:return Math.max(0,this.rd()-this.hd());default:return 0}}Ru(){switch(this.Uu.M()){case Qt.Right:return this.getPointerLength();case Qt.Left:return 0;case Qt.Up:case Qt.Down:return Math.max(0,this.rd()-this.hd());default:return 0}}zu(){switch(this.Uu.M()){case Qt.Right:case Qt.Left:return Math.max(0,this.rd()-this.hd());case Qt.Up:return this.getPointerLength();case Qt.Down:default:return 0}}Eu(){switch(this.Uu.M()){case Qt.Right:case Qt.Left:return Math.max(0,this.rd()-this.hd());case Qt.Up:return 0;case Qt.Down:return this.getPointerLength();default:return 0}}hc(){const t=Kw(this.Uu.M()),e=ny(Y(0,0),t),i=this.getPointerLength(),r=this.rd(),n=this.nd(),a=this.hd();if(!(i!==0&&r!==0||n!==0&&a!==0))return[];const o=Y(0,0),l=Bt(Bt(o,Wt(t,-i)),Wt(e,r/2)),u=Bt(l,Wt(e,(a-r)/2)),d=Bt(u,Wt(t,-n)),f=Bt(Bt(o,Wt(t,-i)),Wt(e,-r/2)),g=Bt(f,Wt(e,-(a-r)/2)),m=Bt(g,Wt(t,-n));let p;return p=n===0||a===0?[o,l,f]:i===0||r===0?[u,d,m,g]:ki(a,r)?[o,l,d,m,f]:[o,l,u,d,m,g,f],p}}class gy extends VA{constructor(t,e,i,r,n){super(t,e,i,r,n),this.fitTo=this.Bu.bind(this),this.setSize=this.fitTo,this.od=new NA,this.Na=this.ks.dd(e).Re(bt).ud(Nt).ld(Nt).ad(this.od),this.xu(this.Na)}Fu(){return[this.Na]}setShape(t){return this.Na.fd(t),this}getShape(){return this.Na.Ad()}setRotation(t){return this.Na.gd(t),this}getRotation(){return this.Na.md()}setFillStyle(t){return this.Na.ld(t),this.ks.Ss(),this}getFillStyle(){return this.Na.yd()}Te(){const t=mt(this.getPosition({x:0,y:0},ke.Content),this.scale,this.renderingScale),e=Math.max(this.size.x,this.size.y);if(this.od.clear(),e>0){const i=this.Na.Ad(),r=this.Na.yd(),n=$h(i)&&i,a=Yu(r)&&r;if(n){const o=e/n.oi().y;this.Na.pd(o)}else if(a){const o=a.source;if(o instanceof Image){const l=e/o.height;this.Na.pd(l)}}else this.Na.pd(e);this.od.appendSample(t)}return this}Bu(t){return this.setContentSize(t),this.ks.Ss(),this}Lu(){return 0}Ru(){return 0}zu(){return 0}Eu(){return 0}}const lV={...Yn,..._A,uiElement:gy};class Mu extends K6{setSize(t){return this.setContentSize(t),this.ks.Ss(),this}}class FC extends q6{constructor(){super(...arguments),this.Sd=[],this.vd=0,this.bd=t=>{const e=this.Sd.indexOf(t);e>=0&&this.Sd.splice(e,1)}}getMembers(){return this.Sd}getMemberCount(){return this.Sd.length}setMinimumSize(t){return this.xd=t,this.ks.Ss(),this}getMinimumSize(){return this.xd}addElement(t,e=-1){const i=t.Zu(this.ks,this.renderingScale,this.scale,this.bd,this.qi,!1);return i.setMouseInteractions(this.getMouseInteractions()),e>=0?this.Sd.splice(e,0,i):this.Sd.push(i),i.setVisible(this.getVisible()),this.xu(i),this.$i&&(Qn(0,()=>{}),i.dispose()),i}dispose(){return super.dispose(),this.Sd.slice().forEach(Gh),this}setVisible(t){return super.setVisible(t),this.Sd.forEach(e=>e.setVisible(t)),this}setMouseInteractions(t){super.setMouseInteractions(t);for(let e=0;e<this.Sd.length;e+=1)this.Sd[e].setMouseInteractions(t);return this}getMouseInteractions(){if(super.getMouseInteractions())return!0;for(let t=0;t<this.Sd.length;t+=1)if(this.Sd[t].getMouseInteractions())return!0;return!1}setHighlight(t){super.setHighlight(t);for(let i=0;i<this.Sd.length;i+=1){const r=this.Sd[i];"getHighlight"in(e=r)&&"setHighlight"in e&&r.setHighlight(t)}var e;return this}}class Ru extends FC{Te(){super.Te();const t=this.getPosition(Y(-1,1),ke.Content),e=this.Sd.reduce((r,n)=>r+ +(n instanceof Mu),0),i=e>0?(this.size.x-this.vd)/e:0;return this.Sd.reduce((r,n)=>n instanceof Mu?this.scale.mi({x:r,y:t.y},{x:i+n.getSize().x,y:0}).x:n.setOrigin(Y(-1,1)).setPosition(Y(r,t.y)).Te().getPosition(Y(1,0)).x,t.x),this}Ps(){for(let i=0;i<this.Sd.length;i+=1){const r=this.Sd[i];r instanceof Eu&&r.setMinimumSize(0),r.Ps()}const t=this.Sd.reduce(this.Md.bind(this),wa(0,0));this.vd=t.x;const e=this.xd===void 0?t:Y(Math.max(t.x,this.xd),t.y);this.setContentSize(e);for(let i=0;i<this.Sd.length;i+=1){const r=this.Sd[i];r instanceof Eu&&r.setMinimumSize(e.y).Ps()}return super.Ps()}Md(t,e){const i=e.getSize();return t.x+=i.x,t.y=Math.max(t.y,i.y),t}addGap(t=0,e=-1){return this.addElement(_C,e).setSize(Y(0,t))}}class Eu extends FC{Te(){super.Te();const t=this.getPosition(Y(-1,1),ke.Content),e=this.Sd.reduce((r,n)=>r+ +(n instanceof Mu),0),i=e>0?(this.size.y-this.vd)/e:0;return this.Sd.reduce((r,n)=>n instanceof Mu?this.scale.mi({x:t.x,y:r},{x:0,y:-(i+n.getSize().y)}).y:n.setOrigin(Y(-1,1)).setPosition(Y(t.x,r)).Te().getPosition(Y(0,-1)).y,t.y),this}Ps(){for(let i=0;i<this.Sd.length;i+=1){const r=this.Sd[i];r instanceof Ru&&r.setMinimumSize(0),r.Ps()}const t=this.Sd.reduce(this.Md.bind(this),wa(0,0));this.vd=t.y;const e=this.xd===void 0?t:Y(t.x,Math.max(t.y,this.xd));this.setContentSize(e);for(let i=0;i<this.Sd.length;i+=1){const r=this.Sd[i];r instanceof Ru&&r.setMinimumSize(e.x).Ps()}return super.Ps()}Md(t,e){const i=e.getSize();return t.y+=i.y,t.x=Math.max(t.x,i.x),t}addGap(t=0,e=-1){return this.addElement(_C,e).setSize(Y(0,t))}}const _C={...Yn,..._A,uiElement:Mu};class uV extends Eu{constructor(){super(...arguments),this.Sd=[]}addRow(){return this.addElement(tf,void 0)}getRow(t,e=!1){return e&&this.Sd.length<=t?(this.addRow(),this.getRow(t,!0)):this.Sd[t]}}const VC={...Yn,...nl,...Q6},jh={...VC,uiElement:Eu,background:br},tf={...VC,uiElement:Ru,background:br},yy={setTextLabel:null,setText(s){return this.setTextLabel.setText(s),this},getText(){return this.setTextLabel.getText()}},zC=(s,t)=>{const e={},i=`stylable${s}s`;return e[i]=t,e[`set${s}FillStyle`]=function(r){return this[i].forEach(n=>n.setFillStyle(r)),this},e[`get${s}FillStyle`]=function(){return this[i][0].getFillStyle()},e[`set${s}Font`]=function(r){return this[i].forEach(n=>n.setFont(r)),this},e[`get${s}Font`]=function(){return this[i][0].getFont()},e[`set${s}Rotation`]=function(r){return this[i].forEach(n=>n.setTextRotation(r)),this},e[`get${s}Rotation`]=function(){return this[i][0].getTextRotation()},e},ef=zC("Text",[]),NC={button:void 0,isLocked:!1,setOn(s){const t=this.button.getOn()!==s;return this.button.setOn(s),t&&this.D.emit("switch",s),this},getOn(){return this.button.getOn()},setLocked(s){return this.isLocked=s,this},getLocked(){return this.isLocked},onSwitch(s){return this.D.on("switch",t=>s(this,t))},offSwitch(s){return this.D.off(s,"switch")},setButtonOffFillStyle(s){return this.button.setOffFillStyle(s),this},getButtonOffFillStyle(){return this.button.getOffFillStyle()},setButtonOnFillStyle(s){return this.button.setOnFillStyle(s),this},getButtonOnFillStyle(){return this.button.getOnFillStyle()},setButtonSize(s){return this.button.setSize(s),this},getButtonSize(){return this.button.getSize()},setButtonShape(s){return this.button.setButtonShape(s),this},getButtonShape(){return this.button.getButtonShape()}},BC={textFillStyleHidden:void 0,setTextFillStyleHidden(s){return this.textFillStyleHidden=typeof s=="function"?s(this.textFillStyleHidden):s,this},getTextFillStyleHidden(){return this.textFillStyleHidden}},cV={pointable:void 0,setDirection(s){return this.pointable.setDirection(s),this},getDirection(){return this.pointable.getDirection()},setPointerLength(s){return this.pointable.setPointerLength(s),this},getPointerLength(){return this.pointable.getPointerLength()}},PA={...Yn,...nl,background:br,Zu(s,t,e,i,r,n){const a=new Ru(s,t,e,this.background,i,r),o=a.addElement(Kd,void 0),l=Object.assign(a,yy,{setTextLabel:o},ef,{stylableTexts:[o]});return xo(l,r,n),this.applyStylers(l,r)}}.addStyler(Qd),dV={...Yn,...nl,background:hx,Zu(s,t,e,i,r,n){const a=new Ru(s,t,e,this.background,i,r),o=a.addElement(Kd,void 0),l=a.getBackground(),u=Object.assign(a,yy,{setTextLabel:o},ef,{stylableTexts:[o]},cV,{pointable:l},{setTickLabelPadding(d){return this.getDirection()===Qt.Up?(this.setPadding({top:d}),o.setMargin({top:0})):this.getDirection()===Qt.Down?(this.setPadding({bottom:d}),o.setMargin({bottom:0})):this.getDirection()===Qt.Right?(this.setPadding({right:d}),o.setMargin({right:0})):this.getDirection()===Qt.Left&&(this.setPadding({left:d}),o.setMargin({left:0})),this},getTickLabelPadding(){return this.getDirection()===Qt.Up?this.getPadding().top:this.getDirection()===Qt.Down?this.getPadding().bottom:this.getDirection()===Qt.Right?this.getPadding().right:this.getPadding().left}});return u.Qu="other",u.setPointerLength(r.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(r.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(r.uiTextFont).setTextFillStyle(r.uiTextFillStyle).setBackground(d=>d.setFillStyle(r.uiBackgroundFillStyle).setStrokeStyle(r.uiBackgroundStrokeStyle)),xo(u,r,n),this.applyStylers(u,r)}};class fV extends Uu{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.Ds=!1,this.D=new qi,this._d=Nt,this.wd=Nt,this.getOn=()=>this.Ds,this.Cd=this.xu(new gy(this.ks,this.renderingScale,this.scale,ae,a).setShape(r)),this.wd=a.uiButtonFillStyleHidden||a.uiButtonFillStyle}Fu(){return[...this.Cd.Fu()]}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setOn(t){return this.Ds=t,this.Cd.setFillStyle(t?this._d:this.wd),this.ks.Ss(),this}setOffFillStyle(t){return this.wd=typeof t=="function"?t(this.wd):t,this.Ds||this.Cd.setFillStyle(this.wd),this}getOffFillStyle(){return this.wd}setSize(t){return this.Cd.fitTo(typeof t=="number"?Y(t,t):t),this}getSize(){return this.Cd.getSize()}setOnFillStyle(t){return this._d=typeof t=="function"?t(this._d):t,this.Ds&&this.Cd.setFillStyle(this._d),this}getOnFillStyle(){return this._d}setButtonShape(t){return this.Cd.setShape(t),this.ks.Ss(),this}getButtonShape(){return this.Cd.getShape()}Te(){return super.Te(),this.Cd.setVisible(this.getVisible()).setPosition(this.getPosition(Y(0,0),ke.Content)).Te(),this}Ps(){const t=this.Cd.Ps().getSize();return this.setContentSize(t),super.Ps()}dispose(){return super.dispose(),this.Cd.dispose(),this}setMouseInteractions(t){return this.Cd.setMouseInteractions(t),this}getMouseInteractions(){return this.Cd.getMouseInteractions()}setHighlight(t){const e=Ko(t);return this.Cd.setHighlight(e),this.D.emit("highlight",this,t),this.ks.Ss(),this}getHighlight(){return this.Cd.getHighlight()}}const PC={...Yn,uiElement:fV,buttonShape:Qe.Circle,setButtonShape(s){return{...this,buttonShape:s}},Zu(s,t,e,i,r,n){const a=this.applyStylers(new this.uiElement(s,t,e,this.buttonShape,i,r),r);return xo(a,r,n),a}},LC={...Yn,...nl,background:br,buttonBuilder:PC,setButtonShape(s){return{...this,buttonBuilder:this.buttonBuilder.setButtonShape(s)}},Zu(s,t,e,i,r,n){const a=new Ru(s,t,e,this.background,i,r),o=a.addElement(jh);o.addGap();const l=o.addElement(this.buttonBuilder);o.addGap();const u=a.addElement(jh);u.addGap();const d=u.addElement(Kd);u.addGap(),a.addGap();const f=Object.assign(a,yy,{setTextLabel:d},ef,{stylableTexts:[d]},NC,{button:l},BC);let g;return f.onMouseClick((m,p)=>{f.getLocked()||f.setOn(!f.getOn())}),f.onMouseEnter(()=>f.setHighlight(!0)),f.onMouseLeave(()=>f.setHighlight(!1)),f.setMouseStyle(he.Point),f.setTextFillStyleHidden(r.uiTextFillStyleHidden||r.uiTextFillStyle),f.onSwitch((m,p)=>{p?g&&f.setTextFillStyle(g):(g=f.getTextFillStyle(),f.setTextFillStyle(f.getTextFillStyleHidden()))}),f.setPadding({left:5}),xo(f,r,n),this.applyStylers(f,r)}}.addStyler(Qd).addStyler(wC);class IC extends Uu{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.kd=[],this.Td=2,this.Fd="",this.Id=(o,l)=>o.label!==void 0?o.label:l.percentageValues?`${(100*o.value).toFixed(0)}%`:dC(o.value,l.min,l.max),this.Pd=0,this.Dd=0,this.Bd=!1,this.ks=t,this.Ld=a,this.Rd=this.xu(t.ke(e).we(bt)),this.Ed=this.xu(t.Pr(e).Ce(n.uiTextFillStyle).Oh(n.uiTextFont).setMouseInteractions(!1)),a==="vertical"?(this.zd=140,this.Vd=25):(this.zd=160,this.Vd=15)}Fu(){return[this.Rd,this.Ed]}Od(t){this.Nd=t;const e=vR(t,this.Ld==="vertical"?0:90,this.Bd);return this.Rd.Ce(e),this.ks.Ss(),this}Gd(){return this.Nd}Wd(t){return this.zd=t,this.ks.Ss(),this}Ud(){return this.zd}Yd(t){return this.Vd=t,this.ks.Ss(),this}Hd(){return this.Vd}$d(t){return this.Fd=t,this.ks.Ss(),this}Xd(){return this.Fd}jd(t){return this.Id=t,this.ks.Ss(),this}setLUTDisplayProportionalSteps(t){if(this.Bd=t,this.Nd){const e=vR(this.Nd,this.Ld==="vertical"?0:90,this.Bd);this.Rd.Ce(e)}return this.ks.Ss(),this}getLUTDisplayProportionalSteps(){return this.Bd}setFillStyle(t){return this.Ed.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Ed.Eh()}setFont(t){return this.Ed.Oh(t),this.ks.Ss(),this}getFont(){return this.Ed.Vh()}setTextRotation(t){return this.Dd=t,this.Ed.Nh(t),this.ks.Ss(),this}getTextRotation(){return this.Ed.Gh()}Te(){var t,e,i,r;if(super.Te(),this.$i||!this.getVisible())return this;const n=this.Nd;if(n){const a=this.renderingScale.Wi(),o=n.min,l=n.max;if(this.Ld==="vertical"){const u=this.getPosition({x:-1,y:-1},ke.Content),d=Bt(u,{x:this.Rd.oi().x+this.Td*a.x,y:0}),f={x:d.x,y:d.y+(this.Fd.length>0?this.Pd*a.y+this.Ed.oi().y:0)+.5*(((t=this.kd[0])===null||t===void 0?void 0:t.oi().y)||0)},g={x:f.x,y:this.getPosition({x:-1,y:1},ke.Content).y-.5*(((e=this.kd[this.kd.length-1])===null||e===void 0?void 0:e.oi().y)||0)};this.Rd.Fe({x:u.x,y:f.y}),this.Ed.Ea({x:-1,y:-1}).Fe(d),n.getSteps().forEach((m,p)=>{const x=fo(f,g,this.Bd?n.getInterpolation()===!0?(m.value-o)/(l-o):.9*(m.value-o)/(l-o):n.getInterpolation()===!0?p/(n.getSteps().length-1):p/n.getSteps().length);this.kd[p].Ea({x:-1,y:0}).Fe(x)})}else{const u=this.getPosition({x:-1,y:-1},ke.Content),d=this.getPosition({x:1,y:1},ke.Content),f=this.kd.reduce((v,A)=>Math.max(v,A.oi().y),0),g=Bt(u,{x:.5*(((i=this.kd[0])===null||i===void 0?void 0:i.oi().x)||0),y:f}),m={x:d.x,y:g.y},p={x:m.x-(.5*(((r=this.kd[this.kd.length-1])===null||r===void 0?void 0:r.oi().x)||0)+(this.Fd.length>0?this.Pd*a.x+this.Ed.oi().x:0)),y:g.y},x={x:g.x,y:g.y+this.Td*a.y};this.Rd.Fe(x),this.Ed.Ea({x:1,y:1}).Fe(m),n.getSteps().forEach((v,A)=>{const E=fo(g,p,this.Bd?n.getInterpolation()===!0?(v.value-o)/(l-o):.9*(v.value-o)/(l-o):n.getInterpolation()===!0?A/(n.getSteps().length-1):A/n.getSteps().length);this.kd[A].Ea({x:0,y:1}).Fe(E)})}}return this}Ps(){if(this.Nd&&this.getVisible()){const t=this.Nd.getSteps();for(let e=this.kd.length;e<t.length;e+=1)this.kd.push(this.xu(this.ks.Pr(this.renderingScale).setMouseInteractions(!1)));for(let e=0;e<t.length;e+=1)this.kd[e].Ce(this.Ed.Eh()).Oh(this.Ed.Vh()).Rh(this.Id(t[e],this.Nd)).Nh(this.Dd);for(let e=t.length;e<this.kd.length;e+=1)this.kd[e].dispose();if(this.kd.length=t.length,this.Ed.Rh(this.Fd),this.Ld==="vertical"){const e=this.Vd,i=this.zd;this.Rd.q({x:e*this.renderingScale.x.getPixelSize(),y:i*this.renderingScale.y.getPixelSize()});const r=e+Math.max(this.kd.reduce((a,o)=>Math.max(a,o.Ps().jc().x),0),this.Ed.Ps().jc().x),n=(this.Fd.length>0?this.Pd+this.Ed.Ps().jc().y:0)+i+.5*this.kd[0].Ps().jc().y+.5*this.kd[this.kd.length-1].Ps().jc().y;this.setContentSize({x:r,y:n})}else{const e=this.zd,i=this.Vd;this.Rd.q({x:e*this.renderingScale.x.getPixelSize(),y:i*this.renderingScale.y.getPixelSize()});const r=Math.max(this.Fd.length>0?this.Pd+this.Ed.Ps().jc().x:0,.5*this.kd[this.kd.length-1].Ps().jc().x),n=e+.5*this.kd[0].Ps().jc().x+r,a=i+this.Td+this.kd.reduce((o,l)=>Math.max(o,l.Ps().jc().y),0);this.setContentSize({x:n,y:a})}}else this.kd.forEach(t=>t.dispose()),this.kd.length=0,this.Ed.setVisible(!1),this.Rd.setVisible(!1),this.setContentSize({x:0,y:0});return super.Ps()}dispose(){return super.dispose(),this.Rd.dispose(),this.kd.forEach(Gh),this.Ed.dispose(),this}setMouseInteractions(t){return this.Rd.setMouseInteractions(t),this}getMouseInteractions(){return this.Rd.getMouseInteractions()}}const UC={lutElement:{},setLUT(s){return this.lutElement.Od(s),this},getLUT(){return this.lutElement.Gd()},setLUTLength(s){return this.lutElement.Wd(s),this},getLUTLength(){return this.lutElement.Ud()},setLUTThickness(s){return this.lutElement.Yd(s),this},getLUTThickness(){return this.lutElement.Hd()},setLookUpUnit(s){return this.lutElement.$d(s),this},getLookUpUnit(){return this.lutElement.Xd()},setLUTStepValueFormatter(s){return this.lutElement.jd(s),this},setLUTDisplayProportionalSteps(s){return this.lutElement.setLUTDisplayProportionalSteps(s),this},getLUTDisplayProportionalSteps(){return this.lutElement.getLUTDisplayProportionalSteps()}};({...Yn,...nl,background:br,alignment:"horizontal",setAlignment(s){return{...this,alignment:s}},Zu(s,t,e,i,r,n){const a=new Eu(s,t,e,this.background,i,r),o=a.addElement({Zu:()=>new IC(s,t,e,ae,r,this.alignment)}),l=Object.assign(a,ef,{stylableTexts:[o]},UC,{lutElement:o});return xo(l,r,n),this.applyStylers(l,r)}}).addStyler(Qd);const vR=(s,t,e)=>{const i=s.getSteps(),r=s.min,n=s.max-r;if(s.getInterpolation()===!0)return new Vs({angle:t,stops:i.map((o,l)=>({offset:e?(o.value-r)/n:l/(i.length-1),color:o.color||s.color}))});const a=[];for(let o=0;o<i.length;o+=1){const l=i[o];a.push({offset:e?.9*(l.value-r)/n:o/i.length,color:l.color||s.color});const u=o<i.length-1?i[o+1]:void 0;a.push({offset:e?u?.9*(u.value-r)/n:1:u?(o+1)/i.length:1,color:l.color||s.color})}return new Vs({angle:t,stops:a})},gV={...Yn,...nl,background:br,buttonBuilder:PC,setButtonShape(s){return{...this,buttonBuilder:this.buttonBuilder.setButtonShape(s)}},alignment:"horizontal",setAlignment(s){return{...this,alignment:s}},Zu(s,t,e,i,r){const n=new Eu(s,t,e,this.background,i,r),a=n.addElement(tf),o=a.addElement(jh);o.addGap();const l=o.addElement(this.buttonBuilder);o.addGap();const u=a.addElement(jh);u.addGap();const d=u.addElement(Kd);u.addGap();const f=n.addElement({Zu:()=>new IC(s,t,e,ae,r,this.alignment)});this.alignment==="vertical"&&f.setMargin({left:r.uiButtonSize+6});const g=Object.assign(n,yy,{setTextLabel:d},ef,{stylableTexts:[d,f]},zC("LUTText",[f]),NC,{button:l},UC,{lutElement:f},BC);let m;return g.onMouseClick(()=>{g.getLocked()||g.setOn(!g.getOn())}),g.onMouseEnter(()=>g.setHighlight(!0)),g.onMouseLeave(()=>g.setHighlight(!1)),g.setMouseStyle(he.Point),g.setTextFillStyleHidden(r.uiTextFillStyleHidden||r.uiTextFillStyle),g.onSwitch((p,x)=>{x?m&&g.setTextFillStyle(m):(m=g.getTextFillStyle(),g.setTextFillStyle(g.getTextFillStyleHidden()))}),g.setPadding({left:5}),this.applyStylers(g,r)}}.addStyler(Qd).addStyler(wC),yV={alignment:null,title:null,entryStylers:null,legendBoxDisposed:null,entries:[],add(s,t){const e=!t||typeof t!="object"||t.toggleVisibilityOnClick===void 0||t.toggleVisibilityOnClick,i=t==null?void 0:t.matchStyleExactly,r=t&&typeof t=="object"&&t.builder!==void 0?t.builder:void 0;return this.legendBoxDisposed()||(s instanceof An?this.addChart(s,e,r,i):"attach"in s?this.addAttachable(s,e,r,i):s&&this.addDashboard(s,e,r,i)),this},addAttachable(s,t,e,i){const r=s.Gd&&s.Gd(),n=s.Cs&&s.Cs(),a=i!==void 0&&i;let o=e;if(!o){let u=r?gV.setAlignment(this.alignment):LC;n!==void 0&&(u=u.setButtonShape(n)),o=u}const l=this.addElement(o);if(r&&"setLUT"in l){l.setLUT(r.lut);const u=r.lut.getUnits(),d=r.lookUpProperty,f=u.length>0?u:d==="x"?"x":d==="y"?"y":d==="z"?"z":"";l.setLookUpUnit(f)}return this.entryStylers.forEach(u=>u(l)),this.entries.push({entry:l,component:s}),s.attach(l,t,a),t||l.setLocked(!0),this},addChart(s,t,e,i){return s.Zd().forEach(r=>this.addAttachable(r,t,e,i)),this},addDashboard(s,t,e,i){return s.getCells().filter(r=>r.panel instanceof An).forEach(r=>this.addChart(r.panel,t,e,i)),this},setTitle(s){return this.title.setText(s),this},getTitle(){return this.title.getText()},setTitleFillStyle(s){return this.title.setTextFillStyle(s),this},getTitleFillStyle(){return this.title.getTextFillStyle()},setTitleFont(s){return this.title.setTextFont(s),this},getTitleFont(){return this.title.getTextFont()},setTitleRotation(s){return this.title.setTextRotation(s),this},getTitleRotation(){return this.title.getTextRotation()},setEntries(s){return this.entries.forEach(t=>s(t.entry,t.component)),this}},mV={alignment:"vertical",layoutBuilder:jh,setAlignment(s){return{...this,alignment:s,layoutBuilder:s==="horizontal"?tf:jh}},getAlignment(){return this.alignment},titleBuilder:PA,styleTitle(s){return{...this,titleBuilder:this.titleBuilder.addStyler(s)}},entryStylers:[],styleEntries(s){return{...this,entryStylers:[...this.entryStylers,s]}}},my={...Yn,...nl,...mV,background:br,Zu(s,t,e,i,r,n){const a=this.layoutBuilder.setBackground(this.background).Zu(s,t,e,i,r,!1);let o=Object.assign(a,yV,{alignment:this.alignment,entryStylers:this.entryStylers,legendBoxDisposed:()=>a.$i});o.entries=[];const l=o.addElement(this.alignment==="horizontal"?jh:tf),u=l.addElement(this.titleBuilder).setText("Legend").setTextFillStyle(r.legendTitleFillStyle).setTextFont(r.legendTitleFont);return l.addGap(),o=Object.assign(o,{title:u}),this.alignment==="horizontal"&&u.setMargin({right:6}),xo(o,r,n),this.applyStylers(o,r)}}.addStyler((s,t)=>s.setPadding(5));class pV extends Uu{constructor(t,e,i,r,n){super(t,e,i,r,n),this.Qd=10,this.Jd=Qt.Up,this.Kd=0,this.Qu="major",this.la=this.xu(t.Pr(this.renderingScale).Fr(ka).Ir(ka)),this.Le=this.xu(t.Ee(this.renderingScale))}Fu(){return[this.la]}Te(){if(super.Te(),this.$i)return this;const t=mt(this.getPosition(),this.scale,this.renderingScale),e=this.renderingScale.mi(t,{x:this.Jd===Qt.Right?-this.Qd:this.Jd===Qt.Left?this.Qd:0,y:this.Jd===Qt.Up?-this.Qd:this.Jd===Qt.Down?this.Qd:0}),i=this.renderingScale.mi(e,{x:this.Jd===Qt.Right?-this.Kd:this.Jd===Qt.Left?this.Kd:0,y:this.Jd===Qt.Up?-this.Kd:this.Jd===Qt.Down?this.Kd:0});return this.Le.Ve(t).ze(e),this.la.Fe(i).Ea(this.Jd===Qt.Up?{x:0,y:1}:this.Jd===Qt.Down?{x:0,y:-1}:this.Jd===Qt.Right?{x:1,y:0}:{x:-1,y:0}),this}Ps(){const t=this.Le.uu().getThickness();return this.size=this.Jd===Qt.Left||this.Jd===Qt.Right?{x:this.Qd+this.Kd+this.la.Ps().jc().x,y:t}:{y:this.Qd+this.Kd+this.la.Ps().jc().y,x:t},super.Ps()}dispose(){return super.dispose(),this.la.dispose(),this.Le.dispose(),this}setVisible(t){return super.setVisible(t),this.la.setVisible(t),this.Le.setVisible(t),this}setMouseInteractions(t){return this.la.setMouseInteractions(t),this.Le.setMouseInteractions(t),this}getMouseInteractions(){return this.la.getMouseInteractions()}getText(){return this.la.Bh()}setTextFillStyle(t){return this.la.Ce(t),this.ks.Ss(),this}getTextFillStyle(){return this.la.Eh()}setTextFont(t){return this.la.Oh(t),this}setTextRotation(t){return this.la.Nh(t),this}getTextRotation(){return this.la.Gh()}getTextFont(){return this.la.Vh()}setText(t){return this.la.Rh(t),this.ks.Ss(),this}setDirection(t){return this.Jd=t,this.ks.Ss(),this}getDirection(){return this.Jd}setPointerLength(t){return this.Qd=t,this.ks.Ss(),this}getPointerLength(){return this.Qd}setTickLabelPadding(t){return this.Kd=t,this.ks.Ss(),this}getTickLabelPadding(){return this.Kd}setTickStyle(t){return this.Le.Re(t),this.ks.Ss(),this}getTickStyle(){return this.Le.uu()}}const OC={...Yn,Zu(s,t,e,i,r,n){const a=new pV(s,t,e,i,r);return xo(a,r,n),this.applyStylers(a,r)}}.addStyler(Qd),SV=OC.addStyler((s,t)=>(s.Qu="major",s.setPointerLength(t.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(t.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(t.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(t.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(t.xAxisNumericTicks.majorTickStyle.labelFillStyle)));OC.addStyler((s,t)=>(s.Qu="minor",s.setPointerLength(t.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(t.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(t.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(t.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(t.xAxisNumericTicks.minorTickStyle.labelFillStyle)));LC.addStyler(s=>s.onSwitch((t,e)=>e===!0?setTimeout(()=>s.setOn(!1),300):void 0));my.setAlignment("horizontal");const xV=my.setAlignment("vertical"),qh={PointableTextBox:dV,AxisTickMajor:SV},AV={VerticalLegendBox:xV},gs=(s,t)=>{if(wA(s)){const e=t.Po(s);return{x:e.engineX,y:e.engineY}}return s},lx=s=>{let t=!1,e={type:"linear"};if(s&&(s.opposite!==void 0&&(t=s.opposite),s.type&&s.type==="linear-highPrecision"&&(e={type:"linear-highPrecision"}),s.type&&s.type==="logarithmic")){let i=10;if(s.base){if(s.base==="E"||s.base==="e"||s.base==="natural")i="e";else if(typeof s.base=="number")i=s.base;else if(typeof s.base=="string")try{i=Number(s.base)}catch{console.warn(`Unidentified logarithmic base "${s.base}"`)}}e={base:i,type:"logarithmic"}}return{opposite:t,type:e}},kd=(s,t,e,i=1)=>ee(s+.1*i*(t-s)+.5*i*e.getPixelSize()*Math.sign(t-s),s,t),wg=(s,t,e,i=1)=>{const r=e.ct(s),n=e.ct(t);return ee(e.ut(r+.1*i*(n-r)+.5*i*Math.sign(n-r)),s,t)},Dt={qd:0,tf:1,if:2,sf:3,ef:4,hf:5,rf:6,nf:7,af:8,lf:9,uf:10,cf:11,df:12,ff:13,Af:14,gf:15,mf:16,yf:17,pf:18,Sf:19,vf:20,bf:21,xf:22,Mf:23};class vV extends Zd{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this._f=n}}class Cg extends Xh{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x,v){var A,E,T;super(d,u,o,p,x,{numeric:u.getWidth({x:p.xAxisNumericTicks,y:p.yAxisNumericTicks}),datetime:u.getWidth({x:p.xAxisDateTimeTicks,y:p.yAxisDateTimeTicks}),time:u.getWidth({x:p.xAxisTimeTicks,y:p.yAxisTimeTicks})},v),this.wf=new Map,this.Cf=void 0,this.kf=0,this.Tf=[],this.Ff=[],this.Je=Fa.fitting,this.If=!0,this.Pf=8,this.Df=void 0,this.Bf=void 0,this.Lf=20,this.Rf=1,this.Ef=!0,this.zf=!0,this.Vf=!0,this.Of=!0,this.Nf=!0,this.Gf=!0,this.Wf=!0,this.Uf=!0,this.Yf=!0,this.Hf=!0,this.$f=this.wh.defaultDragMouseStyle,this.Xf=this.wh.defaultDragMouseStyle,this.jf=this.wh.defaultDragMouseStyle,this.Zf=this.wh.defaultDragMouseStyle,this.Qf=this.wh.defaultDragMouseStyle,this.D=new qi,this.Jf=[],this.Kf=V=>{const P=this.Ff.indexOf(V);P>=0&&this.Ff.splice(P,1)},this.qf=V=>(this.Ff.indexOf(V)<0&&this.Ff.push(V),this.Kf),this.Et=(V,P)=>this.D.emit("axisAreaTouch",this,P),this.tA=tC(this.Jf),this.onAxisInteractionAreaMouseClick=V=>this.D.on("axisAreaMouseClick",V),this.onAxisInteractionAreaMouseDoubleClick=V=>this.D.on("axisAreaDoubleClick",V),this.onAxisInteractionAreaMouseDown=V=>this.D.on("axisAreaMouseDown",V),this.onAxisInteractionAreaMouseUp=V=>this.D.on("axisAreaMouseUp",V),this.onAxisInteractionAreaMouseEnter=V=>this.D.on("axisAreaMouseEnter",V),this.onAxisInteractionAreaMouseLeave=V=>this.D.on("axisAreaMouseLeave",V),this.onAxisInteractionAreaMouseMove=V=>this.D.on("axisAreaMouseMove",V),this.onAxisInteractionAreaMouseWheel=V=>this.D.on("axisAreaMouseWheel",V),this.onAxisInteractionAreaMouseDragStart=V=>this.D.on("axisAreaMouseDragStart",V),this.onAxisInteractionAreaMouseDrag=V=>this.D.on("axisAreaMouseDrag",V),this.onAxisInteractionAreaMouseDragStop=V=>this.D.on("axisAreaMouseDragStop",V),this.onAxisInteractionAreaTouchStart=V=>this.D.on("axisAreaTouchStart",V),this.onAxisInteractionAreaTouch=V=>this.D.on("axisAreaTouch",V),this.onAxisInteractionAreaTouchStop=V=>this.D.on("axisAreaTouchEnd",V),this.offAxisInteractionAreaMouseClick=V=>this.D.off(V,"axisAreaMouseClick"),this.offAxisInteractionAreaMouseDoubleClick=V=>this.D.off(V,"axisAreaDoubleClick"),this.offAxisInteractionAreaMouseDown=V=>this.D.off(V,"axisAreaMouseDown"),this.offAxisInteractionAreaMouseUp=V=>this.D.off(V,"axisAreaMouseUp"),this.offAxisInteractionAreaMouseEnter=V=>this.D.off(V,"axisAreaMouseEnter"),this.offAxisInteractionAreaMouseLeave=V=>this.D.off(V,"axisAreaMouseLeave"),this.offAxisInteractionAreaMouseMove=V=>this.D.off(V,"axisAreaMouseMove"),this.offAxisInteractionAreaMouseWheel=V=>this.D.off(V,"axisAreaMouseWheel"),this.offAxisInteractionAreaMouseDragStart=V=>this.D.off(V,"axisAreaMouseDragStart"),this.offAxisInteractionAreaMouseDrag=V=>this.D.off(V,"axisAreaMouseDrag"),this.offAxisInteractionAreaMouseDragStop=V=>this.D.off(V,"axisAreaMouseDragStop"),this.offAxisInteractionAreaTouchStart=V=>this.D.off(V,"axisAreaTouchStart"),this.offAxisInteractionAreaTouch=V=>this.D.off(V,"axisAreaTouch"),this.offAxisInteractionAreaTouchStop=V=>this.D.off(V,"axisAreaTouchEnd"),this.zd={relative:1},this.iA=0,this.sA=0,this.eA=(V,P)=>P.getAllocatesAxisSpace()?Math.max(V,P.update().qu()):V,this.hA=V=>{const P=this.Tf.indexOf(V);P!==-1&&this.Tf.splice(P,1)},this.rA=(V,P)=>{this.D.emit("axisAreaDoubleClick",this,P),this.Of&&(this.setStopped(!1),vt(P))},this.nA=V=>{this.D.emit("axisAreaMouseEnter",this),(this.zf||this.Ef||this.Vf||this.Of)&&this.oA(V)},this.aA=V=>{this.lA(V),this.D.emit("axisAreaMouseLeave",this)},this.uA=(V,P,b)=>{var M,w;this.D.emit("axisAreaMouseDragStart",this,P,b);const C=Ne((M=this.chart.cA.Yn)===null||M===void 0?void 0:M.axisXYZoomMouseButton,0),k=Ne((w=this.chart.cA.Yn)===null||w===void 0?void 0:w.axisXYPanMouseButton,2),z=Y(P.clientX,P.clientY);b===k&&this.zf?(this.dA(V),vt(P)):b===C&&this.Ef&&(this.fA(V,z),vt(P))},this.AA=(V,P,b,M,w)=>{var C,k;this.D.emit("axisAreaMouseDrag",this,P,b,M,w);const z=Ne((C=this.chart.cA.Yn)===null||C===void 0?void 0:C.axisXYZoomMouseButton,0),H=Ne((k=this.chart.cA.Yn)===null||k===void 0?void 0:k.axisXYPanMouseButton,2),B=Y(P.clientX,P.clientY);b===H&&this.zf?(this.gA(V,w),vt(P)):b===z&&this.Ef&&(this.mA(V,M,B,w),vt(P))},this.yA=(V,P,b,M)=>{var w,C;this.D.emit("axisAreaMouseDragStop",this,P,b,M);const k=Ne((w=this.chart.cA.Yn)===null||w===void 0?void 0:w.axisXYZoomMouseButton,0),z=Ne((C=this.chart.cA.Yn)===null||C===void 0?void 0:C.axisXYPanMouseButton,2),H=Y(P.clientX,P.clientY);b===z&&this.zf?(this.pA(V),vt(P)):b===k&&this.Ef&&(this.SA(V,M,H),vt(P)),V.getIsUnderMouse()&&(this.zf||this.Ef||this.Vf||this.Of)&&this.oA(V)},this.vA=(V,P)=>{if(this.D.emit("axisAreaMouseWheel",this,P),this.Vf){this.setStopped(!0);const b=this.wh.getWidth(this.bA.us.Pe(P.clientX,P.clientY)),M=this.dt.ut(b);this.zoom(M,Qo(P)),vt(P)}},this.xA=(V,P)=>this.D.emit("axisAreaMouseClick",this,P),this.MA=(V,P)=>this.D.emit("axisAreaMouseDown",this,P),this._A=(V,P)=>this.D.emit("axisAreaMouseUp",this,P),this.wA=(V,P)=>this.D.emit("axisAreaMouseMove",this,P),this.CA=(V,P,b)=>{this.D.emit("axisAreaTouchStart",this,b),this.Ef&&(this.oA(V),this.fA(V,P),vt(b))},this.kA=(V,P,b,M,w)=>{this.D.emit("axisAreaTouch",this,w),this.Ef&&(this.mA(V,P,b,M),vt(w))},this.TA=(V,P,b,M)=>{this.D.emit("axisAreaTouchEnd",this,M),this.Ef&&(this.SA(V,P,b),this.lA(V),vt(M))},this.FA=(V,P,b,M)=>{(this.zf||this.Vf)&&(this.oA(V),this.dA(V),vt(M))},this.IA=(V,P,b,M,w,C)=>{if(this.zf){const k=Y((M.x+w.x)/2,(M.y+w.y)/2);this.gA(V,k),vt(C)}if(this.Vf){const k=this.bA.us.Pe(P.x,P.y),z=this.bA.us.Pe(b.x,b.y),H=Math.abs(this.wh.getWidth(be(k,M))-this.wh.getWidth(be(z,w)))-Math.abs(this.wh.getWidth(k)-this.wh.getWidth(z)),B=this.dt.mi(this.Ih,-H),U=this.dt.mi(this.Ph,H);this.Qh(B,U,!0),vt(C)}},this.PA=(V,P,b,M)=>{(this.zf||this.Vf)&&(this.pA(V),this.lA(V),vt(M))},this.DA=(V,P)=>{(this.Nf||this.Gf)&&this.BA(V)},this.LA=(V,P)=>{this.RA(V)},this.EA=(V,P,b)=>{const M=Y(P.clientX,P.clientY);this.Nf&&this.zA(V,M)},this.VA=(V,P,b,M,w)=>{const C=Y(P.clientX,P.clientY);this.Nf&&this.OA(V,C,M,w)},this.NA=(V,P,b,M,w)=>{const C=Y(P.clientX,P.clientY);this.Nf&&this.GA(V,C,M,w)},this.WA=(V,P,b,M)=>{const w=Y(P.clientX,P.clientY);(this.Nf||this.Gf)&&this.UA(V,w,M),(this.Nf||this.Gf)&&this.BA(V)},this.YA=(V,P)=>{this.Gf&&(this.setStopped(!0),this.zoom(this.Ih,Qo(P)),vt(P))},this.HA=(V,P)=>{this.Gf&&(this.setStopped(!0),this.zoom(this.Ph,Qo(P)),vt(P))},this.$A=(V,P,b)=>{this.Nf&&(this.BA(V),this.zA(V,P),vt(b))},this.XA=(V,P,b,M,w)=>{this.Nf&&(this.OA(V,P,b,M),vt(w))},this.jA=(V,P,b,M,w)=>{this.Nf&&(this.GA(V,P,b,M),vt(w))},this.ZA=(V,P,b,M)=>{this.Nf&&(this.UA(V,P,b),this.RA(V),vt(M))},this.QA=t,this.bA=e,this.JA=r,this.KA=n,this.chart=d,this.qA=g,this.tg=i,this.ss=a,v.type==="logarithmic"&&this.chart.us.Nn(Dt.Sf),m(this,this.qf),o.ig=this,this.sg=f,this.eg=this.sg>50?1:-1,this.hg=(T=this.wh.toPoint(0,-this.eg),Math.abs(T.x)>=Math.abs(T.y)?T.x>=0?Qt.Right:Qt.Left:T.y>=0?Qt.Up:Qt.Down),this.rg=l,this.ng=this.dt instanceof xr?new Me().Ri(this.wh.toVec2(this.dt,this.rg)):new Pi().Ri(this.wh.toVec2(this.dt,this.rg)),this.og=this.chart.pixelScale,this.ag=new Me().Ri(this.wh.toVec2(this.wh.getWidth(this.og),this.rg)),this.lg=this.bA.Ee(this.ng).setMouseInteractions(!1),this.ug=this.bA.Ee(this.ng).setMouseInteractions(!1),this.cg=this.bA.Ee(this.ng).setMouseInteractions(!1),this.dg=this.tg.ke(this.og).Ce(u.getWidth({x:p.xAxisOverlayStyle,y:p.yAxisOverlayStyle})).we(bt).Xo(p.highlightColorOffsetAxisOverlay||p.highlightColorOffset),this.Ag=this.tg.ke(this.og).Ce(u.getWidth({x:p.xAxisZoomingBandFillStyle,y:p.yAxisZoomingBandFillStyle})).we(u.getWidth({x:p.xAxisZoomingBandStrokeStyle,y:p.yAxisZoomingBandStrokeStyle})),this.gg=this.tg.ke(this.og).Ce(u.getWidth({x:p.xAxisOverlayStyle,y:p.yAxisOverlayStyle})).we(bt).Xo(p.highlightColorOffsetAxisOverlay||p.highlightColorOffset),this.mg=this.tg.ke(this.og).Ce(u.getWidth({x:p.xAxisOverlayStyle,y:p.yAxisOverlayStyle})).we(bt).Xo(p.highlightColorOffsetAxisOverlay||p.highlightColorOffset),this.Lh=this.tg.Pr(this.ng).setMouseInteractions(!1).Nh(this.wh.getTitleTextRotation(this.eg)).Ir(ka).Fr(ka),this.chart.us.ls.os(this.dg,V=>this.dg.cs(V),{animationEnabled:this.th}),this.chart.us.ls.os(this.gg,V=>this.gg.cs(V),{animationEnabled:this.th}),this.chart.us.ls.os(this.mg,V=>this.mg.cs(V),{animationEnabled:this.th});const F=tr(new Xr(this.CA,this.kA,this.TA,1),new CA(this.FA,this.IA,this.PA),new gC(this.rA)),D=tr(new Xr(this.$A,this.XA,this.ZA)),N=tr(new Xr(this.$A,this.jA,this.ZA));this.dg.setMouseEnterEventHandler(this.nA).setMouseLeaveEventHandler(this.aA).setMouseDragStartEventHandler(this.uA).setMouseDragEventHandler(this.AA).setMouseDragStopEventHandler(this.yA).setMouseWheelEventHandler(this.vA).setMouseDoubleClickEventHandler(this.rA).setMouseClickEventHandler(this.xA).setMouseDownEventHandler(this.MA).setMouseUpEventHandler(this._A).setMouseMoveEventHandler(this.wA).setTouchStartEventHandler(F.onTouchStart).setTouchMoveEventHandler(F.onTouchMove).setTouchEndEventHandler(F.onTouchEnd),this.gg.setMouseEnterEventHandler(this.DA).setMouseLeaveEventHandler(this.LA).setMouseDragStartEventHandler(this.EA).setMouseDragEventHandler(this.VA).setMouseDragStopEventHandler(this.WA).setMouseWheelEventHandler(this.YA).setTouchStartEventHandler(D.onTouchStart).setTouchMoveEventHandler(D.onTouchMove).setTouchEndEventHandler(D.onTouchEnd),this.mg.setMouseEnterEventHandler(this.DA).setMouseLeaveEventHandler(this.LA).setMouseDragStartEventHandler(this.EA).setMouseDragEventHandler(this.NA).setMouseDragStopEventHandler(this.WA).setMouseWheelEventHandler(this.HA).setTouchStartEventHandler(N.onTouchStart).setTouchMoveEventHandler(N.onTouchMove).setTouchEndEventHandler(N.onTouchEnd),this.lg.Re(u.getWidth({x:p.xAxisStrokeStyle,y:p.yAxisStrokeStyle})),this.ug.Re(u.getWidth({x:p.xAxisNibStyle,y:p.yAxisNibStyle})),this.cg.Re(u.getWidth({x:p.xAxisNibStyle,y:p.yAxisNibStyle})),this.Lh.Ce(u.getWidth({x:p.xAxisTitleFillStyle,y:p.yAxisTitleFillStyle})).Oh(u.getWidth({x:p.xAxisTitleFont,y:p.yAxisTitleFont})),this.es=a.hs(this,{}),this.Wh=this.es.yg([this.Lh]).ps(p.effectsText),this.pg=(A=u.getWidth({x:p.xAxisMarginAfterTicks,y:p.yAxisMarginAfterTicks}))!==null&&A!==void 0?A:7,this.Sg=(E=u.getWidth({x:p.xAxisMarginAfterTitle,y:p.yAxisMarginAfterTitle}))!==null&&E!==void 0?E:7}kr(){return this.eh}Tr(){return this.Zh!==void 0}setTickStrategy(t,e){return super.Fh(t,e)}getTickStrategy(){return this.je}addBand(t=!0){const e=t?this.KA:this.JA,i=new y6(e,this.chart,this.tA,this,this.ng,this.wh,this.qi,this.ss);return this.Jf.push(i),i}addConstantLine(t=!0){const e=t?this.KA:this.JA,i=new m6(e,this.chart,this.tA,this,this.ng,this.wh,this.qi,this.ss);return this.Jf.push(i),i}vg(t){this.Jf.forEach(t)}bg(t){return this.Jf.map(t)}getHighlighters(){return this.Jf}setThickness(t){return typeof t=="number"?(this.xg=t,this.Mg=t):typeof t=="object"&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setMouseInteractions(t){return this.setAxisInteractionPanByDragging(t).setAxisInteractionReleaseByDoubleClicking(t).setAxisInteractionZoomByDragging(t).setAxisInteractionZoomByWheeling(t).setNibInteractionScaleByDragging(t).setNibInteractionScaleByWheeling(t)}_g(){return this.Ff}ur(t,e){return new vV(e,t,this.bA,this.ng,this.ng)}Uh(){if(this.wf){for(const t of this.wf)t[1].grid.dispose(),t[1].tick.dispose();this.wf.clear()}super.Uh()}cr(t,e){const{tickStart:i}=e,r=t.Sh.lr,n=i+r.getTickLength()*this.eg+r.getTickPadding()*this.eg;t.Ue.Fe(this.wh.toPoint(t.u,n)).Ea(this.wh.toPoint(r.getLabelAlignment(),-this.eg)).Nh(r.labelRotation).setVisible(this.getVisible())}wg(t,e){const{startPosition:i,gridStrokeLen:r,gridStrokeStart:n,tickStart:a}=e,o=t.Sh.lr,l=i-r*o.getGridStrokeLength(),u=a+o.getTickLength()*this.eg;return{gridStroke:{start:this.wh.toPoint(t.u,n),end:this.wh.toPoint(t.u,l)},tickStroke:{start:this.wh.toPoint(t.u,a),end:this.wh.toPoint(t.u,u)}}}_r(t,e){return this.kh.type==="linear"?kd(t,e,this.dt):wg(t,e,this.dt)}Cg(t,e){return e instanceof xr?kd:wg}Cr(t,e,i){if(this.kh.type!=="logarithmic"){const n=this.dt.Li(e-t);return{min:t-i*n,max:e+i*n}}const r=this.dt;return{min:r.mi(t,-i),max:r.mi(e,i)}}Ps(){if(!this.Xi)return{kg:0,Tg:0,Vd:0};const t=!(this.Ze.size>0),e=this.Lh&&this.Lh.Bh().length>0&&this.getTitleFillStyle()!==Nt,i=this.wh.getHeight(e?this.chart.us.Ig.Fg(this.getTitle(),this.getTitleFont(),this.getTitleRotation()):{x:0,y:0})+(e?this.Sg:0),r=this.Xe===Uh?new Map:AC(this.Xe,Math.min(this.Ih,this.Ph),Math.max(this.Ih,this.Ph),this.Ih,this.Ph,0),n=this.dt;let a=0;r.forEach((u,d)=>{if((f=>f.lr!==void 0&&f.nr!==void 0)(d)){const f=Math.max(...u.map(g=>{if(!Aa(g,this.Ih,this.Ph))return 0;const m=this.chart.us.Ig.Fg(d.nr(g,n),d.lr.labelFont,d.lr.labelRotation);return t||!m.isEstimate?this.wh.getHeight(m):0}))+d.lr.tickLength+d.lr.tickPadding+d.lr.labelPadding;a=Math.max(a,f)}});const o=this.Tf.reduce(this.eA,0);a=Math.max(a,o),a+=this.pg;const l=ee(i+a,this.xg!==void 0?this.xg:0,this.Mg!==void 0?this.Mg:Rt);return this.kf=l,{kg:a,Tg:i,Vd:l}}Te(t){const e=this.getVisible()&&t.Pg>0;this.Dg=t;const i=this.lg.uu(),r=this.dt.getInnerStart()<this.dt.getInnerEnd()?this.dt.getInnerStart():this.dt.getInnerEnd(),n=this.dt.getInnerEnd()>this.dt.getInnerStart()?this.dt.getInnerEnd():this.dt.getInnerStart(),a=i.getThickness()*this.eg/2,o=this.rg.getInnerInterval(),l=this.sg/100*o,u=l+t.Bg,d=o*this.eg,f=u+a;if(e||this.Uh(),this.Xe!==Uh&&e){const D=this.dt.ri();this.qh({physicalAxisSize:D,startPosition:l,gridStrokeLen:d,gridStrokeStart:u,tickStart:f});for(const[N,V]of this.Ze){let P=this.wf.get(N);if(!P){if(N.Oe)P={grid:this.QA[0].Lg(this.ng).setMouseInteractions(!1),tick:this.QA[0].Lg(this.ng).setMouseInteractions(!1)};else if("Rg"in N){const b=Array.from(this.Ze.keys()).filter(w=>"Rg"in w).reverse().indexOf(N),M=this.QA[b];if(!M)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact Arction support.");P={grid:M.Lg(this.ng).setMouseInteractions(!1),tick:M.Lg(this.ng).setMouseInteractions(!1)}}}if(P){P.grid.Nt(),P.tick.Nt();for(const[b,M]of V){const w=this.wg(M,{physicalAxisSize:D,startPosition:l,gridStrokeLen:d,gridStrokeStart:u,tickStart:f});P.grid.zr().Eg(w.gridStroke.start,w.gridStroke.end),P.tick.zr().Eg(w.tickStroke.start,w.tickStroke.end)}P.grid.Re(N.lr.getGridStrokeStyle()),P.tick.Re(N.lr.getTickStyle()),this.wf.set(N,P)}}}const g=f,m=g+this.eg*t.zg,p=this.Nf||this.Gf?Math.min(this.Lf,.25*t.Pg):0,x={start:this.wh.toVec2(this.dt.mi(this.dt.getInnerStart(),p),g),end:this.wh.toVec2(this.dt.mi(this.dt.getInnerEnd(),-p),m)},v=mt(this.wh.toVec2(this.dt.getInnerStart(),m),this.ng,this.og),A=mt(x.start,this.ng,this.og),E=mt(x.end,this.ng,this.og),T=mt(this.wh.toVec2(this.dt.getInnerEnd(),g),this.ng,this.og);this.lg.Ve(this.wh.toPoint(r,u)).ze(this.wh.toPoint(n,u)).setVisible(e),this.ug.Ve(this.wh.toPoint(this.dt.mi(this.dt.getInnerStart(),this.Pf),u)).ze(this.wh.toPoint(this.dt.getInnerStart(),u)).setVisible(e),this.cg.Ve(this.wh.toPoint(this.dt.mi(this.dt.getInnerEnd(),-this.Pf),u)).ze(this.wh.toPoint(this.dt.getInnerEnd(),u)).setVisible(e);const F=u+t.kg*this.eg;if(this.Lh.Fe(this.wh.toPoint(this.wh.getWidth(mt(Wt(Bt(v,T),.5),this.og,this.ng)),F)).Ea(this.wh.toPoint(0,-1*this.eg)).setVisible(e),this.Cf){const D=this.sg/100*o+t.Bg,N=-this.eg*o-t.Bg,V={start:this.wh.toVec2(this.Cf.min,f+this.eg*this.kf),end:this.wh.toVec2(this.Cf.max,D+N)},P=mt(V.start,this.ng,this.og),b=mt(V.end,this.ng,this.og);this.Ag.Fe(P).q(be(b,P)).setVisible(!0)}else this.Ag.setVisible(!1);this.dg.Fe(A).q(be(E,A)).setVisible(e),this.gg.Fe(v).q(be(A,v)).setVisible(e),this.mg.Fe(E).q(be(T,E)).setVisible(e);for(const D of this.Tf)D.update().plot(e,u,d,t.Bg,f);for(const D of this.Jf)D.Te()}setLength(t){return this.zd=t,this.chart.us.Ss(),this}getLength(){return this.zd}setMargins(t,e){return this.iA=t,this.sA=e,this.chart.us.Ss(),this}getMargins(){return{start:this.iA,end:this.sA}}getStackIndex(){var t,e;return(e=(t=[...this.chart.Vg,...this.chart.Og,...this.chart.Ng,...this.chart.Gg].find(i=>i.axis===this))===null||t===void 0?void 0:t.iStack)!==null&&e!==void 0?e:0}getParallelIndex(){var t,e;return(e=(t=[...this.chart.Vg,...this.chart.Og,...this.chart.Ng,...this.chart.Gg].find(i=>i.axis===this))===null||t===void 0?void 0:t.iParallel)!==null&&e!==void 0?e:0}Wg(){const t=this.Dg;if(!t)return;const e=this.getVisible()&&t.Pg>0,i=this.lg.uu().getThickness()*this.eg/2,r=this.rg.getInnerInterval(),n=this.sg/100*r+t.Bg,a=r*this.eg,o=n+i;for(const l of this.Tf)l.update().plot(e,n,a,t.Bg,o);for(const l of this.Jf)l.Te()}Ug(){return this.kf}Yg(t,e){e=e||qh.AxisTickMajor;const i=new Z6(this,t?this.QA[0]:this.tg,this.tg,this.dt,this.ag,this.ag,this.wh,this.hg,this.hA,this.qi,e).setTextFormatter(this.formatValue);return this.Tf.push(i),i}oA(t){this.chart.us.ls.Ms(t,1),this.Df=t.us.Wr(this.$f,this.Df)}lA(t){this.chart.us.ls.Ms(t,0),t.us.Ur(this.Df)}dA(t){this.setStopped(!0),t.us.Ur(this.Df)}gA(t,e){const i=-this.wh.getWidth(e);this.pan(i),this.Df=t.us.Wr(this.Xf,this.Df)}pan(t){const e=this.Ih,i=this.Ph,r=this.dt.mi(e,t),n=this.dt.mi(i,t);this.Qh(r,n,!1)}zoom(t,e){const i=this.dt.ct(this.Ih),r=this.dt.ct(this.Ph),n=this.dt.ct(t),a=ee((n-i)/(r-i),0,1),o=.2*this.dt.ri(),l=a*this.Rf*o*-e,u=(1-a)*this.Rf*o*e,d=this.dt.mi(this.Ih,l),f=this.dt.mi(this.Ph,u);this.Qh(d,f,!0)}pA(t){this.Cf=void 0,t.us.Ur(this.Df)}fA(t,e){this.setStopped(!0),t.us.Ur(this.Df),this.chart.us.ls.Ms(this.dg,0)}mA(t,e,i,r){const n=mt(this.bA.us.Pe(i.x,i.y),this.bA.us.dt,this.ng),a=ee(this.wh.getWidth(n),this.Ih,this.Ph),o=this.wh.getWidth(mt(this.bA.us.Pe(e.x,e.y),this.bA.us.dt,this.ng));Math.abs(this.dt.ct(a)-this.dt.ct(o))>10?(this.Cf=se(Math.min(a,o),Math.max(a,o)),this.Df=t.us.Wr(this.jf,this.Df)):(this.Cf=void 0,this.Df=t.us.Wr(this.$f,this.Df)),this.bA.Ss()}SA(t,e,i){if(this.Cf){const r=this.Cf.min,n=this.Cf.max,a=this.Ph<this.Ih;this.St(a?n:r,a?r:n,!0,!0,"interactionSetInterval")}this.Cf=void 0,t.us.Ur(this.Df)}BA(t){this.chart.us.ls.Ms(t,1),this.Bf=t.us.Wr(this.Zf,this.Bf)}RA(t){this.chart.us.ls.Ms(t,0),t.us.Ur(this.Bf)}zA(t,e){this.setStopped(!0),this.Bf=t.us.Wr(this.Qf,this.Bf)}OA(t,e,i,r){const n=this.wh.getWidth(r);this.Qh(this.dt.mi(this.Ih,n),this.Ph,!0)}GA(t,e,i,r){const n=this.wh.getWidth(r);this.Qh(this.Ih,this.dt.mi(this.Ph,n),!0)}UA(t,e,i){t.us.Ur(this.Bf),t.getIsUnderMouse()&&(this.Bf=t.us.Wr(this.Zf)),this.bA.Ss()}addCustomTick(t){return this.Yg(!0,t)}getUiPosition(){return this.sg}setStrokeStyle(t){return this.lg.Re(t),this.bA.Ss(),this}getStrokeStyle(){return this.lg.uu()}getOverlayStyle(){return this.dg.Eh()}setOverlayStyle(t){return this.dg.Ce(t),this.bA.Ss(),this}setAxisInteractionZoomByDragging(t){return this.Ef=t,this}getAxisInteractionZoomByDragging(){return this.Ef}setAxisInteractionPanByDragging(t){return this.zf=t,this}getAxisInteractionPanByDragging(){return this.zf}setAxisInteractionZoomByWheeling(t){return this.Vf=t,this}getAxisInteractionZoomByWheeling(){return this.Vf}setAxisInteractionReleaseByDoubleClicking(t){return this.Of=t,this}getAxisInteractionReleaseByDoubleClicking(){return this.Of}setAxisMouseHoverStyle(t=this.wh.defaultDragMouseStyle){return this.$f=t,this}getAxisMouseHoverStyle(){return this.$f}setAxisMousePanStyle(t=this.wh.defaultDragMouseStyle){return this.Xf=t,this}getAxisMousePanStyle(){return this.Xf}setAxisMouseZoomStyle(t=this.wh.defaultDragMouseStyle){return this.jf=t,this}getAxisMouseZoomStyle(){return this.jf}setAnimationHighlight(t){return this.chart.us.ls._s(this.dg,t),this.chart.us.ls._s(this.gg,t),this.chart.us.ls._s(this.mg,t),this}getAnimationHighlight(){return this.chart.us.ls.ws(this.dg)}getTitleMargin(){return this.getMarginAfterTicks()}setTitleMargin(t){return this.setMarginAfterTicks(t)}getMarginAfterTicks(){return this.pg}setMarginAfterTicks(t){return this.pg=t,this.bA.Ss(),this}getMarginAfterTitle(){return this.Sg}setMarginAfterTitle(t){return this.Sg=t,this.bA.Ss(),this}getNibLength(){return this.Pf}setNibLength(t){return this.Pf=t,this.bA.Ss(),this}getNibStyle(){return this.ug.uu()}setNibStyle(t){return this.ug.Re(t),this.cg.Re(t),this.bA.Ss(),this}getNibOverlayStyle(){return this.gg.Eh()}setNibOverlayStyle(t){return this.gg.Ce(t),this.mg.Ce(t),this.bA.Ss(),this}setNibMousePickingAreaSize(t){return this.Lf=t,this.bA.Ss(),this}getNibMousePickingAreaSize(){return this.Lf}setNibInteractionScaleByDragging(t){return this.Nf=t,this}getNibInteractionScaleByDragging(){return this.Nf}setNibInteractionScaleByWheeling(t){return this.Gf=t,this}getNibInteractionScaleByWheeling(){return this.Gf}setNibMouseHoverStyle(t=this.wh.defaultDragMouseStyle){return this.Zf=t,this}getNibMouseHoverStyle(){return this.Zf}setNibMouseScaleStyle(t=this.wh.defaultDragMouseStyle){return this.Qf=t,this}getNibMouseScaleStyle(){return this.Qf}setChartInteractions(t){return this.setChartInteractionFitByDrag(t),this.setChartInteractionPanByDrag(t),this.setChartInteractionZoomByDrag(t),this.setChartInteractionZoomByWheel(t),this}setChartInteractionPanByDrag(t){return this.Wf=t,this}getChartInteractionPanByDrag(){return this.Wf}setChartInteractionZoomByWheel(t){return this.Uf=t,this}getChartInteractionZoomByWheel(){return this.Uf}setChartInteractionZoomByDrag(t){return this.Yf=t,this}getChartInteractionZoomByDrag(){return this.Yf}setChartInteractionFitByDrag(t){return this.Hf=t,this}getChartInteractionFitByDrag(){return this.Hf}j(){return this.dt.j(),this}Z(){return this.dt.Z(),this}dispose(){this.ug.dispose(),this.cg.dispose(),this.lg.dispose(),this.dg.dispose(),this.Ag.dispose(),this.gg.dispose(),this.mg.dispose(),this.Lh.dispose(),this.Kh(Gh);for(const t of this.wf.values())t.grid.dispose(),t.tick.dispose();return this.Ff.slice().forEach(Gh),this.Jf.slice().forEach(Gh),this.qA(this),this.D.emit("dispose",this),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){this.ug.setVisible(t),this.cg.setVisible(t),this.lg.setVisible(t),this.Lh.setVisible(t),this.dg.setVisible(t),this.gg.setVisible(t),this.mg.setVisible(t),this.Kh(e=>{e.ys(t)});for(const e of this.wf.values())e.grid.setVisible(t),e.tick.setVisible(t);return super.setVisible(t),this.chart.us.Ss(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationHighlight(this.th),this}}const kg={getWidth:s=>s.x,getHeight:s=>s.y,toVec2:(s,t)=>({x:s,y:t}),toPoint:(s,t)=>Y(s,t)},LA={getWidth:s=>s.y,getHeight:s=>s.x,toVec2:(s,t)=>({x:t,y:s}),toPoint:(s,t)=>Y(t,s)},ou=s=>!!(s&&typeof s=="object"&&"x"in s&&s.x instanceof Cg&&"y"in s&&s.y instanceof Cg),bV=Re({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new te,tickLength:7,tickStyle:new te,tickPadding:0,labelFont:new oy,labelFillStyle:new rt,labelPadding:0,labelAlignment:0,labelRotation:0});class In extends bV{constructor(t){super(t)}setGridStrokeLength(t){return this.set("gridStrokeLength",t)}getGridStrokeLength(){return this.get("gridStrokeLength")}setGridStrokeStyle(t){return this.set("gridStrokeStyle",typeof t=="function"?t(this.get("gridStrokeStyle")):t)}getGridStrokeStyle(){return this.get("gridStrokeStyle")}setTickLength(t){return this.set("tickLength",t)}getTickLength(){return this.get("tickLength")}setTickStyle(t){return this.set("tickStyle",typeof t=="function"?t(this.get("tickStyle")):t)}getTickStyle(){return this.get("tickStyle")}setTickPadding(t){return this.set("tickPadding",t)}getTickPadding(){return this.get("tickPadding")}setLabelFillStyle(t){return this.set("labelFillStyle",typeof t=="function"?t(this.get("labelFillStyle")):t)}getLabelFillStyle(){return this.get("labelFillStyle")}setLabelFont(t){return this.set("labelFont",typeof t=="function"?t(this.get("labelFont")):t)}getLabelFont(){return this.get("labelFont")}setLabelPadding(t){return this.set("labelPadding",t)}getLabelPadding(){return this.get("labelPadding")}setLabelAlignment(t){return this.set("labelAlignment",t)}getLabelAlignment(){return this.get("labelAlignment")}setLabelRotation(t){return this.set("labelRotation",t)}getLabelRotation(){return this.get("labelRotation")}}const GC=s=>!(!s||typeof s!="object"||!("type"in s)||s.type!=="tick-style"),YC=new In({labelFillStyle:Nt,gridStrokeStyle:bt,tickStyle:bt}),Dg=s=>GC(s)&&Gw(s.labelFillStyle)&&qM(s.gridStrokeStyle)&&qM(s.tickStyle),py=(s,t,e,i,r)=>(n,a)=>o=>{const l=new Date(o+n),u={year:a?l.getUTCFullYear():l.getFullYear(),monthIndex:a?l.getUTCMonth():l.getMonth(),day:a?l.getUTCDate():l.getDate(),hours:a?l.getUTCHours():l.getHours(),minutes:a?l.getUTCMinutes():l.getMinutes(),seconds:a?l.getUTCSeconds():l.getSeconds(),millis:a?l.getUTCMilliseconds():l.getMilliseconds()},d=i?i(u):void 0;if(s===0&&d===!0)return o;const f=u[t];r.includes("year")&&(u.year=Math.floor(u.year/e)*e),r.includes("monthIndex")&&(u.monthIndex=0),r.includes("day")&&(u.day=1),r.includes("hours")&&(u.hours=0),r.includes("minutes")&&(u.minutes=0),r.includes("seconds")&&(u.seconds=0),r.includes("millis")&&(u.millis=0);let g=(s===0?1:s)*e;return s===-1&&d===!1&&(g=0),g!==0&&(u[t]=e*(g>0?Math.floor((f+g)/e):Math.ceil((f+g)/e))),a?Date.UTC(u.year,u.monthIndex,u.day,u.hours,u.minutes,u.seconds,u.millis)-n:new Date(u.year,u.monthIndex,u.day,u.hours,u.minutes,u.seconds,u.millis).getTime()-n},P0=(s,t,e,...i)=>py(-1,s,t,e,i),Jc=(s,t,e,...i)=>py(-1,s,t,e,i),Zc=(s,t,e,...i)=>py(0,s,t,e,i),Qc=(s,t,...e)=>py(1,s,t,void 0,e),pS=s=>(t,e)=>i=>{const r=new Date(i+t),n=e?r.getUTCDay():r.getDay(),a=n===1&&(e?r.getUTCHours():r.getHours())===0&&(e?r.getUTCMinutes():r.getMinutes())===0&&r.getSeconds()===0&&r.getMilliseconds()===0;if(s===0&&a===!0)return i;let o=e?r.getUTCDate():r.getDate();return s===-1&&n===1&&a===!1||(s===-1?o-=n>=2?n-1:n+6:o+=n>0?8-n:1),e?Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),o,0,0,0,0)-t:new Date(r.getFullYear(),r.getMonth(),o,0,0,0,0).getTime()-t},Br=[{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:de({ignore:"first"},2,5)},minorTicks:{amount:4,fitFunction:de(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:P0("seconds",1,s=>s.millis===0,"millis")},majorTicks:{fitFunction:yS(5,10,15,30)},minorTicks:{amount:4,fitFunction:de(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:P0("minutes",1,s=>s.seconds===0&&s.millis===0,"seconds","millis")},majorTicks:{fitFunction:yS(5,10,15,30)},minorTicks:{amount:12,fitFunction:de(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:P0("hours",1,s=>s.minutes===0&&s.seconds===0&&s.millis===0,"minutes","seconds","millis")},majorTicks:{fitFunction:yS(3,6,12)},minorTicks:{amount:8,fitFunction:de(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:P0("day",1,s=>s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"hours","minutes","seconds","millis")},majorTicks:{fitFunction:de({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:de({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:pS(-1),getNextKeyValueIncludingRef:pS(0),getNextKeyValue:pS(1),greatTicks:!0,majorTicks:{fitFunction:de(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:Jc("monthIndex",1,s=>s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Zc("monthIndex",1,s=>s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"day","hours","minutes","seconds","millis"),getNextKeyValue:Qc("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:de(void 0,2,3)},minorTicks:{fitFunction:de(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:Jc("year",1,s=>s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Zc("year",1,s=>s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Qc("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:de({ignore:"first"},2,5)},minorTicks:{fitFunction:de(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:Jc("year",10,s=>s.year%10==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Zc("year",10,s=>s.year%10==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Qc("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:de(void 0,2,4)},minorTicks:{fitFunction:de(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:Jc("year",100,s=>s.year%100==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Zc("year",100,s=>s.year%100==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Qc("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:Jc("year",1e3,s=>s.year%1e3==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Zc("year",1e3,s=>s.year%1e3==0&&s.day===1&&s.hours===0&&s.minutes===0&&s.seconds===0&&s.millis===0,"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Qc("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],Dd=(s,t,e)=>{let i=((a,o,l,u,d)=>{const f=o-a;let g;for(let m=0;m<Br.length;m+=1)if(f/Br[m].unit<=1){g=Br[m];break}return g})(t,e);if(i!==void 0&&Br.indexOf(i)===0&&(i=Br[1]),i===void 0)return;if(s==="great")return i;const r=s==="major"?1:2,n=Br[Br.indexOf(i)-r];return n===void 0?Br[0]:n},bR=(s,t,e)=>(i,r,n,a)=>{const o=Dd("great",i,r);if(o===void 0)return[];if(o.label==="Decade"||o.label==="Century"||o.label==="Millennium")return[];const l=a>n?i:r,u=(i+r)/2,d=a>n?r:i;if(Br.indexOf(o)<=Br.findIndex(m=>m.label==="Hour"))return e==="left"?[l]:[];let f;if(o.irregular===!0)f=xC(i,r,o.getPrevKeyValue(s,t),o.getNextKeyValue(s,t));else{const m=o.greatTicks.getReferenceKeyValue(s,t)(i);f=or(i,r,o.unit,m,1)}const g=((m,p,x)=>{for(const v of x)if(v>=m&&v<=p)return v})(i,r,f);return e==="left"?g===void 0||Aa(g,u,d)?[l]:[g]:g!==void 0&&Aa(g,u,d)?[g]:[d]},SS=(s,t,e)=>(i,r,n,a)=>{const o=Dd(s,n,a);let l;if(o===void 0)return[];if(s==="great"&&o.greatTicks!==void 0)if(o.irregular===!0)l=xC(i,r,o.getPrevKeyValue(t,e),o.getNextKeyValue(t,e));else{const u=o.greatTicks.getReferenceKeyValue(t,e)(i);l=or(i,r,o.unit,u,1)}else if(s==="major"&&o.majorTicks!==void 0)l=o.irregular===!0?((u,d,f,g)=>{const m=[];let p=f(u),x=0;for(;p<d;)if(m.push(p),p=g(p),x+=1,x>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return m.push(p),m})(i,r,o.getPrevKeyValue(t,e),o.getNextKeyValue(t,e)):((u,d,f)=>{const g=[];let m=u,p=0;for(;m<d;)if(g.push(m),m+=f,p+=1,p>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return g.push(m),g})(i,r,o.unit);else{if(s!=="minor"||o.minorTicks===void 0)return[];if(o.irregular===!0)l=((u,d,f,g)=>{const m=[];let p=f(u),x=0;for(;p<d;)if(m.push(p),p=g(p),x+=1,x>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return m})(i,r,o.getNextKeyValueIncludingRef(t,e),o.getNextKeyValue(t,e));else{const u=(d=>{if(d!==void 0)return Br[Br.indexOf(d)+1]})(o);if(u===void 0)return[];l=pr(i,r,u.unit/o.minorTicks.amount,1)}}return l},MR=s=>(t,e,i,r,n,a)=>{const o=Dd(s,n,a);if(o===void 0)return;let l;return s==="major"?l=o.majorTicks.fitFunction:o.minorTicks&&(l=o.minorTicks.fitFunction),l?l(t,e,i,r,n,a):void 0},MV=Re({type:"date-time-ticks",utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new In,majorTickStyle:new In,minorTickStyle:new In,formatOptionsMajorCentury:{year:"numeric"},formatOptionsMinorDecade:{year:"numeric"},formatOptionsMajorDecade:{year:"numeric"},formatOptionsMinorYear:{year:"numeric"},formatOptionsMajorYear:{year:"numeric"},formatOptionsMinorMonth:{month:"short"},formatOptionsGreatYear:{year:"numeric"},formatOptionsMajorMonth:{month:"long"},formatOptionsMinorWeek:{day:"numeric"},formatOptionsGreatMonth:{year:"numeric",month:"long"},formatOptionsMajorWeek:{day:"numeric",weekday:"short"},formatOptionsMinorDay:{day:"numeric",weekday:"short"},formatOptionsGreatWeek:(s,t,e)=>{const i=new Date(s),r=(n=>{const a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()));a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));const o=new Date(Date.UTC(a.getUTCFullYear(),0,1));return Math.ceil(((a.getTime()-o.getTime())/864e5+1)/7)})(i);return`${new Intl.DateTimeFormat(e,{year:"numeric",month:"long"}).format(i)} Week ${r}`},formatOptionsMajorDay:{weekday:"long",day:"numeric"},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit"},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric"},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit"},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit"},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric"},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit"},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit"},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},formatOptionsMajorSecond:{second:"2-digit"},formatOptionsMinorMillisecond:s=>{const t=new Date(s);return`${(t.getSeconds()+t.getUTCMilliseconds()/1e3).toFixed(2)}`},formatOptionsGreatSecond:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},formatOptionsMajorMilliSecond:s=>{const t=new Date(s);return`${(t.getSeconds()+t.getUTCMilliseconds()/1e3).toFixed(1)}`}});class RV extends MV{Yh(t){const e=this.dateOrigin!==void 0?this.dateOrigin.getTime():0,i=d=>Br.map(f=>{const g=((m,p,x)=>{switch(x.label){case"MilliSecond100":return p==="Great"?void 0:p==="Major"?m.formatOptionsMajorMilliSecond:m.formatOptionsMinorMillisecond;case"Second":return p==="Great"?m.formatOptionsGreatSecond:p==="Major"?m.formatOptionsMajorSecond:m.formatOptionsMinorSecond;case"Minute":return p==="Great"?m.formatOptionsGreatMinute:p==="Major"?m.formatOptionsMajorMinute:m.formatOptionsMinorMinute;default:case"Hour":return p==="Great"?m.formatOptionsGreatHour:p==="Major"?m.formatOptionsMajorHour:m.formatOptionsMinorHour;case"Day":return p==="Great"?m.formatOptionsGreatDay:p==="Major"?m.formatOptionsMajorDay:m.formatOptionsMinorDay;case"Week":return p==="Great"?m.formatOptionsGreatWeek:p==="Major"?m.formatOptionsMajorWeek:m.formatOptionsMinorWeek;case"Month":return p==="Great"?m.formatOptionsGreatMonth:p==="Major"?m.formatOptionsMajorMonth:m.formatOptionsMinorMonth;case"Year":return p==="Great"?m.formatOptionsGreatYear:p==="Major"?m.formatOptionsMajorYear:m.formatOptionsMinorYear;case"Decade":return p==="Great"?void 0:p==="Major"?m.formatOptionsMajorDecade:m.formatOptionsMinorDecade;case"Century":return p==="Great"?void 0:p==="Major"?m.formatOptionsMajorCentury:void 0;case"Millennium":return}})(this,d,f);if(typeof g!="object")return g;try{return new Intl.DateTimeFormat(this.locale,g)}catch{let p="";for(const x in g)p+=` ${x}: ${g[x]},`;ht.console.error(`Invalid Intl.DateTimeFormat ( locale: ${this.locale}, formatOptions {${p}} )`)}}),r=new Map;r.set("great",i("Great")),r.set("major",i("Major")),r.set("minor",i("Minor"));const n=d=>String(d),a=(d,f)=>(g,m)=>{let p=g+e;const x=m.getInnerStart(),v=m.getInnerEnd(),A=x>v,E=Dd(d,A?v:x,A?x:v);if(E===void 0)return n(p);if(d==="great"){const D=ki(g,f==="left"?x:v);let N;if(N=D===!1?g:E.irregular===!1?f==="left"&&A===!1||f==="right"&&A===!0?E.greatTicks.getReferenceKeyValue(e,this.utc)(g):E.greatTicks.getReferenceKeyValue(e,this.utc)(g+1*E.unit):f==="left"&&A===!1||f==="right"&&A===!0?E.getPrevKeyValue(e,this.utc)(g):E.getNextKeyValue(e,this.utc)(g),p=N+e,f==="right"&&D===!0)return""}const T=r.get(d);if(T===void 0)return n(p);const F=T[Br.indexOf(E)];return F===void 0?"":typeof F=="function"?F(p,m,this.locale):F.format(p)},o=[],l=[{Ue:"Great ticks (directive)",Rg:0,Ne:!0,Br:SS("great",e,this.utc),Lr:void 0},{Ue:"Major ticks",Rg:1,lr:this.majorTickStyle,nr:a("major"),Br:SS("major",e,this.utc),bh:{dr:MR("major")},Lr:void 0}];Dg(this.greatTickStyle)||(o.push({Ue:"Great ticks (left)",lr:this.greatTickStyle.setLabelAlignment(-1),nr:a("great","left"),Br:bR(e,this.utc,"left"),Oe:!0,mr:!1}),o.push({Ue:"Great ticks (right)",lr:this.greatTickStyle.setLabelAlignment(1),nr:a("great","right"),Br:bR(e,this.utc,"right"),Oe:!0,mr:!1})),Dg(this.minorTickStyle)||l.push({Ue:"Minor ticks",Rg:2,lr:this.minorTickStyle,nr:a("minor"),Br:SS("minor",e,this.utc),bh:{dr:MR("minor"),xh:(d,f,g,m,p,x)=>{const v=Dd("minor",p,x);return!v||v.label!=="Week"}},Lr:void 0});const u=this.cursorFormatter;return{He:o,$e:l,Ge:u?(d,f,g)=>u(e+d,f,g):(d,f,g)=>{const m=new Date(e+d);return`${new Intl.DateTimeFormat(g,{year:"numeric",month:"numeric",day:"numeric",minute:"2-digit",hour:"2-digit"}).format(m)} `},Xh:1e3,jh:31536e9}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTickStyle(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)}setGreatTickStyle(t){if(typeof t=="function"){const e=this.get("greatTickStyle");return this.set("greatTickStyle",t(e))}return this.set("greatTickStyle",t)}getGreatTickStyle(){return this.get("greatTickStyle")}setMajorTickStyle(t){return typeof t=="function"?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if(typeof t=="function"){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setUTC(t){return this.set("utc",t)}getUTC(){return this.get("utc")}setLocale(t){return this.set("locale",t)}getLocale(){return this.get("locale")}setDateOrigin(t){return this.set("dateOrigin",t)}getDateOrigin(){return this.get("dateOrigin")}setFormatting(t,e,i){return this.withMutations(r=>r.set("formatOptionsGreatYear",t||this.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||this.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||this.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||this.formatOptionsGreatDay).set("formatOptionsGreatHour",t||this.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||this.formatOptionsGreatMinute).set("formatOptionsGreatSecond",t||this.formatOptionsGreatSecond).set("formatOptionsMajorCentury",e||this.formatOptionsMajorCentury).set("formatOptionsMajorDecade",e||this.formatOptionsMajorDecade).set("formatOptionsMajorYear",e||this.formatOptionsMajorYear).set("formatOptionsMajorMonth",e||this.formatOptionsMajorMonth).set("formatOptionsMajorWeek",e||this.formatOptionsMajorWeek).set("formatOptionsMajorDay",e||this.formatOptionsMajorDay).set("formatOptionsMajorHour",e||this.formatOptionsMajorHour).set("formatOptionsMajorMinute",e||this.formatOptionsMajorMinute).set("formatOptionsMajorSecond",e||this.formatOptionsMajorSecond).set("formatOptionsMajorMilliSecond",e||this.formatOptionsMajorMilliSecond).set("formatOptionsMinorDecade",i||this.formatOptionsMinorDecade).set("formatOptionsMinorYear",i||this.formatOptionsMinorYear).set("formatOptionsMinorMonth",i||this.formatOptionsMinorMonth).set("formatOptionsMinorWeek",i||this.formatOptionsMinorWeek).set("formatOptionsMinorDay",i||this.formatOptionsMinorDay).set("formatOptionsMinorHour",i||this.formatOptionsMinorHour).set("formatOptionsMinorMinute",i||this.formatOptionsMinorMinute).set("formatOptionsMinorSecond",i||this.formatOptionsMinorSecond))}setFormattingDecade(t,e){return this.withMutations(i=>(t&&(i=i.set("formatOptionsMajorDecade",t)),e&&(i=i.set("formatOptionsMinorYear",e)),i))}setFormattingYear(t,e){return this.withMutations(i=>(t&&(i=i.set("formatOptionsMajorYear",t)),e&&(i=i.set("formatOptionsMinorMonth",e)),i))}setFormattingMonth(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatYear",t)),e&&(r=r.set("formatOptionsMajorMonth",e)),i&&(r=r.set("formatOptionsMinorWeek",i)),r))}setFormattingWeek(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatMonth",t)),e&&(r=r.set("formatOptionsMajorWeek",e)),i&&(r=r.set("formatOptionsMinorDay",i)),r))}setFormattingDay(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatWeek",t)),e&&(r=r.set("formatOptionsMajorDay",e)),i&&(r=r.set("formatOptionsMinorHour",i)),r))}setFormattingHour(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatDay",t)),e&&(r=r.set("formatOptionsMajorHour",e)),i&&(r=r.set("formatOptionsMinorMinute",i)),r))}setFormattingMinute(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatHour",t)),e&&(r=r.set("formatOptionsMajorMinute",e)),i&&(r=r.set("formatOptionsMinorSecond",i)),r))}setFormattingSecond(t,e,i){return this.withMutations(r=>(t&&(r=r.set("formatOptionsGreatMinute",t)),e&&(r=r.set("formatOptionsMajorSecond",e)),i&&(r=r.set("formatOptionsMinorMillisecond",i)),r))}setFormattingMilliSecond(t,e){return this.withMutations(i=>(t&&(i=i.set("formatOptionsGreatSecond",t)),e&&(i=i.set("formatOptionsMajorMilliSecond",e)),i))}}const RR=(s,t)=>(e,i)=>{const r=i-e;if(t){const l=Math.log10(r/2);let u=10**Math.floor(l-s);const d=1/u;u=Math.round(u*d)/d;const f=Math.round(Math.floor(e/(10*u))*u*10*d)/d;return or(f,i,u,void 0,d)}const n=Math.log10(r);let a=10**Math.round(n-s);const o=1/a;return a=Math.round(a*o)/o,pr(e,i,a,o)},EV=(s,t,e,i,r,n)=>t===0?s.filter((a,o)=>o%2==0):t===1?s.filter((a,o)=>o%5==0):void 0,TV=(s,t,e,i,r,n)=>t===0?s.filter((a,o)=>o%2==0):t===1?s.filter((a,o)=>o%3==0):t===2?s.filter((a,o)=>o%4==0):t===3?s.filter((a,o)=>o%5==0):void 0,wV=de(void 0,2,5),CV=(s,t,e,i,r,n)=>t===0?[s[1],s[3],s[5]]:t===1?[s[0],s[3]]:t===2?[s[1]]:void 0,ER=(s,t)=>{const e=Ih(s),i=xu(s);if(t)return(n,a)=>{const o=[],l=Math.floor(e(n)),u=Math.ceil(e(a));for(let d=l-1;d<=u+1;d+=1){const f=i**d;o.push(f)}return o};const r=s===10?9:4;return(n,a)=>{const o=Math.round(e(n)),l=Math.round(e(a)),u=[],d=i**o,f=(i**l-d)/r;for(let g=1;g<=r;g+=1){const m=d+f*g;m>n&&m<a&&u.push(m)}return u}},kV=Re({type:"numeric-ticks",cursorFormatter:void 0,extremeTickStyle:new In,majorTickStyle:new In,minorTickStyle:new In,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0});class DV extends kV{Yh(t){const e=this.formattingOffset,i=this.get("extremeFormattingFunction")||(t.type==="logarithmic"?(u,d)=>ga.LogarithmicNoExponents(u,d,void 0,t.base):ga.Numeric),r=this.get("majorFormattingFunction")||(t.type==="logarithmic"?(u,d)=>ga.LogarithmicNoExponents(u,d,void 0,t.base):ga.Numeric),n=this.get("minorFormattingFunction")||(t.type==="logarithmic"?(u,d)=>ga.LogarithmicNoExponents(u,d,void 0,t.base):ga.Numeric),a=[],o=[];Dg(this.extremeTickStyle)||a.push({Ue:"Extreme ticks",lr:this.extremeTickStyle,nr:e===void 0?i:(u,d,f)=>i(e+u,d,f),Br:S6,Oe:!0,mr:!0}),o.push({Ue:"Major ticks",Rg:0,lr:this.majorTickStyle,nr:e===void 0?r:(u,d,f)=>r(e+u,d,f),Br:t.type==="logarithmic"?ER(t.base,!0):RR(0,!0),bh:t.type==="logarithmic"?{dr:TV}:{dr:EV},Lr:void 0}),Dg(this.minorTickStyle)||o.push({Ue:"Minor ticks",Rg:1,lr:this.minorTickStyle,nr:e===void 0?n:(u,d,f)=>n(e+u,d,f),Br:t.type==="logarithmic"?ER(t.base,!1):RR(1,!1),bh:t.type==="logarithmic"?{dr:CV}:{dr:wV},Lr:50});const l=this.cursorFormatter?this.cursorFormatter:ga.Numeric;return{He:a,$e:o,Ge:e===void 0?l:(u,d,f)=>l(e+u,d,f),Xh:1e-9,jh:void 0}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setExtremeTickStyle(t){if(typeof t=="function"){const e=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(e))}return this.set("extremeTickStyle",t)}getExtremeTickStyle(){return this.get("extremeTickStyle")}setFormattingOffset(t){return this.set("formattingOffset",t)}getFormattingOffset(){return this.get("formattingOffset")}setTickStyle(t){const e=this.setMajorTickStyle(t).setMinorTickStyle(t);return e.extremeTickStyle!==YC?e.setExtremeTickStyle(t):e}setMajorTickStyle(t){return typeof t=="function"?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if(typeof t=="function"){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setFormattingFunction(t){return this.withMutations(e=>e.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t))}getExtremeFormattingFunction(){return this.get("extremeFormattingFunction")}setExtremeFormattingFunction(t){return this.set("extremeFormattingFunction",t)}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}}const FV=Re({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new In,minorTickStyle:new In,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),Dh=(s,t)=>{const e=t-s;return e>=864e5?"MajorHours12":e>=36e5?"MajorHours":e>=6e5?"MajorMinutes15":e>=9e4?"MajorMinutes":e>=10500?"MajorSeconds15":e>=1e3?"MajorSeconds":e>=100?"MajorMilliseconds100":e>=10?"MajorMilliseconds10":e>=1?"MajorMilliseconds":e>=.1?"MajorMicroseconds100":e>=.01?"MajorMicroseconds10":e>=.001?"MajorMicroseconds":e<=.001?"MajorNanoseconds100":"Unknown"},ve={hhmmss:s=>{let t=Math.abs(s);const e=s>=0?"":"-",i=Math.floor(t/36e5);t%=36e5;const r=Math.floor(t/6e4);t%=6e4;const n=Math.floor(t/1e3);return`${e}${Fs(i,2)}:${Fs(r,2)}:${Fs(n,2)}`},hhmmssmmm:s=>{let t=Math.abs(s);const e=s>=0?"":"-",i=Math.floor(t/36e5);t%=36e5;const r=Math.floor(t/6e4);t%=6e4;const n=Math.floor(t/1e3);t%=1e3;const a=Math.floor(t/1);return`${e}${Fs(i,2)}:${Fs(r,2)}:${Fs(n,2)}.${Fs(a,3)}`},hhmmssmmmuuu:s=>{const t=Math.abs(s),e=s>=0?"":"-",i=Math.floor(t/36e5),r=Math.floor(t/6e4)%60,n=Math.floor(t/1e3)%60,a=Math.floor(t/1)%1e3,o=s.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return`${e}${Fs(i,2)}:${Fs(r,2)}:${Fs(n,2)}.${Fs(a,3)}${o}`},hhmmssmmmuuunnn:s=>{const t=Math.abs(s),e=s>=0?"":"-",i=Math.floor(t/36e5),r=Math.floor(t/6e4)%60,n=Math.floor(t/1e3)%60,a=Math.floor(t/1)%1e3,o=s.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return`${e}${Fs(i,2)}:${Fs(r,2)}:${Fs(n,2)}.${Fs(a,3)}${o}`}},Fh={MajorHours12:{major:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/(4*432e5))*432e5*4,or(s,t,432e5,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,4)},minor:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>pr(s,t,36e5,1e6),fitKeyValues:de({},2,3,4,6)},defaultValueFormatter:ve.hhmmss},MajorHours:{major:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/(12*36e5))*36e5*12,or(s,t,36e5,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,6,12)},minor:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>pr(s,t,3e5,1e6),fitKeyValues:de({},2,4,6)},defaultValueFormatter:ve.hhmmss},MajorMinutes15:{major:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>(s=36e5*Math.floor(s/36e5),or(s,t,9e5,void 0,1e6)),fitKeyValues:de({ignore:"first"},2)},minor:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>pr(s,t,6e4,1e6),fitKeyValues:de({},3,5)},defaultValueFormatter:ve.hhmmss},MajorMinutes:{major:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/6e5)*6e4*10,or(s,t,6e4,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>pr(s,t,5e3,1e6),fitKeyValues:de({},2,3,4,6)},defaultValueFormatter:ve.hhmmss},MajorSeconds15:{major:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/6e4)*15e3*4,or(s,t,15e3,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,4)},minor:{format:ve.hhmmss,getKeyValues:(s,t,e,i)=>pr(s,t,1e3,1e6),fitKeyValues:de({},3,5)},defaultValueFormatter:ve.hhmmss},MajorSeconds:{major:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/1e4)*1e3*10,or(s,t,1e3,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>pr(s,t,100,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmm},MajorMilliseconds100:{major:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>(s=100*Math.floor(s/1e3)*10,or(s,t,100,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>pr(s,t,10,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmm},MajorMilliseconds10:{major:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>(s=10*Math.floor(s/100)*10,or(s,t,10,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmm,getKeyValues:(s,t,e,i)=>pr(s,t,1,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmm},MajorMilliseconds:{major:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>(s=1*Math.floor(s/10)*10,or(s,t,1,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>pr(s,t,.1,1e6),fitKeyValues:de({},2)},defaultValueFormatter:ve.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>(s=.1*Math.floor(s/1)*10,or(s,t,.1,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>pr(s,t,.01,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/.1)*.01*10,or(s,t,.01,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmmuuu,getKeyValues:(s,t,e,i)=>pr(s,t,.001,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmmuuu},MajorMicroseconds:{major:{format:ve.hhmmssmmmuuunnn,getKeyValues:(s,t,e,i)=>(s=Math.floor(s/.01)*.001*10,or(s,t,.001,void 0,1e6)),fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmmuuunnn,getKeyValues:(s,t,e,i)=>pr(s,t,100*1e-6,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:ve.hhmmssmmmuuunnn,getKeyValues:(s,t,e,i)=>{const r=9999999999999999e-20;return s=Math.floor(s/.001)*r*10,or(s,t,r,void 0,1e6)},fitKeyValues:de({ignore:"first"},2,5)},minor:{format:ve.hhmmssmmmuuunnn,getKeyValues:(s,t,e,i)=>pr(s,t,10*1e-6,1e6),fitKeyValues:de({},2,3,5)},defaultValueFormatter:ve.hhmmssmmmuuunnn},Unknown:{major:{format:(s,t,e)=>"",getKeyValues:(s,t,e,i)=>[],fitKeyValues:void 0},minor:{format:(s,t,e)=>"",getKeyValues:(s,t,e,i)=>[],fitKeyValues:void 0},defaultValueFormatter:(s,t,e)=>""}};class _V extends FV{Yh(t){const e=this.timeOrigin||0,i=[{Ue:"Major ticks",Rg:0,lr:this.majorTickStyle,nr:this.majorFormattingFunction?this.majorFormattingFunction:(r,n,a)=>{const o=Dh(Math.min(n.getInnerStart(),n.getInnerEnd()),Math.max(n.getInnerStart(),n.getInnerEnd()));return(0,Fh[o].major.format)(r+e,n,a)},Br:(r,n,a,o)=>{const l=Dh(a,o);return(0,Fh[l].major.getKeyValues)(r,n,a,o)},bh:{dr:(r,n,a,o,l,u)=>{const d=Dh(l,u),f=Fh[d].major.fitKeyValues;if(f)return f(r,n,a,o,l,u)}},Lr:void 0}];return GC(this.minorTickStyle)&&i.push({Ue:"Minor ticks",Rg:1,lr:this.minorTickStyle,nr:this.minorFormattingFunction?this.minorFormattingFunction:(r,n,a)=>{const o=Dh(Math.min(n.getInnerStart(),n.getInnerEnd()),Math.max(n.getInnerStart(),n.getInnerEnd()));return(0,Fh[o].minor.format)(r+e,n,a)},Br:(r,n,a,o)=>{const l=Dh(a,o);return(0,Fh[l].minor.getKeyValues)(r,n,a,o)},bh:{dr:(r,n,a,o,l,u)=>{const d=Dh(l,u),f=Fh[d].minor.fitKeyValues;if(f)return f(r,n,a,o,l,u)}},Lr:void 0}),{He:[],$e:i,Ge:this.cursorFormatter||((r,n,a)=>{const o=Dh(Math.min(n.getInnerStart(),n.getInnerEnd()),Math.max(n.getInnerStart(),n.getInnerEnd()));return Fh[o].defaultValueFormatter(r+e,n,a)}),Xh:1e-4,jh:864e6}}setTickStyle(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)}setMajorTickStyle(t){return typeof t=="function"?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if(typeof t=="function"){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTimeOrigin(t){return this.set("timeOrigin",t)}getTimeOrigin(){return this.get("timeOrigin")}setFormattingFunction(t){return this.withMutations(e=>e.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t))}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}}const HC=(s,t,e="image/png",i)=>{t+=`.${e.slice(e.indexOf("image/")+6)}`;const r=s.captureFrame(e,i);if(e!=="image/png"&&r.type.includes("image/png"))throw new Error(`saveToFile | type not supported by browser: ${e}
Check support table for HTMLCanvasElement.toDataURL`);if(ht.navigator.msSaveBlob)ht.navigator.msSaveBlob(r,t);else{const n=ht.document.createElement("a");ht.document.body.appendChild(n);const a=ht.URL.createObjectURL(r);n.href=a,n.download=t,n.click(),setTimeout(()=>{ht.URL.revokeObjectURL(a),ht.document.body.removeChild(n)},0)}},Fg=(s,t,e,i,r,n)=>{const a=s.Zu(t,e,i,r,n,!0);return a.setDraggingMode(ze.draggable),a},_g=(s,t)=>{if(s==="relative")return t;if(s instanceof zn)return s;const e=s.x instanceof Xh?s.x.dt:s.x.x,i=s.y instanceof Xh?s.y.dt:s.y.y;return ay(e,i)},Sy=(s,t,e,i,r)=>{if(e){const n=s,a=t,o=ou(a)?a:Kn(a)?i:void 0;if(o&&nu(e)){const l=mt(n,o,r.dt);return r.Do({engineX:l.x,engineY:l.y})}if(o&&Kn(e))return mt(n,o,i);if(o&&ou(e))return mt(n,o,e)}else{const n=s;if(Kn(t)){const a=r.Po(n);return mt({x:a.engineX,y:a.engineY},r.dt,i)}if(ou(t)){const a=t,o=r.Po(n);return mt({x:o.engineX,y:o.engineY},r.dt,a)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")};class XC{constructor(t,e,i,r,n,a,o,l){this.coordsRelative="relative",this.coordsClient="client",this.Hg=[],this.$g=[],this.D=new qi,this.Xg=void 0,this.jg=void 0,this.Zg=void 0,this.Xt=oo(0,0,0,0),this.Qg=!1,this.$i=!1,this.Jg=()=>{this.Kg=!0,this.qg.Ss()},this.tm=f=>g=>{const m=this.Hg.indexOf(g);m!==-1&&this.Hg.splice(m,1),this.us.Ss(),f.W()},this.im=f=>{const g=this.$g.indexOf(f);g!==-1&&this.$g.splice(g,1),this.us.Ss()},this.Kg=!0,this.onInViewChange=f=>this.D.on("inViewChange",f),this.offInViewChange=f=>this.D.off(f,"inViewChange"),this.cA=t,this.sm=i,this.qg=r,this.removePanel=n,this.qi=e.us.qi;const u=e.us.oi();if(this.uiScale=i.d2({scaleXYConstructor:Me}).Vi(0,100).Oi(0,100).q(u),this.pixelScale=i.d2({scaleXYConstructor:Me}).Vi(0,this.uiScale.x.getCellSize()).Oi(0,this.uiScale.y.getCellSize()).q(u),this.engine=e.us.hm,this.us=e.us.rm,this.es=this.us.es.hs(this,{}),this.nm=()=>e.om("unidentified ui"),this.am=e.lm(),this.um=this.qg.ke(this.uiScale).Fe(Y(0,0)).q(Y(100,100)).Ce(a).we(o).setMouseMoveEventHandler((f,g)=>this.D.emit("mouseMovePanelBackground",this,g)).setMouseEnterEventHandler((f,g)=>this.D.emit("mouseEnterPanelBackground",this,g)).setMouseLeaveEventHandler((f,g)=>this.D.emit("mouseLeavePanelBackground",this,g)).setMouseDownEventHandler((f,g)=>this.D.emit("mouseDownPanelBackground",this,g)).setMouseUpEventHandler((f,g)=>this.D.emit("mouseUpPanelBackground",this,g)).setMouseClickEventHandler((f,g)=>this.D.emit("mouseClickPanelBackground",this,g)).setMouseDoubleClickEventHandler((f,g)=>this.D.emit("mouseDoubleClickPanelBackground",this,g)).setMouseWheelEventHandler((f,g)=>this.D.emit("mouseWheelPanelBackground",this,g)).setMouseDragStartEventHandler((f,g,m)=>this.D.emit("mouseDragStartPanelBackground",this,g,m)).setMouseDragEventHandler((f,g,m,p,x)=>this.D.emit("mouseDragPanelBackground",this,g,m,p,x)).setMouseDragStopEventHandler((f,g,m,p)=>this.D.emit("mouseDragStopPanelBackground",this,g,m,p)).setTouchStartEventHandler((f,g)=>this.D.emit("touchStartPanelBackground",this,g)).setTouchMoveEventHandler((f,g)=>this.D.emit("touchMovePanelBackground",this,g)).setTouchEndEventHandler((f,g)=>this.D.emit("touchEndPanelBackground",this,g)),l){const f=l.on(this.Jg);this.dm=()=>l.off(f)}else{const f=e.us.Co(this.Jg);this.fm=e.us.ko.bind(e.us,f)}const d=e.us.Fo(f=>{this.Qg=f,this.D.emit("inViewChange",this,f)});this.Am=e.us.Io.bind(e.us,d),this.Xg=n}getTheme(){return this.qi}getSizePixels(){return this.pixelScale.getInnerIntervalPixels()}setBackgroundFillStyle(t){return this.um.Ce(t),this.qg.Ss(),this}getBackgroundFillStyle(){return this.um.Eh()}setBackgroundStrokeStyle(t){return this.um.we(t),this.qg.Ss(),this}getBackgroundStrokeStyle(){return this.um.ao()}translateCoordinate(t,e,i){return Sy(t,e,i,this.pixelScale,this.us)}gm(t){return this.Hg.push(t),this.us.Ss(),t}ym(t){return this.$g.push(t),this.us.Ss(),t}addUIElement(t=PA,e=this.uiScale){e=_g(e,this.pixelScale);const i=this.nm();return this.gm(Fg(t,i,this.uiScale,e,this.tm(i),this.qi))}addLegendBox(t=my,e=this.uiScale){e=_g(e,this.pixelScale);const i=this.ym(Fg(t,this.am,this.uiScale,e,this.im,this.qi));return i.setDraggingMode(ze.notDraggable),e!==void 0&&e!==this.uiScale||(t===void 0||t.getAlignment()==="vertical"?i.setOrigin(Au.RightCenter).setPosition({x:100,y:50}):i.setOrigin(Au.CenterBottom).setPosition(this.uiScale.mi({x:50,y:0},{x:0,y:3}))),i}getLegendBoxes(){return this.$g}dispose(){return this.$i||(this.$i=!0,this.fm&&this.fm(),this.dm&&this.dm(),Tu(this.uiScale),Tu(this.pixelScale),this.Am&&this.Am(),this.jg&&this.jg(),this.qg.W(),this.am.W(),this.Hg.slice().forEach(t=>{t.dispose()}),this.$g.slice().forEach(t=>{t.dispose()}),this.us.Ss(),this.Xg&&this.Xg(this),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}saveToFile(t,e,i){return HC(this.engine,t,e,i),this}Fr(t){this.Xt=t,this.Jg()}j(){return this.pixelScale.j(),this.uiScale.j(),this}Z(){return this.pixelScale.Z(),this.uiScale.Z(),this}Te(t){if(this.Kg){const e=this.qg.us.oi(),i=e.x,r=e.y;this.uiScale.q(i,r),this.pixelScale.q(i,r);const n=[this.Xt.left,this.Xt.right],a=[this.Xt.bottom,this.Xt.top];this.uiScale.Ei(n),this.uiScale.zi(a);const o=this.uiScale.getInnerIntervalPixels();this.pixelScale.Vi(0,o.x).Ei(n).Oi(0,o.y).zi(a),this.D.emit("resize",this,o.x,o.y,i,r)}this.Kg=!1}pm(){for(let t=0;t<this.Hg.length;t+=1)this.Hg[t].Ps().Te();for(let t=0;t<this.$g.length;t+=1)this.$g[t].Ps().Te();this.Zg&&this.Zg()}Sm(t,e){if(t){const i=t(e);this.onResize(i.Ps.bind(i)),this.jg=i.W.bind(i),this.Zg=i.Ps.bind(i)}}onBackgroundMouseEnter(t){return this.D.on("mouseEnterPanelBackground",t)}offBackgroundMouseEnter(t){return this.D.off(t,"mouseEnterPanelBackground")}onBackgroundMouseMove(t){return this.D.on("mouseMovePanelBackground",t)}offBackgroundMouseMove(t){return this.D.off(t,"mouseMovePanelBackground")}onBackgroundMouseLeave(t){return this.D.on("mouseLeavePanelBackground",t)}offBackgroundMouseLeave(t){return this.D.off(t,"mouseLeavePanelBackground")}onBackgroundMouseDown(t){return this.D.on("mouseDownPanelBackground",t)}offBackgroundMouseDown(t){return this.D.off(t,"mouseDownPanelBackground")}onBackgroundMouseUp(t){return this.D.on("mouseUpPanelBackground",t)}offBackgroundMouseUp(t){return this.D.off(t,"mouseUpPanelBackground")}onBackgroundMouseClick(t){return this.D.on("mouseClickPanelBackground",t)}offBackgroundMouseClick(t){return this.D.off(t,"mouseClickPanelBackground")}onBackgroundMouseDoubleClick(t){return this.D.on("mouseDoubleClickPanelBackground",t)}offBackgroundMouseDoubleClick(t){return this.D.off(t,"mouseDoubleClickPanelBackground")}onBackgroundMouseDragStart(t){return this.D.on("mouseDragStartPanelBackground",t)}offBackgroundMouseDragStart(t){return this.D.off(t,"mouseDragStartPanelBackground")}onBackgroundMouseDrag(t){return this.D.on("mouseDragPanelBackground",t)}offBackgroundMouseDrag(t){return this.D.off(t,"mouseDragPanelBackground")}onBackgroundMouseDragStop(t){return this.D.on("mouseDragStopPanelBackground",t)}offBackgroundMouseDragStop(t){return this.D.off(t,"mouseDragStopPanelBackground")}onBackgroundMouseWheel(t){return this.D.on("mouseWheelPanelBackground",t)}offBackgroundMouseWheel(t){return this.D.off(t,"mouseWheelPanelBackground")}onBackgroundTouchStart(t){return this.D.on("touchStartPanelBackground",t)}offBackgroundMouseTouchStart(t){return this.D.off(t,"touchStartPanelBackground")}onBackgroundTouchMove(t){return this.D.on("touchMovePanelBackground",t)}offBackgroundTouchMove(t){return this.D.off(t,"touchMovePanelBackground")}onBackgroundTouchEnd(t){return this.D.on("touchEndPanelBackground",t)}offBackgroundTouchEnd(t){return this.D.off(t,"touchEndPanelBackground")}onResize(t){return this.D.on("resize",t)}offResize(t){return this.D.off(t,"resize")}getIsInView(){return this.Qg}}const Tu=s=>{s.ii&&s.ii()};class IA extends XC{constructor(t,e,i,r,n,a){super(t,e,i,e.vm("uipanel bg",0),r,e.us.qi.uiPanelBackgroundFillStyle,e.us.qi.uiPanelBackgroundStrokeStyle,a),this.Sm(n,this.pixelScale)}setMinimumSize(t){return this.xd=t,this.us.Ss(),this}getMinimumSize(){return this.xd}Te(t){super.Te(t),super.pm()}}const VV=oo(10,10,10,10);class An extends XC{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,d),this.bm={},this.ya=VV,this.th=!0,this.xm=e.Mm("chart internal ui",0),this._m=this.xm.Pr(this.uiScale).Rh("Chart").Fe(Y(50,100)).Ea(Y(0,1)).Oh(l).Ce(u).setMouseInteractions(!1),this.wm=this.es.yg([this._m]).ps(this.qi.effectsText)}setAnimationsEnabled(t){return this.th=t,this}getAnimationsEnabled(){return this.th}setTitle(t){return this._m.Rh(t),this.us.Ss(),this}getTitle(){return this._m.Bh()}getTitleSize(){return this._m.Ps().jc()}setTitleFillStyle(t){return this._m.Ce(t),this.Jg(),this}getTitleFillStyle(){return this._m.Eh()}setTitleFont(t){return this._m.Oh(t),this.Jg(),this}getTitleFont(){return this._m.Vh()}setTitleRotation(t){return this._m.Nh(t),this.us.Ss(),this}getTitleRotation(){return this._m.Gh()}setTitleEffect(t){return this.wm.ps(t),this.us.Ss(),this}getTitleEffect(){return this.wm.vs()}setTitleMargin(t){var e,i;return this.bm=typeof t=="object"?this.bm?(e=this.bm,{left:(i=t).left!==void 0?i.left:e.left,top:i.top!==void 0?i.top:e.top,right:i.right!==void 0?i.right:e.right,bottom:i.bottom!==void 0?i.bottom:e.bottom}):t:{left:t,top:t,right:t,bottom:t},this.Jg(),this}getTitleMargin(){return this.bm}setPadding(t){return this.ya=typeof t=="object"?ru(this.ya,t):{left:t,top:t,right:t,bottom:t},this.Jg(),this}getPadding(){return this.ya}Cm(t){const e=t.km(),i=e==null?void 0:e.height,r=e==null?void 0:e.width;if(i!==void 0&&r!==void 0)return{x:i/2,y:r/2}}dispose(){return super.dispose(),this.xm.W(),this}}const ys={Tm:(s,t)=>s.Eh()!==Nt&&s.Bh().length!==0&&s.getVisible()?s.Ps().jc().y:0,Fm(s,t){s.Fe(Y(50,100)).Fr({top:t.top!==void 0?t.top:10,right:t.right||0,left:t.left||0,bottom:t.bottom||0})}};var Ze;(function(s){s[s.disabled=0]="disabled",s[s.snapToClosest=1]="snapToClosest",s[s.onHover=2]="onHover"})(Ze||(Ze={}));const Ms={Im(s,t,e,i,r,n){let a;const o=s.getAutoCursorMode();if(!e&&o!==Ze.disabled){const l=s.us.On(),u=i.find(d=>d.getIsUnderMouse());o===Ze.snapToClosest&&r?(t||u!==void 0)&&(a=l&&r(l)):u===void 0||u.getCursorEnabled&&!u.getCursorEnabled()||(a=l&&n(u,l))}a?s.Pm.pointAt(a).setVisible(!0):s.Pm.setVisible(!1),s.Pm.Ps().Te()},Hc(s,t,e){if(t.x<s.uiScale.x.ei()||t.x>s.uiScale.x.hi()||t.y<s.uiScale.y.ei()||t.y>s.uiScale.y.hi())return;let i,r=Number.MAX_VALUE;for(const n of e)if(n.getCursorEnabled()&&n.getVisible()){const a=n.Hc(t);if(a){const o=mt(a.location,a.scale,s.engine.scale),l=Da(t,o);Number.isNaN(l)||i&&!(l<r)||(i=a,r=l)}}return i||void 0},Dm(s){s.onSeriesBackgroundMouseEnter(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),s.onSeriesBackgroundMouseMove(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),s.onSeriesBackgroundMouseLeave(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),s.onSeriesBackgroundTouchStart(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),s.onSeriesBackgroundTouchMove(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),s.onSeriesBackgroundTouchEnd(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()})},Bm(s,t){t.onMouseEnter((e,i)=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),t.onMouseMove((e,i)=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()}),t.onMouseLeave(()=>{s.getAutoCursorMode()!==Ze.disabled&&s.us.Ss()})}};class WC{constructor(t,e){this.Lm=t,this.Rm=e}alter(t){this.Em=this.Em!==void 0?this.Em:this.Rm(),this.zm=t,this.Lm(t)}resetValue(){this.zm!==void 0&&(this.Em!==void 0&&this.isAltered()&&this.Lm(this.Em),this.Em=void 0,this.zm=void 0)}getNormalValue(){return this.Em!==void 0?this.Em:this.Rm()}isAltered(){return this.zm!==void 0&&this.Rm()===this.zm}}class $C{constructor(t,e){this.Vm=[],this.Om=t,this.dt=e}update(){return this.Om.getVisible()?!(this.Nm()&&(!this.Gm()||(this.resetTable(),this.Om.Ps(),this.Nm()))&&(this.Wm(),this.Om.Ps(),this.Nm()&&(this.resetTable(),this.Om.Ps(),1))):(this.Gm()&&this.resetTable(),!0)}Gm(){for(let t=0;t<this.Vm.length;t+=1)if(this.Vm[t].isAltered())return!0;return!1}resetTable(){for(let t=0;t<this.Vm.length;t+=1)this.Vm[t].resetValue();return this}Nm(){return((t,e)=>{const i=mt(t.getPosition(Y(-1,-1),ke.PaddedBackground),t.scale,e),r=mt(t.getPosition(Y(1,1),ke.PaddedBackground),t.scale,e);return i.x<e.x.getInnerStart()||r.x>e.x.getInnerEnd()||i.y<e.y.getInnerStart()||r.y>e.y.getInnerEnd()})(this.Om,this.dt)}Um(){return((t,e)=>{const i=mt(t.getPosition(Y(-1,-1),ke.PaddedBackground),t.scale,e),r=mt(t.getPosition(Y(1,1),ke.PaddedBackground),t.scale,e);return i.x<e.x.getInnerStart()||r.x>e.x.getInnerEnd()})(this.Om,this.dt)}Ym(){return((t,e)=>{const i=mt(t.getPosition(Y(-1,-1),ke.PaddedBackground),t.scale,e),r=mt(t.getPosition(Y(1,1),ke.PaddedBackground),t.scale,e);return i.y<e.y.getInnerStart()||r.y>e.y.getInnerEnd()})(this.Om,this.dt)}Hm(t){return this.Vm.push(t),t}}class zV extends $C{constructor(){super(...arguments),this.ma=this.Hm(new WC(t=>this.Om.setOrigin(t),()=>this.Om.getOrigin()))}Wm(){const t=this.ma.getNormalValue(),e=Y(this.Um()?-t.x:t.x,this.Ym()?-t.y:t.y);this.ma.alter(e)}}class NV extends $C{constructor(t,e,i,r){super(t,e),this.$m=this.Hm(new WC(n=>this.Om.setTextFont(a=>a.setSize(n)),()=>this.Om.getTextFont().getSize())),this.Xm=i,this.jm=r}Wm(){const t=this.$m.getNormalValue(),e=this.Xm;if(e<t)for(let i=1;i<=this.jm;i+=1){const r=t-(t-e)*(i/this.jm);if(this.$m.alter(r),this.Om.Ps(),!this.Nm())return}}}const BV={Flip:(s,t)=>new zV(s,t),FontSize:(s=5,t=5)=>(e,i)=>new NV(e,i,s,t)};class PV{constructor(){this.Zm=[]}addRow(...t){return this.Zm.push(t),this}}class Ji extends PV{Zu(){const t=this.Zm;return this.Zm=[],t}Qm(){return this.Zm.length=0,this}}class LV extends uV{constructor(){super(...arguments),this.Nu=this.qi.cursorResultTableTextFont,this.Dd=0,this.Jm=this.qi.cursorResultTableTextFillStyle}setContent(t){for(let r=0;r<t.length;r+=1){const n=t[r];let a=!1;for(let o=0;o<n.length;o+=1){const l=n[o],u=typeof l=="object"&&"text"in l?l.text:typeof l=="string"?l:void 0,d=typeof l=="object"&&"icon"in l?l.icon:$h(l)?l:void 0;if((u===void 0||u.length===0)&&!d){a=!0;break}}a||(n.unshift(""),n.push(""))}this.Km();const e=t.length;let i=this.getMembers().length;for(let r=0;r<Math.max(e,i);r+=1){const n=this.getRow(r,!0);if(r>=e)this.getMembers()[r].dispose(),r-=1,i-=1;else{const a=t[r].length;let o=n.getMembers().length;for(let l=0;l<Math.max(a,o);l+=1){const u=t[r][l],d=typeof u=="object"&&"font"in u?u.font:void 0,f=typeof u=="object"&&"fillStyle"in u?u.fillStyle:void 0,g=typeof u=="object"&&"text"in u?u.text:typeof u=="string"?u:void 0,m=typeof u=="object"&&"icon"in u?u.icon:$h(u)?u:void 0,p=n.getMembers();if(l>=a)n.getMembers()[l].dispose(),l-=1,o-=1;else if(g!==void 0&&g.length>0||m){for(let E=p.length;E<l;E+=1)n.addGap(void 0,void 0);const x=d?this.Nu.withMutations(E=>{for(const T of Object.keys(d)){const F=d[T];E.set(T,F)}return E}):this.Nu,v=f||this.Jm,A=p[l];if(g){let E;A&&A instanceof ox?E=A:(A&&A.dispose(),E=n.addElement(Kd,l)),E.setFont(x).setFillStyle(v).setText(g).setTextRotation(this.Dd)}else if(m){let E;A&&A instanceof gy?E=A:(A&&A.dispose(),E=n.addElement(lV,l)),E.setFillStyle(v).setShape(m).setSize({y:x.size,x:x.size}),E.setMargin(5)}}else{for(let v=p.length;v<l;v+=1)n.addGap(void 0,void 0);const x=p[l];x&&x instanceof Mu||(x&&x.dispose(),n.addGap(void 0,l))}}}}return this.ks.Ss(),this}setTextFillStyle(t){this.Jm=typeof t=="function"?t(this.Jm):t;for(let e=0;e<this.getMemberCount();e+=1){const i=this.getRow(e);for(let r=0;r<i.getMembers().length;r+=1){const n=i.getMembers()[r];n instanceof ox&&n.setFillStyle(this.Jm)}}return this.ks.Ss(),this}getTextFillStyle(){return this.Jm}setTextFont(t){return gd(t)?this.Nu=t:this.Nu=t(this.Nu),this.ks.Ss(),this}getTextFont(){return this.Nu}setTextRotation(t){return this.Dd=t,this.ks.Ss(),this}getTextRotation(){return this.Dd}Km(){for(let t=0;t<this.Sd.length;t+=1)for(let e=0;e<this.Sd[t].getMembers().length;e+=1)this.Sd[t].getMembers()[e].dispose()}Ps(){for(let t=0;t<this.Sd.length;t+=1)this.Sd[t].setMinimumSize(void 0);super.Ps();for(let t=0;t<this.Sd.length;t+=1)this.Sd[t].setMinimumSize(this.size.x);return super.Ps(),this}}class jC{constructor(t,e,i,r,n){this.qm=!0,this.ty=!0,this.Qg=!1,this.ua=Y(0,0),this.Xi=!0,this.ks=t,this.renderingScale=e,this.scale=i,this.iy=r,this.sy=new gy(this.ks,this.renderingScale,this.scale,ae,n).setMouseInteractions(!1).setFillStyle(n.cursorPointMarkerFillStyle).setSize(n.cursorPointMarkerSize).setShape(n.cursorPointMarkerShape),this.Om=new LV(this.ks,this.renderingScale,this.scale,this.iy,ae,n).setMouseInteractions(!1).setBackground(a=>a.setFillStyle(n.cursorResultTableFillStyle).setStrokeStyle(n.cursorResultTableStrokeStyle)).setTextFillStyle(n.cursorResultTableTextFillStyle).setTextFont(n.cursorResultTableTextFont),this.ey=BV.Flip(this.Om,this.scale)}dispose(){return this.sy.dispose(),this.Om.dispose(),this}pointAt(t){return this.ua=t.scale===this.scale?t.location:mt(t.location,t.scale,this.scale),this.sy.setPosition(this.ua),this.Om.setPosition(this.ua).setContent(t.resultTableContent),this.ks.Ss(),this}getPosition(){return this.ua}setVisible(t){return this.Xi=t,this.ks.Ss(),this}getVisible(){return this.Xi}setPointMarkerVisible(t){return this.qm=t,this.ks.Ss(),this}getPointMarkerVisible(){return this.qm}setPointMarker(t){return t(this.sy),this.ks.Ss(),this}getPointMarker(){return this.sy}setResultTableVisible(t){return this.ty=t,this.ks.Ss(),this}getResultTableVisible(){return this.ty}setResultTable(t){return t(this.Om),this.ks.Ss(),this}getResultTable(){return this.Om}setAutoFitStrategy(t){return this.ey&&this.ey.resetTable(),this.ey=t?t(this.Om,this.ks.us.dt):void 0,this.ks.Ss(),this}getAutoFitStrategy(){return this.ey!==void 0}Te(){return this.ey&&this.ey.update(),this.Om.setVisible(this.Qg&&this.Xi&&this.ty),this.sy.setVisible(this.Qg&&this.Xi&&this.qm),this.sy.Te(),this.Om.Te(),this}Ps(){return this.sy.Ps(),this.Om.Ps(),this.Qg=((t,e,i=e)=>{const r=e!==i?mt(t,e,i):t;return r.x>=i.x.getInnerStart()&&r.x<=i.x.getInnerEnd()&&r.y>=i.y.getInnerStart()&&r.y<=i.y.getInnerEnd()})(this.ua,this.scale),this}}class qC extends jC{constructor(){super(...arguments),this.hy=!1}pointAt(t){return this.ny(t.fillStyle),super.pointAt(t)}ny(t){t&&this.hy&&this.Om.setTextFillStyle(t)}setResultTableAutoTextStyle(t){return this.hy=t,this.ks.Ss(),this}getResultTableAutoTextStyle(){return this.hy}}class JC extends jC{setPosition(t){return this.ua=t,this.sy.setPosition(t),this.Om.setPosition(t),this.ks.Ss(),this}}class UA{constructor(t,e=[]){this.oy=[],this.ly=(i,r)=>(this.oy.forEach(n=>n(i,r)),i),this.iy=t,this.oy=e}}class Fd extends UA{constructor(){super(...arguments),this.uy=(t,e,i,r)=>this.ly(new qC(t,e,i,this.iy,r),r),this.addStyler=t=>new Fd(this.iy,this.oy.map(e=>e).concat(t)),this.setResultTableBackground=t=>new Fd(t,this.oy.map(e=>e))}}class Vg extends UA{constructor(){super(...arguments),this.Ay=(t,e,i,r)=>this.ly(new JC(t,e,i,this.iy,r),r),this.addStyler=t=>new Vg(this.iy,this.oy.map(e=>e).concat(t)),this.setResultTableBackground=t=>new Vg(t,this.oy.map(e=>e))}}const OA=s=>s.setResultTable(t=>t.setEffect(!0).setOrigin(Y(-1,-1)).setMargin(5)),ZC=(s,t)=>s.setPointMarker(e=>e.setFillStyle(t.chartMarkerPointMarkerFillStyle).setSize(t.chartMarkerPointMarkerSize).setShape(t.chartMarkerPointMarkerShape)).setResultTable(e=>e.setEffect(!0).setBackground(i=>i).setOrigin(Y(-1,-1)).setMargin(10)),QC=new Fd(br,[OA]),KC=new Fd(hx,[OA,s=>s.setPointMarkerVisible(!1).setResultTable(t=>t.setOrigin(Y(0,-1)).setMargin(0).setBackground(e=>{e instanceof hx&&e.setDirection(Qt.Down).setPointerLength(10).setPointerAngle(60)}))]),IV=QC,GA=QC,UV=KC,t5=new Vg(br,[ZC,s=>s.setPointMarkerVisible(!1).setResultTable(t=>t.setOrigin(Au.LeftBottom))]),er=(s,t,e,i,r)=>({location:s,scale:t,resultTableContent:e,owner:i,fillStyle:r});var zg;(function(s){s[s.LabelsInsideSlices=0]="LabelsInsideSlices",s[s.LabelsOnSides=1]="LabelsOnSides"})(zg||(zg={}));const YA={SortByName:(s,t)=>s.getName().localeCompare(t.getName(),void 0,{numeric:!0}),None:()=>0},HA={NamePlusValue:s=>`${s.getName()}: ${Math.round(s.getAnimatedValue())}`},XA=(s,t,e,i)=>s.addRow(e.getName()).addRow(e.getAnimatedValue().toString());class xy extends Jd{constructor(){super(...arguments),this.xs="Slice",this.u=0}}const TR=(s,t)=>{vt(t),s.setExploded(!s.getExploded())};class OV extends xy{}class GV extends OV{constructor(t,e,i,r,n,a,o,l){super(r,a,o,l),this.gy=!1,this.my=Nt,this.yy=Nt,this.py=this.u,this.Sy=this.gy?1:0,this.vy=this.getVisible(),this.by=Ca(()=>this.Ji.us.Ss()),this.xy=Ca(()=>this.Ji.us.Ss()),this.My=()=>{this._y=void 0},this.wy=()=>{this.Cy=void 0},this.index=t,this.Ji=r,this.scale=n,this.Ki=a,this.ky=e.Jc(n).cs(this.getHighlight()),this.ds(this.ky),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0}),this.onMouseClick(TR),this.onTouchEnd(TR)}setValue(t){return this.Ji.getAnimationsEnabled()?this.vy&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setExploded(t){if(t&&this.Ji.getMultipleSliceExplosion()===!1){const e=this.Ji.getSlices();for(let i=0;i<e.length;i+=1)e[i]!==this&&e[i].getExploded()&&e[i].setExploded(!1)}return this.Ji.getAnimationsEnabled()?(this.Cy&&this.Cy.finish(),this.Cy=this.xy(300,Yr.ease)([[this.Sy,t?1:0]],([e])=>{this.Sy=e,this.Ji.us.Ss()}),this.Cy.onEveryAnimationEnd(this.wy),this.gy=!this.gy):this.Ji.getMultipleSliceExplosion()!==!1||t?(this.Sy=this.gy?0:1,this.gy=!this.gy):(this.Sy=0,this.gy=!this.gy),this.Ji.us.Ss(),this}getExploded(){return this.gy}setVisible(t){return this.vy=t,t===!1?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,()=>super.setVisible(!1))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,Yr.ease)([[t,e]],([r])=>{this.py=r,this.Ji.us.Ss()}),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,r){this.my=t,this.yy=i,this.ky.Ce(this.my).we(e),this.Ue.Ce(this.yy).Oh(r);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}getAnimatedExplosion(){return this.Sy}attach(t,e=!0,i=!1){return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t,e=!0,i=!1){oi(t,this.qi,i,{fill:this.my,stroke:this.ky.ao()})}}const YV=(s,t,e)=>Bt(t,Wt(TA(.5*(s.Jl()+s.Ti())*Math.PI/180),e)),HV=(s,t,e,i,r,n)=>{const a=s.length;let o=90;for(let l=0;l<a;l+=1){const u=s[l],d=o-360*t[l],f=u.getAnimatedExplosion();if(f===0||a===1)u.ky.Fe(e);else{const g=Bt(e,Wt(TA(.5*(o+d)*Math.PI/180),n*f));u.ky.Fe(g)}u.ky.eu(o).ze(d).ru(i).nu(i).ou(r),o=d}},wR=s=>{const t=s.getSlices();for(let e=0;e<t.length;e+=1)t[e].setExploded(!1)};class XV extends An{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("pieChart bg",0),r,e.us.qi.pieChartBackgroundFillStyle,e.us.qi.pieChartBackgroundStrokeStyle,e.us.qi.pieChartTitleFont,e.us.qi.pieChartTitleFillStyle,a),this.Fy=[],this.Iy=YA.SortByName,this.Yl=0,this.Py=this.qi.pieChartSliceFillStylePalette,this.Dy=this.qi.pieChartSliceStrokeStyle,this.By=!0,this.Ly=this.qi.pieChartSliceLabelFont,this.Ry=this.qi.pieChartSliceLabelFillStyle,this.Ey=0,this.zy=!1,this.Vy=20,this.Oy=!0,this.Ny=!0,this.Gy=Ze.onHover,this.Wy=XA,this.Uy=d=>{const f=this.Fy.indexOf(d);f>=0&&(this.Fy.splice(f,1),this.Yy())},this.us.Nn(Dt.af),this.Hy=e.$y("pieChart bottom",0),this.Xy=e.$y("pieChart top",1),this._m.Rh("Pie Chart"),this.Sm(n,this.pixelScale),this.onBackgroundMouseDoubleClick(wR);const l=tr(new gC(wR));this.onBackgroundTouchStart(l.onTouchStart),this.onBackgroundTouchMove(l.onTouchMove),this.onBackgroundTouchEnd(l.onTouchEnd),this.jy=e.Zy();const u=Ne(o?o.autoCursorBuilder:void 0,GA);this.Pm=u.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.setAnimationsEnabled((o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1)}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new GV(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);this.Ey+=1,i.setName(t);const r=this.th;return this.th=!1,i.setValue(e),this.th=r,i.setEffect(this.Oy),this.Qy(i),this.Fy.push(i),this.Yy(),i.setHighlightOnHover(this.By),i.onMouseMove(()=>{this.Gy&&this.us.Ss()}),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setMultipleSliceExplosion(t){return this.zy=t,this}getMultipleSliceExplosion(){return this.zy}setInnerRadius(t){return this.Yl=t,this.us.Ss(),this}getInnerRadius(){return this.Yl}setSliceExplosionOffset(t){return this.Vy=t,this.us.Ss(),this}getSliceExplosionOffset(){return this.Vy}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){this.Py=t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){this.Dy=typeof t=="function"?t(this.Dy):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach(e=>e.es.ns.ps(t)),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){this.Ry=typeof t=="function"?t(this.Ry):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){this.Ly=typeof t=="function"?t(this.Ly):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach(e=>e.es.rs.ps(t)),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach(e=>e.setHighlightOnHover(t)),this}Te(t){super.Te(t),ys.Fm(this._m,this.bm),super.pm();const e=ys.Tm(this._m,this.bm),i=Y(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),r=Y(this.ya.left+i.x/2,this.ya.bottom+i.y/2);if(this.Nd){const u=this.Nd;this.Fy.forEach(d=>{this.Qy(d,new rt({color:u.getColors(d.getAnimatedValue())}))})}for(let u=0;u<this.Fy.length;u+=1){const d=this.Fy[u].getAnimatedValue()>0;this.Fy[u].ky.setVisible(d),this.Fy[u].Ue.setVisible(d)}this.Fy=this.Fy.sort(this.Iy);const n=this.Fy.filter(u=>u.getAnimatedValue()>0);let a=0;for(let u=0;u<n.length;u+=1)a+=n[u].getAnimatedValue();const o=[];for(let u=0;u<n.length;u+=1)o.push((l=n[u].getAnimatedValue())>0?l/a:0);var l;for(let u=0;u<n.length;u+=1){const d=n[u];d.Ue.Rh(this.Jy(d,o[u])).Ps()}Ms.Im(this,!1,!1,this.Fy,void 0,(u,d)=>er(d,this.engine.scale,this.Wy(new Ji,this,u,o[n.indexOf(u)]||0).Zu(),u,void 0)),this.Ky(n,o,r,i)}Qy(t,e=this.Py(t.index,t)){t.setStyle(e,this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return super.dispose(),this.Fy.slice().forEach(t=>t.dispose()),this.Pm.dispose(),this.Xy.W(),this.Hy.W(),this.jy.W(),this}}const Jr={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}},L0=(...s)=>{const t=[];return s.forEach(e=>{var i;e&&typeof(i=e)=="object"&&i&&"pattern"in i&&t.push({type:"DataPattern",args:e})}),t};class e5 extends XV{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,a,o),this.Jy=HA.NamePlusValue,this.qy=[],this.tp=40,this.ip=5,this.sp=10,this.ep=this.qi.pieChartConnectorStrokeStyle,this.setPadding({bottom:50})}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelSliceOffset(t){return this.tp=t,this.us.Ss(),this}getLabelSliceOffset(){return this.tp}setLabelConnectorGapStart(t){return this.ip=t,this.us.Ss(),this}getLabelConnectorGapStart(){return this.ip}setLabelConnectorEndLength(t){return this.sp=t,this.us.Ss(),this}getLabelConnectorEndLength(){return this.sp}Ky(t,e,i,r){const n=this.Ly.getSize(),a=this.tp,o=this.sp,l=this.ip,u=Math.min(this.Vy,a-l);let d=0;if(t.length===1)d=t[0].Ue.jc().x;else for(let x=0;x<t.length;x+=1)d=Math.max(d,t[x].Ue.jc().x);const f=Math.max(.5*(Math.min(r.x-2*d-2*o,r.y-2*n)-2*a),0);HV(t,e,i,f,this.Yl,u);let g=90;const m=t.map((x,v)=>{const A=360*e[v],E=g-A,T=TA(Ur(.5*(g+E))),F=T.x>=0?-1:1,D=Bt(Bt(i,Wt(T,f+a)),{x:F*-o,y:0});g=E;const N={x:F,y:0};x.Ue.Fe(D).Ea(N),x.Ue.Ps();const V=ei(x.Ue.We());return{position:D,alignment:N,shape:x.Ue,boundaries:V,sliceAngleVec:T,slice:x}}),p=[];for(let x=0;x<m.length;x+=1){const v=m[x],A=p[p.length-1];A&&lC([A.boundaries,v.boundaries])!==!1?v.shape.setVisible(!1):(p.push(v),v.shape.setVisible(!0))}for(let x=0;x<this.qy.length;x+=1)this.qy[x].setVisible(!1);p.forEach((x,v)=>{const A=x.slice.ky,E=YV(A,i,f+l+u*x.slice.getAnimatedExplosion()),T=EA(x.position.y,E,i),F=x.position;this.hp([E,T,F])})}getMinimumSize(){return Y(500,300)}hp(t){let e;for(let i=0;i<this.qy.length;i+=1)if(!this.qy[i].getVisible()){e=this.qy[i].setVisible(!0);break}e===void 0&&(e=this.Xy.rp(this.pixelScale,void 0,[Jr.InternalUI]).Re(this.ep).setMouseInteractions(!1),this.qy.push(e)),e.Nt().nl(t)}}const ux=s=>{if(zs(s)){const t=s.getThickness(),e=s.getFillStyle();if(fe(e))return t===1?dR:new bC({size:t,fillStyle:e,shape:"sphere"})}return dR};class yo{constructor(t,e,i,r){this.op=[],this.ap=new Map,this.lp=t,this.up=e,this.cp=i,this.dp=r}fp(){this.cp&&this.cp();const t=[];return{add:(e,i)=>{t.push({instanceUniqueProperties:e,instanceSharedProperties:i})},finishPlot:()=>{const e=[];let i=[];t.forEach(a=>{const o=e.find(l=>((u,d)=>{const f=Object.keys(u);for(const g of f)if(u[g]!==d[g])return!1;return!0})(l.sharedProperties,a.instanceSharedProperties));o?o.instances.push(a.instanceUniqueProperties):e.push({sharedProperties:a.instanceSharedProperties,instances:[a.instanceUniqueProperties]})});const r=this.op.slice(),n=[];e.forEach(a=>{let o=r.pop();o||(o=this.lp(),this.op.push(o));const l=[],u=o.Ap().slice();a.instances.forEach((f,g)=>{const m=u.shift();l.push({...f,existingMember:m})});const d=this.up(o,l,a.sharedProperties);i=Es(i,d,{canReturnB:!0});for(let f=0;f<a.instances.length;f+=1)n.push({No:a.instances[f].No,collection:o,member:d[f]});u.forEach(f=>{o==null||o.bd(f)})}),r.forEach(a=>{a.dispose();const o=this.op.indexOf(a);o<0?Qn(0,()=>{}):this.op.splice(o,1)}),n.forEach(a=>{const o=this.ap.get(a.No);o&&a.collection.us.qn({entity:o.collection,collectionMember:o.member},{entity:a.collection,collectionMember:a.member})}),this.ap.clear(),n.forEach(a=>{this.ap.set(a.No,a)}),this.dp&&this.dp(this.op,i)}}}gp(){this.op.forEach(t=>{t.dispose()}),this.op.length=0}}class un{constructor(t){this.mp=[],this.yp=t}fp(){return this.pp(),{add:()=>this.sl(),finishPlot:()=>{this.Sp()}}}sl(){let t=this.mp.find(e=>e.isFree);return t||(t={isFree:!1,shape:this.yp()},this.mp.push(t)),t.isFree=!1,t.shape}pp(){this.mp.forEach(t=>{t.isFree=!0})}Sp(){this.mp.filter(t=>t.isFree).forEach(t=>{t.shape.dispose(),this.mp.splice(this.mp.indexOf(t),1)})}gp(){this.mp.forEach(t=>t.shape.dispose()),this.mp.length=0}}class WV{constructor(t,e,i,r,n,a,o,l,u,d){this.D=new qi,this.u=0,this.Xi=!0,this.$i=!1,this.Ss=t,this.vp=e,this.bp=i,this.xp=r,this.Mp=n,this._p=a,this.Dd=o,this.Jm=l,this.wp=u,this.Ju=d}setValue(t){return t===this.u||(this.u=t,this.Ss(),this.D.emit("valueChange",this,this.u)),this}getValue(){return this.u}setTickStyle(t){return this.bp=typeof t=="function"?t(this.bp):t,this.Ss(),this}getTickStyle(){return this.bp}setTickLength(t){return this.xp=t,this.Ss(),this}getTickLength(){return this.xp}setGridStrokeStyle(t){return this.Mp=typeof t=="function"?t(this.Mp):t,this.Ss(),this}getGridStrokeStyle(){return this.Mp}setTextPadding(t){return this._p=t,this.Ss(),this}getTextPadding(){return this._p}setTextRotation(t){return this.Dd=t,this.Ss(),this}getTextRotation(){return this.Dd}setTextFillStyle(t){return this.Jm=typeof t=="function"?t(this.Jm):t,this.Ss(),this}getTextFillStyle(){return this.Jm}setTextFont(t){return this.wp=typeof t=="function"?t(this.wp):t,this.Ss(),this}getTextFont(){return this.wp}setTextFormatter(t){return this.Ju=t,this.Ss(),this}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}dispose(){return this.$i||(this.$i=!0,this.vp(),this.Ss(),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){const e=this.Xi!==t;return this.Xi=t,e&&(this.D.emit("visibleStateChanged",this,this.Xi),this.Ss()),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}class xS extends Xh{constructor(t,e,i,r,n,a,o,l,u){super(t,e,i,r,l,{numeric:e.Cp({x:t.us.qi.xAxis3DNumericTicks,y:t.us.qi.yAxis3DNumericTicks,z:t.us.qi.zAxis3DNumericTicks}),datetime:e.Cp({x:t.us.qi.xAxis3DDateTimeTicks,y:t.us.qi.yAxis3DDateTimeTicks,z:t.us.qi.zAxis3DDateTimeTicks}),time:e.Cp({x:t.us.qi.xAxis3DTimeTicks,y:t.us.qi.yAxis3DTimeTicks,z:t.us.qi.zAxis3DTimeTicks})},{type:"linear"}),this.Tf=[],this.kp=()=>{},this.Tp=()=>{},this.Fp=()=>{},this.Ip=()=>{},this.chart=t,this.At=n,this.Pp=a,this.Dp=o,this.Bp=this.At.dt;const d=this.wh.Cp({x:this.qi.xAxis3DStrokeStyle,y:this.qi.yAxis3DStrokeStyle,z:this.qi.zAxis3DStrokeStyle});this.Lp=this.At.rp([Jr.InternalUI]).Re(d).Rp(ux(d)).setMouseInteractions(!1),this.Lh=this.Pp.Pr(this.Dp).setMouseInteractions(!1).Ce(e.Cp({x:t.us.qi.xAxis3DTitleFillStyle,y:t.us.qi.yAxis3DTitleFillStyle,z:t.us.qi.zAxis3DTitleFillStyle})).Oh(e.Cp({x:t.us.qi.xAxis3DTitleFont,y:t.us.qi.yAxis3DTitleFont,z:t.us.qi.zAxis3DTitleFont})),this.Ep=new un(()=>this.Pp.Pr(this.Dp)),this.zp=new yo(()=>this.At.Lg().setMouseInteractions(!1),(f,g,m)=>(f.Nt().Re(m.lineStyle),g.map(({positions:p,existingMember:x})=>x||f.nl(p)))),this.es=u,this.Wh=this.es.yg([this.Lh]).ps(r.effectsText),this.Lp.setMouseEnterEventHandler(this.kp).setMouseLeaveEventHandler(this.Tp).setMouseDragEventHandler(this.Fp).setMouseDragStopEventHandler(this.Ip),i.ig=this}setTickStrategy(t,e){return super.Fh(t,e)}getTickStrategy(){return this.je}addCustomTick(){const t=new WV(()=>this.chart.us.Ss(),()=>{const e=this.Tf.indexOf(t);e>=0&&this.Tf.splice(e,1)},this.qi.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.tickLength,this.qi.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.qi.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.qi.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.labelFont,e=>this.formatValue(e));return this.Tf.push(t),this.chart.us.Ss(),t}setStrokeStyle(t){return this.Lp.Re(t).Rp(ux(this.Lp.uu())),this.chart.us.Ss(),this}getStrokeStyle(){return this.Lp.uu()}setMouseInteractions(t){return this}setVisible(t){return super.setVisible(t),this.Lp.setVisible(t),t===!1&&(this.zp.gp(),this.Ep.gp()),this.Pp.Ss(),this}_g(){return this.chart.getSeries()}Vp(t){return Math.abs(this.dt.tt(t)*this.At.Op(1))}Cr(t,e,i){const r=Math.abs(this.dt.tt(e-t)*this.At.Op(1));return{min:t-i*r,max:e+i*r}}ur(t,e){return new $V(e,t,this.Pp,this.Dp,this.At)}cr(t,e){const i=this.Np(e,t.u,t.Sh.lr.tickLength,t.Sh.lr.tickPadding);return t.Ue.Fe(i.labelPosition).Ea(i.labelAlignment),i}Np(t,e,i,r){const{wuSize:n,start:a,end:o,tickDirection3D:l,tickDirection2D:u}=t,d=(e-this.dt.getInnerStart())/(this.dt.getInnerEnd()-this.dt.getInnerStart()),f=gt.addVec(lS(a,o,d),gt.multiplyVec(gt.multiply(l,this.At.Op(.5*this.Lp.uu().getThickness())),n)),g=gt.addVec(f,gt.multiplyVec(gt.multiply(l,this.At.Op(i)),n)),m=this.At.Gp(g)||Y(0,0);return{labelPosition:Bt(mt(m,this.chart.engine.scale,this.Dp),Wt(u,r)),labelAlignment:{x:-u.x,y:-u.y},posTickEnd3D:g,posTickStart3D:f,tickPositionRelative:d}}Wp(t,e,i){const{wuSize:r,start:n,end:a,tickDirection3D:o}=e,l=(t-this.dt.getInnerStart())/(this.dt.getInnerEnd()-this.dt.getInnerStart()),u=gt.addVec(lS(n,a,l),gt.multiplyVec(gt.multiply(o,this.At.Op(.5*this.Lp.uu().getThickness())),r)),d=gt.addVec(u,gt.multiplyVec(gt.multiply(o,this.At.Op(10)),r)),f=this.At.Gp(u)||Y(0,0),g=this.At.Gp(d)||Y(0,0);return this.Pp.Ee(this.Dp).Ve(f).ze(g).Re(new te({fillStyle:new rt({color:x_(120*i)}),thickness:1}))}_r(t,e){return jV(t,e,this.dt)}Te(t){if(!this.Xi)return;const e=Math.min(this.Ih,this.Ph),i=Math.max(this.Ih,this.Ph),r=this.Bp,n=It(r.x.et(),r.y.et(),r.z.et());let a,o;this.Yp()?(a=It(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerStart()),o=It(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerEnd())):(a=It(r.x.getInnerStart(),r.y.getInnerStart(),r.z.getInnerStart()),o=this.wh.Hp(It(r.x.getInnerEnd(),r.y.getInnerEnd(),r.z.getInnerEnd()),a));const l=this.wh.Jd,u=this.At.Gp(a)||Y(0,0),d=this.At.Gp(o)||Y(0,0),f=lS(a,o,.5),g=gt.addVec(f,gt.multiplyVec(gt.multiply(l,-1),n)),m=this.At.Gp(f)||Y(0,0),p=this.At.Gp(g)||Y(0,0),x=hr(be(mt(m,this.chart.engine.scale,this.Dp),mt(p,this.chart.engine.scale,this.Dp)));this.Lp.Nt().nl([a,o]);const{gridlinePositionA:v,gridlinePositionB:A,gridlinePositionC:E}=this.wh.$p(t),T=U=>({x:U.x===-1?this.Bp.x.getInnerStart():U.x===1?this.Bp.x.getInnerEnd():0,y:U.y===-1?this.Bp.y.getInnerStart():U.y===1?this.Bp.y.getInnerEnd():0,z:U.z===-1?this.Bp.z.getInnerStart():U.z===1?this.Bp.z.getInnerEnd():0}),F=T(v),D=T(A),N=T(E),V={physicalAxisSize:go(be(u,d)),wuSize:n,start:a,end:o,tickDirection3D:l,tickDirection2D:x,gridlinePositionA:F,gridlinePositionB:D,gridlinePositionC:N},P=this.qh(V),b=this.zp.fp();for(const[U,O]of this.Ze)for(const[,W]of O){const I=P.get(W);if(!I)continue;const X=this.Xp(V,I);b.add({No:0,positions:[X.tickStroke.start,X.tickStroke.end]},{lineStyle:U.lr.tickStyle}),X.gridStroke&&b.add({No:0,positions:X.gridStroke},{lineStyle:U.lr.gridStrokeStyle})}const M=this.Ep.fp(),w={x:0,y:0};this.Tf.forEach(U=>{if(!U.Xi||U.u<e||U.u>i)return;const O=this.Np(V,U.u,U.xp,U._p),W=this.Xp(V,O),I=M.add().Fe(O.labelPosition).Ea(O.labelAlignment).Ce(U.Jm).Oh(U.wp).Rh(U.Ju(U.u)).Nh(U.Dd).Ps().oi();w.x=Math.max(w.x,I.x),w.y=Math.max(w.y,I.y),b.add({No:0,positions:[W.tickStroke.start,W.tickStroke.end]},{lineStyle:U.bp}),W.gridStroke&&b.add({No:0,positions:W.gridStroke},{lineStyle:U.Mp})}),M.finishPlot(),b.finishPlot();const C=this.gr((U,O)=>{const W=O.Ue.oi();return U.x=Math.max(U.x,W.x),U.y=Math.max(U.y,W.y),U},{x:w.x,y:w.y}),k=Math.atan((d.y-u.y)/(d.x-u.x));this.Lh.Ea({x:0,y:0}).Nh(180*-k/Math.PI);const z=gt.addVec(f,gt.multiplyVec(gt.multiply(l,this.At.Op(.5*this.Lp.uu().getThickness()+this.yr((U,O)=>Math.max(U,O.tickLength),0))),n)),H=this.At.Gp(z)||Y(0,0),B=Bt(mt(H,this.chart.engine.scale,this.Dp),Bt(Bt(lr(C,x),Wt(x,this.yr((U,O)=>Math.max(U,O.labelPadding),0))),lr(Wt(this.Lh.Ps().oi(),.5),x)));this.Lh.Fe(B),this.Lp.jp={overrideFollowing:!1,skipMousePicking:!1}}Xp(t,e){const{gridlinePositionA:i,gridlinePositionB:r,gridlinePositionC:n}=t,a=e.posTickStart3D,o=e.posTickEnd3D,l=e.tickPositionRelative;let u;return ki(l,0)||ki(l,1)||(u=[this.Zp()?{...i,x:a.x}:this.Qp()?{...i,y:a.y}:this.Yp()?{...i,z:a.z}:{x:0,y:0,z:0},this.Zp()?{...r,x:a.x}:this.Qp()?{...r,y:a.y}:this.Yp()?{...r,z:a.z}:{x:0,y:0,z:0},this.Zp()?{...n,x:a.x}:this.Qp()?{...n,y:a.y}:this.Yp()?{...n,z:a.z}:{x:0,y:0,z:0}]),{gridStroke:u,tickStroke:{start:a,end:o}}}Uh(){super.Uh(),this.zp.gp(),this.Ep.gp()}Zp(){return this.wh.Zp()}Qp(){return this.wh.Qp()}Yp(){return this.wh.Yp()}}class $V extends Zd{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this.Jp=n}}const jV=(s,t,e)=>ee(s+.1*(t-s)+Math.abs(e.et())/100*Math.sign(t-s),Math.min(s,t),Math.max(s,t)),Hu=(s,t,e,i)=>({pr:()=>{const r=s();let n;for(const a of r){if(!a.Kp())continue;const o=t(a);n=o===void 0?n:n!==void 0?Math.min(n,o):o}return n},Sr:()=>{const r=s();let n;for(const a of r){if(!a.Kp())continue;const o=e(a);n=o===void 0?n:n!==void 0?Math.max(n,o):o}return n},br:()=>{const r=s();let n;for(const a of r){if(!a.Kp())continue;const o=i(a);n=o===void 0?n:n!==void 0?Math.max(n,o):o}return n}}),qV=s=>({...Hu(s,t=>t.getYMin(),t=>t.getYMax(),t=>t.br().y),Cp:t=>t.y,Hp:(t,e)=>({x:e.x,y:t.y,z:e.z}),Jd:It(-1,0,0),$p:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:It(e.x,0,e.z),gridlinePositionB:It(e.x,0,-e.z),gridlinePositionC:It(-e.x,0,-e.z)}},Zp:()=>!1,Qp:()=>!0,Yp:()=>!1}),JV=s=>({...Hu(s,t=>t.getZMin(),t=>t.getZMax(),t=>t.br().z),Cp:t=>t.z,Hp:(t,e)=>({x:e.x,y:e.y,z:t.z}),Jd:It(1,0,0),$p:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:It(e.x,-e.y,0),gridlinePositionB:It(e.x,e.y,0),gridlinePositionC:It(-e.x,e.y,0)}},Zp:()=>!1,Qp:()=>!1,Yp:()=>!0});class Xu extends Jd{constructor(t,e,i,r,n){super(t,e,r,n),this.qp=Gu,this.tS=!0,this.iS=!0,this.Ji=t,this.At=i,this.ts=new Map,this.onMouseWheel(this.Ji.sS),this.onMouseDrag(this.Ji.eS),this.onTouchStart(this.Ji.hS.onTouchStart),this.onTouchMove(this.Ji.hS.onTouchMove),this.onTouchEnd(this.Ji.hS.onTouchEnd)}setAutoScrollingEnabled(t){return this.tS=t,this.Ji.us.Ss(),this}getAutoScrollingEnabled(){return this.tS}setColorShadingStyle(t){return this.qp=t,this.ts.forEach((e,i)=>i.rS(t)),this.At.Ss(),this}getColorShadingStyle(){return this.qp}setDepthTestEnabled(t){return this.iS=t,this.ts.forEach((e,i)=>i.nS(t)),this.At.Ss(),this}getDepthTestEnabled(){return this.iS}oS(){}Te(){}dp(){}getXMax(){const t=this.Na;return t?t.bt():void 0}getXMin(){const t=this.Na;return t?t.vt():void 0}getYMax(){const t=this.Na;return t?t.Mt():void 0}getYMin(){const t=this.Na;return t?t.xt():void 0}getZMax(){const t=this.Na;return t?t.aS():void 0}getZMin(){const t=this.Na;return t?t.lS():void 0}br(){const t=this.Na;return t?It(t.vl(),t.bl(),t.uS()):It(0,0,0)}}class ZV extends Xu{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this.xs="Box Series 3D",this.cS=.25,this.dS=!1,this.Gd=()=>os(this.be),this.be=re(this.qi.boxSeries3DFillStyle,n),this.Na=this.At.AS().nS(this.iS).Ce(this.be).fS(this.cS).cs(this.getHighlight()),this.ds(this.Na)}invalidateData(t){const e=t.length;if(e===0)return this;this.dS&&this.Ji.us.Nn(Dt.vf);const i=t[0];if(!i)return this;let r;if("xMin"in i||"yMin"in i||"zMin"in i||"xMax"in i||"yMax"in i||"zMax"in i){r=[];for(let n=0;n<e;n+=1){const a=t[n],o="xMin"in a&&"xMax"in a,l="yMin"in a&&"yMax"in a,u="zMin"in a&&"zMax"in a;r[n]={color:a.color,value:a.value,id:a.id,xCenter:o?(a.xMin+a.xMax)/2:void 0,yCenter:l?(a.yMin+a.yMax)/2:void 0,zCenter:u?(a.zMin+a.zMax)/2:void 0,xSize:o?a.xMax-a.xMin:void 0,ySize:l?a.yMax-a.yMin:void 0,zSize:u?a.zMax-a.zMin:void 0}}}else r=t;return this.Na.gS(r.slice()),this.Ji.us.Ss(),this.dS=!0,this}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Na.Ce(t),this.Ji.us.Ss(),this}getFillStyle(){return this.be}setRoundedEdges(t){return t!==void 0&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.cS=t!==void 0?ee(t,0,1):void 0,this.Na.fS(this.cS),this.At.Ss(),this}getRoundedEdges(){return this.cS}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.Ji.us.Ss()}Te(){super.Te(),this.Na.Ps(!1)}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be}),this}}class i5 extends Xu{constructor(t,e,i,r,n){super(t,e,i,r,n),this.dS=!1,this.Gd=()=>os(this.lu.getFillStyle())}setStrokeStyle(t){this.lu=typeof t=="function"?t(this.lu):t;const e=this.lu;return this.Na.Re(e),this.At.Ss(),this}getStrokeStyle(){return this.lu}add(t){return this.dS&&this.Ji.us.Nn(Dt.vf),this.dS=!0,(t=Array.isArray(t)?t:[t])?(this.Na.nl(t.slice()),this.At.Ss(),this):this}clear(){return this.Na.Nt(),this}getPointAmount(){const t=this.Na;return t.ol()+t.al()}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{stroke:this.lu}),this}}class QV extends i5{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this.xs="Line Series 3D",this.lu=re(r.lineSeries3DStrokeStyle,n),this.mS=Ns.pointStyle3D,this.yS(this.lu),this.Na=this.At.rp([Jr.UserSeries]).nS(this.iS).Re(this.lu).Rp(this.mS).cs(this.getHighlight()),this.ds(this.Na)}setStrokeStyle(t){super.setStrokeStyle(t),this.yS(this.lu);const e=this.mS;return this.Na.Rp(e),this}yS(t){const e=new Eg.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.mS=e}}class KV extends i5{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this.xs="Point Line Series 3D",this.Gd=()=>os(this.lu.getFillStyle())||os(this.mS.getFillStyle()),this.mS=re(r.pointLineSeries3DPointStyle,n),this.lu=re(r.lineSeries3DStrokeStyle,n),this.pS(),this.Na=this.At.rp([Jr.UserSeries]).nS(this.iS).Re(this.lu).Rp(this.mS).cs(this.getHighlight()),this.ds(this.Na)}setPointStyle(t){return this.mS=typeof t=="function"?t(this.mS):t,this.pS(),this.Na.Rp(this.mS),this.At.Ss(),this}getPointStyle(){return this.mS}setStrokeStyle(t){super.setStrokeStyle(t);const e=this.lu,i=Math.abs(e.getThickness()),r=this.mS,n=r.getSize();i>(typeof n=="object"?Math.max(n.x,n.y,n.z):n)&&(this.mS=r.setSize(i)),this.pS();const a=this.mS;return this.Na.Rp(a),this.At.Ss(),this}pS(){const t=this.mS,e=t.getSize();this.mS=t.setSize(e)}Ie(t,e){t.cs(e),this.At.Ss()}}class tz extends Xu{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.dS=!1,(a!=null&&a.individualPointSizeAxisEnabled||a!=null&&a.individualPointSizeEnabled)&&this.Ji.us.Nn(Dt.bf)}add(t){return this.dS&&this.Ji.us.Nn(Dt.vf),this.dS=!0,(t=Array.isArray(t)?t:[t])?(this.Na.nl(t.slice()),this.At.Ss(),this):this}clear(){return this.Na.Nt(),this}getPointAmount(){const t=this.Na;return t.ol()+t.al()}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{point3D:this.SS}),this}}class ez extends tz{constructor(t,e,i,r,n,a){super(t,e,i,r,n,a),this.xs="Point Series 3D",this.Gd=()=>os(this.SS.getFillStyle());const o=(a==null?void 0:a.automaticColorIndex)!==void 0?a.automaticColorIndex:this.Ji.getSeries().length;this.SS=re(r.pointSeries3DPointStyle,o);const l={individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1,...a};this.Na=this.At.bS(l).nS(this.iS).vS(this.SS).cs(this.getHighlight()),this.ds(this.Na)}setPointStyle(t){this.SS=typeof t=="function"?t(this.SS):t;const e=this.SS;return this.Na.vS(e),this.At.Ss(),this}getPointStyle(){return this.SS}}class sf extends An{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u,d),this.xS=[],this.MS=0,this._S=f=>{const g=this.xS.indexOf(f);g>=0&&(this.xS.splice(g,1),this.D.emit("seriesDispose",this,f))},this.wS=()=>{this.MS+=1},this.CS=()=>{this.MS-=1},this.onSeriesBackgroundMouseEnter=f=>this.D.on("mouseEnterSeriesBackground",f),this.onSeriesBackgroundMouseLeave=f=>this.D.on("mouseLeaveSeriesBackground",f),this.onSeriesBackgroundMouseMove=f=>this.D.on("mouseMoveSeriesBackground",f),this.onSeriesBackgroundMouseDown=f=>this.D.on("mouseDownSeriesBackground",f),this.onSeriesBackgroundMouseUp=f=>this.D.on("mouseUpSeriesBackground",f),this.onSeriesBackgroundMouseClick=f=>this.D.on("mouseClickSeriesBackground",f),this.onSeriesBackgroundMouseDoubleClick=f=>this.D.on("mouseDoubleClickSeriesBackground",f),this.onSeriesBackgroundMouseDragStart=f=>this.D.on("mouseDragStartSeriesBackground",f),this.onSeriesBackgroundMouseDrag=f=>this.D.on("mouseDragSeriesBackground",f),this.onSeriesBackgroundMouseDragStop=f=>this.D.on("mouseDragStopSeriesBackground",f),this.onSeriesBackgroundMouseWheel=f=>this.D.on("mouseWheelSeriesBackground",f),this.onSeriesBackgroundTouchStart=f=>this.D.on("touchStartSeriesBackground",f),this.onSeriesBackgroundTouchMove=f=>this.D.on("touchMoveSeriesBackground",f),this.onSeriesBackgroundTouchEnd=f=>this.D.on("touchEndSeriesBackground",f),this.offSeriesBackgroundMouseEnter=f=>this.D.off(f,"mouseEnterSeriesBackground"),this.offSeriesBackgroundMouseLeave=f=>this.D.off(f,"mouseLeaveSeriesBackground"),this.offSeriesBackgroundMouseMove=f=>this.D.off(f,"mouseMoveSeriesBackground"),this.offSeriesBackgroundMouseDown=f=>this.D.off(f,"mouseDownSeriesBackground"),this.offSeriesBackgroundMouseUp=f=>this.D.off(f,"mouseUpSeriesBackground"),this.offSeriesBackgroundMouseClick=f=>this.D.off(f,"mouseClickSeriesBackground"),this.offSeriesBackgroundMouseDoubleClick=f=>this.D.off(f,"mouseDoubleClickSeriesBackground"),this.offSeriesBackgroundMouseDragStart=f=>this.D.off(f,"mouseDragStartSeriesBackground"),this.offSeriesBackgroundMouseDrag=f=>this.D.off(f,"mouseDragSeriesBackground"),this.offSeriesBackgroundMouseDragStop=f=>this.D.off(f,"mouseDragStopSeriesBackground"),this.offSeriesBackgroundMouseWheel=f=>this.D.off(f,"mouseWheelSeriesBackground"),this.offSeriesBackgroundTouchStart=f=>this.D.off(f,"touchStartSeriesBackground"),this.offSeriesBackgroundTouchMove=f=>this.D.off(f,"touchMoveSeriesBackground"),this.offSeriesBackgroundTouchEnd=f=>this.D.off(f,"touchEndSeriesBackground"),this.kS=this.es.yg()}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.xS.forEach(e=>e.setAnimationHighlight(t)),this}TS(t,e){this.kS.fs([e]),t.setMouseMoveEventHandler((i,r)=>{this.D.emit("mouseMoveSeriesBackground",this,r)}).setMouseEnterEventHandler((i,r)=>{this.D.emit("mouseEnterSeriesBackground",this,r)}).setMouseLeaveEventHandler((i,r)=>{this.D.emit("mouseLeaveSeriesBackground",this,r)}).setMouseDownEventHandler((i,r)=>this.D.emit("mouseDownSeriesBackground",this,r)).setMouseUpEventHandler((i,r)=>this.D.emit("mouseUpSeriesBackground",this,r)).setMouseClickEventHandler((i,r)=>this.D.emit("mouseClickSeriesBackground",this,r)).setMouseDoubleClickEventHandler((i,r)=>this.D.emit("mouseDoubleClickSeriesBackground",this,r)).setMouseWheelEventHandler((i,r)=>this.D.emit("mouseWheelSeriesBackground",this,r)).setMouseDragStartEventHandler((i,r,n)=>this.D.emit("mouseDragStartSeriesBackground",this,r,n)).setMouseDragEventHandler((i,r,n,a,o)=>this.D.emit("mouseDragSeriesBackground",this,r,n,a,o)).setMouseDragStopEventHandler((i,r,n,a)=>this.D.emit("mouseDragStopSeriesBackground",this,r,n,a)).setTouchStartEventHandler((i,r)=>{this.D.emit("touchStartSeriesBackground",this,r)}).setTouchMoveEventHandler((i,r)=>{this.D.emit("touchMoveSeriesBackground",this,r)}).setTouchEndEventHandler((i,r)=>{this.D.emit("touchEndSeriesBackground",this,r)})}setSeriesBackgroundFillStyle(t){return this.FS.Ce(t),this.us.Ss(),this}getSeriesBackgroundFillStyle(){return this.FS.Eh()}setSeriesBackgroundStrokeStyle(t){return this.IS.we(t),this.us.Ss(),this}getSeriesBackgroundStrokeStyle(){return this.IS.ao()}setSeriesBackgroundEffect(t){return this.kS.ps(t),this.us.Ss(),this}getSeriesBackgroundEffect(){return this.kS.vs()}PS(t){this.xS.push(t),t.onMouseEnter(this.wS),t.onMouseLeave(this.CS),this.DS!==void 0&&t.setHighlightOnHover(this.DS),this.D.emit("seriesAdded",this,t)}Zd(){return this.xS}BS(){return this.MS}setSeriesHighlightOnHover(t){return this.DS=t,this.xS.forEach(e=>e.setHighlightOnHover(t)),this}dispose(){return this.xS.slice().forEach(Gh),super.dispose()}LS(t){return this.D.on("seriesAdded",t)}RS(t){return this.D.off(t)}ES(t){return this.D.on("seriesDispose",t)}zS(t){return this.D.off(t)}}const CR=gt.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081});class iz{constructor(t,e,i,r){this.VS=!0,this.OS=!0,this.NS=2*-Math.PI/2160,this.GS=2*Math.PI/2160,this.WS=.1,this.US=1*Math.PI/180,this.YS=t,this.HS=e,this.$S=i,this.Gp=r}getDefaultCameraConfiguration(t){const e={direction:CR,location:gt.multiply(CR,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:e.direction,cameraLocation:e.location})||e}applyCameraInteractions(t,e){let i={direction:t.cameraDirection,location:t.cameraLocation};return e.forEach(r=>{r.type==="rotate"?i=this.XS(i,r):r.type==="wheel-zoom"?i=this.jS(i,r):r.type==="rotate+zoom"?i=this.ZS(i,r):r.type==="fixed-rotate"?i=this.QS(i,r):r.type==="move"&&(i=this.JS(i,r))}),this.VS?i=this.KS(t.boundingBox,i):this.OS&&(i=this.qS(t.boundingBox,i)),i}XS(t,e){const{rotation:i}=e,r=t.location,n=gt.multiply(gt.normalize(t.location),-1),{Right:a,Up:o}=this.tv(n);let l=r;const u=this.sv(n),d=i.x*this.NS*u;l=gt.rotateAroundAxis(l,o,d);const f=(i.y>0?1:-1)*Math.min(Math.abs(i.y)*this.GS,u-this.US);return f!==0&&(l=gt.rotateAroundAxis(l,a,f)),{location:l,direction:gt.multiply(gt.normalize(l),-1)}}jS(t,e){const{deltaY:i}=e;this.VS&&this.ev(!1);const r=t.location,n=gt.multiply(gt.normalize(r),-1),a=i*this.WS,o=gt.length(r)*-a;return{direction:n,location:gt.addVec(r,gt.multiply(n,o))}}ZS(t,e){const{rotation:i,cameraDistance:r}=e;this.VS&&this.ev(!1);let n=this.XS(t,{type:"rotate",rotation:i});const a=n.location,o=gt.multiply(gt.normalize(a),-1),l=gt.multiply(o,-r);return n={direction:gt.multiply(gt.normalize(l),-1),location:l},n}QS(t,e){this.VS&&this.ev(!1);const{rotation:i}=e,r=t.location,n=t.direction,{Right:a,Up:o}=this.tv(n),l=i.x*this.NS;let u=gt.normalize(gt.rotateAroundAxis(n,o,l));const d=i.y*this.GS;return u=gt.normalize(gt.rotateAroundAxis(u,a,d)),{location:r,direction:u}}JS(t,e){this.VS&&this.ev(!1),this.OS=!1;const{amountRight:i,amountForward:r}=e,n=t.location,a=t.direction,{Right:o}=this.tv(a);return{location:gt.addVec(n,gt.multiply(a,.01*r),gt.multiply(o,.01*i)),direction:a}}boundingBoxChanged(t){const e={location:t.cameraLocation,direction:gt.multiply(gt.normalize(t.cameraLocation),-1)};return this.VS?this.KS(t.boundingBox,e):this.qS(t.boundingBox,e)}cameraLocationChanged(t){const e={location:t.cameraLocation,direction:gt.multiply(gt.normalize(t.cameraLocation),-1)};return this.VS?this.KS(t.boundingBox,e):this.qS(t.boundingBox,e)}viewportChanged(t){const e={location:t.cameraLocation,direction:gt.multiply(gt.normalize(t.cameraLocation),-1)};if(this.VS)return this.KS(t.boundingBox,e)}KS(t,e,i){let r=e;i=i!==void 0?i:0,r=this.hv(t,r,100,20,1,i,5);const n=this.sv(r.direction);return r=this.rv(r,this.nv(t,r,100,1),n),r}hv(t,e,i,r,n,a,o){return sz(a,o,l=>({direction:e.direction,location:gt.multiply(e.direction,-l)}),l=>this.ov(t,l),i,n,"linear",r)}nv(t,e,i,r){const{Right:n,Left:a,Up:o,Down:l}=this.tv(e.direction),u=this.av(t,!1,e);let d=e;const f=r,g=.1;return Math.abs(u.bottom-u.top)>f&&(d=u.bottom<u.top?I0(0,g,m=>({location:d.location,direction:gt.normalize(gt.lerp(d.direction,l,m))}),m=>this.lv(t,m),0,f,!0,i):I0(0,g,m=>({location:d.location,direction:gt.normalize(gt.lerp(d.direction,o,m))}),m=>this.lv(t,m),0,f,!0,i)),Math.abs(u.left-u.right)>f&&(d=u.left<u.right?I0(0,g,m=>({location:d.location,direction:gt.normalize(gt.lerp(d.direction,a,m))}),m=>this.uv(t,m),0,f,!0,i):I0(0,g,m=>({location:d.location,direction:gt.normalize(gt.lerp(d.direction,n,m))}),m=>this.uv(t,m),0,f,!0,i)),d}ov(t,e){const i=this.av(t,!0,e);return Math.min(i.left+i.right,i.top+i.bottom)}uv(t,e){const i=this.av(t,!1,e);return Math.abs(i.left-i.right)}lv(t,e){const i=this.av(t,!1,e);return Math.abs(i.top-i.bottom)}av(t,e,i){const r=ei(this.cv(t,e,i).map(n=>mt(n,this.YS,this.HS)));return{left:r.min.x,right:this.HS.x.getInnerEnd()-r.max.x,top:this.HS.y.getInnerEnd()-r.max.y,bottom:r.min.y}}cv(t,e,i){const r=this.$S,n=It(r.x.getInnerStart(),r.y.getInnerStart(),r.z.getInnerStart()),a=It(r.x.getInnerEnd(),r.y.getInnerEnd(),r.z.getInnerEnd()),o=[],l=e?16:4,u=(n.x+a.x)/2,d=(n.z+a.z)/2,f=Math.sqrt(2)*(a.x-u),g=Math.sqrt(2)*(a.z-d);return[n.y,a.y].forEach(m=>{for(let p=0;p<l;p+=1){const x=Math.PI/4+2*Math.PI*p/l,v=u+Math.cos(x)*f,A=d+Math.sin(x)*g;o.push({x:v,y:m,z:A})}}),o.map(m=>this.Gp(m,i)).filter(m=>m!==void 0)}qS(t,e){const i=gt.length(e.location),r=this.dv(t);return i<r?{direction:e.direction,location:gt.multiply(e.direction,-r)}:e}dv(t){return .8*Math.sqrt(t.x**2+t.y**2+t.z**2)}tv(t){const e=It(0,1,0),i=gt.normalize(gt.cross(e,gt.multiply(t,-1)));let r=gt.cross(i,t);return r.y=Math.abs(r.y),r=gt.normalize(r),{Right:i,Up:r,Down:gt.multiply(r,-1),Left:gt.multiply(i,-1)}}sv(t){const e={x:0,y:1,z:0},i=gt.angle(t,e),r=gt.angle(t,gt.multiply(e,-1));return Math.min(i,r)}rv(t,e,i){return{location:gt.lerp(t.location,e.location,i),direction:gt.normalize(gt.lerp(t.direction,e.direction,i))}}ev(t){return this.VS=t,this}fv(){return this.VS}}const sz=(s,t,e,i,r,n,a,o)=>{let l,u=0,d=(t+s)/2;do{const f=e(d);if(l={value:d,result:f,score:i(f)},Math.abs(l.score-r)<=n)break;const g=l.score>r;g&&a==="linear"||!g&&a==="reversed"?(d=(l.value+s)/2,t=l.value):(d=(l.value+t)/2,s=l.value),u+=1}while(u<o);return l.result},I0=(s,t,e,i,r,n,a,o)=>{let l,u=0,d=s;do{const f=e(d),g=i(f);if(l===void 0||Math.abs(g-r)<Math.abs(l.score-r)){if(l={value:d,result:f,score:i(f)},Math.abs(l.score-r)<=n)break}else break;u+=1,d+=1/(o-1)*(t-s)}while(u<o);return l.result};class rz extends Xu{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.xs="Surface Grid Series 3D",this.Av={},this.dS=!1,this.Gd=()=>os(this.be),this.qp=Ou;const o=(r==null?void 0:r.automaticColorIndex)!==void 0?r.automaticColorIndex:this.Ji.getSeries().length;this.be=re(this.qi.surfaceGridSeries3DFillStyle,o),this.gv=re(this.qi.surfaceGridSeries3DWireframeStyle,o);const l={heatmapDataType:"intensity",dataOrder:r.dataOrder||"columns",columns:r.columns,rows:r.rows};this.Un=l,this.Na=this.At.yv(l).Ce(this.be).mv(this.gv).rS(this.qp).cs(this.getHighlight()),this.ds(this.Na),r.start&&this.setStart(r.start),r.end&&this.setEnd(r.end),r.step&&this.setStep(r.step)}pv(){const t=this.Av.start||{x:0,z:0};let e;e=this.Av.end?{x:(this.Av.end.x-t.x)/this.Un.columns,z:(this.Av.end.z-t.z)/this.Un.rows}:this.Av.step?this.Av.step:{x:1,z:1},this.Na.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.Na.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.Na.vv().step}setEnd(t){return this.Av.end=t,this.pv(),this}getEnd(){return this.Na.vv().end}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Na.Ce(this.be),this.At.Ss(),this}getFillStyle(){return this.be}setWireframeStyle(t){return this.gv=typeof t=="function"?t(this.gv):t,this.Na.mv(this.gv),this.At.Ss(),this}getWireframeStyle(){return this.Na.bv()}setIntensityInterpolation(t){return t=t||"disabled",this.Na.xv(t),this.At.Ss(),this}getIntensityInterpolation(){return this.Na.Mv()}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(Dt.vf),Array.isArray(t)){if(t.length===0||t[0].length===0)return this;const e={x:t.length,y:t[0].length,columns:this.Un.dataOrder==="columns"?t.length:t[0].length,rows:this.Un.dataOrder==="rows"?t.length:t[0].length},i=this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows,r=this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns;if(e.x>i||e.y>r){if(this.Ji.cA.Hn===!0){const a=`SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.
    Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows}.
    Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(a)}const n=[];for(let a=0;a<i;a+=1)n[a]=t[a].slice(0,r);t=n}this.Na._v({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(t.values.length===0||t.values[0].length===0)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:this.Un.dataOrder==="columns"?t.values.length:t.values[0].length,rows:this.Un.dataOrder==="rows"?t.values.length:t.values[0].length};let i=this.Un.dataOrder==="columns"?t.iColumn:t.iRow;const r=i+e.primary-1;let n=this.Un.dataOrder==="columns"?t.iRow:t.iColumn;const a=n+e.secondary-1,o=(this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows)-1,l=(this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns)-1;if(i<0||n<0||r>o||a>l){if(this.Ji.cA.Hn===!0){const x=`SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.
    Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows} starting at [${t.iColumn},${t.iRow}].
    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(x)}const u=Math.max(-i,0),d=Math.max(-n,0),f=Math.max(r-o,0),g=Math.max(a-l,0),m=e.primary-(u+f),p=[];if(d===0&&g===0)for(let x=0;x<m;x+=1)p[x]=t.values[u+x];else for(let x=0;x<m;x+=1)p[x]=t.values[u+x].slice(d,g===0?void 0:-g);if(p.length===0||p[0].length===0)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:p},i=Math.max(i,0),n=Math.max(n,0)}this.Na._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.At.Ss(),this.dS=!0,this}invalidateHeightMap(t){if(this.dS&&this.Ji.us.Nn(Dt.vf),Array.isArray(t)){if(t.length===0||t[0].length===0)return this;const e={x:t.length,y:t[0].length,columns:this.Un.dataOrder==="columns"?t.length:t[0].length,rows:this.Un.dataOrder==="rows"?t.length:t[0].length},i=this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows,r=this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns;if(e.x>i||e.y>r){if(this.Ji.cA.Hn===!0){const a=`SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.
    Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows}.
    Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(a)}const n=[];for(let a=0;a<i;a+=1)n[a]=t[a].slice(0,r);t=n}this.Na.wv({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(t.values.length===0||t.values[0].length===0)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:this.Un.dataOrder==="columns"?t.values.length:t.values[0].length,rows:this.Un.dataOrder==="rows"?t.values.length:t.values[0].length};let i=this.Un.dataOrder==="columns"?t.iColumn:t.iRow;const r=i+e.primary-1;let n=this.Un.dataOrder==="columns"?t.iRow:t.iColumn;const a=n+e.secondary-1,o=(this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows)-1,l=(this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns)-1;if(i<0||n<0||r>o||a>l){if(this.Ji.cA.Hn===!0){const x=`SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.
    Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows} starting at [${t.iColumn},${t.iRow}].
    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(x)}const u=Math.max(-i,0),d=Math.max(-n,0),f=Math.max(r-o,0),g=Math.max(a-l,0),m=e.primary-(u+f),p=[];if(d===0&&g===0)for(let x=0;x<m;x+=1)p[x]=t.values[u+x];else for(let x=0;x<m;x+=1)p[x]=t.values[u+x].slice(d,g===0?void 0:-g);if(p.length===0||p[0].length===0)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:p},i=Math.max(i,0),n=Math.max(n,0)}this.Na.wv({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.At.Ss(),this.dS=!0,this}setCullMode(t){return this.Na.Cv(typeof t=="boolean"?t?"cull-back":"disabled":t),this}getCullMode(){return this.Na.kv()}oS(){}Te(){}dp(){}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}}class nz extends Xu{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.xs="Surface Grid Series 3D",this.Av={},this.Gd=()=>os(this.be),this.Ji.us.Nn(Dt.vf),this.qp=Ou;const o=(r==null?void 0:r.automaticColorIndex)!==void 0?r.automaticColorIndex:this.Ji.getSeries().length;this.be=re(this.qi.surfaceScrollingGridSeries3DFillStyle,o),this.gv=re(this.qi.surfaceScrollingGridSeries3DWireframeStyle,o);const l={heatmapDataType:"intensity",scrollDimension:r.scrollDimension||"columns",columns:r.columns,rows:r.rows};this.Un=l,this.Na=this.At.Tv(l).Ce(this.be).mv(this.gv).rS(this.qp).cs(this.getHighlight()),this.ds(this.Na),r.start&&this.setStart(r.start),r.step&&this.setStep(r.step)}pv(){const t=this.Av.start||{x:0,z:0};let e;e=this.Av.step?this.Av.step:{x:1,z:1},this.Na.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.Na.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.Na.vv().step}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Na.Ce(this.be),this.At.Ss(),this}getFillStyle(){return this.be}setWireframeStyle(t){return this.gv=typeof t=="function"?t(this.gv):t,this.Na.mv(this.gv),this.At.Ss(),this}getWireframeStyle(){return this.Na.bv()}setIntensityInterpolation(t){return t=t||"disabled",this.Na.xv(t),this.At.Ss(),this}getIntensityInterpolation(){return this.Na.Mv()}clear(){return this.Na.Nt(),this.At.Ss(),this}addValues(t){if(!t)return this;let e=t.yValues,i=t.intensityValues;if(!e&&!i)return this;if(e&&e.length===0&&(e=void 0),i&&i.length===0&&(i=void 0),e){const a=e[0].length,o=0+a-1,l=this.Un.scrollDimension==="columns"?this.Un.rows:this.Un.columns;if(o>l-1){if(this.Ji.cA.Hn===!0){const d=`SurfaceScrollingGridSeries3D.addValues input yValues overflow.
Grid was created with ${l} ${this.Un.scrollDimension==="columns"?"rows":"columns"}, input yValues have ${a}.
Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(d)}const u=[];for(let d=0;d<e.length;d+=1)u[d]=e[d].slice(0,l+1);e=u}}if(i){const a=i[0].length,o=0+a-1,l=this.Un.scrollDimension==="columns"?this.Un.rows:this.Un.columns;if(o>l-1){if(this.Ji.cA.Hn===!0){const d=`SurfaceScrollingGridSeries3D.addValues intensityValues overflow.
Grid was created with ${l} ${this.Un.scrollDimension==="columns"?"rows":"columns"}, input intensityValues have ${a}.
Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(d)}const u=[];for(let d=0;d<i.length;d+=1)u[d]=i[d].slice(0,l+1);i=u}}if(e&&i){const a=e.length,o=i.length;if(a!==o){if(this.Ji.cA.Hn===!0){const l=`SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.
yValues: ${a}
intensityValues: ${o}
Data will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance.`;ht.console.warn(l)}a>o?e=e.slice(0,o):i=i.slice(0,a)}}const r=e?e.length:i==null?void 0:i.length,n=e?e[0].length:i==null?void 0:i[0].length;return this.Na.Fv({startPrimary:0,startSecondary:0,lengthPrimary:r,lengthSecondary:n,heightMapValues:e,intensityValues:i}),this.At.Ss(),this}setCullMode(t){return this.Na.Cv(typeof t=="boolean"?t?"cull-back":"disabled":t),this}getCullMode(){return this.Na.kv()}oS(){}Te(){}dp(){}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}}const U0=s=>!!(s&&typeof s=="object"&&"id"in s&&"chart"in s&&s.chart instanceof WA),kR=s=>!!(s&&typeof s=="object"&&"x"in s&&typeof s.x=="number"&&"y"in s&&typeof s.y=="number"&&"z"in s&&typeof s.z=="number"),Pe={translation:(s,t,e)=>[1,0,0,0,0,1,0,0,0,0,1,0,s,t,e,1],xRotation(s){const t=Math.cos(s),e=Math.sin(s);return[1,0,0,0,0,t,e,0,0,-e,t,0,0,0,0,1]},yRotation(s){const t=Math.cos(s),e=Math.sin(s);return[t,0,-e,0,0,1,0,0,e,0,t,0,0,0,0,1]},zRotation(s){const t=Math.cos(s),e=Math.sin(s);return[t,e,0,0,-e,t,0,0,0,0,1,0,0,0,0,1]},scaling:(s,t,e)=>[s,0,0,0,0,t,0,0,0,0,e,0,0,0,0,1],translate:(s,t,e,i)=>Pe.multiply(s,Pe.translation(t,e,i)),xRotate:(s,t)=>Pe.multiply(s,Pe.xRotation(t)),yRotate:(s,t)=>Pe.multiply(s,Pe.yRotation(t)),zRotate:(s,t)=>Pe.multiply(s,Pe.zRotation(t)),rotateXYZ(s,t){let e=Pe.xRotate(s,t.x);return e=Pe.yRotate(e,t.y),e=Pe.zRotate(e,t.z),e},scale:(s,t,e,i)=>Pe.multiply(s,Pe.scaling(t,e,i)),multiply(s,t){const e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],l=t[6],u=t[7],d=t[8],f=t[9],g=t[10],m=t[11],p=t[12],x=t[13],v=t[14],A=t[15],E=s[0],T=s[1],F=s[2],D=s[3],N=s[4],V=s[5],P=s[6],b=s[7],M=s[8],w=s[9],C=s[10],k=s[11],z=s[12],H=s[13],B=s[14],U=s[15],O=[];return O[0]=e*E+i*N+r*M+n*z,O[1]=e*T+i*V+r*w+n*H,O[2]=e*F+i*P+r*C+n*B,O[3]=e*D+i*b+r*k+n*U,O[4]=a*E+o*N+l*M+u*z,O[5]=a*T+o*V+l*w+u*H,O[6]=a*F+o*P+l*C+u*B,O[7]=a*D+o*b+l*k+u*U,O[8]=d*E+f*N+g*M+m*z,O[9]=d*T+f*V+g*w+m*H,O[10]=d*F+f*P+g*C+m*B,O[11]=d*D+f*b+g*k+m*U,O[12]=p*E+x*N+v*M+A*z,O[13]=p*T+x*V+v*w+A*H,O[14]=p*F+x*P+v*C+A*B,O[15]=p*D+x*b+v*k+A*U,O},inverse(s){const t=[],e=s[0],i=s[1],r=s[2],n=s[3],a=s[4],o=s[5],l=s[6],u=s[7],d=s[8],f=s[9],g=s[10],m=s[11],p=s[12],x=s[13],v=s[14],A=s[15],E=g*A,T=v*m,F=l*A,D=v*u,N=l*m,V=g*u,P=r*A,b=v*n,M=r*m,w=g*n,C=r*u,k=l*n,z=d*x,H=p*f,B=a*x,U=p*o,O=a*f,W=d*o,I=e*x,X=p*i,j=e*f,Q=d*i,J=e*o,st=a*i,nt=E*o+D*f+N*x-(T*o+F*f+V*x),ct=T*i+P*f+w*x-(E*i+b*f+M*x),dt=F*i+b*o+C*x-(D*i+P*o+k*x),Tt=V*i+M*o+k*f-(N*i+w*o+C*f),At=1/(e*nt+a*ct+d*dt+p*Tt);return t[0]=At*nt,t[1]=At*ct,t[2]=At*dt,t[3]=At*Tt,t[4]=At*(T*a+F*d+V*p-(E*a+D*d+N*p)),t[5]=At*(E*e+b*d+M*p-(T*e+P*d+w*p)),t[6]=At*(D*e+P*a+k*p-(F*e+b*a+C*p)),t[7]=At*(N*e+w*a+C*d-(V*e+M*a+k*d)),t[8]=At*(z*u+U*m+O*A-(H*u+B*m+W*A)),t[9]=At*(H*n+I*m+Q*A-(z*n+X*m+j*A)),t[10]=At*(B*n+X*u+J*A-(U*n+I*u+st*A)),t[11]=At*(W*n+j*u+st*m-(O*n+Q*u+J*m)),t[12]=At*(B*g+W*v+H*l-(O*v+z*l+U*g)),t[13]=At*(j*v+z*r+X*g-(I*g+Q*v+H*r)),t[14]=At*(I*l+st*v+U*r-(J*v+B*r+X*l)),t[15]=At*(J*g+O*r+Q*l-(j*l+st*g+W*r)),t},projectionPerspective(s,t,e,i){const r=1/Math.tan(s*Math.PI/180/2),n=1/(e-i);return[r/t,0,0,0,0,r,0,0,0,0,(e+i)*n,-1,0,0,e*i*n*2,0]},projectionOrthographic:(s,t,e,i,r,n)=>[2/(t-s),0,0,-(t+s)/(t-s),0,2/(i-e),0,-(i+e)/(i-e),0,0,-2/(n-r),-(n+r)/(n-r),0,0,0,1]};class az extends Xu{constructor(t,e,i,r,n,a){super(t,e,i,r,a),this.xs="Mesh Model 3D",this.Iv=new Float32Array,this.dt={x:1,y:1,z:1},this.Pv={x:0,y:0,z:0},this.Dv={x:0,y:0,z:0},this.Bv={x:0,y:0,z:0},this.Lv={x:0,y:0,z:0},this.Ya=Ir,this.Gd=()=>os(this.getFillStyle());const o=(n==null?void 0:n.automaticColorIndex)!==void 0?n.automaticColorIndex:this.Ji.getSeries().length;this.Na=this.At.Rv().nS(this.iS).Ce(re(this.qi.meshModel3DFillStyle||this.qi.pointSeriesFillStyle,o)).cs(this.getHighlight()),this.ds(this.Na)}setModelGeometry(t){const{indices:e,vertices:i,normals:r}=t;let n=Ft,a=Rt,o=Ft,l=Rt,u=Ft,d=Rt;for(let f=0;f<i.length;f+=3){const g=i[f],m=i[f+1],p=i[f+2];n=Math.max(n,g),a=Math.min(a,g),o=Math.max(o,m),l=Math.min(l,m),u=Math.max(u,p),d=Math.min(d,p)}this.Ya={min:{x:a,y:l,z:d},max:{x:n,y:o,z:u}};for(let f=0;f<i.length;f+=3)i[f]-=this.Ya.min.x,i[f+1]-=this.Ya.min.y,i[f+2]-=this.Ya.min.z;return this.Lv={x:this.Ya.max.x-this.Ya.min.x,y:this.Ya.max.y-this.Ya.min.y,z:this.Ya.max.z-this.Ya.min.z},this.Iv=i instanceof Float32Array?i:new Float32Array(i),this.checkedNormals=r&&!Number.isNaN(r[0])?r instanceof Float32Array?r:new Float32Array(r):void 0,this.checkedNormals||this.setColorShadingStyle(Ou),this.Na.Ev({vertices:this.Iv,normals:this.checkedNormals,indices:e instanceof Uint16Array?e:new Uint16Array(e),modelSize:this.Lv}),this.Ji.us.Ss(),this}setVertexValues(t){const e=this.Dv,i=this.Pv,r=this.dt,n=this.Lv,a=this.Bv,o=F_(e,this.Ji.axes,this.Ji.world);let l;if(this.zv)l=t(this.zv);else{const u=[],d=Pe.projectionOrthographic(-1,1,-1,1,1,-1);let f=Pe.translate(d,n.x/2,n.y/2,n.z/2);f=Pe.rotateXYZ(f,a),f=Pe.translate(f,-n.x/2,-n.y/2,-n.z/2);const g=(i.x+1)*(n.x/2),m=(i.y+1)*(n.y/2),p=(i.z+1)*(n.z/2);for(let x=0;x<this.Iv.length;x+=3){const v=Pe.multiply(f,[this.Iv[x],this.Iv[x+1],this.Iv[x+2],1]),A={x:o.x+(v[0]-g)*r.x,y:o.y+(v[1]-m)*r.y,z:o.z+(v[2]-p)*r.z};u.push(A)}this.zv=u,l=t(u)}return l.length===0||(l.length!==this.zv.length&&this.Ji.us.Un.Hn===!0&&ht.console.warn(`LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.
This is most likely an application error.`),this.Na.Vv(l instanceof Float32Array?l:new Float32Array(l)),this.Ji.us.Ss()),this}setScale(t){const e={x:typeof t=="number"?t:(t==null?void 0:t.x)||1,y:typeof t=="number"?t:(t==null?void 0:t.y)||1,z:typeof t=="number"?t:(t==null?void 0:t.z)||1};return this.dt=e,this.zv=void 0,this.Na.Ov(e),this.Ji.us.Ss(),this}getScale(){return this.dt}setModelLocation(t){return this.Dv=t,this.zv=void 0,this.Na.Nv(t),this.Ji.us.Ss(),this}getModelLocation(){return this.Dv}setModelAlignment(t){return this.Pv=t,this.zv=void 0,this.Na.Gv(t),this.Ji.us.Ss(),this}getModelAlignment(){return this.Pv}setModelRotation(t){const e={x:Ur(t.x),y:Ur(t.y),z:Ur(t.z)};return this.Bv=e,this.zv=void 0,this.Na.Wv(this.Bv),this.Ji.us.Ss(),this}getModelRotation(){return this.Bv}setBackfaceCullingMode(t){return this.Na.Uv(t),this.Ji.us.Ss(),this}getBackfaceCullingMode(){return this.Na.Yv()}setFillStyle(t){return this.Na.Ce(t),this.Ji.us.Ss(),this}getFillStyle(){return this.Na.Eh()}setColorShadingStyle(t){return this.checkedNormals||t!==Gu?super.setColorShadingStyle(t):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),super.setColorShadingStyle(new iV.Simple))}Kp(){return!1}Ie(t,e){t.cs(e),this.Ji.us.Ss()}attach(t,e=!0,i=!1){return super.attach(t,e),oi(t,this.qi,i,{fill:this.getFillStyle()}),this}}class WA extends sf{constructor(t,e,i,r,n,a,o){var l;let u;super(t,e,i,e.vm("chart3D bg",0),r,e.us.qi.chart3DBackgroundFillStyle,e.us.qi.chart3DBackgroundStrokeStyle,e.us.qi.chart3DTitleFont,e.us.qi.chart3DTitleFillStyle,a),this.Hv=1,this.$v=[],this.Xv=2,this.jv=!0,this.Zv=!0,this.Qv=!0,this.Jv=0,this.coordsAxis={id:"axes",chart:this},this.coordsWorld={id:"world",chart:this},this.axes={id:"axes",chart:this},this.world={id:"world",chart:this},this.an=[],this.fn=()=>{const d=this.At.Kv();this.tb.qv(d),this.ib.qv(d);const f=this.sb.viewportChanged(this.eb());f&&this.hb(f),this.us.Ss()},this.eS=(d,f,g,m,p)=>{if(this.Qv){const x=p;this.$v.push({type:"rotate",rotation:x}),this.us.Ss(),vt(f)}},this.sS=(d,f)=>{if(this.Zv){if(this.jv)Math.sign(this.Jv)!==Math.sign(f.deltaY)?this.Jv=Qo(f):this.Jv+=Qo(f);else{const g=Qo(f);this.$v.push({type:"wheel-zoom",deltaY:g})}this.us.Ss(),vt(f)}},this.us.Nn(Dt.df),this._m.Rh("Chart3D"),this.rb=i.d3(),this.rb.x.J(-1,1),this.rb.y.J(-1,1),this.rb.z.J(-1,1),this.At=e.nb("chart3D layer3D",0,this.rb),this.tb=e.ob("chart3D series bg",0),this.ib=e.$y("chart3D axis ui",1),this.ab={x:new xS(this,(l=()=>this.xS,{...Hu(l,d=>d.getXMin(),d=>d.getXMax(),d=>d.br().x),Cp:d=>d.x,Hp:(d,f)=>({x:d.x,y:f.y,z:f.z}),Jd:It(0,-1,0),$p:d=>{const f={x:d.x>=0?1:-1,y:d.y>=0?1:-1,z:d.z>=0?1:-1};return{gridlinePositionA:It(0,f.y,f.z),gridlinePositionB:It(0,f.y,-f.z),gridlinePositionC:It(0,-f.y,-f.z)}},Zp:()=>!0,Qp:()=>!1,Yp:()=>!1}),this.rb.x,this.qi,this.At,this.ib,this.pixelScale,!1,this.es),y:new xS(this,qV(()=>this.xS),this.rb.y,this.qi,this.At,this.ib,this.pixelScale,!1,this.es),z:new xS(this,JV(()=>this.xS),this.rb.z,this.qi,this.At,this.ib,this.pixelScale,!1,this.es)},this.lb=this.At.rp([Jr.InternalUI]).setMouseInteractions(!1),this.setBoundingBoxStrokeStyle(this.qi.chart3DBoundingBoxStrokeStyle),this.FS=this.tb.ic(this.engine.scale,jr.Simple).Ce(this.qi.chart3DSeriesBackgroundFillStyle).we(bt).setMouseInteractions(!0),this.IS=this.tb.ic(this.engine.scale,jr.Simple).Ce(Nt).we(this.qi.chart3DSeriesBackgroundStrokeStyle).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.ub({x:1,y:1,z:1},!0),this.sb=new iz(this.engine.scale,this.pixelScale,this.rb,(d,f)=>(f&&this.hb(f),this.At.Gp(d))),this.cb=this.sb.getDefaultCameraConfiguration(this.fb(this.Ab)),this.hb(this.cb),this.hS=tr(new CA((d,f,g)=>{u={locationOne:f,locationTwo:g,cameraLocation:this.At.getCameraLocation()}},(d,f,g,m,p,x)=>{if(!this.Qv&&!this.Zv)return;const v=(u.locationOne.x-u.locationTwo.x)**2+(u.locationOne.y-u.locationTwo.y)**2,A=(f.x-g.x)**2+(f.y-g.y)**2,E=gt.length(u.cameraLocation),T=v/A*E,F=Y((m.x+p.x)/2,(m.y+p.y)/2);this.$v.push({type:"rotate+zoom",rotation:this.Qv?F:{x:0,y:0},cameraDistance:this.Zv?T:E}),this.us.Ss(),vt(x)},d=>{}),new Xr(d=>{},(d,f,g,m,p)=>{if(this.Qv){const x=m;this.$v.push({type:"rotate",rotation:x}),this.us.Ss(),vt(p)}},d=>{})),this.onBackgroundTouchStart(this.hS.onTouchStart),this.onBackgroundTouchMove(this.hS.onTouchMove),this.onBackgroundTouchEnd(this.hS.onTouchEnd),this.onSeriesBackgroundTouchStart(this.hS.onTouchStart),this.onSeriesBackgroundTouchMove(this.hS.onTouchMove),this.onSeriesBackgroundTouchEnd(this.hS.onTouchEnd),this.onBackgroundMouseDrag(this.eS),this.onBackgroundMouseWheel(this.sS),this.onBackgroundMouseDown((d,f)=>{vt(f)}),this.onSeriesBackgroundMouseDrag(this.eS),this.onSeriesBackgroundMouseWheel(this.sS),this.onSeriesBackgroundMouseDown((d,f)=>{vt(f)}),this.setAnimationsEnabled((o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1),this.onResize(this.fn),this.fn(),this.Sm(n,this.pixelScale)}addPointSeries(t){const e=new(t&&t.type||ez)(this,this._S,this.At,this.qi,this.us.es,t);return this.PS(e),e}addLineSeries(t){const e=new QV(this,this._S,this.At,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointLineSeries(t){const e=new KV(this,this._S,this.At,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addSurfaceGridSeries(t){const e=new rz(this,this._S,this.At,t,this.qi,this.us.es);return this.PS(e),e}addSurfaceScrollingGridSeries(t){const e=new nz(this,this._S,this.At,t,this.qi,this.us.es);return this.PS(e),e}addBoxSeries(t){const e=new ZV(this,this._S,this.At,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addMeshModel(t){const e=new az(this,this._S,this.At,this.qi,t,this.us.es);return this.PS(e),e}translateCoordinate(t,e,i){if(U0(e)||U0(i)||kR(t)){if(U0(e)&&U0(i)&&kR(t)){if(e.id==="axes"&&i.id==="world")return this.At.ft(t);if(e.id==="world"&&i.id==="axes")return this.At.yt(t);if(e.id===i.id)return t}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return Sy(t,e,i,this.pixelScale,this.us)}getDefaultAxisX(){return this.ab.x}getDefaultAxisY(){return this.ab.y}getDefaultAxisZ(){return this.ab.z}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}get axisZ(){return this.getDefaultAxisZ()}get zAxis(){return this.getDefaultAxisZ()}getDefaultAxes(){return[this.ab.x,this.ab.y,this.ab.z]}setCameraLocation(t){let e={location:t,direction:gt.normalize(gt.multiply(t,-1))};const i=this.sb.cameraLocationChanged(this.eb(e));return i&&(e=i),this.hb(e),this.us.Ss(),this}getCameraLocation(){return this.At.getCameraLocation()}getCameraDirection(){return this.At.getCameraDirection()}setCameraAutomaticFittingEnabled(t){this.sb.ev(t);const e=this.sb.cameraLocationChanged(this.eb());return e&&this.hb(e),this}getCameraAutomaticFittingEnabled(){return this.sb.fv()}onCameraChange(t){return this.D.on("cameraChange",t)}offCameraChange(t){return this.D.off(t,"cameraChange")}setBoundingBoxStrokeStyle(t){return this.lb.Re(t).Rp(ux(this.lb.uu())),this.At.Ss(),this}getBoundingBoxStrokeStyle(){return this.lb.uu()}setBoundingBox(t){return this.ub(t,!1),this}ub(t,e){this.Ab=t;const i=this.fb(t);if(this.rb.x.q(i.x),this.rb.y.q(i.y),this.rb.z.q(-i.z),!e){const r=this.sb.boundingBoxChanged(this.eb());r&&this.hb(r)}this.us.Ss()}getBoundingBox(){return this.Ab}Te(t){if(ys.Fm(this._m,this.bm),this.Jv!==0){const f=this.Jv*t*.006;this.$v.push({type:"wheel-zoom",deltaY:f}),this.Jv=Math.sign(this.Jv)*Math.max(Math.abs(this.Jv)-.01*t,0),this.Jv!==0&&this.us.Ss(!0)}const e=this.getCameraDirection();if(this.$v.length>0){const f=this.sb.applyCameraInteractions(this.eb(),this.$v);f&&this.hb(f),this.$v.length=0}this.gb&&gt.equals(this.gb.location,this.cb.location)&&gt.equals(this.gb.direction,this.cb.direction)||this.D.emit("cameraChange",this,this.getCameraLocation()),this.gb=this.cb,super.Te(t);for(let f=0;f<this.xS.length;f+=1)this.xS[f].oS();for(let f=0;f<this.xS.length;f+=1)this.xS[f].Te();this.ab.x.Mr(),this.ab.y.Mr(),this.ab.z.Mr(),this.ab.x.Te(e),this.ab.y.Te(e),this.ab.z.Te(e),super.pm();const i=this.rb,r=It(i.x.getInnerStart(),i.y.getInnerStart(),i.z.getInnerStart()),n=It(i.x.getInnerEnd(),i.y.getInnerEnd(),i.z.getInnerEnd());this.lb.Nt().nl([It(n.x,r.y,r.z),It(n.x,n.y,r.z),It(n.x,n.y,n.z),It(n.x,r.y,n.z),It(r.x,r.y,n.z),It(r.x,n.y,n.z),It(n.x,n.y,n.z),It(n.x,n.y,r.z),It(r.x,n.y,r.z),It(r.x,n.y,n.z),It(r.x,r.y,n.z),It(r.x,r.y,r.z)]);const a=[It(r.x,r.y,r.z),It(n.x,r.y,r.z),It(r.x,n.y,r.z),It(n.x,n.y,r.z),It(r.x,r.y,n.z),It(n.x,r.y,n.z),It(r.x,n.y,n.z),It(n.x,n.y,n.z)].map(f=>this.At.Gp(f)),o=this.At.Gp(It((r.x+n.x)/2,(r.y+n.y)/2,(r.z+n.z)/2)),l=tR(a,o),u=[];for(let f=0;f<l.length;f+=1){const g=l[f];U_(g,o,l[f>0?f-1:l.length-1],l[f<l.length-1?f+1:0])||u.push(g)}const d=tR(u,o);this.FS.pl(d),this.IS.pl(d);for(let f=0;f<this.xS.length;f+=1)this.xS[f].dp()}dispose(){return this.an.forEach(t=>{t()}),this.an.length=0,this.rb.W(),this.At.W(),this.ib.W(),this.tb.W(),super.dispose()}j(){return this.rb.x.j(),this.rb.y.j(),this.rb.z.j(),super.j()}Z(){return super.Z()}hb(t){this.At.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(gt.addVec(t.location,gt.multiply(t.direction,-this.Xv))),this.cb=t,this.us.Ss()}fb(t){return gt.divide(t,gt.length(t)/this.Hv)}eb(t=this.cb){return{boundingBox:this.fb(this.Ab),cameraLocation:t.location,cameraDirection:t.direction}}setMouseInteractions(t){return this.setMouseInteractionZoom(t).setMouseInteractionRotate(t)}setMouseInteractionZoom(t){return this.Zv=t,this}getMouseInteractionZoom(){return this.Zv}setMouseInteractionRotate(t){return this.Qv=t,this}getMouseInteractionRotate(){return this.Qv}forEachAxis(t){return t(this.ab.x),t(this.ab.y),t(this.ab.z),this}getSeries(){return this.xS}getMinimumSize(){}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationZoom(t),this.forEachAxis(e=>e.setAnimationsEnabled(t)),this}setAnimationZoom(t){return this.jv=!!t,this}getAnimationZoom(){return this.jv}}const oz={Row:tf};class hz extends IA{constructor(t,e,i,r,n,a){super(t,e,i,r,n,a),this.mb=new Map,this.yb=this.addUIElement(oz.Row).setPosition({x:0,y:100}).setOrigin(Au.LeftTop).setBackground(o=>o.setFillStyle(Nt).setStrokeStyle(bt))}add(t,e){return(t instanceof An?[t]:t instanceof w5?t.getCells().filter(i=>i.panel instanceof An).map(i=>i.panel):[]).forEach(i=>{const r=this.yb.addElement(AV.VerticalLegendBox).setBackground(n=>n.setFillStyle(Nt).setStrokeStyle(bt)).add(i,e).setTitle(i.getTitle());this.mb.set(i,r)}),this.us.Ss(),this}setLegendBoxes(t){return this.mb.forEach((e,i)=>t(e,i)),this}getMinimumSize(){return super.getMinimumSize()||this.yb.getSize()}}const ln={World:"World",USA:"USA",NorthAmerica:"NorthAmerica",SouthAmerica:"SouthAmerica",Canada:"Canada",Europe:"Europe",Asia:"Asia",Africa:"Africa",Australia:"Australia"},lz=(s,t)=>!(!t.name||s.name.toLowerCase()!==t.name.toLowerCase())||"ISO_A3"in s&&"ISO_A3"in t&&s.ISO_A3.toLowerCase()===t.ISO_A3.toLowerCase(),uz=(s,t)=>{let e=t.geometry;return e=cz(s,t,e),e=dz(s,t,e),e},cz=(s,t,e)=>{if(s===ln.Asia){const i=[];for(let r=0;r<e.length;r+=1){i[r]=[];const n=e[r],a=i[r];for(let o=0;o<n.length;o+=1){const l=n[o];l.x<-100?a[o]={x:l.x+360,y:l.y}:a[o]=l}}return i}return e},dz=(s,t,e)=>{const i=t.name.toLowerCase();let r;if(s===ln.USA&&(i==="alaska"?r={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:i==="hawaii"&&(r={translate:{x:48,y:7},scale:{x:1,y:1}})),r){const{translate:n,scale:a}=r,o=ei(xg(e)),l=[];for(let u=0;u<e.length;u+=1){l[u]=[];const d=e[u],f=l[u];for(let g=0;g<d.length;g+=1){const m=d[g];let p=m.x;i==="alaska"&&Math.sign(p)===1&&(p=-180-(180-p)),f[g]={x:n.x+(p-o.min.x)*a.x+o.min.x,y:n.y+(m.y-o.min.y)*a.y+o.min.y}}}return t.outlier=!0,t.transform={...r,vertexBoundaries:o},l}return e},fz={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},gz={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12};class s5 extends An{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("mapChart bg",0),r,e.us.qi.mapChartBackgroundFillStyle,e.us.qi.mapChartBackgroundStrokeStyle,e.us.qi.mapChartTitleFont,e.us.qi.mapChartTitleFillStyle,o),this.pb=[],this.dt=this.sm.d2({scaleXYConstructor:Me}),this.Yi=!0,this.Sb=this.qi.mapChartSeparateRegionFillStyle,this.vb=this.qi.mapChartSeparateRegionStrokeStyle,this.bb=Ze.onHover,this.Wy=yz,this.th=!0,this.xb=0,this.Mb=!0,this._b=new Map,this.onMouseEnter=d=>this.D.on("mouseEnter",d),this.onMouseLeave=d=>this.D.on("mouseLeave",d),this.onMouseClick=d=>this.D.on("mouseClick",d),this.onMouseDoubleClick=d=>this.D.on("mouseDoubleClick",d),this.onMouseDown=d=>this.D.on("mouseDown",d),this.onMouseUp=d=>this.D.on("mouseUp",d),this.onMouseMove=d=>this.D.on("mouseMove",d),this.offMouseEnter=d=>this.D.off(d,"mouseEnter"),this.offMouseLeave=d=>this.D.off(d,"mouseLeave"),this.offMouseClick=d=>this.D.off(d,"mouseClick"),this.offMouseDoubleClick=d=>this.D.off(d,"mouseDoubleClick"),this.offMouseDown=d=>this.D.off(d,"mouseDown"),this.offMouseUp=d=>this.D.off(d,"mouseUp"),this.offMouseMove=d=>this.D.off(d,"mouseMove"),this.offMouseDragStart=d=>this.D.off(d,"mouseDragStart"),this.offMouseDrag=d=>this.D.off(d,"mouseDrag"),this.offMouseDragStop=d=>this.D.off(d,"mouseDragStop"),this.offMouseWheel=d=>this.D.off(d,"mouseWheel"),this.onMapDataReady=d=>{const f=this.D.on("mapDataReady",d);return this.wb&&ht.setTimeout(()=>d()),f},this.onViewChange=d=>this.D.on("viewChange",d),this.Cb=(d,f,g,m,p)=>{this.dt.x.q(m).si([this.Xt.left+this.ya.left,this.Xt.right+this.ya.right]),this.dt.y.q(p).si([this.Xt.bottom+this.ya.bottom,this.Xt.top+this.ya.top+ys.Tm(this._m,this.bm)]),this.kb&&this.Tb(this.Fb,this.dt,this.kb)},this.wt=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.bb!==Ze.disabled&&(this.Pb(p,m),vt(d)),this.Mb&&this.us.ls.Ms(p,!0),this.Db=p,this.D.emit("mouseEnter",this,d)},this.Ct=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.Bb(p,m),this.Mb&&this.us.ls.Ms(p,!1),this.Db=void 0,this.D.emit("mouseLeave",this,d),d&&vt(d)},this.Pt=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.bb!==Ze.disabled&&(this.Pb(p,m),vt(d)),this.Db=p,this.D.emit("mouseMove",this,d)},this.kt=(d,f)=>this.D.emit("mouseClick",this,d),this.Tt=(d,f)=>this.D.emit("mouseDoubleClick",this,d),this.Ft=(d,f)=>this.D.emit("mouseDown",this,d),this.It=(d,f)=>this.D.emit("mouseUp",this,d),this.Bt=(d,f,g)=>{this.D.emit("mouseDragStart",this,d,f)},this.Dt=(d,f,g,m,p)=>{this.D.emit("mouseDrag",this,d,f,g,m)},this.Lt=(d,f,g,m)=>{this.D.emit("mouseDragStop",this,d,f,g)},this.Rt=(d,f)=>{this.D.emit("mouseWheel",this,d)},this.Et=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.Lb=this.engine.clientLocation2Engine(d.clientX,d.clientY),this.Pb(p,m),this.Mb&&this.us.ls.Ms(p,!0),this.Db=p,this.D.emit("touchStart",this,d),vt(d)},this.zt=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.Lb=this.engine.clientLocation2Engine(d.clientX,d.clientY),this.Pb(p,m),this.Db=p,this.D.emit("touchMove",this,d),vt(d)},this.Vt=(d,f)=>{const g=f;if(!g||!this.wb)return;const{iRegion:m,region:p}=this.Ib(this.wb,g);this.Lb=void 0,this.Bb(p,m),this.Mb&&this.us.ls.Ms(p,!1),this.Db=void 0,this.D.emit("touchEnd",this,d),vt(d)},this.us.Nn(Dt.Af),this.th=(a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1,this.Rb=e.$y("mapChart plotting",0),this.onResize(this.Cb),this._m.Rh("Map Chart");const l=Ne(a?a.autoCursorBuilder:void 0,t5);this.Eb=l.Ay(e.Zy(),this.dt,this.dt,this.qi).setVisible(!1),this.zb=this.es.yg(),this.Sm(n,this.uiScale),this.Vb=this.Rb.Ob(this.dt).setMouseInteractions(this.Yi).setMouseEnterEventHandler((d,f,g)=>this.wt(f,g)).setMouseLeaveEventHandler((d,f,g)=>this.Ct(f,g)).setMouseClickEventHandler((d,f,g)=>this.kt(f,g)).setMouseDoubleClickEventHandler((d,f,g)=>this.Tt(f,g)).setMouseDownEventHandler((d,f,g)=>this.Ft(f,g)).setMouseUpEventHandler((d,f,g)=>this.It(f,g)).setMouseMoveEventHandler((d,f,g)=>this.Pt(f,g)).setMouseDragStartEventHandler((d,f,g,m)=>this.Bt(f,g,m)).setMouseDragEventHandler((d,f,g,m,p,x)=>this.Dt(f,g,m,p,x)).setMouseDragStopEventHandler((d,f,g,m,p)=>this.Lt(f,g,m,p)).setMouseWheelEventHandler((d,f,g)=>this.Rt(f,g)).setTouchStartEventHandler((d,f,g)=>this.Et(f,g)).setTouchMoveEventHandler((d,f,g)=>this.zt(f,g)).setTouchEndEventHandler((d,f,g)=>this.Vt(f,g)).Ce(this.qi.mapChartFillStyle).we(this.qi.mapChartStrokeStyle),this.Nb=this.Rb.Ob(this.dt).setMouseInteractions(this.Yi).Ce(this.qi.mapChartOutlierRegionFillStyle).we(this.qi.mapChartOutlierRegionStrokeStyle);const u=Ne(a&&a.type,ln.World);this.Fb=u,this.Gb(u).then(()=>{this.D.emit("mapDataReady")})}getRegionUnderMouse(){return this.Db}setFillStyle(t){return this.Vb.Ce(t),this.us.Ss(),this}getFillStyle(){return this.Vb.Eh()}setStrokeStyle(t){return this.Vb.we(t),this.us.Ss(),this}getStrokeStyle(){return this.Vb.ao()}setEffect(t){return this.zb.ps(t),this.us.Ss(),this}getEffect(){return this.zb.vs()}setOutlierRegionFillStyle(t){return this.Nb.Ce(t),this.us.Ss(),this}getOutlierRegionFillStyle(){return this.Nb.Eh()}setOutlierRegionStrokeStyle(t){return this.Nb.we(t),this.us.Ss(),this}getOutlierRegionStrokeStyle(){return this.Nb.ao()}setSeparateRegionFillStyle(t){return this.Sb=typeof t=="function"?t(this.Sb):t,this.pb.forEach(e=>e.Ce(this.Sb)),this.us.Ss(),this}getSeparateRegionFillStyle(){return this.Sb}setSeparateRegionStrokeStyle(t){return this.vb=typeof t=="function"?t(this.vb):t,this.pb.forEach(e=>e.we(this.vb)),this.us.Ss(),this}getSeparateRegionStrokeStyle(){return this.vb}invalidateRegionValues(t){if(!this.wb||!this.Wb)return this.Ub=this.Ub||[],this.Ub.push(t),this;if(typeof t=="function")for(let e=0;e<this.wb.regions.length;e+=1){const i=this.wb.regions[e],r=this.Wb[e],n=t({...i,geometry:void 0},r);if(n!==void 0&&n!==r){this.Wb[e]=n;const a=this._b.get(i);a==null||a.forEach(o=>{o.Yb(n)})}}else for(const e of t)if(e)for(let i=0;i<this.wb.regions.length;i+=1){const r=this.wb.regions[i],n=this.Wb[i];if(e.value!==void 0&&e.value!==n&&lz(r,e)){this.Wb[i]=e.value;const a=this._b.get(r);a==null||a.forEach(o=>{o.Yb(e.value)})}}return this.us.Ss(),this}setAutoCursor(t){return this.Eb&&t(this.Eb),this.us.Ss(),this}getAutoCursor(){return this.Eb}setAutoCursorMode(t){return this.bb=t,this.us.Ss(),this}getAutoCursorMode(){return this.bb}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}setMouseInteractions(t){return this.Yi=t,this.Vb.setMouseInteractions(t),this}getMouseInteractions(){return this.Yi}setHighlight(t){var e;return t=Ko(t),this.xb=t,(e=this.wb)===null||e===void 0||e.regions.forEach(i=>{this.us.ls.Ms(i,t)}),this.D.emit("highlight",this,t),this}getHighlight(){return this.xb}setAnimationHighlight(t){var e;return(e=this.wb)===null||e===void 0||e.regions.forEach(i=>{this.us.ls._s(i,t)}),this}getAnimationHighlight(){var t;return this.us.ls.ws((t=this.wb)===null||t===void 0?void 0:t.regions[0])}setHighlightOnHover(t){return this.Mb=t,t===!1&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.Mb}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}offMapDataReady(t){return this.D.off(t,"mapDataReady")}offViewChange(t){return this.D.off(t,"viewChange")}async Gb(t){const e=await((n,a)=>{let o;if(n===ln.World)o="countries_world.json";else if(n===ln.NorthAmerica)o="countries_northAmerica.json";else if(n===ln.SouthAmerica)o="countries_southAmerica.json";else if(n===ln.Africa)o="countries_africa.json";else if(n===ln.Europe)o="countries_europe.json";else if(n===ln.Asia)o="countries_asia.json";else if(n===ln.USA)o="states_usa.json";else if(n===ln.Canada)o="territoriesProvinces_canada.json";else{if(n!==ln.Australia){const u=`LCJS MapChart unidentified \`type\`: ${n}`;throw ht.alert(u),new Error(u)}o="territories_australia.json"}const l=`${a}/maps/${o}`;return ht.fetch(l).then(u=>u.json()).catch(u=>{aC(a,l,"Map Chart",{shouldCrash:!0})})})(t,this.cA.$s);this.Wb=new Array(e.regions.length).map(n=>{}).fill(void 0);const i=fz[t];if(!i)throw new Error("Unidentified map type.");for(const n of e.outliers)for(const a of n.geometry)this.Nb.zr().pl(a);t===ln.USA&&this.pb.push(this.Rb.ke(this.dt).setMouseInteractions(!1).Ce(this.Sb).we(this.vb).Fe({x:-126,y:25.8}).q({x:10,y:29.7-25.8}),this.Rb.ke(this.dt).setMouseInteractions(!1).Ce(this.Sb).we(this.vb).Fe({x:-113,y:25.8}).q({x:7,y:29.7-25.8}));const r=this.us.ls.Er(this.Vb,{animationEnabled:this.th});for(let n=0;n<e.regions.length;n+=1){const a=e.regions[n],o=uz(t,a),l=[];for(const u of o)u.length<3||l.push(this.Vb.zr().pl(u));this._b.set(a,l),r.zr(a,u=>{l.forEach(d=>d.cs(u))})}if(this.zb.fs([this.Vb]),this.kb=i,this.Tb(t,this.dt,i),this.wb=e,this.Ub){for(const n of this.Ub)this.invalidateRegionValues(n);this.Ub=void 0}this.us.Ss()}Tb(t,e,i){const r=gz[t],n=e.x.getCellSize(),a=e.y.getCellSize()/n,o={min:{x:i.min.x,y:i.min.y},max:{x:i.max.x,y:i.max.y}};if(a<r){const d=(o.max.x-o.min.x)*(r/a-1);o.min.x-=d/2,o.max.x+=d/2}else if(a>r){const d=(o.max.y-o.min.y)*(a/r-1);o.min.y-=d/2,o.max.y+=d/2}e.x.J(o.min.x,o.max.x),e.y.J(o.min.y,o.max.y);const l=this.dt.x.li(),u=this.dt.y.li();this.D.emit("viewChange",{latitudeRange:{start:o.min.y,end:o.max.y},longitudeRange:{start:o.min.x,end:o.max.x},margin:{top:u[1],bottom:u[0],left:l[0],right:l[1]}})}Pb(t,e){this.Hb={region:t,iRegion:e},this.us.Ss()}Bb(t,e){this.Hb&&t===this.Hb.region&&(this.Hb=void 0,this.us.Ss())}Ib(t,e){const i=Array.from(this._b.entries()).findIndex(([r,n])=>n.includes(e));return{iRegion:i,region:t==null?void 0:t.regions[i]}}setAnimationsEnabled(t){return this.th=!t,this}getAnimationsEnabled(){return this.th}getMinimumSize(){}Zd(){return[this]}Te(t){super.Te(t),super.pm(),ys.Fm(this._m,this.bm);const e=Ow(this.dt.x.ei(),this.dt.y.ei(),this.dt.x.ri(),this.dt.y.ri());this.Rb.qv(e);const i=this.us.On()||this.Lb;if(this.Hb&&i){const r=this.Wb&&this.Wb[this.Hb.iRegion];let n=mt(i,this.engine.scale,this.dt);n={x:ee(n.x,this.dt.x.getInnerStart(),this.dt.x.getInnerEnd()),y:ee(n.y,this.dt.y.getInnerStart(),this.dt.y.getInnerEnd())};let a=n.x,o=n.y;const l=this.Hb.region.transform;this.Hb.region.outlier&&l&&(a=(a-l.translate.x-l.vertexBoundaries.min.x)/l.scale.x+l.vertexBoundaries.min.x,o=(o-l.translate.y-l.vertexBoundaries.min.y)/l.scale.y+l.vertexBoundaries.min.y),this.Eb.setPosition(n).setVisible(!0).getResultTable().setContent(this.Wy(new Ji,this.Hb.region,r,a,o,this).Zu())}else this.Eb.setVisible(!1);return this.Eb.Ps().Te(),this}dispose(){return this.Rb.W(),this.Eb.dispose(),Tu(this.dt),super.dispose()}j(){return super.j(),this.dt.j(),this}Z(){return super.Z(),this.dt.Z(),this}Gd(){return os(this.getFillStyle())}attach(t,e=!0,i=!1){return t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),t.onMouseEnter(()=>{this.setHighlight(!0)}),t.onMouseLeave(()=>{this.setHighlight(!1)}),this.onMouseEnter(()=>t.setHighlight(!0)),this.onMouseLeave(()=>t.setHighlight(!1)),this.onTouchStart(()=>t.setHighlight(!0)),this.onTouchEnd(()=>t.setHighlight(!1)),oi(t,this.qi,i,{fill:this.getFillStyle()}),this}}const yz=(s,t,e,i,r,n)=>(s.addRow(`${t.name}`).addRow(mz(i,r)),e!==void 0&&s.addRow(`Region value: ${e.toFixed(1)}`),s),mz=(s,t)=>{const e=s>0,i=t>0;return`${[Fs(Math.abs(0|s),2)," ",Fs(Math.abs(0|(s<0?s=-s:s)%1*60),2),"' "].join("")+(e?"E":"W")}, ${[Fs(Math.abs(0|t),2)," ",Fs(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(i?"N":"S")}`};class r5 extends Xh{constructor(t,e,i,r,n,a,o,l,u){super(t,e,e.$b(i),r,n,{numeric:e.Xb({amplitude:r.polarAmplitudeAxisNumericTicks,radial:r.polarAmplitudeAxisNumericTicks}),datetime:e.Xb({amplitude:r.polarAmplitudeAxisDateTimeTicks,radial:r.polarAmplitudeAxisDateTimeTicks}),time:e.Xb({amplitude:r.polarAmplitudeAxisTimeTicks,radial:r.polarAmplitudeAxisTimeTicks})},{type:"linear"}),this.jb=a,this.Zb=o,this.Qb=l,this.es=u,this.Jb=i,this.Kb=e.Xb({amplitude:r.polarAmplitudeAxisStrokeStyle,radial:r.polarRadialAxisStrokeStyle}),this.Lh=l.Pr(i).setMouseInteractions(!1).Oh(e.Xb({amplitude:r.polarAmplitudeAxisTitleFont,radial:r.polarRadialAxisTitleFont})).Ce(e.Xb({amplitude:r.polarAmplitudeAxisTitleFillStyle,radial:r.polarRadialAxisTitleFillStyle})),this.Wh=this.es.yg([this.Lh]).ps(r.effectsText)}setTickStrategy(t,e){return super.Fh(t,e)}setStrokeStyle(t){return this.Kb=typeof t=="function"?t(this.Kb):t,this.Zb.Ss(),this}getStrokeStyle(){return this.Kb}ur(t,e){return new pz(e,t,this.Jb,this.Qb,this.qb(this.jb,this.Jb),this.Qb.Ee(this.Jb).setMouseInteractions(!1))}cr(t,e){const i=this.tx(this.Jb,t);this.ix&&this.ix(t)===!1?t.Ue.setVisible(!1):t.Ue.setVisible(!0).Fe(Bt(this.sx(this.Jb,t.u),i.padding)).Ea(i.alignment).Nh(i.rotation).Ia(i.offset.x,i.offset.y),this.hx(this.Jb,t.nx,t.ox,t)}setMouseInteractions(t){return this}Te(){this.qh({physicalAxisSize:0});const t=this.gr((e,i)=>{const r=i.Sh.lr,n=.5*this.Kb.getThickness()+r.tickLength+r.tickPadding+Math.abs(i.Ue.Ps().jc().y)+r.labelPadding;return Math.max(e,n)},0);return this.lx(this.Jb,this.Kb,t),this.ux(this.Jb,this.Lh,t),t}}class pz extends Zd{constructor(t,e,i,r,n,a,o){super(t,e,r,i,o),this.nx=n,this.ox=a,n.setMouseInteractions(!1),this.ts.push(n,a)}}class Sz extends r5{constructor(t,e,i,r,n,a,o,l,u){super(t,xz(()=>this._g()),e,i,r,n,a,o,l),this.Lp=this.Zb.Ee(this.Jb).setMouseInteractions(!1),this.Ax=u,this.setScrollStrategy(Fa.expansion),this.setTickStrategy(Rg.Numeric),this.setTitle("Amplitude")}_g(){return this.Ax()}_r(t,e){return kd(t,e,this.Jb.y)}Cr(t,e,i){const r=2*(e-t),n=this.Jb.x.Li(r);return{min:t-i*n,max:e+i*n}}sx(t,e){return{x:t.gx()?e-t.mx().start:t.mx().start-e,y:0}}qb(t,e){return t.Jc(e)}hx(t,e,i,r){const n=r.Sh.lr,a=t.gx()?r.u-t.mx().start:t.mx().start-r.u;ki(r.u,t.mx().start)||ki(r.u,t.mx().end)?e.setVisible(!1):e.setVisible(!0).eu(0).ze(360).au(void 0).ou(0).hu(a).au(60).Ce(Nt).we(n.gridStrokeStyle);const o=.5*this.Kb.getThickness();i.Ve({x:a,y:-o*t.Wi().y}).ze({x:a,y:-(o+n.tickLength)*t.Wi().y}).Re(n.tickStyle)}tx(t,e){const i=e.Sh.lr;return{alignment:{x:0,y:1},padding:{x:0,y:t.Wi().y*-(.5*this.Kb.getThickness()+i.tickLength+i.tickPadding)},rotation:0,offset:{x:0,y:0}}}lx(t,e,i){const r=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;this.Lp.Ve({x:0,y:0}).ze({x:r,y:0}).Re(e)}ux(t,e,i){const r=t.gx()?(t.mx().start+t.mx().end)/2-t.mx().start:t.mx().start-(t.mx().start+t.mx().end)/2;e.Ea({x:0,y:1}).Fe({x:r,y:-i*t.Wi().y})}}const xz=s=>({...Hu(s,t=>t.getAmplitudeMin(),t=>t.getAmplitudeMax(),t=>{}),$b:t=>({getInnerStart:()=>t.mx().start,getInnerEnd:()=>t.mx().end,J:(e,i)=>t.yx(e,i),nt:(e,i,r,n,a)=>t.y.nt(e,i,r,n,a)}),Xb:t=>t.amplitude});class Az extends r5{constructor(t,e,i,r,n,a,o,l){super(t,vz,e,i,r,n,a,o,l),this.Sx=90,this.vx=12,this.bx=DR,this.Lp=this.Zb.Jc(this.Jb).setMouseInteractions(!1),this.ix=u=>{let d=180*(u.u-this.Jb.xx())/Math.PI%360;for(;d<0;)d+=360;for(;d>360;)d-=360;if(d>=0&&d<=20||d>=340&&d<=360)return!1},this.Je=void 0,this.setTickStyle(i.polarRadialAxisTickStyle),this.setTitle("Degrees"),this.setNorth(this.Sx)}setTickStyle(t){return this.Mx=typeof t=="function"?t(this.Mx):t,this._x(),this.Zb.Ss(),this}getTickStyle(){return this.Mx}setTickFormattingFunction(t){return this.bx=t,this._x(),this.Zb.Ss(),this}getTickFormattingFunction(){return this.bx}setClockwise(t){this.Jb.wx(t);const e=this.Sx*Math.PI/180;return t?this.Jb.Cx(e+Math.PI/2):this.Jb.Cx(e-Math.PI/2),this.Zb.Ss(),this}getClockwise(){return!this.Jb.kx()}setNorth(t){for(;t<0;)t+=360;t%=360,this.Sx=t;const e=t*Math.PI/180;return this.getClockwise()?this.Jb.Cx(e+Math.PI/2):this.Jb.Cx(e-Math.PI/2),this.Zb.Ss(),this}getNorth(){return 180*this.Jb.xx()/Math.PI}setDivision(t){return this.vx=t,this._x(),this.Zb.Ss(),this}getDivision(){return this.vx}_g(){return[]}_r(t,e){return e}Cr(t,e,i){return{min:t,max:e}}sx(t,e){const i=t.kx()?1:-1,r=t.xx(),n=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;return{x:Math.cos((e-r)*i)*n,y:Math.sin((e-r)*i)*n}}qb(t,e){return t.Ee(e)}hx(t,e,i,r){const n=this.Mx,a=t.kx()?1:-1,o=t.xx(),l=(r.u-o)*a,u=Math.cos(l),d=Math.sin(l),f=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end,g={x:u*f,y:d*f};e.Ve({x:0,y:0}).ze(g);const m={x:g.x+u*n.tickLength*t.Wi().x,y:g.y+d*n.tickLength*t.Wi().y};i.Ve(g).ze(m),e.Re(n.gridStrokeStyle),i.Re(n.tickStyle)}tx(t,e){const i=this.Mx,r=t.kx()?1:-1,n=t.xx();let a,o=(e.u-n)*r;for(;o<0;)o+=2*Math.PI;for(;o>=2*Math.PI;)o-=2*Math.PI;a=o>0&&o<=Math.PI?-o+Math.PI/2:-o-Math.PI/2;const l=i.tickLength+i.tickPadding,u=Math.cos(o)*l*t.Wi().x,d=Math.sin(o)*l*t.Wi().y;return{alignment:{x:0,y:0},padding:{x:u,y:d},rotation:180*a/Math.PI,offset:{x:u,y:d}}}lx(t,e,i){const r=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;this.Lp.eu(0).ze(360).ou(0).hu(r+.5*e.getThickness()*t.Wi().x).au(360).Ce(Nt).we(e)}ux(t,e,i){const r=t.xx(),n=this.tx(t,{u:0+r}),a=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;e.Ea(n.alignment).Nh(n.rotation).Ia(n.offset.x,n.offset.y).Fe(Bt({x:a,y:0},n.padding))}_x(){this.$h({He:[],$e:[{Ue:"Radial ticks",Rg:0,lr:this.Mx,nr:this.bx,Br:(t,e,i,r)=>{const n=[],a=2*Math.PI/this.vx;for(let o=0;o<2*Math.PI;o+=a)n.push(o);return n},bh:{dr:()=>{},xh:()=>!1},Lr:void 0}],Ge:DR,Xh:void 0,jh:void 0})}}const DR=(s,t,e)=>(180*s/Math.PI).toFixed(0),vz={pr:()=>{},Sr:()=>{},br:()=>{},$b:s=>({getInnerStart:()=>0,getInnerEnd:()=>2*Math.PI,J:(t,e)=>{},nt:(t,e,i,r,n)=>s.x.nt(t,e,i,r,n)}),Xb:s=>s.radial},AS=s=>!!(s&&typeof s=="object"&&"axisAmplitude"in s&&"axisRadial"in s),bz=s=>!!(s&&typeof s=="object"&&"angle"in s&&typeof s.angle=="number"&&"amplitude"in s&&typeof s.amplitude=="number");class Mz extends Jd{constructor(t,e,i,r,n,a){super(e,i,n,a),this.xs="Sector",this.Tx=0,this.Fx=1*Math.PI/2,this.Ix=void 0,this.Px=void 0,this.ks=t,this.Jb=r,this.ky=this.ks.Jc(this.Jb).cs(this.getHighlight()),this.ds(this.ky),this.be=n.polarSectorFillStyle,this.xe=n.polarSectorStrokeStyle,this.setMouseInteractions(!1)}setAngleStart(t){return this.Tx=ee(t,0,360),this.ks.Ss(),this}getAngleStart(){return this.Tx}setAngleEnd(t){return this.Fx=ee(t,0,360),this.ks.Ss(),this}getAngleEnd(){return this.Fx}setAmplitudeStart(t){return this.Ix=t,this.ks.Ss(),this}getAmplitudeStart(){return this.Ix}setAmplitudeEnd(t){return this.Px=t,this.ks.Ss(),this}getAmplitudeEnd(){return this.Px}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.ks.Ss(),this}getStrokeStyle(){return this.xe}Te(){const t=this.Jb.mx(),e=180*this.Jb.xx()/Math.PI,i=this.Ix!==void 0?ee(this.Ix,t.start,t.end):t.start,r=this.Px!==void 0?ee(this.Px,t.start,t.end):t.end,n=this.Jb.gx()?i-t.start:t.start-i,a=this.Jb.gx()?r-t.start:t.start-r,o=Math.min(n,a),l=Math.max(n,a),u=this.Jb.kx()?1:-1,d=Math.abs(this.Fx-this.Tx);this.ky.eu((this.Tx-e)*u).ze((this.Fx-e)*u).ou(100*o/l).hu(l).Ce(this.be).we(this.xe).au(Math.ceil(d/2))}Ie(t,e){t.cs(e),this.ks.Ss()}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}}class Ay extends Jd{constructor(){super(...arguments),this.tS=!0,this.Dx=!0}setAutoScrollingEnabled(t){return this.tS=t,this.Ji.us.Ss(),this}getAutoScrollingEnabled(){return this.tS}oS(){}Te(){}dp(){}setCursorEnabled(t){return this.Dx=t,this}getCursorEnabled(){return this.Dx}}class Wu extends Ay{constructor(t,e,i,r,n,a){super(e,i,n,a),this.ks=t,this.Ji=e,this.scale=r}getAmplitudeMin(){return this.Bx?this.Bx.min:void 0}getAmplitudeMax(){return this.Bx?this.Bx.max:void 0}}const rf=(s,t,e,i,r)=>{const n=t.getIcon();return n?s.addRow(n,t.getName()):s.addRow(t.getName()),s.addRow("Angle:","",Math.round(e).toString()).addRow("Amplitude","",r(i))},ah=(s,t)=>{const e=[],i=t.mx().start,r=t.mx().end,n=t.gx(),a=t.kx()?1:-1,o=t.xx(),l=Math.abs(r-i),u=Math.min(i,r)+.001*l,d=Math.max(i,r)-.001*l;for(const f of s){const g=ee(f.amplitude,u,d),m=f.angle*Math.PI/180-o,p=Math.cos(m*a)*(n?g-i:i-g),x=Math.sin(m*a)*(n?g-i:i-g),v=f.color;e.push({x:p,y:x,color:v})}return e},nf=s=>{const t={min:Rt,max:Ft};for(const e of s)t.min=Math.min(t.min,e.amplitude),t.max=Math.max(t.max,e.amplitude);return t},vy=s=>s.slice().map(t=>t.angle>=0&&t.angle<=360?t:{...t,angle:t.angle%360}),oh=(s,t)=>{let e=rx(s);for(t.kx()||(e*=-1),e+=180*t.xx()/Math.PI;e<0;)e+=360;e%=360;const i=go(s),r=t.mx(),n=Math.abs(r.end-r.start);return{angle:e,amplitude:eh(r.start,r.end,i/n)}};class Rz extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,a),this.xs="Heatmap Series",this.Lx=!0,this.dS=!1,this.Wy=Ez,this.Gd=()=>os(this.be);const l=this.Ji.getSeries().length;this.be=re(this.qi.polarHeatmapSeriesFillStyle||this.qi.heatmapGridSeriesFillStyle,l);const u=o.amplitudeStart||0,d=o.amplitudeEnd?(o.amplitudeEnd-u)/(o.annuli-1):o.amplitudeStep||1,f={sectors:o.sectors,annuli:o.annuli,amplitudeStart:u,amplitudeStep:d,heatmapDataType:"intensity",dataOrder:o.dataOrder||"annuli"};this.Un=f,this.Rx=t.Ex(r,[],f).Ce(this.be).cs(this.getHighlight()),this.ds(this.Rx);const g=Math.min(f.amplitudeStart,f.amplitudeStart+(f.annuli-1)*f.amplitudeStep),m=Math.max(f.amplitudeStart,f.amplitudeStart+(f.annuli-1)*f.amplitudeStep);this.Bx={min:g,max:m},this.setHighlightOnHover(!1)}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(Dt.vf),Array.isArray(t)){if(t.length===0||t[0].length===0)return this;const e={x:t.length,y:t[0].length,sectors:this.Un.dataOrder==="annuli"?t[0].length:t.length,annuli:this.Un.dataOrder==="annuli"?t.length:t[0].length},i=this.Un.dataOrder==="annuli"?this.Un.annuli:this.Un.sectors,r=this.Un.dataOrder==="annuli"?this.Un.sectors:this.Un.annuli;if(e.x>i||e.y>r){if(this.Ji.cA.Hn===!0){const a=`PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.
Heatmap ${i}x${r}, input ${e.x}x${e.y}.
Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(a)}const n=[];for(let a=0;a<i;a+=1)n[a]=t[a].slice(0,r);if((t=n).length===0||t[0].length===0)return this}this.Rx._v({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(t.values.length===0||t.values[0].length===0)return this;const e={primary:t.values.length,secondary:t.values[0].length,sectors:this.Un.dataOrder==="annuli"?t.values[0].length:t.values.length,annuli:this.Un.dataOrder==="annuli"?t.values.length:t.values[0].length},i=this.Un.dataOrder==="annuli"?t.iAnnulus:t.iSector,r=i+e.primary-1,n=this.Un.dataOrder==="annuli"?t.iSector:t.iAnnulus,a=n+e.secondary-1,o=this.Un.dataOrder==="annuli"?this.Un.annuli-1:this.Un.sectors-1,l=this.Un.dataOrder==="annuli"?this.Un.sectors-1:this.Un.annuli-1;if(i<0||n<0){if(this.Ji.cA.Hn===!0){const u=`PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.
iSector: ${t.iSector}, iAnnuli: ${t.iAnnulus}.
No intensity values will be invalidated.`;ht.console.warn(u)}return this}if(r>o||a>l){if(this.Ji.cA.Hn===!0){const m=`PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.
Max indexes ${o}x${l}, input ${e.primary}x${e.secondary} starting at [${i},${n}].
Out of bounds data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(m)}const u=Math.max(r-o,0),d=e.primary-u,f=Math.max(a-l,0),g=[];for(let m=0;m<d;m+=1)g[m]=t.values[m].slice(0,f>0?-f:void 0);if((t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:g}).values.length===0||t.values[0].length===0)return this}this.Rx._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.ks.Ss(),this.dS=!0,this}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Rx.Ce(this.be),this.ks.Ss(),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}clear(){return this.Rx.Nt(),this.ks.Ss(),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setIntensityInterpolation(t){return t=t||"disabled",this.Rx.xv(t),this.ks.Ss(),this}getIntensityInterpolation(){return this.Rx.Mv()}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=mt(t,this.Ji.engine.scale,this.scale),r=oh(i,this.scale),n=this.Lx?this.Rx.zx(r):this.Rx.Hc(r);if(n)return er(ah([n],this.scale)[0],this.scale,this.Wy(new Ji,this,{angleDeg:n.angle,amplitude:n.amplitude,intensity:n.cellValue,iAnnulus:n.iAnnulus,iSector:n.iSector},this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.be)}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}Te(){}attach(t,e=!0,i=!1){return super.attach(t,e),oi(t,this.qi,i,{fill:this.be}),this}}const Ez=(s,t,e,i)=>{const r=t.getIcon();return r?s.addRow(r,t.getName()):s.addRow(t.getName()),s.addRow("Angle:","",Math.round(e.angleDeg).toString()).addRow("Amplitude","",i(e.amplitude)).addRow("Intensity","",e.intensity.toFixed(1))};class Tz extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,o),this.xs="Line Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.Wy=rf,this.lu=re(this.qi.polarLineSeriesStrokeStyle,a),this.Gx=t.rp(r,void 0,[Jr.UserSeries]).Re(this.lu).cs(this.getHighlight()).Ka(ns.Nearest),this.ds(this.Gx)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return this.Vx.length!==0&&this.Ji.us.Nn(Dt.vf),this.Vx=vy(t),this.Ox=!0,this.Bx=nf(this.Vx),this.ks.Ss(),this}setStrokeStyle(t){this.lu=typeof t=="function"?t(this.lu):t;const e=this.lu;return this.Gx.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.lu}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){return this.Wx(t,this.Gx)}solveNearestFromScreen(t){return this.Wx(gs(t,this.Ji.us),this.Gx)}Wx(t,e){const i=e.Ux(t);if(!i)return;const{angle:r,amplitude:n}=oh(i,this.scale);return er(i,this.scale,this.Wy(new Ji,this,r,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.lu.getFillStyle())}Te(){if(this.Ox||this.scale.Yx()){const t=ah(this.Vx,this.scale),e=ei(t);this.Nx?(t.push({...t[0]}),this.Gx.zl(!0)):this.Gx.zl(!1),this.Gx.Nt().nl(t).Yo(e),this.Ox=!1,this.Gx.Ps()}}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{stroke:this.lu}),this}}class wz extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,o),this.xs="Point Line Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.Hx=3,this.Aa=0,this.$x=Qe.Circle,this.Wy=rf,this.be=re(this.qi.polarPointLineSeriesFillStyle,a),this.lu=re(this.qi.polarPointLineSeriesStrokeStyle,a),this.Gx=t.rp(r,void 0,[Jr.UserSeries]).Re(this.lu).cs(this.getHighlight()).Ka(ns.Nearest),this.ds(this.Gx),this.Xx=t.bS(r).Ce(this.be).il(this.$x).q(this.Hx).cs(this.getHighlight()).Ka(ns.Nearest),this.ds(this.Xx)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return this.Vx.length!==0&&this.Ji.us.Nn(Dt.vf),this.Vx=vy(t),this.Ox=!0,this.Bx=nf(this.Vx),this.ks.Ss(),this}setStrokeStyle(t){this.lu=typeof t=="function"?t(this.lu):t;const e=this.lu;return this.Gx.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.lu}setPointFillStyle(t){this.be=typeof t=="function"?t(this.be):t;const e=this.be;return this.Xx.Ce(e),this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){return this.Hx=t,this.Xx.q(t),this.ks.Ss(),this}getPointSize(){return this.Hx}setPointShape(t){return this.$x=t,this.Xx.il(this.$x),this}getPointShape(){return this.$x}setPointRotation(t){return this.Aa=t,this.Xx.Nh(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){return this.Wx(t,this.Gx)}solveNearestFromScreen(t){return this.Wx(gs(t,this.Ji.us),this.Gx)}Wx(t,e){const i=e instanceof FA?e.Hc(t):e.Ux(t);if(!i)return;const{angle:r,amplitude:n}=oh(i,this.scale);return er(i,this.scale,this.Wy(new Ji,this,r,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,"color"in i&&Gs(this.be)?new rt({color:i.color}):this.be)}Te(){if(this.Ox||this.scale.Yx()){const t=ah(this.Vx,this.scale),e=ei(t);this.Nx?(t.push({...t[0]}),this.Gx.zl(!0)):this.Gx.zl(!1),this.Gx.Nt().nl(t).Yo(e),this.Xx.Nt().nl(t).Yo(e),this.Ox=!1,this.Gx.Ps(),this.Xx.Ps()}}Cs(){return this.bs||this.$x}}class af extends cy{constructor(t,e,i,r,n,a,o,l,u){super(),this.No=oC(),this.D=new qi,this.$i=!1,this.jx=r,this.Zx=n,this.Qx=a,this.Jx=o,this.Kx=l,this.ks=t,this.scale=e,this.qx=i,this.qi=u}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}dispose(){return this.qx&&this.qx(this),this.ks.us.Ss(),this.D.emit("dispose",this),this.$i=!0,this}setVisible(t){return super.setVisible(t),this.Qx(),this.ks.us.Ss(),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setMouseInteractions(t){return this.Jx(this,t),this}getMouseInteractions(){return this.Kx(this)}}class FR extends af{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x,v,A){super(t,e,i,r,n,a,o,l,A),this.tM=1,this.iM=1,this.ks=t,this.scale=e,this.dimensionStrategy=u,this.start=d,this.end=f,this.lowerExtreme=g,this.lowerQuartile=m,this.median=p,this.upperQuartile=x,this.upperExtreme=v,this.boundaries=se(this.dimensionStrategy.toPoint(d,g),this.dimensionStrategy.toPoint(f,v)),this.sM=this.qi.boxSeriesBodyFillStyle,this.eM=this.qi.boxSeriesBodyStrokeStyle,this.lu=this.qi.boxSeriesStrokeStyle,this.hM=this.qi.boxSeriesMedianStrokeStyle,this.Ps()}getBoundaries(){return this.boundaries}setBodyWidth(t){return this.tM=t,this.Ps(),this}getBodyWidth(){return this.tM}setBodyFillStyle(t){return this.sM=typeof t=="function"?t(this.sM):t,this.Zx(),this}getBodyFillStyle(){return this.sM}setBodyStrokeStyle(t){return this.eM=typeof t=="function"?t(this.eM):t,this.Zx(),this}getBodyStrokeStyle(){return this.eM}setTailWidth(t){return this.iM=t,this.Ps(),this}getTailWidth(){return this.iM}setStrokeStyle(t){return this.lu=typeof t=="function"?t(this.lu):t,this.Zx(),this}getStrokeStyle(){return this.lu}setMedianStrokeStyle(t){return this.hM=typeof t=="function"?t(this.hM):t,this.Zx(),this}getMedianStrokeStyle(){return this.hM}Ps(){this.jx()}getDominantStyle(){return this.getBodyFillStyle()}}const cx=(s,t,e)=>{const i=t.dt,r=e.dt;let n=(s.x-i.getInnerStart())/(i.getInnerEnd()-i.getInnerStart()),a=(s.y-r.getInnerStart())/(r.getInnerEnd()-r.getInnerStart());return e.eg===1&&(n=1-n),t.eg===1&&(a=1-a),Y(a,n)};class Cz extends JC{constructor(t,e,i,r,n,a,o,l){super(t,e,ay(i.dt,r.dt),n,l),this.rM=!1,this.nM=!1,this.oM=!0,this.aM=!0,this.lM=!1,this.uM=!1,this.setGridStrokeYStyle=u=>(this.cM.setGridStrokeStyle(u),this),this.getGridStrokeYStyle=()=>this.cM.getGridStrokeStyle(),this.axisX=i,this.axisY=r,this.dM=a,this.fM=o,this.AM=this.axisX.Yg(!1,this.dM).setMouseInteractions(!1).setAllocatesAxisSpace(!1),this.cM=this.axisY.Yg(!1,this.fM).setMouseInteractions(!1).setAllocatesAxisSpace(!1)}dispose(){return super.dispose(),this.AM.dispose(),this.cM.dispose(),this}pointAt(t){return super.pointAt(t),this.setPosition(mt(t.location,t.scale,this.scale)),this}setPosition(t){super.setPosition(t),this.AM.setValue(t.x),this.cM.setValue(t.y);const e=cx(Y(this.AM.getValue(),this.cM.getValue()),this.axisX,this.axisY);return this.AM.setGridStrokeLength(this.lM?e.x:1),this.cM.setGridStrokeLength(this.uM?e.y:1),this}Te(){this.AM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.rM),this.cM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.nM);const t=cx(Y(this.AM.getValue(),this.cM.getValue()),this.axisX,this.axisY);return this.AM.setGridStrokeLength(this.lM?t.x:1),this.cM.setGridStrokeLength(this.uM?t.y:1),super.Te()}setGridStrokeXCut(t){return this.lM=t,this.ks.Ss(),this}getGridStrokeXCut(){return this.lM}setGridStrokeYCut(t){return this.uM=t,this.ks.Ss(),this}getGridStrokeYCut(){return this.uM}setGridStrokeXStyle(t){return this.AM.setGridStrokeStyle(t),this}getGridStrokeXStyle(){return this.AM.getGridStrokeStyle()}setTickMarkerXVisible(t){return this.rM=t,this.ks.Ss(),this}getTickMarkerXVisible(){return this.rM}setTickMarkerYVisible(t){return this.nM=t,this.ks.Ss(),this}getTickMarkerYVisible(){return this.nM}setTickMarkerX(t){return this.AM.setMarker(t),this}setTickMarkerY(t){return this.cM.setMarker(t),this}getTickMarkerX(){return this.AM.getMarker()}getTickMarkerY(){return this.cM.getMarker()}}class kz extends qC{constructor(t,e,i,r,n,a,o){super(t,e,i,r,o),this.lM=!1,this.uM=!1,this.gM=!1,this.mM=!1,this.yM=new Map,this.pM=new Map,this.rM=!0,this.nM=!0,this.iy=r,this.dM=n,this.fM=a,this.SM=o.cursorGridStrokeStyleX,this.vM=o.cursorGridStrokeStyleY}dispose(){return super.dispose(),this.yM.forEach(t=>t.dispose()),this.pM.forEach(t=>t.dispose()),this.bM=void 0,this.xM=void 0,this}Te(){return this.bM&&this.bM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.rM),this.xM&&this.xM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.nM),super.Te()}pointAt(t){const{location:e}=t,i=t.owner instanceof uh&&t.owner;if(!i)return this;const{axisX:r}=i,{axisY:n}=i,a=this.Ah(r,!0),o=this.Ah(n,!1);a!==this.bM&&this.bM&&this.bM.setVisible(!1),o!==this.xM&&this.xM&&this.xM.setVisible(!1),a.setValue(e.x),o.setValue(e.y);const l=cx(Y(e.x,e.y),r,n);return a.setGridStrokeLength(this.lM?l.x:1),o.setGridStrokeLength(this.uM?l.y:1),this.bM=a,this.xM=o,super.pointAt(t)}ny(t){if(super.ny(t),t){const e=i=>i.setTextFillStyle(t);this.bM&&this.gM&&this.bM.setMarker(e),this.xM&&this.mM&&this.xM.setMarker(e)}}Ah(t,e){let i=(e?this.yM:this.pM).get(t);return i||(e?(i=t.Yg(!1,this.dM),this.yM.set(t,i)):(i=t.Yg(!1,this.fM),this.pM.set(t,i)),this.ar(i,e),i.setMouseInteractions(!1).setAllocatesAxisSpace(!1)),i}ar(t,e){const i=e?this.SM:this.vM;return t.setGridStrokeStyle(i),t.setMouseInteractions(!1),(e?this.rM:this.nM)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t}setGridStrokeXCut(t){return this.lM=t,this.ks.Ss(),this}getGridStrokeXCut(){return this.lM}setGridStrokeYCut(t){return this.uM=t,this.ks.Ss(),this}getGridStrokeYCut(){return this.uM}setGridStrokeXStyle(t){return this.SM=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.yM.forEach(e=>e.setGridStrokeStyle(this.SM)),this}getGridStrokeXStyle(){return this.SM}setGridStrokeYStyle(t){return this.vM=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.pM.forEach(e=>e.setGridStrokeStyle(this.vM)),this}getGridStrokeYStyle(){return this.vM}setTickMarkerXVisible(t){return this.rM=t,this.ks.Ss(),this}getTickMarkerXVisible(){return this.rM}setTickMarkerYVisible(t){return this.nM=t,this.ks.Ss(),this}getTickMarkerYVisible(){return this.nM}setTickMarkerX(t){return this.yM.forEach(e=>e.setMarker(t)),this.dM=this.dM.addStyler(t),this.ks.Ss(),this}setTickMarkerY(t){return this.pM.forEach(e=>e.setMarker(t)),this.fM=this.fM.addStyler(t),this.ks.Ss(),this}setTickMarkerXAutoTextStyle(t){return this.gM=t,this.ks.Ss(),this}getTickMarkerXAutoTextStyle(){return this.gM}setTickMarkerYAutoTextStyle(t){return this.mM=t,this.ks.Ss(),this}getTickMarkerYAutoTextStyle(){return this.mM}}class n5 extends UA{constructor(t,e,i,r){super(t,r),this.iy=t,this.dM=e,this.fM=i,this.oy=r}}class Ng extends n5{constructor(){super(...arguments),this.uy=(t,e,i,r)=>this.ly(new kz(t,e,i,this.iy,this.dM,this.fM,r),r),this.addStyler=t=>new Ng(this.iy,this.dM,this.fM,this.oy.map(e=>e).concat(t)),this.setResultTableBackground=t=>new Ng(t,this.dM,this.fM,this.oy.map(e=>e))}}class _d extends n5{constructor(){super(...arguments),this.Ay=(t,e,i,r,n)=>this.ly(new Cz(t,e,i,r,this.iy,this.dM,this.fM,n),n),this.addStyler=t=>new _d(this.iy,this.dM,this.fM,this.oy.map(e=>e).concat(t)),this.setResultTableBackground=t=>new _d(t,this.dM,this.fM,this.oy.map(e=>e))}}const Dz=new Ng(br,qh.PointableTextBox,qh.PointableTextBox,[(s,t)=>{OA(s),s.setTickMarkerX(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerXTextFont).setTextFillStyle(t.cursorTickMarkerXTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerXBackgroundStrokeStyle))}),s.setTickMarkerY(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerYTextFont).setTextFillStyle(t.cursorTickMarkerYTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerYBackgroundStrokeStyle))})}]),Fz=new _d(br,qh.PointableTextBox,qh.PointableTextBox,[(s,t)=>{ZC(s,t),s.setTickMarkerX(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerXTextFont).setTextFillStyle(t.cursorTickMarkerXTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerXBackgroundStrokeStyle))}),s.setTickMarkerY(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerYTextFont).setTextFillStyle(t.cursorTickMarkerYTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerYBackgroundStrokeStyle))})}]),_z=new _d(br,qh.PointableTextBox,qh.PointableTextBox,[(s,t)=>{((e,i)=>{e.setPointMarker(r=>r.setFillStyle(i.seriesMarkerPointMarkerFillStyle).setSize(i.seriesMarkerPointMarkerSize).setShape(i.seriesMarkerPointMarkerShape)).setResultTable(r=>r.setEffect(!0).setBackground(n=>n).setOrigin(Y(-1,-1)).setMargin(10))})(s,t),s.setTickMarkerX(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerXTextFont).setTextFillStyle(t.cursorTickMarkerXTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerXBackgroundStrokeStyle))}),s.setTickMarkerY(e=>{e.setEffect(!0).setTextFont(t.cursorTickMarkerYTextFont).setTextFillStyle(t.cursorTickMarkerYTextFillStyle),Wh(e)&&e.setBackground(i=>i.setFillStyle(t.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(t.cursorTickMarkerYBackgroundStrokeStyle))})}]),iu=(s,t,e)=>{switch(s){case Lr.always:return!0;case Lr.never:return!1;case Lr.whenDragged:return e;case Lr.whenHovered:return t&&!e;case Lr.whenHoveredOrDragged:return e||t;case Lr.whenNotDragged:return!e;default:return!1}},_R=(s,t)=>Math.min(Math.max(s,t.getInnerStart()),t.getInnerEnd());class Vz{constructor(t,e,i,r,n,a){this.MM=Lr.always,this._M=Lr.always,this.Bo=!0,this.$i=!1,this.wM=!1,this.CM=!1,this.ua=Y(0,0),this.Mu=ze.draggable,this._u=void 0,this.D=new qi,this.Xi=!0,this.kM=(l,u,d)=>{this.wM=!0,this.ks.Ss();const f=this.Mu===ze.notDraggable?this.Mu:d||this.Mu;this._u=this.ks.us.Wr(f===ze.notDraggable?he.Restricted:f===ze.draggable?he.Move:f===ze.onlyHorizontal?he.Horizontal:he.Vertical)},this.TM=()=>{this.wM=!1,this.ks.Ss(),this.ks.us.Ur(this._u)},this.FM=(l,u)=>{this.CM=!0,vt(u),this.ks.Ss()},this.IM=(l,u)=>{if(this.Mu!==ze.notDraggable){const d=u||this.Mu,f=mt(this.ks.us.Pe(l.x,l.y),this.ks.us.dt,this.scale),g=Y(d!==ze.onlyVertical?_R(f.x,this.scale.x):this.ua.x,d!==ze.onlyHorizontal?_R(f.y,this.scale.y):this.ua.y);return this.setPosition(g),!0}return!1},this.PM=(l,u)=>{this.CM=!1,vt(u),this.ks.Ss()},this.onDispose=l=>this.D.on("dispose",l),this.offDispose=l=>this.D.off(l,"dispose"),this.ks=t,this.renderingScale=e,this.scale=i,this.Eb=r,this.DM=n,this.qi=a;const o=r.getPointMarker().setMouseInteractions(!0);o.onMouseEnter((l,u)=>this.kM(l,u)),o.onMouseLeave(this.TM),o.onMouseDragStart(this.FM),o.onMouseDrag((l,u)=>this.IM(Y(u.clientX,u.clientY))&&vt(u)),o.onMouseDragStop(this.PM),o.onTouchStart(this.FM),o.onTouchMove((l,u)=>this.IM(Y(u.clientX,u.clientY))&&vt(u)),o.onTouchEnd(this.PM),r.getResultTable().setMouseInteractions(!0),this.setPosition(this.ua)}setPosition(t){return this.ua=t,this.Eb.setPosition(t),this.D.emit("positionChange",this,this.ua),this}getPosition(){return this.ua}onPositionChange(t){return this.D.on("positionChange",t)}offPositionChange(t){return this.D.off(t,"positionChange")}setPointMarkerVisibility(t){return this.MM=t,this.ks.Ss(),this}getPointMarkerVisibility(){return this.MM}setResultTableVisibility(t){return this._M=t,this.ks.Ss(),this}getResultTableVisibility(){return this._M}setMouseInteractions(t){return this.Bo=t,this.Eb.getPointMarker().setMouseInteractions(t),this.Eb.getResultTable().setMouseInteractions(t),this}getMouseInteractions(){return this.Bo}setAutoFitStrategy(t){return this.Eb.setAutoFitStrategy(t),this}getAutoFitStrategy(){return this.Eb.getAutoFitStrategy()}isAttached(){return!0}Te(){const t=this.isAttached();return iu(this.MM,this.wM,this.CM)?this.Eb.setPointMarkerVisible(!0):this.Eb.setPointMarkerVisible(!1),t&&iu(this._M,this.wM,this.CM)?this.Eb.setResultTableVisible(!0):this.Eb.setResultTableVisible(!1),this.Eb.Te(),this}Ps(){return this.Eb.Ps(),this}pointAt(t){return this.Eb.pointAt(t),this}dispose(){return this.$i||(this.$i=!0,this.DM(this),this.Eb.dispose(),this.D.emit("dispose")),this}isDisposed(){return this.$i}setVisible(t){const e=this.Xi!==t;return this.Xi=t,this.Eb.setVisible(t),e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}setPointMarker(t){return this.Eb.setPointMarker(t),this}getPointMarker(){return this.Eb.getPointMarker()}setResultTable(t){return this.Eb.setResultTable(t),this}getResultTable(){return this.Eb.getResultTable()}setDraggingMode(t=ze.notDraggable){return this.Mu=t,this.ks.Ss(),this}getDraggingMode(){return this.Mu}}class zz extends Vz{constructor(t,e,i,r,n,a,o){super(t,e,ay(i.dt,r.dt),n.Ay(t,e,i,r,o),a,o),this.BM=Lr.always,this.LM=Lr.always,this.RM=Lr.always,this.EM=Lr.always,this.gridStrokeStyleX=this.Eb.getGridStrokeXStyle(),this.gridStrokeStyleY=this.Eb.getGridStrokeYStyle(),this.ks=t,this.axisX=i,this.axisY=r,this.DM=a;const l=this.Eb.getTickMarkerX().setMouseInteractions(!0);l.onMouseEnter((d,f)=>this.kM(d,f,ze.onlyHorizontal)),l.onMouseLeave(this.TM),l.onMouseDragStart(this.FM),l.onMouseDrag((d,f)=>this.IM(Y(f.clientX,f.clientY),ze.onlyHorizontal)&&vt(f)),l.onMouseDragStop(this.PM),l.onTouchStart(this.FM),l.onTouchMove((d,f)=>this.IM(Y(f.clientX,f.clientY),ze.onlyHorizontal)&&vt(f));const u=this.Eb.getTickMarkerY().setMouseInteractions(!0);u.onMouseEnter((d,f)=>this.kM(d,f,ze.onlyVertical)),u.onMouseLeave(this.TM),u.onMouseDragStart(this.FM),u.onMouseDrag((d,f)=>this.IM(Y(f.clientX,f.clientY),ze.onlyVertical)&&vt(f)),u.onMouseDragStop(this.PM),u.onTouchStart(this.FM),u.onTouchMove((d,f)=>this.IM(Y(f.clientX,f.clientY),ze.onlyVertical)&&vt(f))}Te(){const t=this.isAttached();return this.Xi&&t&&iu(this.RM,this.wM,this.CM)?this.Eb.setTickMarkerXVisible(!0):this.Eb.setTickMarkerXVisible(!1),this.Xi&&t&&iu(this.EM,this.wM,this.CM)?this.Eb.setTickMarkerYVisible(!0):this.Eb.setTickMarkerYVisible(!1),this.Eb.setGridStrokeXStyle(this.Xi&&t&&iu(this.BM,this.wM,this.CM)?this.gridStrokeStyleX:bt),this.Eb.setGridStrokeYStyle(this.Xi&&t&&iu(this.LM,this.wM,this.CM)?this.gridStrokeStyleY:bt),super.Te()}setGridStrokeXVisibility(t){return this.BM=t,this.ks.Ss(),this}getGridStrokeXVisibility(){return this.BM}setGridStrokeYVisibility(t){return this.LM=t,this.ks.Ss(),this}getGridStrokeYVisibility(){return this.LM}setTickMarkerXVisibility(t){return this.RM=t,this.ks.Ss(),this}getTickMarkerXVisibility(){return this.RM}setTickMarkerYVisibility(t){return this.EM=t,this.ks.Ss(),this}getTickMarkerYVisibility(){return this.EM}setGridStrokeXCut(t){return this.Eb.setGridStrokeXCut(t),this}getGridStrokeXCut(){return this.Eb.getGridStrokeXCut()}setGridStrokeYCut(t){return this.Eb.setGridStrokeYCut(t),this}getGridStrokeYCut(){return this.Eb.getGridStrokeYCut()}setGridStrokeXStyle(t){return this.gridStrokeStyleX=typeof t=="function"?t(this.gridStrokeStyleX):t,this}getGridStrokeXStyle(){return this.Eb.getGridStrokeXStyle()}setGridStrokeYStyle(t){return this.gridStrokeStyleY=typeof t=="function"?t(this.gridStrokeStyleY):t,this}getGridStrokeYStyle(){return this.Eb.getGridStrokeYStyle()}setTickMarkerX(t){return this.Eb.setTickMarkerX(t),this}getTickMarkerX(){return this.Eb.getTickMarkerX()}setTickMarkerY(t){return this.Eb.setTickMarkerY(t),this}getTickMarkerY(){return this.Eb.getTickMarkerY()}setMouseInteractions(t){return super.setMouseInteractions(t),this.Eb.getTickMarkerX().setMouseInteractions(t),this.Eb.getTickMarkerY().setMouseInteractions(t),this}}class a5 extends zz{}class Nz extends a5{constructor(t,e,i,r,n,a){super(t,e,i.axisX,i.axisY,r,n,a),this.zM=!1,this.ks=t,this.owningSeries=i}setPosition(t){return super.setPosition(t),this.zM=!1,this.ks.Ss(),this}Ps(){if(!this.zM){const t=this.owningSeries.solveNearestFromScreen(mt(this.ua,this.scale,this.ks.us.dt));t?(this.ua=mt(t.location,this.owningSeries.scale,this.scale),this.Eb.pointAt(t),this.zM=!0):this.Eb.setPosition(this.ua)}return super.Ps()}isAttached(){return this.zM}}class uh extends Ay{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,u,d),this.VM=[],this.addMarker=(f=_z)=>{const g=new Nz(this.OM(),this.Ji.uiScale,this,f,this.removeMarker,this.qi);return this.VM.push(g),g},this.removeMarker=f=>{const g=this.VM.indexOf(f);g!==-1&&this.VM.splice(g,1)},this.ts=new Map,this.chart=t,this.ks=i,this.axisX=r,this.axisY=n,this.axisXAttachHandler=a,this.axisYAttachHandler=o,this.OM=l,this.scale=ay(r.dt,n.dt),this.NM=t.GM,t.GM+=1,this.WM(this.scale),this.attacheAxis(),this.onMouseEnter(this.chart.UM),this.onMouseLeave(this.chart.YM),this.onMouseWheel(this.chart.sS),this.onMouseDragStart(this.chart.HM),this.onMouseDrag(this.chart.eS),this.onMouseDragStop(this.chart.$M),this.onTouchStart(this.chart.hS.onTouchStart),this.onTouchMove(this.chart.hS.onTouchMove),this.onTouchEnd(this.chart.hS.onTouchEnd)}get xAxis(){return this.axisX}get yAxis(){return this.axisY}attacheAxis(){this.XM=this.axisXAttachHandler(this),this.jM=this.axisYAttachHandler(this)}Te(){super.Te();for(let t=0;t<this.VM.length;t+=1)this.VM[t].Ps().Te()}ds(t,e){super.ds(t,e),t.Jo(this.NM)}setDrawOrder(t){return this.NM=t.seriesDrawOrderIndex,this.ts.forEach((e,i)=>{i.Jo(this.NM)}),this.Ji.us.Ss(),this}dispose(){return super.dispose(),this.VM.slice().forEach(t=>t.dispose()),this.XM(this),this.jM(this),this}ZM(){for(let t=0;t<this.VM.length;t+=1)this.VM[t].setPosition(this.VM[t].getPosition());this.ks.Ss()}getBoundaries(){return se(Y(this.getXMin()||0,this.getYMin()||0),Y(this.getXMax()||0,this.getYMax()||0))}setCursorEnabled(t){return super.setCursorEnabled(t)}}const qo=(s,t,e,i)=>{const r=s.length;let n=0;if(t!==void 0){const a=e-t;if(a>0){const o=s.slice(n,a);n+=a,i(o,!0)}}for(;n<r;){const a=s.slice(n,n+e);n+=e,i(a,!1)}},by=(s,t=e=>e)=>{const e=[];let i;for(let r=0;r<s.length;r+=1){i=s[r];const n=t(i.tl()),a=i.qa(),o=a?t(a):[];let l=!1,u=!1;"El"in i&&(l=i.El(),u=i.Vl()),e.push.apply(e,n.slice(l?1:0,n.length-(u&&o.length===0?1:0))),e.push.apply(e,o.slice(l&&n.length===0?1:0,o.length-(u?1:0)))}return e},o5=(s,t=1,e)=>{const i=e!==void 0?e:0,r=new Array(s.length);for(let n=0;n<s.length;n+=1)r[n]={x:i+t*n,y:s[n]};return r},Bz=(s,t,e,i)=>{const r=t.getIcon();return r?s.addRow(r,t.getName()):s.addRow(t.getName()),s.addRow("X","",t.axisX.formatValue(e)).addRow("Y","",t.axisY.formatValue(i))};class $A extends uh{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,d,f),this.QM=[],this.yu=[],this.JM=0,this.ji=!1,this.Hi=cn.onHover,this.Wy=Bz,this.Ji.us.Nn(Dt.mf),this.KM=u}setDataCleaning(t){const e=t&&t.minDataPointCount;return this.JM=e!==void 0&&e>0?e:0,this.ks.Ss(),this}add(t){if(this.QM.length!==0&&this.Ji.us.Nn(Dt.vf),Array.isArray(t)?this.qM(t):this.qM([t]),this.yu.length>0){const e=this.yu[this.yu.length-1];this.t_={x:e.x,y:e.y}}return this}addArrayX(t,e=1,i){let r=i;return r||(r=this.t_?this.t_.y+e:0),this.add(((n,a=1,o)=>{const l=o!==void 0?o:0,u=new Array(n.length);for(let d=0;d<n.length;d+=1)u[d]={x:n[d],y:l+a*d};return u})(t,e,r)),this}addArrayY(t,e=1,i=0){let r=i;return r||(r=this.t_?this.t_.x+e:0),this.add(o5(t,e,r)),this}addArraysXY(t,e){if(t.length!==e.length)throw new Error("arrayX and arrayY lengths are not equal");return this.add(((i,r)=>{const n=new Array(i.length);for(let a=0;a<i.length;a+=1)n[a]={x:i[a],y:r[a]};return n})(t,e)),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}getPointAmount(){return this.QM.reduce((t,e)=>t+e.ol()+e.al(),this.yu.length)}clear(){this.i_=void 0;for(let t=0;t<this.QM.length;t+=1)this.QM[t].Nt();return this.yu.length=0,this.t_=void 0,this.ks.Ss(),this.D.emit("dataClear",this),this}getLastPoint(){return this.t_}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}getXMax(){return this.KM.getXMax(this.QM,this.i_)||0}getXMin(){return this.KM.getXMin(this.QM,this.i_)||0}getYMax(){return this.KM.getYMax(this.QM,this.i_)||0}getYMin(){return this.KM.getYMin(this.QM,this.i_)||0}br(){const t=Y(0,0);for(const e of this.QM)t.x=Math.max(t.x,e.vl()),t.y=Math.max(t.y,e.bl());return t}s_(t,e,i,r){this.KM.s_(t,e,i,r,this.scale,n=>{})}oS(){super.oS();const t=this.QM.length;this.e_&&this.s_(this.QM,this.getPointAmount(),this.e_,this.JM),t!==this.QM.length&&this.ZM()}Te(){super.Te();const t=this.getBoundaries();this.yu.length>0&&(this.h_(this.yu),this.yu=[]);for(const e of this.QM)e.Yo(t);return super.Te()}dp(){super.dp(),this.i_=void 0,this.yu.length=0}qM(t){t.length!==0&&(this.i_?this.i_=ur(this.i_,ei(t)):this.i_=ei(t),this.D.emit("dataAdd",this,t,this.i_),this.yu=Es(this.yu,t,{canReturnB:!1}),this.ks.Ss())}r_(){return by(this.QM)}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}}const Jh=(s,t,e,i)=>{let r,n,a=Number.MAX_VALUE;for(let o=0;o<t.length;o+=1){const l=t[o],u=e(l,s);if(u){const d=i(s,u);(r===void 0||d<a)&&(r=u,n=l,a=d)}}return r&&n?[r,n]:void 0};class of extends uh{constructor(){super(...arguments),this.u_=[],this.c_=void 0,this.d_=!1,this.qx=t=>{const e=this.u_.findIndex(i=>i===t);e>=0&&this.u_.splice(e,1),this.d_=!0,this.c_=void 0,this.ks.Ss()},this.jx=()=>{this.c_=void 0,this.d_=!0,this.Ji.us.Ss()},this.Zx=()=>{this.d_=!0,this.Ji.us.Ss()},this.Qx=()=>{this.c_=void 0,this.d_=!0,this.chart.us.Ss()},this.Jx=(t,e)=>{this.setMouseInteractions(e)},this.f_=t=>this.getMouseInteractions()}Te(){super.Te(),this.d_&&(this.A_(this.u_),this.d_=!1)}clear(){return this.u_.slice().forEach(Gh),this.u_.length=0,this.d_=!0,this.c_=void 0,this.ks.Ss(),this}g_(t,e){e!==void 0?this.u_.splice(e,0,t):this.u_.push(t),this.d_=!0,this.m_&&this.m_(t),t.onMouseEnter((i,r)=>this.wt(i,r)),t.onMouseLeave((i,r)=>this.Ct(i,r)),t.onMouseClick((i,r)=>this.kt(i,r)),t.onMouseDoubleClick((i,r)=>this.Tt(i,r)),t.onMouseDown((i,r)=>this.Ft(i,r)),t.onMouseUp((i,r)=>this.It(i,r)),t.onMouseMove((i,r)=>this.Pt(i,r)),t.onMouseDragStart((i,r,n)=>this.Bt(i,r,n)),t.onMouseDrag((i,r,n,a,o)=>this.Dt(i,r,n,a,o)),t.onMouseDragStop((i,r,n,a)=>this.Lt(i,r,n,a)),t.onMouseWheel((i,r)=>this.Rt(i,r)),t.onTouchStart((i,r)=>this.Et(i,r)),t.onTouchMove((i,r)=>this.zt(i,r)),t.onTouchEnd((i,r)=>this.Vt(i,r)),this.ks.Ss()}Kp(){return this.tS&&this.u_.length>0&&this.getVisible()}setDefaultStyle(t){this.m_=t,this.u_.forEach(t),t(this.y_);for(let e=0;e<this.Qi.length;e+=1)this.p_(this.Qi[e]);return this.d_=!0,this.Ji.us.Ss(),this}Hc(t,e){const i=Jh(t,e?this.u_.filter(r=>r.getVisible()&&r.getIsUnderMouse()):this.u_.filter(r=>r.getVisible()),this.S_,Da);if(i!==void 0)return{location:mt(i[0],this.ks.us.dt,this.scale),scale:this.scale,resultTableContent:this.Wy(new Ji,this,i[1]).Zu(),owner:this,fillStyle:i[1].getDominantStyle(),figure:i[1]}}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}getXMax(){return this.c_||(this.c_=this.v_()),this.c_.max.x}getXMin(){return this.c_||(this.c_=this.v_()),this.c_.min.x}getYMax(){return this.c_||(this.c_=this.v_()),this.c_.max.y}getYMin(){return this.c_||(this.c_=this.v_()),this.c_.min.y}br(){return Y(0,0)}v_(){const t=se(wa(Rt,Rt),wa(Ft,Ft));for(let e=0;e<this.u_.length;e+=1)if(this.u_[e].getVisible()){const i=this.u_[e].getBoundaries();t.min.x=Math.min(t.min.x,i.min.x),t.min.y=Math.min(t.min.y,i.min.y),t.max.x=Math.max(t.max.x,i.max.x),t.max.y=Math.max(t.max.y,i.max.y)}return t}attach(t,e=!0,i=!1){return super.attach(t,e),this.p_(t,e,i),this}p_(t,e=!0,i=!1){oi(t,this.qi,i,{fill:this.u_.length>0?this.u_[0].getDominantStyle():this.y_.getDominantStyle()})}}const Pz=(s,t,e)=>s.addRow(t.getName()).addRow("Lower extreme","",e.lowerExtreme.toFixed(2)).addRow("Lower quartile","",e.lowerQuartile.toFixed(2)).addRow("Median","",e.median.toFixed(2)).addRow("Upper quartile","",e.upperQuartile.toFixed(2)).addRow("Upper extreme","",e.upperExtreme.toFixed(2));class Lz extends of{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,d,f),this.xs="Box Series",this.Wy=Pz,this.b_=Iu(),this.S_=m=>mt(this.Ts.toPoint((m.start+m.end)/2,m.median),this.scale,this.ks.us.dt),this.Ji.us.Nn(Dt.pf),this.Ts=u,this.y_=new FR(this.ks,this.scale,this.qx,ae,ae,ae,ae,m=>!1,this.Ts,0,0,0,0,0,0,0,this.qi).dispose(),this.x_=new yo(()=>{const m=this.ks.Lg(this.scale);return this.ds(m,{setEventHandlers:!1}),m},(m,p,x)=>(m.Re(x.strokeStyle),p.map(v=>{const A=v.existingMember||m.zr();return A.Eg(v.start,v.end),A}))),this.M_=new yo(()=>{const m=this.b_._t(this.ks.Ob(this.scale));return this.ds(m,{setEventHandlers:!1}),m},(m,p,x)=>(m.Ce(x.fillStyle).we(x.strokeStyle),p.map(v=>{const A=v.existingMember||m.zr();return A.pl(v.vertices),this.b_.Ot(A,v.figure),A})),()=>{this.b_.Nt()},(m,p)=>{this.gs(p)})}WM(t){if(!(t instanceof Me||t instanceof Pi))throw new Error("BoxSeries only supports Linear Axes")}A_(t){const e=this.M_.fp(),i=this.x_.fp();t.forEach(r=>{if(!r.getVisible())return;const n=this.Ts.toPoint((r.start+r.end-r.tM*(r.end-r.start))/2,r.lowerQuartile),a=this.Ts.toPoint((r.end-r.start)*r.tM,r.upperQuartile-r.lowerQuartile),o=this.Ts.toPoint((r.start+r.end)/2,r.lowerQuartile),l=this.Ts.toPoint((r.start+r.end)/2,r.lowerExtreme),u=this.Ts.toPoint((r.start+r.end)/2,r.upperQuartile),d=this.Ts.toPoint((r.start+r.end)/2,r.upperExtreme),f=this.Ts.toPoint((r.start+r.end-r.iM*(r.end-r.start))/2,r.lowerExtreme),g=this.Ts.toPoint((r.start+r.end+r.iM*(r.end-r.start))/2,r.lowerExtreme),m=this.Ts.toPoint((r.start+r.end-r.iM*(r.end-r.start))/2,r.upperExtreme),p=this.Ts.toPoint((r.start+r.end+r.iM*(r.end-r.start))/2,r.upperExtreme),x=this.Ts.toPoint((r.start+r.end-r.tM*(r.end-r.start))/2,r.median),v=this.Ts.toPoint((r.start+r.end+r.tM*(r.end-r.start))/2,r.median);e.add({No:r.No,vertices:[{x:n.x,y:n.y},{x:n.x,y:n.y+a.y},{x:n.x+a.x,y:n.y+a.y},{x:n.x+a.x,y:n.y}],figure:r},{fillStyle:r.sM,strokeStyle:r.eM}),i.add({No:0,start:o,end:l,figure:r},{strokeStyle:r.lu}),i.add({No:0,start:u,end:d,figure:r},{strokeStyle:r.lu}),i.add({No:0,start:f,end:g,figure:r},{strokeStyle:r.lu}),i.add({No:0,start:m,end:p,figure:r},{strokeStyle:r.lu}),i.add({No:0,start:x,end:v,figure:r},{strokeStyle:r.hM})}),e.finishPlot(),i.finishPlot()}add(t){const e=new FR(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.Ts,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.qi);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class VR extends af{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u),this.dimensions={x:0,y:0,radiusX:0,radiusY:0},this.Ya=se(Y(0,0),Y(0,0)),this.ks=t,this.scale=e,this.be=re(u.ellipseSeriesFillStyle,d),this.xe=re(u.ellipseSeriesStrokeStyle,d)}getBoundaries(){return this.Ya}setDimensions(t){return this.dimensions=t,this.Ya=se(Y(t.x-t.radiusX,t.y-t.radiusY),Y(t.x+t.radiusX,t.y+t.radiusY)),this.jx(),this.ks.Ss(),this}getDimensions(){return this.dimensions}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Iz extends of{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,u,d),this.xs="Ellipse Series",this.Wy=(g,m,p)=>g.addRow(m.xs).addRow("X","",m.axisX.formatValue(p.getDimensions().x)).addRow("Y","",m.axisY.formatValue(p.getDimensions().y)).addRow("Radius X","",m.axisX.formatValue(p.getDimensions().radiusX)).addRow("Radius Y","",m.axisY.formatValue(p.getDimensions().radiusY)),this.b_=Iu(),this.S_=g=>{const m=g.getDimensions(),p=Y(m.x,m.y);return mt(p,this.scale,this.ks.us.dt)},this.Ji.us.Nn(Dt.pf),this.__=f,this.y_=new VR(this.ks,this.scale,ae,ae,ae,ae,ae,g=>!1,this.qi,this.__).dispose(),this.M_=new yo(()=>{const g=this.b_._t(this.ks.Ob(this.scale));return this.ds(g,{setEventHandlers:!1}),g},(g,m,p)=>(g.Ce(p.fillStyle).we(p.strokeStyle),m.map(x=>{const v=x.existingMember||g.zr();return v.pl(x.vertices),this.b_.Ot(v,x.figure),v})),()=>{this.b_.Nt()},(g,m)=>{this.gs(m)})}WM(t){if(!(t instanceof Me||t instanceof Pi))throw new Error("EllipseSeries only supports Linear Axes")}A_(t){const e=this.M_.fp();t.forEach(i=>{if(!i.getVisible())return;const r=i.getDimensions(),n=[],a=r.drawSteps!==void 0?r.drawSteps:72;for(let u=0;u<=a;u+=1){const d=u/a*2*Math.PI,f=r.x+r.radiusX*Math.cos(d),g=r.y+r.radiusY*Math.sin(d);n.push({x:f,y:g})}const o=i.getFillStyle(),l=i.getStrokeStyle();e.add({No:i.No,vertices:n,figure:i},{fillStyle:o,strokeStyle:l})}),e.finishPlot()}add(t){const e=new VR(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class zR extends af{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u),this.w_=[],this.Ya=Ie,this.ks=t,this.scale=e,this.be=re(u.polygonSeriesFillStyle,d),this.xe=re(u.polygonSeriesStrokeStyle,d)}getBoundaries(){return this.Ya}setDimensions(t){return this.w_=t,this.Ya=ei(this.w_),this.jx(),this.ks.Ss(),this}getDimensions(){return this.w_}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Uz extends of{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,u,d),this.xs="Polygon Series",this.Wy=(g,m,p)=>g.addRow(m.getName()),this.b_=Iu(),this.S_=g=>{const m=g.getBoundaries(),p=Y((m.min.x+m.max.x)/2,(m.min.y+m.max.y)/2);return mt(p,this.scale,this.ks.us.dt)},this.Ji.us.Nn(Dt.pf),this.__=f,this.y_=new zR(this.ks,this.scale,ae,ae,ae,ae,ae,g=>!1,this.qi,this.__).dispose(),this.M_=new yo(()=>{const g=this.b_._t(this.ks.Ob(this.scale));return this.ds(g,{setEventHandlers:!1}),g},(g,m,p)=>(g.Ce(p.fillStyle).we(p.strokeStyle),m.map(x=>{const v=x.existingMember||g.zr();return v.pl(x.vertices),this.b_.Ot(v,x.figure),v})),()=>{this.b_.Nt()},(g,m)=>{this.gs(m)})}WM(t){}A_(t){const e=this.M_.fp();t.forEach(i=>{if(!i.getVisible())return;const r=i.getDimensions(),n=i.getFillStyle(),a=i.getStrokeStyle();e.add({No:i.No,vertices:r,figure:i},{fillStyle:n,strokeStyle:a})}),e.finishPlot()}add(t){const e=new zR(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class NR extends af{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u),this.C_={x:0,y:0,width:0,height:0},this.k_={x1:0,y1:0,x2:0,y2:0},this.Ya=se(Y(0,0),Y(0,0)),this.be=re(u.rectangleSeriesFillStyle,d),this.ks=t,this.scale=e,this.xe=re(u.rectangleSeriesStrokeStyle,d)}getBoundaries(){return this.Ya}setDimensions(t){return"x"in t?(this.C_=t,this.k_={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.k_=t,this.C_={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.Ya=ei([this.C_,Y(this.C_.x+this.C_.width,this.C_.y+this.C_.height)]),this.jx(),this.ks.Ss(),this}getDimensionsPositionAndSize(){return this.C_}getDimensionsTwoPoints(){return this.k_}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Oz extends of{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,u,d),this.xs="Rectangle Series",this.Wy=(g,m,p)=>{const x=p.getDimensionsPositionAndSize();return g.addRow(m.xs).addRow("X","",m.axisX.formatValue(x.x)).addRow("Y","",m.axisX.formatValue(x.y)).addRow("Width","",m.axisX.formatValue(x.width)).addRow("Height","",m.axisX.formatValue(x.height))},this.b_=Iu(),this.S_=g=>{const m=g.getDimensionsPositionAndSize(),p=Y(m.x+m.width/2,m.y+m.height/2);return mt(p,this.scale,this.ks.us.dt)},this.Ji.us.Nn(Dt.pf),this.__=f,this.y_=new NR(this.ks,this.scale,ae,ae,ae,ae,ae,g=>!1,this.qi,this.__).dispose(),this.M_=new yo(()=>{const g=this.b_._t(this.ks.Ob(this.scale));return this.ds(g,{setEventHandlers:!1}),g},(g,m,p)=>(g.Ce(p.fillStyle).we(p.strokeStyle),m.map(x=>{const v=x.existingMember||g.zr();return v.pl(x.vertices),this.b_.Ot(v,x.figure),v})),()=>{this.b_.Nt()},(g,m)=>{this.gs(m)})}WM(t){}A_(t){const e=this.M_.fp();t.forEach(i=>{if(!i.getVisible())return;const r=i.getDimensionsTwoPoints(),n=[{x:r.x1,y:r.y1},{x:r.x1,y:r.y2},{x:r.x2,y:r.y2},{x:r.x2,y:r.y1}],a=i.getFillStyle(),o=i.getStrokeStyle();e.add({No:i.No,vertices:n,figure:i},{fillStyle:a,strokeStyle:o})}),e.finishPlot()}add(t){const e=new NR(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class BR extends af{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u),this.dimensions={startX:0,startY:0,endX:0,endY:0},this.Ya=se(Y(0,0),Y(0,0)),this.qi=u,this.ks=t,this.scale=e,this.xe=re(u.segmentSeriesStrokeStyle,d)}getBoundaries(){return this.Ya}setDimensions(t){return this.dimensions=t,this.Ya=se(Y(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),Y(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.jx(),this.ks.Ss(),this}getDimensions(){return this.dimensions}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){const t=this.xe;return t!==bt?t.getFillStyle():Nt}}class Gz extends of{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,u,d),this.xs="Segment Series",this.Wy=(g,m,p)=>g.addRow(m.xs).addRow("Start",m.axisX.formatValue(p.getDimensions().startX),",",m.axisY.formatValue(p.getDimensions().startY)).addRow("End",m.axisX.formatValue(p.getDimensions().endX),",",m.axisY.formatValue(p.getDimensions().endY)),this.T_=Iu(),this.S_=g=>{const m=g.getDimensions(),p=Y((m.startX+m.endX)/2,(m.startY+m.endY)/2);return mt(p,this.scale,this.ks.us.dt)},this.Ji.us.Nn(Dt.pf),this.__=f,this.y_=new BR(this.ks,this.scale,ae,ae,ae,ae,ae,g=>!1,this.qi,this.__).dispose(),this.x_=new yo(()=>{const g=this.T_._t(this.ks.Lg(this.scale));return this.ds(g,{setEventHandlers:!1}),g},(g,m,p)=>(g.Re(p.strokeStyle),m.map(x=>{const v=x.existingMember||g.zr();return v.Eg(x.start,x.end),this.T_.Ot(v,x.figure),v})),()=>{this.T_.Nt()},(g,m)=>{this.gs(m)})}WM(t){}A_(t){const e=this.x_.fp();t.forEach(i=>{if(!i.getVisible())return;const r=i.getDimensions(),n={x:r.startX,y:r.startY},a={x:r.endX,y:r.endY},o=i.getStrokeStyle();e.add({No:i.No,start:n,end:a,figure:i},{strokeStyle:o})}),e.finishPlot()}add(t){const e=new BR(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}const My=(s,t,e)=>{const i=t.getIcon();return i?s.addRow(i,t.getName()):s.addRow(t.getName()),s.addRow("X:","",t.axisX.formatValue(e.x)).addRow("Y:","",t.axisY.formatValue(e.y)).addRow("Intensity:","",e.intensity.toFixed(1))};class h5 extends uh{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,d,f),this.xs="Heatmap Grid Series",this.Wy=My,this.Lx=!1,this.Av={},this.Ji.us.Nn(Dt.yf),this.F_=u,this.qi=d;const m=g;this.be=re(d.heatmapGridSeriesFillStyle,m),this.gv=re(this.qi.heatmapGridSeriesWireframeStyle,m);const p={heatmapDataType:"intensity",dataOrder:u.dataOrder||"columns",columns:u.columns,rows:u.rows};this.Un=p,this.I_=this.ks.P_(this.scale,[],p).Ce(this.be).mv(this.gv).cs(this.getHighlight()),this.ds(this.I_),u.start&&this.setStart(u.start),u.end&&this.setEnd(u.end),u.step&&this.setStep(u.step),this.setHighlightOnHover(!1)}pv(){const t=this.Av.start||{x:0,y:0};let e;e=this.Av.end?{x:(this.Av.end.x-t.x)/this.Un.columns,y:(this.Av.end.y-t.y)/this.Un.rows}:this.Av.step?this.Av.step:{x:1,y:1},this.I_.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.I_.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.I_.vv().step}setEnd(t){return this.Av.end=t,this.pv(),this}getEnd(){return this.I_.vv().end}clear(){return this.I_.Nt(),this.ks.Ss(),this.D.emit("dataClear",this),this}setWireframeStyle(t){return this.gv=typeof t=="function"?t(this.gv):t,this.I_.mv(this.gv),this.ks.Ss(),this.D.emit("styleChange",this),this}getWireframeStyle(){return this.gv}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setIntensityInterpolation(t){return t=t||"disabled",this.I_.xv(t),this.ks.Ss(),this.D.emit("styleChange",this),this}getIntensityInterpolation(){return this.I_.Mv()}Kp(){return this.tS&&this.getVisible()}Gd(){return os(this.be)}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be}),this}D_(t){this.I_.D_().forEach(e=>{t.I_._v(e)})}l_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}B_(t){return this.D.on("styleChange",t)}L_(t){return this.D.off(t)}Hc(t,e,i=this.Lx){const r=mt(t,this.ks.us.dt,this.scale),n=e?this.I_.getIsUnderMouse()?this.I_:void 0:this.I_;if(!n)return;const a=i?n.zx(r):n.Hc(r);if(a){const o={x:a.x,y:a.y,column:a.column,row:a.column,intensity:a.cellValue};return{location:o,scale:this.scale,resultTableContent:this.Wy(new Ji,this,o).Zu(),owner:this}}}solveNearestFromScreen(t,e=this.Lx){return this.Hc(gs(t,this.Ji.us),!1,e)}getXMax(){const t=this.I_;return t?t.bt():void 0}getXMin(){const t=this.I_;return t?t.vt():void 0}getYMax(){const t=this.I_;return t?t.Mt():void 0}getYMin(){const t=this.I_;return t?t.xt():void 0}br(){const t=Y(0,0);return t.x=Math.max(t.x,this.I_.vl()),t.y=Math.max(t.y,this.I_.bl()),t}WM(t){if(!(t instanceof Me))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof Me&&t._i())throw new Error("HeatmapGridSeries can not be attached to a high precision Axis.")}Ie(t,e){t.cs(e),this.ks.Ss()}Te(){return super.Te(),this.I_.Yo(this.getBoundaries()),this}}class Yz extends h5{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,u,d,f,g),this.dS=!1,this.Wy=My}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(Dt.vf),Array.isArray(t)){if(t.length===0)return this;const e={x:t.length,y:t[0].length,columns:this.Un.dataOrder==="columns"?t.length:t[0].length,rows:this.Un.dataOrder==="rows"?t.length:t[0].length},i=this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows,r=this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns;if(e.x>i||e.y>r){if(this.chart.cA.Hn===!0){const a=`HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.
Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows}.
Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(a)}const n=[];for(let a=0;a<i;a+=1)n[a]=t[a].slice(0,r);t=n}this.I_._v({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(t.values.length===0)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:this.Un.dataOrder==="columns"?t.values.length:t.values[0].length,rows:this.Un.dataOrder==="rows"?t.values.length:t.values[0].length},i=this.Un.dataOrder==="columns"?t.iColumn:t.iRow,r=i+e.primary-1,n=this.Un.dataOrder==="columns"?t.iRow:t.iColumn,a=n+e.secondary-1,o=(this.Un.dataOrder==="columns"?this.Un.columns:this.Un.rows)-1,l=(this.Un.dataOrder==="columns"?this.Un.rows:this.Un.columns)-1;if(i<0||n<0){if(this.chart.cA.Hn===!0){const u=`HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.
iColumn: ${t.iColumn}, iRow: ${t.iRow}.
No intensity values will be invalidated.`;ht.console.warn(u)}return this}if(r>o||a>l){if(this.chart.cA.Hn===!0){const m=`HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.
Grid ${this.Un.columns}x${this.Un.rows}, input ${e.columns}x${e.rows} starting at [${t.iColumn},${t.iRow}].
Out of bounds data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(m)}const u=Math.max(r-o,0),d=e.primary-u,f=Math.max(a-l,0),g=[];for(let m=0;m<d;m+=1)g[m]=t.values[m].slice(0,f>0?-f:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:g}}this.I_._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.D.emit("invalidateIntensity",this,t),this.ks.Ss(),this.dS=!0,this}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.I_.Ce(this.be),this.D.emit("styleChange",this),this.ks.Ss(),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}R_(t){return this.D.on("invalidateIntensity",t)}E_(t){return this.D.off(t)}}class Hz extends uh{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,d,f),this.xs="Scrolling Heatmap Grid Series",this.Wy=My,this.Lx=!1,this.Av={},this.Ji.us.Nn(Dt.yf),this.Ji.us.Nn(Dt.vf);const m=g;this.be=re(d.heatmapScrollingGridSeriesFillStyle,m),this.gv=re(this.qi.heatmapScrollingGridSeriesWireframeStyle,m);const p={scrollDimension:"columns",heatmapDataType:"intensity",...u};this.Un=p,this.z_=this.ks.V_(this.scale,[],p).Ce(this.be).mv(this.gv).cs(this.getHighlight()),this.ds(this.z_),u.start&&this.setStart(u.start),u.step&&this.setStep(u.step),this.setHighlightOnHover(!1)}pv(){const t=this.Av.start||{x:0,y:0};let e;e=this.Av.step?this.Av.step:{x:1,y:1},this.z_.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.z_.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.z_.vv().step}clear(){return this.z_.Nt(),this.ks.Ss(),this}setWireframeStyle(t){return this.gv=typeof t=="function"?t(this.gv):t,this.z_.mv(this.gv),this.ks.Ss(),this}getWireframeStyle(){return this.gv}setPixelInterpolationMode(t){return t=t||"disabled",this.z_.xv(t),this.ks.Ss(),this}getPixelInterpolationMode(){return this.z_.Mv()}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setDataCleaning(t){return this.z_.Su(t),this.ks.Ss(),this}Kp(){return this.tS&&this.getVisible()}Gd(){return os(this.be)}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be}),this}Ce(t){return this.be=typeof t=="function"?t(this.be):t,this.z_.Ce(this.be),this.ks.Ss(),this}Hc(t,e,i=this.Lx){const r=mt(t,this.ks.us.dt,this.scale),n=e?this.z_.getIsUnderMouse()?this.z_:void 0:this.z_;if(!n)return;const a=i?n.zx(r):n.Hc(r);return a?er(a,this.scale,this.Wy(new Ji,this,{x:a.x,y:a.y,column:a.column,row:a.column,intensity:a.cellValue}).Zu(),this):void 0}solveNearestFromScreen(t,e=this.Lx){return this.Hc(gs(t,this.Ji.us),!1,e)}WM(t){if(!(t instanceof Me))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof Me&&t._i())throw new Error("HeatmapScrollingGridSeries can not be attached to a high precision Axis.")}getXMax(){return this.z_.bt()||0}getXMin(){return this.z_.vt()||0}getYMax(){return this.z_.Mt()||0}getYMin(){return this.z_.xt()||0}br(){const t=Y(0,0);return t.x=Math.max(t.x,this.z_.vl()),t.y=Math.max(t.y,this.z_.bl()),t}Ie(t,e){t.cs(e),this.ks.Ss()}}class Xz extends Hz{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,u,d,f,g),this.Wy=My}addIntensityValues(t){if(t.length===0||t[0].length===0)return this;const e=t.length,i=t[0].length,r=(this.Un.scrollDimension==="columns"?t.length:t[0].length,this.Un.scrollDimension==="rows"?t.length:t[0].length,0+i-1),n=this.Un.resolution-1;if(r>n){if(this.chart.cA.Hn===!0){const o=`HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.
Grid resolution: ${this.Un.resolution}, input ${e}x${i}.
Excess data will be automatically clipped. This can result in sub-optimal performance.`;ht.console.warn(o)}const a=[];for(let o=0;o<e;o+=1)a[o]=t[o].slice(0,n+1);t=a}return this.z_.Fv(t),this.ks.Ss(),this}invalidateIntensityValues(t){return this.z_._v(t.iSample,t.values),this.ks.Ss(),this}getSampleCount(){return this.z_.O_()}setFillStyle(t){return this.Ce(t),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class l5 extends uh{constructor(){super(...arguments),this.QM=[],this.yu=[],this.N_=[],this.G_=[],this.e_=1e3,this.JM=0,this.Hi=cn.onHover,this._l={type:"disabled",packager:(t,e,i)=>t.slice()},this.Lx=!0,this.W_=[],this.U_=[],this.Y_=!1,this.Gd=()=>os(this.H_)||os(this.X_),this.j_=t=>{const e=t.length;if(this.QM.length>0){const i=this.QM.length-1,r=this.QM[i];if(e>0){const[n,a]=r.tl(),[o,l]=r.qa();if((o?n.length+o.length:n.length)>=this.e_){const u=o&&o.length>0?o[o.length-1]:n[n.length-1],d=l&&l.length>0?l[l.length-1]:a[n.length-1],f=(u.x+t[0].position)/2,g=Kl(f,u,Y(t[0].position,t[0].high)).y,m=Kl(f,d,Y(t[0].position,t[0].low)).y,p=_n(f,g,m);r.nl(p,se(Y(f,m),Y(f,g))).zl(!0),this.Z_([p].concat(t)).Rl(!0)}else r.nl(t)}}else e>0&&this.Z_(t)},this.Q_=t=>{const e=this.W_,i=t.length;if(this.W_.length>0){if(i>0){const r=e[e.length-1],n=r.tl(),a=r.qa();if(n.length+a.length>=this.e_){const o=a.length>0?a[a.length-1]:n[n.length-1],l=(o.x+t[0].x)/2,u=Kl(l,o,Y(t[0].x,t[0].y)).y,d=Y(l,u);r.nl(d,se(Y(l,u),Y(l,u))).zl(!0),e.push(this.J_([d].concat(t),this.i_).Rl(!0))}else r.nl(t)}}else i>0&&e.push(this.J_(t))},this.K_=t=>{const e=this.U_,i=t.length;if(this.U_.length>0){if(i>0){const r=e[e.length-1],n=r.tl(),a=r.qa();if(n.length+a.length>=this.e_){const o=a.length>0?a[a.length-1]:n[n.length-1],l=(o.x+t[0].x)/2,u=Kl(l,o,Y(t[0].x,t[0].y)).y,d=Y(l,u);r.nl(d,se(Y(l,u),Y(l,u))).zl(!0),e.push(this.q_([d].concat(t)).Rl(!0))}else r.nl(t)}}else i>0&&e.push(this.q_(t))},this.tw=(t,e)=>{const i=t.Ux(e);if(i)return[mt(i[0],this.scale,this.ks.us.dt),mt(i[1],this.scale,this.ks.us.dt)]},this.iw=(t,e)=>{const i=t.sw(e);if(i)return[mt(i[0],this.scale,this.ks.us.dt),mt(i[1],this.scale,this.ks.us.dt)]}}setDataCleaning(t){const e=t&&t.minDataPointCount;return this.JM=e!==void 0&&e>0?e:0,this.ks.Ss(),this}clear(){for(let t=0;t<this.QM.length;t+=1)this.QM[t].dispose();for(let t=0;t<this.W_.length;t+=1)this.W_[t].dispose();for(let t=0;t<this.U_.length;t+=1)this.U_[t].dispose();return this.yu.length=0,this.N_.length=0,this.G_.length=0,this.i_=void 0,this.QM.length=0,this.W_.length=0,this.U_.length=0,this.ks.Ss(),this.D.emit("dataClear",this),this}getPointAmount(){return this.QM.reduce((t,e)=>t+e.ol()+e.al(),this.yu.length)}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}setCursorEnabled(t){return super.setCursorEnabled(t)}getCursorResultTableFormatter(){return this.Wy}getXMax(){return jo(this.QM,Ww,Math.max,Jw,this.i_)||0}getXMin(){return jo(this.QM,Xw,Math.min,qw,this.i_)||0}getYMax(){return jo(this.QM,jw,Math.max,Qw,this.i_)||0}getYMin(){return jo(this.QM,$w,Math.min,Zw,this.i_)||0}br(){const t=Y(0,0);for(const e of this.QM)t.x=Math.max(t.x,e.vl()),t.y=Math.max(t.y,e.bl());return t}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}WM(t){}qM(t,e,i){this.yu=Es(this.yu,t,{canReturnB:!1}),this.N_=Es(this.N_,e,{canReturnB:!1}),this.G_=Es(this.G_,i,{canReturnB:!1}),this.ks.Ss()}ew(t,e,i,r){this.hw(e,i,r),this.qM(Array.isArray(t)?t:[t],e,i)}hw(t,e,i){const r=ur(ei(t),ei(e));this.i_?this.i_=ur(this.i_,r):this.i_=r,i&&(this.i_=ur(this.i_,i))}rw(){const t=this.QM.length,e=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd());let i=0;if(t>1)for(let r=0;r<t-1;r+=1)this.scale.x.mi(this.QM[r].bt(),this.QM[r].vl())<e&&(i+=1);return i}s_(t,e,i,r){if(i>0){const n=Math.ceil(i/e),a=t.length-n;if(a>0&&r>0){const o=a-r>0?r:a;if(o>0){for(let l=0;l<o;l+=1)t[l].dispose();t.splice(0,o)}}}}nw(t){const e=this.QM.length>0?this.QM[this.QM.length-1]:void 0,i=e?e.tl()[0].length+(e.qa()[0]?e.qa()[0].length:0):void 0;qo(t,i,this.e_,this.j_)}ow(t){const e=this.W_.length>0?this.W_[this.W_.length-1].tl().length+this.W_[this.W_.length-1].qa().length:void 0;qo(t,e,this.e_,this.Q_)}aw(t,e){const i=this.W_.length>0?this.W_[this.W_.length-1].tl().length+this.W_[this.W_.length-1].qa().length:void 0;qo(t,i,this.e_,this.Q_),qo(e,i,this.e_,this.K_)}Z_(t,e){const i=this.ks.lw(this.scale).nl(t,e).Ce(this.H_).Bl(this.X_).Pl(this._l).cs(this.getHighlight());return this.QM.push(i),this.ds(i),i}uw(t,e,i){const r=this.ks.rp(this.scale,void 0,[Jr.UserSeries]).nl(t,i).setMouseInteractions(!1).Re(e).cs(this.getHighlight());return this.ds(r),r}J_(t,e){return this.uw(t,this.cw,e)}q_(t,e){return this.uw(t,this.dw,e)}fw(t){this.H_=typeof t=="function"?t(this.H_):t;const e=this.H_;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Ce(e);this.ks.Ss()}Aw(t){this.X_=typeof t=="function"?t(this.X_):t;const e=this.X_;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Bl(e);this.ks.Ss()}gw(){return this.H_}Ll(){return this.X_}mw(t){this.cw=typeof t=="function"?t(this.cw):t;const e=this.cw;for(let i=0;i<this.W_.length;i+=1)this.W_[i].Re(e);this.ks.Ss()}yw(t){this.dw=typeof t=="function"?t(this.dw):t;const e=this.dw;for(let i=0;i<this.U_.length;i+=1)this.U_[i].Re(e);this.ks.Ss()}pw(){return this.cw}Sw(){return this.dw}Ie(t,e){t.cs(e),this.bw(e),this.ks.Ss()}bw(t){for(let e=0;e<this.W_.length;e+=1)this.W_[e].cs(t);for(let e=0;e<this.U_.length;e+=1)this.U_[e].cs(t)}oS(){if(super.oS(),this.Y_=!1,this.JM>0){const t=this.QM.length,e=this.rw();this.s_(this.QM,this.e_,this.JM,e);const i=this.QM.length;this.W_.length>0&&this.s_(this.W_,this.e_,this.JM,e),this.U_.length>0&&this.s_(this.U_,this.e_,this.JM,e),t!==i&&this.ZM(),this.Y_=!0}}Te(){if(super.Te(),this.yu.length>0&&(this.nw(this.yu),this.xw(this.N_,this.G_),this.Y_=!0),this.Y_){const t=this.getBoundaries();for(const e of this.QM)e.Yo(t);for(const e of this.W_)e.Yo(t);for(const e of this.U_)e.Yo(t)}}dp(){this.i_=void 0,this.yu.length=0,this.N_.length=0,this.G_.length=0}Hc(t,e,i=this.Lx){const r=((n,a,o)=>{let l,u,d=Number.MAX_VALUE;for(let f=0;f<a.length;f+=1){const g=a[f],m=o(g,n);if(m){const p=Da(n,m[0]),x=Da(n,m[1]);(l===void 0||p<d||x<d)&&(l=m,u=g,p<d?d=p:x<d&&(d=x))}}return l&&u?[l,u]:void 0})(t,e?this.QM.filter(n=>n.getIsUnderMouse()):this.QM,i?this.iw:this.tw);if(r!==void 0&&r[0]!==void 0){const n=mt(r[0][0],this.ks.us.dt,this.scale),a=mt(r[0][1],this.ks.us.dt,this.scale);return er(n,this.scale,this.Wy(new Ji,this,n.x,n.y,a.y).Zu(),this,r[1].Eh())}}solveNearestFromScreen(t,e=this.Lx){return this.Hc(gs(t,this.Ji.us),!1,e)}}const Wz=(s,t,e,i,r)=>{const n=t.getIcon();return n?s.addRow(n,t.getName()):s.addRow(t.getName()),s.addRow("Position","",t.axisX.formatValue(e)).addRow("Value","",t.axisY.formatValue(i)).addRow("Base","",t.axisY.formatValue(r))};class $z extends l5{constructor(t,e,i,r,n,a,o,l,u=0,d,f){super(t,e,i,r,n,a,o,l,d,f),this.xs="Area Series",this.Wy=Wz,this.Ji.us.Nn(Dt.mf),this.Mw=u}add(t){this.QM.length!==0&&this.Ji.us.Nn(Dt.vf);const e=Array.isArray(t)?t:[t];if(e.length>0){const i=this._w(e),[r,n]=this.ww(i);this.ew(i,r,n,se(Y(Rt,this.Mw),Y(Ft,this.Mw)));const a=this.yu[this.yu.length-1];this.t_=a?{position:a.position,high:a.high,low:a.low}:void 0,this.D.emit("dataAdd",this,e,this.i_)}return this}addArrayY(t,e=1,i=0){let r=i;return r||(r=this.t_?this.t_.position+e:0),this.add(o5(t,e,r)),this}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}}class jA extends $z{constructor(){super(...arguments),this.dw=bt}xw(t){return this.ow(t)}ww(t){const e=t.length,i=Array(e);for(let r=0;r<e;r+=1){const n=t[r];i[r]=Y(n.position,n.high)}return[i,[]]}setStrokeStyle(t){return this.mw(t),this}getStrokeStyle(){return this.pw()}}class jz extends jA{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,e,i,r,n,a,o,l,u,d,f);const m=g;this.H_=re(this.qi.areaSeriesPositiveFillStyle,m),this.X_=Nt,this.cw=re(this.qi.areaSeriesPositiveStrokeStyle,m)}_w(t){return this.Pw(t)}Pw(t){const e=[];return t.length===1?this.Tw(t[0],e):this.Fw(t,e),e}Tw(t,e,i=0){const r=this.Mw;return e[i]=t.y<r?_n(t.x,r,r):_n(t.x,t.y,r),i+1}Fw(t,e,i=0){let r=0;const n=t.length-1,a=this.Mw;for(;r<n;){const o=t[r],l=t[r+=1];if(o.y>=a){const u=_n(o.x,o.y,a);if(i!==0&&QM(e[i-1],u)||(e[i]=u,i+=1),l.y<a){const d=nx(Y(Ft,a),Y(Rt,a),o,l);d&&(e[i]=_n(d.x,d.y,a),i+=1),e[i]=_n(l.x,a,a),i+=1}else e[i]=_n(l.x,l.y,a),i+=1}else{const u=_n(o.x,a,a);if(i!==0&&QM(e[i-1],u)||(e[i]=u,i+=1),l.y>=a){const d=nx(Y(Ft,a),Y(Rt,a),o,l);d&&(e[i]=_n(d.x,d.y,a),i+=1),e[i]=_n(l.x,l.y,a),i+=1}else e[i]=_n(l.x,a,a),i+=1}}return i}r_(){return by(this.QM,t=>t[0]||[])}setFillStyle(t){return this.fw(t),this}getFillStyle(){return this.gw()}attach(t,e=!0,i=!1){return oi(t,this.qi,i,{fill:this.H_,stroke:this.cw}),super.attach(t,e,i)}}const qz={Positive:jz},Jz=(s,t,e,i,r)=>s.addRow(t.getName()).addRow("Position","",t.axisX.formatValue(e)).addRow("High","",t.axisY.formatValue(i)).addRow("Low","",t.axisY.formatValue(r));class u5 extends l5{constructor(t,e,i,r,n,a,o,l,u,d,f){super(t,e,i,r,n,a,o,l,u,d),this.xs="Area Range Series",this.Wy=Jz,this.Ji.us.Nn(Dt.mf);const g=f;this.H_=re(this.qi.areaRangeSeriesFillStyle,g),this.cw=re(this.qi.areaRangeSeriesStrokeStyle,g),this.X_=re(this.qi.areaRangeSeriesFillStyleInverted,g),this.dw=re(this.qi.areaRangeSeriesStrokeStyleInverted,g)}add(t){const e=Array.isArray(t)?t:[t],[i,r]=Uw(e);this.ew(t,i,r);const n=this.yu[this.yu.length-1];return this.t_=n?{position:n.position,high:n.high,low:n.low}:void 0,this.D.emit("dataAdd",this,e,this.i_),this}addArraysHighLow(t,e,i=1,r=0){if(t.length!==e.length)throw new Error("arrayHigh and arrayLow lengths are not equal");{let n=r;n||(n=this.t_?this.t_.position+i:0),this.add(((a,o,l=1,u)=>{const d=u!==void 0?u:0,f=new Array(a.length);for(let g=0;g<a.length;g+=1)f[g]={position:d+l*g,high:a[g],low:o[g]};return f})(t,e,i,n))}return this}xw(t,e){this.aw(t,e)}setHighFillStyle(t){return this.fw(t),this}setLowFillStyle(t){return this.Aw(t),this}setHighStrokeStyle(t){return this.mw(t),this}setLowStrokeStyle(t){return this.yw(t),this}getHighFillStyle(){return this.gw()}getLowFillStyle(){return this.Ll()}getHighStrokeStyle(){return this.pw()}getLowStrokeStyle(){return this.Sw()}r_(){return by(this.QM,t=>{const e=t[0],i=t[1];if(!e||!i)return[];const r=[],n=e.length;for(let a=0;a<n;a+=1)r[a]={position:e[a].x,high:e[a].y,low:i[a].y};return r})}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}attach(t,e=!0,i=!1){return oi(t,this.qi,i,{fill:this.H_,fill2:this.X_,behavior:{colorStep:!0}}),super.attach(t,e,i)}}var to;(function(s){s[s.before=0]="before",s[s.middle=.5]="middle",s[s.after=1]="after"})(to||(to={}));const PR=(s,t)=>{const e=[],i=s.length,r=t;if(i>0){let n=0,a=s[0];e[n]=a,n+=1;for(let o=1;o<i;o+=1){const l=s[o];if(r<=0)e[n]=Y(a.x,l.y),n+=1;else{const u=a.x*(1-r)+l.x*r;e[n]=Y(u,a.y),n+=1,e[n]=Y(u,l.y),n+=1}e[n]=l,n+=1,a=l}}return e},Zz=(s,t)=>{const e=s*s,i=e*s,r=1-s,n=r*r,a=n*r;return Y(a*t[0].x+3*s*n*t[1].x+3*e*r*t[2].x+i*t[3].x,a*t[0].y+3*s*n*t[1].y+3*e*r*t[2].y+i*t[3].y)},Gl=(s,t=32)=>{if(s.length===2)return[s[0],s[1]];const e=(a=>{const l=a.length-1,u=Array(l);if(l>1){let d=Y(0,0),f=Y(0,0),g=Y(0,0),m=hr(be(a[1],a[0]));const p=3;let x=0,v=0;for(let A=0;A<l;A+=1){const E=Array(4);if(E[0]=a[A],E[1]=a[A],E[3]=a[A+1],E[2]=a[A+1],g=m,d=f,A+1<l?(m=a[A+2]===a[A+1]?Y(0,0):hr(be(a[A+2],a[A+1])),f=hr(Bt(g,m))):f=Y(0,0),a[A+1].y===a[A].y)x=0,v=0;else{const T=a[A+1].x-a[A].x;x=Math.abs(d.x)>1e-5?Math.abs(T/(p*d.x)):1,v=Math.abs(f.x)>1e-5?Math.abs(T/(p*f.x)):1}E[1]=Bt(Wt(d,x),E[1]),E[2]=be(E[2],Wt(f,v)),u[A]=E}}return u.length>0?u:[]})(s),i=e.length,r=Array(i*t);let n=0;for(let a=0;a<i;a+=1)for(let o=0;o<=t;o+=1)r[n]=Zz(o/t,e[a]),n+=1;return r};class hf extends $A{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x){super(t,e,i,r,n,a,o,l,u,f,g),this.QM=[],this.xs="Point Line series",this.e_=1e5,this.Hx=5,this.Aa=0,this.Ga=!1,this.Wa=!1,this.Ua=!1,this.Lx=!0,this.Dw="nearest-x",this.Bw=1,this.Lw=[],this.Rw=v=>{if(this.QM.length>0){const A=this.QM[this.QM.length-1];if(v.length>0){const E=A.tl(),T=A.qa(),F=E.length+T.length-+A.El();if(F>=this.e_){const D=T.length>0?T[T.length-1]:E[A.El()?F:F-1],N=Y((D.x+v[0].x)/2,(D.y+v[0].y)/2);A.nl(N,se(Y(N.x,N.y),Y(N.x,N.y))).zl(!0),this.Ew([N].concat(v)).Rl(!0)}else A.nl(v,this.i_)}}else v.length>0&&this.Ew(v)},this.zw=v=>{if(this.Lw.length>0){const A=this.Lw[this.Lw.length-1];v.length>0&&((A.tl().length+A.qa().length)*this.Bw>=this.e_?this.Vw(v):A.nl(v))}else v.length>0&&this.Vw(v)},this.Ow=(v,A)=>{const E=v.Hc(A);if(E)return mt(E,this.scale,this.ks.us.dt)},this.Nw=(v,A)=>{const E=v.sw(A);if(E)return mt(E,this.scale,this.ks.us.dt)},this.Un=x,this.$x=d,this.Gw=m,this.Ww=re(f.pointLineSeriesFillStyle,p),this.lu=re(this.qi.pointLineSeriesStrokeStyle,p)}add(t){return super.add(t),this}r_(){return by(this.Lw)}setStrokeStyle(t){this.lu=typeof t=="function"?t(this.lu):t;const e=this.lu;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Re(e);return this.ks.Ss(),this}getStrokeStyle(){return this.lu}setPointFillStyle(t){this.Ww=typeof t=="function"?t(this.Ww):t;const e=this.Ww;for(let i=0;i<this.Lw.length;i+=1)this.Lw[i].Ce(e);return this.ks.Ss(),this}getPointFillStyle(){return this.Ww}setPointSize(t){this.Hx=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].q(t);return this.ks.Ss(),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){this.Aa=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].Nh(t);return this.ks.Ss(),this}getPointRotation(){return this.Aa}setIndividualPointSizeEnabled(t){this.Ga=t,t&&this.Ji.us.Nn(Dt.bf);for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].el(t);return this.ks.Ss(),this}getIndividualPointSizeEnabled(){return this.Ga}setIndividualPointRotationEnabled(t){this.Wa=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].hl(t);return this.ks.Ss(),this}getIndividualPointRotationEnabled(){return this.Wa}setIndividualPointValueEnabled(t){this.Ua=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].rl(t);return this.ks.Ss(),this}getIndividualPointValueEnabled(){return this.Ua}setVisible(t){return super.setVisible(t),this.Lw.forEach(e=>e.setVisible(t)),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorSolveBasis(t){return this.Dw=t,this.QM.forEach(e=>e.Ka(eu(t))),this.Lw.forEach(e=>e.Ka(eu(t))),this.ks.Ss(),this}getCursorSolveBasis(){return this.Dw}Gd(){return os(this.Ww)||os(this.lu.getFillStyle())}Cs(){return this.bs||this.$x}WM(t){}Ie(t,e){t.cs(e),this.ks.Ss()}h_(t){const e=this.QM.length>0?this.QM[this.QM.length-1].tl().length+this.QM[this.QM.length-1].qa().length-+this.QM[this.QM.length-1].El():void 0;qo(t,e,this.e_,this.Rw),qo(t,e,this.e_,this.zw)}Vw(t,e){const i=this.ks.bS(this.scale).nl(t,e).setMouseInteractions(this.Yi).Ce(this.Ww).il(this.$x).q(this.Hx).Nh(this.Aa).el(this.Ga).hl(this.Wa).rl(this.Ua).Ka(eu(this.Dw)).cs(this.getHighlight());return this.ds(i),this.Lw.push(i),i}Ew(t,e){const i=this.ks.rp(this.scale,void 0,[Jr.UserSeries,...this.Gw]).nl(t,e).setMouseInteractions(this.Yi).Re(this.lu).Ka(eu(this.Dw)).cs(this.getHighlight());return this.ds(i),this.QM.push(i),i}attach(t,e=!0,i=!1){return oi(t,this.qi,i,{stroke:this.lu,fill:this.Ww}),super.attach(t,e,i)}getPointAmount(){return this.Lw.reduce((t,e)=>t+e.ol()+e.al(),this.yu.length)}clear(){super.clear();for(let t=0;t<this.QM.length;t+=1)this.QM[t].dispose();this.QM.length=0;for(let t=0;t<this.Lw.length;t+=1)this.Lw[t].dispose();return this.Lw.length=0,this}s_(t,e,i,r){super.s_(t,e,i,r),this.KM.s_(this.Lw,e,i,r,this.scale,n=>{})}Hc(t,e,i=this.Lx){const r=i?Jh(t,e?this.QM.filter(n=>n.getIsUnderMouse()):this.QM,this.Nw,this.Dw==="nearest-x"?(n,a)=>Math.abs(n.x-a.x):this.Dw==="nearest-y"?(n,a)=>Math.abs(n.y-a.y):(n,a)=>(n.x-a.x)**2+(n.y-a.y)**2):Jh(t,e?this.Lw.filter(n=>n.getIsUnderMouse()):this.Lw,this.Ow,this.Dw==="nearest-x"?(n,a)=>Math.abs(n.x-a.x):this.Dw==="nearest-y"?(n,a)=>Math.abs(n.y-a.y):(n,a)=>(n.x-a.x)**2+(n.y-a.y)**2);if(r!==void 0){const n=mt(r[0],this.ks.us.dt,this.scale),a=r[1]instanceof ax?r[1].uu():r[1].Eh(),o=r[1]instanceof FA?r[1].Eh():void 0,l=r[1]instanceof ax?r[1].uu().getFillStyle():void 0,u=Gs(a)?r[0].color?new rt({color:r[0].color}):new rt({color:a.getFallbackColor()}):void 0;return er(n,this.scale,this.Wy(new Ji,this,n.x,n.y,n).Zu(),this,l||u||o)}}solveNearestFromScreen(t,e=this.Lx){return this.Hc(gs(t,this.Ji.us),!1,e)}}const O0=(s,t)=>s.qa().length>=t?s.qa().slice(-t):Array.prototype.concat(s.tl(),s.qa()).slice(-t),LR=(s,t,e)=>{const i=Array.prototype.concat(s.tl(),s.qa()).slice(0,-e-1).concat(t.slice(e+1,2*e+2));s.Nt().nl(i).Ps()};class c5 extends hf{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x){super(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x),this.xs="Spline Series",this.Bw=32,this.e_=8e3,this.Uw=v=>{if(v.length===0)return;const A=this.Lw.length;if(A>0){const E=A>1,T=this.Lw[A-1];if(E){const F=Array.prototype.concat(T.tl(),T.qa()),D=F.length;if(32*D>=this.e_){const N=O0(T,3),V=Array.prototype.concat(N,v),P=Gl(V,32);LR(this.QM[A-1],P,32),this.Ew(P.slice(66))}else if(D<5){const N=this.Lw[A-2],V=O0(N,3),P=Array.prototype.concat(V,F,v),b=Gl(P,32),M=this.QM[A-1],w=b.slice(66);M.Nt().nl(w).Ps()}else{const N=this.QM[A-1],V=Array.prototype.concat(N.tl(),N.qa()),P=O0(T,4),b=Array.prototype.concat(P,v),M=Gl(b,32),w=V.slice(0,-66).concat(M.slice(33));N.Nt().nl(w).Ps()}}else{const F=Array.prototype.concat(T.tl(),T.qa()),D=F.length,N=this.QM[A-1];if(32*D>=this.e_){const V=O0(T,3),P=Array.prototype.concat(V,v),b=Gl(P,32);LR(this.QM[0],b,32),this.Ew(b.slice(66))}else if(D+v.length>1){const V=Array.prototype.concat(F,v),P=Gl(V,32);N.Nt().nl(P).Ps()}else N.nl(v)}}else{const E=v.length>0?Gl(v,32):v,T=ei(E);this.Ew(E,T)}this.zw(v)}}setCursorInterpolationEnabled(t){return super.setCursorInterpolationEnabled(t)}h_(t){const e=this.Lw.length,i=this.Lw.length>0?this.Lw[e-1].tl().length+this.Lw[e-1].qa().length:void 0;qo(t,i,Math.ceil(this.e_/this.Bw),this.Uw)}solveNearestFromScreen(t,e=this.Lx){if(e)return super.solveNearestFromScreen(gs(t,this.Ji.us),e);const i=Jh(gs(t,this.Ji.us),this.Lw,this.Ow,this.Dw==="nearest-x"?(r,n)=>Math.abs(r.x-n.x):this.Dw==="nearest-y"?(r,n)=>Math.abs(r.y-n.y):(r,n)=>(r.x-n.x)**2+(r.y-n.y)**2);if(i!==void 0){const r=mt(i[0],this.ks.us.dt,this.scale);return er(r,this.scale,this.Wy(new Ji,this,r.x,r.y,r).Zu(),this,i[1].Eh())}}}class d5{constructor(){this.Gi="FreeformPattern",this._l={type:"disabled",packager:(t,e,i)=>t.slice()}}s_(t,e,i,r,n,a){if(r>0){const o=Math.trunc((e-r)/i);if(o>0&&t.length>1){const l=t.splice(0,o);for(let u=0;u<l.length;u+=1)a(l[u]),l[u].dispose()}}}Yw(t,e){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}getXMax(t=[],e){return jo(t,Ww,Math.max,Jw,e)}getXMin(t=[],e){return jo(t,Xw,Math.min,qw,e)}getYMax(t=[],e){return jo(t,jw,Math.max,Qw,e)}getYMin(t=[],e){return jo(t,$w,Math.min,Zw,e)}}const G0=s=>{switch(s){case"normal":default:return 1;case"high":return .25}},Qz=Re({_l:{type:"disabled",packager:(s,t,e)=>s.slice()}});class f5 extends Qz{s_(t,e,i,r,n,a){if(r>0){const o=Math.ceil(r/i),l=t.length-o;if(l>0){const u=this.rw(t,n);if(u>0){const d=l-u>0?u:l;if(d>0){for(let f=0;f<d;f+=1)a(t[f]),t[f].dispose();t.splice(0,d)}}}}}}const Kz=(s,t)=>{const e=t.xt();return s?Math.min(e,s):e},tN=(s,t)=>{const e=t.Mt();return s?Math.max(e,s):e};class IR extends f5{Yw(t,e){return Math.abs(t.x-e.x)}getYMax(t=[],e){return t.reduce(tN,e?e.max.y:void 0)}getYMin(t=[],e){return t.reduce(Kz,e?e.min.y:void 0)}}const eN=(s,t)=>{const e=t.vt();return s?Math.min(e,s):e},iN=(s,t)=>{const e=t.bt();return s?Math.max(e,s):e};class UR extends f5{Yw(t,e){return Math.abs(t.y-e.y)}getXMax(t=[],e){return t.reduce(iN,e?e.max.x:void 0)}getXMin(t=[],e){return t.reduce(eN,e?e.min.x:void 0)}}const Js={horizontalProgressive:new class extends IR{constructor(){super({_l:mR()}),this.Gi="HorizontalProgressivePattern"}rw(s,t){const e=s.length,i=Math.min(t.x.getInnerStart(),t.x.getInnerEnd());let r=0;if(e>1)for(let n=0;n<e-1;n+=1)t.x.mi(s[n].bt(),s[n].vl())<i&&(r+=1);return r}getXMax(s=[],t){return t!==void 0?t?t.max.x:void 0:s.length>0?s[s.length-1].bt():void 0}getXMin(s=[],t){return s.length>0&&s[0].ol()>0?s[0].vt():t?t.min.x:void 0}setPrecision(s){return this.set("_columnPackaging",mR(G0(s)))}},horizontalRegressive:new class extends IR{constructor(){super({_l:pR()}),this.Gi="HorizontalRegressivePattern"}rw(s,t){const e=s.length,i=Math.max(t.x.getInnerStart(),t.x.getInnerEnd());let r=0;if(e>1)for(let n=0;n<e-1;n+=1)i<t.x.mi(s[n].vt(),-s[n].vl())&&(r+=1);return r}getXMax(s=[],t){return s.length>0&&s[0].ol()>0?s[0].bt():t?t.max.x:void 0}getXMin(s=[],t){return t!==void 0?t?t.min.x:void 0:s.length>0?s[s.length-1].vt():void 0}setPrecision(s){return this.set("_columnPackaging",pR(G0(s)))}},verticalProgressive:new class extends UR{constructor(){super({_l:SR()}),this.Gi="VerticalProgressivePattern"}rw(s,t){const e=s.length,i=Math.min(t.y.getInnerStart(),t.y.getInnerEnd());let r=0;if(e>1)for(let n=0;n<e-1;n+=1)t.y.mi(s[n].Mt(),s[n].bl())<i&&(r+=1);return r}getYMax(s=[],t){return t!==void 0?t?t.max.y:void 0:s.length>0?s[s.length-1].Mt():void 0}getYMin(s=[],t){return s.length>0&&s[0].ol()>0?s[0].xt():t?t.min.y:void 0}setPrecision(s){return this.set("_columnPackaging",SR(G0(s)))}},verticalRegressive:new class extends UR{constructor(){super({_l:xR()}),this.Gi="VerticalRegressivePattern"}rw(s,t){const e=s.length,i=Math.max(t.y.getInnerStart(),t.y.getInnerEnd());let r=0;if(e>1)for(let n=0;n<e-1;n+=1)i<t.y.mi(s[n].xt(),-s[n].bl())&&(r+=1);return r}getYMax(s=[],t){return s.length>0&&s[0].ol()>0?s[0].Mt():t?t.max.y:void 0}getYMin(s=[],t){return t!==void 0?t?t.min.y:void 0:s.length>0?s[s.length-1].xt():void 0}setPrecision(s){return this.set("_columnPackaging",xR(G0(s)))}},freeform:new d5};class g5 extends hf{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p,x){super(t,e,i,r,n,a,o,l,Js.horizontalProgressive,u,f,g,m,p,x),this.xs="Step Series",this.Rw=v=>{const A=this.QM.length>0?this.QM[this.QM.length-1].tl().length+this.QM[this.QM.length-1].qa().length:void 0;qo(v,A,this.e_,this.Hw)},this.Hw=v=>{const A=v.length;if(this.QM.length>0){const E=this.QM[this.QM.length-1];if(A>0){const T=E.tl(),F=E.qa(),D=F.length>0?F[F.length-1]:T[T.length-1],N=PR([D].concat(v),this.$w);N.shift();const V=Y((D.x+N[0].x)/2,(D.y+N[0].y)/2),P=Array.prototype.concat(V,N);(F.length>0?T.length+F.length:T.length)>=this.e_?(E.nl(V,se(Y(V.x,V.y),Y(V.x,V.y))).zl(!0),this.Ew(P).Rl(!0),this.Vw(v)):E.nl(P)}}else A>0&&this.Ew(PR(v,this.$w));this.zw(v)},this.$w=d,this.Gw.find(v=>v.type==="DataPattern")===void 0&&this.Gw.push({type:"DataPattern",args:{pattern:"ProgressiveX"}})}}class y5 extends uh{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u,d),this.xs="OHLC Series",this.Xw=f=>f[4]>=f[1],this.c_=se(wa(Rt,Rt),wa(Ft,Ft)),this.jw=[],this.Zw=!1,this.Qw=-1,this.Jw=[],this.Kw=!0,this.qw=!1,this.tC=4,this.Wy=(f,g,m)=>(f.addRow(g.getName()).addRow("Time","",g.axisX.formatValue(m.position)).addRow("Open","",m.open.toFixed(3)).addRow("High","",m.high.toFixed(3)).addRow("Low","",m.low.toFixed(3)).addRow("Close","",m.close.toFixed(3)),f),this.iC=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],this.Ji.us.Nn(Dt.rf)}r_(){return this.Jw}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}Kp(){return this.tS&&this.Jw.length>0&&this.getVisible()}sC(t){if(!(this.Jw.length<1))return[this.Jw[t][0],this.Jw[t][1],this.Jw[t][2],this.Jw[t][3],this.Jw[t][4]]}Hc(t){if(this.Jw.length===0)return;const e=mt(t,this.ks.us.dt,this.scale).x,i=this.getPackDataState()!==void 0;let r,n,a,o,l;if(i){const d=this.eC;if(!d)return;const f=hS(e,d.length-1,m=>d[m][0]),g=f!==void 0&&d[f];if(!g)return;o=g[3],a=g[2],n=g[1],l=g[4],r=g[0]}else{const d=hS(e,this.Jw.length-1,g=>this.Jw[g][0]),f=d!==void 0&&this.Jw[d];if(!f)return;r=f[0],n=f[1],a=f[2],o=f[3],l=f[4]}const u={position:r,open:n,high:a,low:o,close:l,isPacked:i};return{location:Y(u.position,u.close),scale:this.scale,resultTableContent:this.Wy(new Ji,this,u).Zu(),owner:this,isPacked:i,position:r,open:n,high:a,low:o,close:l}}WM(t){if(!(t.x instanceof xr))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.hC=t.x}br(){return Y(5,5)}Y_(t){const e=t.length-1;if(e<0)return this;for(let i=0;i<=e;i+=1)t[i][3]<this.c_.min.y&&(this.c_.min.y=t[i][3]),this.c_.max.y<t[i][2]&&(this.c_.max.y=t[i][2]);return this.c_.min.x=Math.min(this.c_.min.x,t[0][0]),this.c_.max.x=Math.max(this.c_.max.x,t[e][0]),this}getXMax(){return this.c_.max.x}getXMin(){return this.c_.min.x}getYMax(){return this.c_.max.y}getYMin(){return this.c_.min.y}add(t){this.Jw.length>0&&this.Ji.us.Nn(Dt.vf);const e=Array.isArray(t[0])?t:[t[0]];if(e.length>0){this.Zw=!0;const i=this.Jw.length,r=this.jw.length,n=e.length;this.Jw.length=i+n,this.jw.length=r+n;for(let a=0;a<n;a+=1)this.Jw[i+a]=e[a],this.jw[r+a]=this.Jw[i+a];this.Y_(e),this.D.emit("dataAdd",this,e,void 0),this.ks.Ss()}return this}setPackData(t){return t!==this.Kw&&(this.qw=!0,this.Kw=t,this.Ji.us.Ss()),this}getPackData(){return this.Kw}getPackDataState(){const t=this.Qw;if(!(t<0||this.eC===void 0||this.eC.length===this.Jw.length))return{figureAxisInterval:t}}setFigureWidth(t){return this.rC=t,this.Ji.us.Ss(),this}getFigureWidth(){return this.rC}setFigureMinimumGap(t){return this.tC=t,this.Ji.us.Ss(),this}getFigureMinimumGap(){return this.tC}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us))}clear(){return this.Jw=[],this.jw=[],this.eC=void 0,this.nC(),this.c_.min.x=Rt,this.c_.min.y=Rt,this.c_.max.x=Ft,this.c_.max.y=Ft,this.D.emit("dataClear",this),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}oC(t){return this.hC.getPixelSize()*t/1e3}aC(){const t=this.iC.length-1,e=this.oC(this.rC+this.tC);let i=hS(e,t,r=>this.iC[r]);return i===void 0?i=e<this.iC[0]?0:this.iC[t]<e?t:this.iC.length/2:this.iC[i]<e&&(i+=1),this.iC.length<=i&&(i=t),1e3*this.iC[i]}Te(){if(super.Te(),!this.Kw){this.eC=void 0;let t=null;if(this.qw?(this.qw=!1,t=this.Jw,this.nC()):t=this.jw,t.length>=1){for(let e=0;e<t.length;e+=1){const i=t[e],r=i[0];this.Xw(i)?this.lC(r,i):this.uC(r,i)}this.jw.length=0,this.Zw=!1,this.Qw=-1}}}dp(){super.dp();const t=this.aC();if(this.Kw&&this.Jw.length>=1&&(t!==this.Qw||this.Zw||this.qw)){this.qw=!1,this.Qw=t,this.Zw=!1,this.nC(),this.eC=[];const e=this.Jw.length;let i=this.Jw[0][0]-this.Jw[0][0]%(t/2)+t,r=0;for(;r<e;){let n=this.sC(r);if(n===void 0)break;let a=n[3],o=n[2];const l=r;for(r+=1;r<e&&this.Jw[r][0]<i;)n=this.Jw[r],this.Jw[r][3]<a&&(a=this.Jw[r][3]),o<this.Jw[r][2]&&(o=this.Jw[r][2]),r+=1;const u=r-1;let d=n[0];l<u&&(d=this.Jw[u][0],n=[d,this.Jw[l][1],o,a,this.Jw[u][4]]),n[1]<n[4]?this.lC(d,n):this.uC(d,n),this.eC.push(n),i+=t}}}}class sN extends y5{constructor(t,e,i,r,n,a,o,l,u,d){super(t,e,i,r,n,a,o,l,u,d),this.cC=1175494351e-14,this.rC=this.qi.ohlcCandleThicknessPixels||5,this.dC=this.qi.ohlcCandleTailStrokeStylePositive,this.fC=this.qi.ohlcCandleTailStrokeStyleNegative,this.AC=this.qi.ohlcCandleBodyFillStylePositive,this.gC=this.qi.ohlcCandleBodyFillStyleNegative,this.mC=i.Lg(this.scale).Re(new te({thickness:this.rC,fillStyle:this.AC})),this.mC.mu=!0,this.mC.gu={x:0,y:1},this.yC=i.Lg(this.scale).Re(new te({thickness:this.rC,fillStyle:this.gC})),this.yC.mu=!0,this.yC.gu={x:0,y:-1},this.pC=i.Lg(this.scale).Re(this.dC),this.pC.mu=!0,this.SC=i.Lg(this.scale).Re(this.fC),this.SC.mu=!0,this.ds(this.mC),this.ds(this.yC),this.ds(this.pC),this.ds(this.SC)}setBodyThickness(t){return this.rC=t,this.mC.Re(new te({thickness:this.rC,fillStyle:this.AC})),this.yC.Re(new te({thickness:this.rC,fillStyle:this.gC})),this.Ji.us.Ss(),this}getBodyThickness(){return this.rC}setBodyFillStylePositive(t){return this.AC=typeof t=="function"?t(this.AC):t,this.mC.Re(new te({thickness:this.rC,fillStyle:this.AC})),this.Ji.us.Ss(),this}getBodyFillStylePositive(){return this.AC}setBodyFillStyleNegative(t){return this.gC=typeof t=="function"?t(this.gC):t,this.yC.Re(new te({thickness:this.rC,fillStyle:this.gC})),this.Ji.us.Ss(),this}getBodyFillStyleNegative(){return this.gC}setTailStrokeStylePositive(t){return this.dC=typeof t=="function"?t(this.dC):t,this.pC.Re(this.dC),this.Ji.us.Ss(),this}getTailStrokeStylePositive(){return this.dC}setTailStrokeStyleNegative(t){return this.fC=typeof t=="function"?t(this.fC):t,this.SC.Re(this.fC),this.Ji.us.Ss(),this}getTailStrokeStyleNegative(){return this.fC}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.AC,fill2:this.gC,behavior:{colorStep:!0}}),this}nC(){return this.pC.Nt(),this.SC.Nt(),this.mC.Nt(),this.yC.Nt(),this}lC(t,e){return Math.abs(e[1]-e[4])<this.cC?this.mC.zr().Eg({x:t,y:e[1]-this.cC},{x:t,y:e[1]+this.cC}):this.mC.zr().Eg({x:t,y:e[1]},{x:t,y:e[4]}),e[4]<e[2]&&this.pC.zr().Eg({x:t,y:e[4]},{x:t,y:e[2]}),e[3]<e[1]&&this.pC.zr().Eg({x:t,y:e[3]},{x:t,y:e[1]}),this}uC(t,e){return Math.abs(e[1]-e[4])<this.cC?this.yC.zr().Eg({x:t,y:e[1]-this.cC},{x:t,y:e[1]+this.cC}):this.yC.zr().Eg({x:t,y:e[1]},{x:t,y:e[4]}),e[3]<e[4]&&this.SC.zr().Eg({x:t,y:e[3]},{x:t,y:e[4]}),e[1]<e[2]&&this.SC.zr().Eg({x:t,y:e[1]},{x:t,y:e[2]}),this}}const rN={Candlesticks:sN},nN=s=>({defaultDragMouseStyle:he.Horizontal,getTitleTextRotation:()=>0,...Hu(s,t=>t.getXMin(),t=>t.getXMax(),t=>t.br().x)}),aN=s=>({defaultDragMouseStyle:he.Vertical,getTitleTextRotation:t=>90*t,...Hu(s,t=>t.getYMin(),t=>t.getYMax(),t=>t.br().y)});class yd extends $A{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m,p){super(t,e,i,r,n,a,o,l,u,d,f),this.QM=[],this.xs="Line Series",this.Lx=!0,this.e_=void 0,this.Dw="nearest-x",this.pu=void 0,this.Gd=()=>os(this.lu.getFillStyle()),this.TC=(x,v)=>{const A=x.Ux(v);if(A)return mt(A,this.scale,this.ks.us.dt)},this.Nw=(x,v)=>{const A=x.sw(v);if(A)return mt(A,this.scale,this.ks.us.dt)},this.Gw=g,this.Un=p,this.lu=re(this.qi.lineSeriesStrokeStyle,m),this.FC={individualLookupValuesEnabled:(p==null?void 0:p.individualLookupValuesEnabled)!==void 0&&p.individualLookupValuesEnabled}}add(t){return super.add(t),this}setMouseInteractions(t){return super.setMouseInteractions(t)}setStrokeStyle(t){this.lu=typeof t=="function"?t(this.lu):t;const e=this.lu;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Re(e);return this.ks.Ss(),this}getStrokeStyle(){return this.lu}setDataCleaning(t){return this.pu=t,this.QM.forEach(e=>e.Su(this.pu)),this.ks.Ss(),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorSolveBasis(t){return this.Dw=t,this.QM.forEach(e=>e.Ka(eu(t))),this.ks.Ss(),this}getCursorSolveBasis(){return this.Dw}WM(t){}h_(t){let e=this.QM[0];e||(e=this.Ew(),this.QM.push(e),this.ds(e)),e.nl(t,this.i_)}Ew(){return this.ks.rp(this.scale,this.FC,[Jr.UserSeries,...this.Gw]).Re(this.lu).Su(this.pu).Ka(eu(this.Dw)).cs(this.getHighlight())}attach(t,e=!0,i=!1){return oi(t,this.qi,i,{stroke:this.lu}),super.attach(t,e,i)}Ie(t,e){t.cs(e),this.ks.Ss()}s_(t,e,i,r){}Hc(t,e,i=this.Lx){const r=Jh(t,e?this.QM.filter(n=>n.getIsUnderMouse()):this.QM,i?this.Nw:this.TC,this.Dw==="nearest-x"?(n,a)=>Math.abs(n.x-a.x):this.Dw==="nearest-y"?(n,a)=>Math.abs(n.y-a.y):(n,a)=>(n.x-a.x)**2+(n.y-a.y)**2);if(r!==void 0){const n=mt(r[0],this.ks.us.dt,this.scale),a=r[1].uu();return er(n,this.scale,this.Wy(new Ji,this,n.x,n.y,n).Zu(),this,a.getFillStyle())}}solveNearestFromScreen(t,e=this.Lx){return this.Hc(gs(t,this.Ji.us),!1,e)}}class qA extends $A{constructor(t,e,i,r,n,a,o,l,u,d,f,g,m){super(t,e,i,r,n,a,o,l,new d5,d,f),this.QM=[],this.xs="Point series",this.Hx=5,this.Aa=0,this.Ga=!1,this.Wa=!1,this.Ua=!1,this.e_=void 0,this.Ow=(p,x)=>{const v=p.Hc(x);if(v)return mt(v,this.scale,this.ks.us.dt)},this.Un=m,this.$x=u,this.be=re(d.pointSeriesFillStyle,g)}add(t){return super.add(t),this}Gd(){return os(this.be)}Cs(){return this.bs||this.$x}WM(t){}attach(t,e=!0,i=!1){return oi(t,this.qi,i,{fill:this.be}),super.attach(t,e)}Ie(t,e){t.cs(e),this.ks.Ss()}setPointFillStyle(t){this.be=typeof t=="function"?t(this.be):t;const e=this.be;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Ce(e);return this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){this.Hx=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].q(t);return this.ks.Ss(),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){this.Aa=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].Nh(t);return this.ks.Ss(),this}getPointRotation(){return this.Aa}setIndividualPointSizeEnabled(t){this.Ga=t,t&&this.Ji.us.Nn(Dt.bf);for(let e=0;e<this.QM.length;e+=1)this.QM[e].el(t);return this.ks.Ss(),this}getIndividualPointSizeEnabled(){return this.Ga}setIndividualPointRotationEnabled(t){this.Wa=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].hl(t);return this.ks.Ss(),this}getIndividualPointRotationEnabled(){return this.Wa}setIndividualPointValueEnabled(t){this.Ua=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].rl(t);return this.ks.Ss(),this}getIndividualPointValueEnabled(){return this.Ua}h_(t){let e=this.QM[0];e||(e=this.Ew()),e.nl(t,this.i_)}Ew(){const t=this.ks.bS(this.scale).il(this.$x).q(this.Hx).Nh(this.Aa).el(this.Ga).hl(this.Wa).rl(this.Ua).Ce(this.be).cs(this.getHighlight());return this.QM.push(t),this.ds(t),t}Hc(t,e){const i=Jh(t,e?this.QM.filter(r=>r.getIsUnderMouse()):this.QM,this.Ow,Da);if(i!==void 0){const r=mt(i[0],this.ks.us.dt,this.scale),n=i[1].Eh(),a=Gs(n)?i[0].color?new rt({color:i[0].color}):new rt({color:n.getFallbackColor()}):n;return er(r,this.scale,this.Wy(new Ji,this,r.x,r.y,r).Zu(),this,a)}}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}setCursorResultTableFormatter(t){return super.setCursorResultTableFormatter(t)}}class oN{constructor(t,e,i,r){this.IC=!1,this.D=new qi,this.chart=i,this.PC=r,this.$s=t.$s,this.qs=r||SC,this.DC=ht.document.createElement("div"),this.DC.style.position="absolute",this.DC.style.pointerEvents="none",ht.document.body.append(this.DC);const n=()=>{const a=i.engine.container.getBoundingClientRect();this.DC.style.left=`${a.left}px`,this.DC.style.top=`${a.top}px`,this.DC.style.width=`${a.width}px`,this.DC.style.height=`${a.height}px`};n(),i.onResize(n),this.BC(this.DC),this.LC(),this.RC(),this.EC(),this.zC(e),this.chart.VC().push(this)}BC(t){this.OC=ht.document.createElement("div"),this.OC.style.pointerEvents="all",t.append(this.OC),this.NC=ht.document.createElement("div"),this.GC=new c6(this.$s,this.qs,this.chart,this.NC),this.WC=ht.document.createElement("table"),this.WC.style.borderSpacing="0",this.OC.appendChild(this.GC.oe()),this.OC.appendChild(this.NC),this.NC.appendChild(this.WC)}RC(){let t=0,e=0,i=0,r=0,n=!1;this.IC=!1,this.OC.onmousedown=a=>{a=a||ht.event,i=a.clientX,r=a.clientY,n=!0,ht.document.onmouseup=o=>{this.IC?this.OC.addEventListener("click",vt,!0):this.OC.removeEventListener("click",vt,!0),n=!1,this.IC=!1,ht.document.onmouseup=null,ht.document.onmousemove=null},ht.document.onmousemove=o=>{o=o||ht.event,n&&(t=i-o.clientX,e=r-o.clientY,i=o.clientX,r=o.clientY,this.IC=!0,this.OC.style.top=this.OC.offsetTop-e+"px",this.OC.style.left=this.OC.offsetLeft-t+"px",this.OC.style.removeProperty("right"),this.OC.style.removeProperty("bottom"))}}}EC(){let t=0,e=0,i=0,r=0,n=!1;this.OC.ontouchstart=a=>{a=a||ht.event,i=a.touches[0].clientX,r=a.touches[0].clientY,n=!0,this.OC.ontouchend=()=>{n=!1,ht.document.ontouchend=null,ht.document.ontouchmove=null},this.OC.ontouchmove=o=>{n&&(vt(o),o=o||ht.event,t=i-o.touches[0].clientX,e=r-o.touches[0].clientY,i=o.touches[0].clientX,r=o.touches[0].clientY,this.OC.style.top=this.OC.offsetTop-e+"px",this.OC.style.left=this.OC.offsetLeft-t+"px",this.OC.style.removeProperty("right"),this.OC.style.removeProperty("bottom"))}}}LC(){this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("left","10px"),this.OC.style.position="absolute",this.OC.style.display="flex",this.OC.style.alignItems="flex-start",this.NC.style.setProperty("display","none")}removePositionProperty(){this.OC.style.removeProperty("top"),this.OC.style.removeProperty("left"),this.OC.style.removeProperty("bottom"),this.OC.style.removeProperty("right")}setPositionProperty(t){switch(this.removePositionProperty(),t){case tu.BottomLeft:this.OC.style.setProperty("bottom","10px"),this.OC.style.setProperty("left","10px");break;case tu.TopLeft:this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("left","10px");break;case tu.BottomRight:this.OC.style.setProperty("bottom","10px"),this.OC.style.setProperty("right","10px");break;case tu.TopRight:default:this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("right","10px")}}zC(t){for(let e=0;e<t.length;e+=1){const i=this.WC.insertRow();for(let r=0;r<t[e].length;r+=1){const n=i.insertCell(),a=t[e][r];typeof a!="object"?this.UC(a,n):this.addCustomButton(a,n)}}}UC(t,e){switch(t){case jn.ZoomIn:this.YC(new i6(this.$s,this.chart,this.qs),e);break;case jn.ZoomInX:this.YC(new s6(this.$s,this.chart,this.qs),e);break;case jn.ZoomInY:this.YC(new r6(this.$s,this.chart,this.qs),e);break;case jn.ZoomOut:this.YC(new n6(this.$s,this.chart,this.qs),e);break;case jn.ZoomOutX:this.YC(new a6(this.$s,this.chart,this.qs),e);break;case jn.ZoomOutY:this.YC(new o6(this.$s,this.chart,this.qs),e);break;case jn.ZoomToFit:this.YC(new l6(this.$s,this.chart,this.qs),e);break;case jn.ToggleAnimations:this.YC(new h6(this.$s,this.chart,this.qs),e);break;default:console.error(`No predefined button like "${jn[t]}" exists.`)}}YC(t,e){e.rowSpan=t.Xs.rows,e.colSpan=t.Xs.columns,t.ne(e)}addCustomButton(t,e){const i=new u6(this.$s,t,this.chart);return this.YC(i,e),this}dispose(){this.DC.remove(),this.D.emit("dispose",this)}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}}class m5 extends uh{constructor(t,e,i,r,n,a,o,l,u,d,f,g){var m;super(t,e,i,r,n,a,o,l,u,d),this.xs="Point Line Area Series",this.Wy=hN,this.Lx=!1,this.HC=0,this.Un=g,this.Na=this.ks.dd(this.scale).Re(re(this.qi.lineSeriesStrokeStyle,f)).ld(re(this.qi.pointSeriesFillStyle,f)).ud(re(this.qi.areaSeriesPositiveFillStyle,f)).$C(void 0).pd(7),this.Na.XC=((m=this.Un)===null||m===void 0?void 0:m.allowDataGrouping)!==!1,this.ds(this.Na)}setDataSet(t){var e;return t===((e=this.od)===null||e===void 0?void 0:e.Wt)||(t.yc&&this.Ji.us.Nn(Dt.xf),t.vc&&this.Ji.us.Nn(Dt.bf),this.od=ix(t,this.od,()=>[t.$c(()=>{this.HC+=1,this.HC>1&&this.Ji.us.Nn(Dt.vf),this.Ji.us.Ss()}),t.Xc(()=>this.Ji.us.Ss())]),this.Na.ad(t),this.chart.us.Ss()),this}getDataSet(){return this.jC()}setStrokeStyle(t){return this.Na.Re(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.uu()}setAreaFillStyle(t){return this.Na.ud(t),this.ks.Ss(),this}getAreaFillStyle(){return this.Na.ZC()}setPointFillStyle(t){return this.Na.ld(t),this.ks.Ss(),this}getPointFillStyle(){return this.Na.yd()}setPointSize(t){return this.Na.pd(t),this.ks.Ss(),this}getPointSize(){return this.Na.QC()}setPointShape(t){return this.Na.fd(t),this.ks.Ss(),this}getPointShape(){return this.Na.Ad()}setPointRotation(t){return this.Na.gd(t),this.ks.Ss(),this}getPointRotation(){return this.Na.md()}setPointAlignment(t){return this.Na.JC(t),this.Ji.us.Ss(),this}getPointAlignment(){return this.Na.KC()}setCurvePreprocessing(t){return this.Na.$C(t),this.ks.Ss(),this}getCurvePreprocessing(){return this.Na.qC()}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}add(t){return this.jC().add(t),this.ks.Ss(),this}addArraysXY(t,e){return this.jC().addArraysXY(t,e),this.ks.Ss(),this}appendJSON(t,e){return this.jC().appendJSON(t,e),this.ks.Ss(),this}appendSample(t){return this.jC().appendSample(t),this.ks.Ss(),this}appendSamples(t){return this.jC().appendSamples(t),this.ks.Ss(),this}fill(t){return this.jC().fill(t),this.ks.Ss(),this}setSamples(t){return this.jC().setSamples(t),this.ks.Ss(),this}alterSamples(t,e){return this.jC().alterSamples(t,e),this.ks.Ss(),this}alterSamplesByID(t,e){return this.jC().alterSamplesByID(t,e),this.ks.Ss(),this}getSampleCount(){return this.jC().getSampleCount()}getNextSampleIndex(){return this.jC().getNextSampleIndex()}clear(){return this.jC().clear(),this.ks.Ss(),this}setMaxSampleCount(t){return this.jC().setMaxSampleCount(t),this.ks.Ss(),this}getMaxSampleCount(){return this.jC().getMaxSampleCount()}readBack(t){return this.jC().readBack(t)}onMaxSampleCountExceeded(t){return this.jC().onMaxSampleCountExceeded(t)}offMaxSampleCountExceeded(t){return this.jC().offMaxSampleCountExceeded(t)}tk(){return this.jC()}Gd(){return os(this.getPointFillStyle())||os(this.getStrokeStyle().getFillStyle())||os(this.getAreaFillStyle())}Kp(){var t;const e=(t=this.od)===null||t===void 0?void 0:t.Wt;return this.getAutoScrollingEnabled()&&e!==void 0&&e.uc>0}WM(t){}getXMax(){return this.Na.bt()}getXMin(){return this.Na.vt()}getYMax(){return this.Na.Mt()}getYMin(){return this.Na.xt()}br(){return{x:this.Na.vl(),y:this.Na.bl()}}jC(){if(!this.od){const t=new NA(this.Un);t.yc&&this.Ji.us.Nn(Dt.xf),t.vc&&this.Ji.us.Nn(Dt.bf),this.od=ix(t,this.od,()=>[t.$c(()=>{this.HC+=1,this.HC>1&&this.Ji.us.Nn(Dt.vf),this.Ji.us.Ss()}),t.Xc(()=>{this.Ji.us.Ss()})]),this.Na.ad(t)}return this.od.Wt}attach(t,e=!0,i=!1){super.attach(t,e,i);const r=this.getPointFillStyle(),n=this.getAreaFillStyle();return oi(t,this.qi,i,{stroke:this.getStrokeStyle(),fill:r!==Nt?r:n}),super.attach(t,e)}Cs(){return this.bs||this.getPointShape()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e,i=this.Lx){this.getCurvePreprocessing()!==void 0&&(i=!1);const r=this.tk(),n=mt(t,this.Ji.us.dt,this.scale),a=!e||this.Na.getIsUnderMouse()?r.Hc(n,i,this.scale,this.Ji.pixelScale):void 0;if(a!==void 0){const o=[this.getStrokeStyle().getFillStyle(),this.getPointFillStyle(),this.getAreaFillStyle()];return er(a,this.scale,this.Wy(new Ji,this,a).Zu(),this,o.filter(l=>!Gw(l))[0])}}solveNearestFromScreen(t,e=!1){return this.Hc(gs(t,this.Ji.us),!1,e)}}const hN=(s,t,e)=>{const i=t.getIcon();return i?s.addRow(i,t.getName()):s.addRow(t.getName()),s.addRow("X","",t.axisX.formatValue(e.x)).addRow("Y","",t.axisY.formatValue(e.y)),e.lookupValue!==void 0&&s.addRow("Value","",e.lookupValue.toFixed(1)),s},OR=(...s)=>(t,e)=>s.forEach(i=>i.forEach(r=>{r.axis.dt.q(t),r.axis.rg.q(e)})),GR=Y(10,10);var ba;(function(s){s[s.Top=0]="Top",s[s.Bottom=1]="Bottom",s[s.Left=2]="Left",s[s.Right=3]="Right"})(ba||(ba={}));const lN=new Set([ba.Top,ba.Bottom,ba.Left,ba.Right]),Y0=s=>s.setStopped(!0),uN=s=>s.getChartInteractionFitByDrag()?s.fit(!0):void 0,hn=(s,t)=>{const e=s.kh.type==="linear-highPrecision"||t.kh.type==="linear-highPrecision",i=s.kh.type==="logarithmic"||t.kh.type==="logarithmic";if(e&&i){const r=`Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ${s.kh.type}, y: ${t.kh.type})`;throw new Error(r)}};var Ph,md,dx;(function(s){s[s.seriesBackground=0]="seriesBackground",s[s.gridLine0=1]="gridLine0",s[s.gridLine1=2]="gridLine1",s[s.gridLine2=3]="gridLine2",s[s.highlightersBelow=4]="highlightersBelow"})(Ph||(Ph={})),function(s){s[s.plotting=0]="plotting",s[s.highlightersAbove=1]="highlightersAbove",s[s.fg=2]="fg"}(md||(md={}));class JA extends sf{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("chartXY bg",0),r,e.us.qi.chartXYBackgroundFillStyle,e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.chartXYTitleFont,e.us.qi.chartXYTitleFillStyle,o),this.ik=this.sm.d2({scaleXYConstructor:Me}),this.Vg=[],this.Og=[],this.Gg=[],this.Ng=[],this.sk=new Map,this.ek=!0,this.hk=!0,this.rk=!0,this.Rf=2,this.nk=!0,this.ak=!0,this.lk=[],this.uk=this.xm.ke(this.ik).Ce(Nt).we(bt).setMouseInteractions(!1),this.ck=this.xm.Ee(this.ik).Re(bt).setMouseInteractions(!1),this.dk=this.xm.Ee(this.ik).Re(bt).setMouseInteractions(!1),this.fk=this.qi.chartXYZoomingRectangleFillStyle,this.Ak=this.qi.chartXYZoomingRectangleStrokeStyle,this.gk=this.qi.chartXYFittingRectangleFillStyle,this.mk=this.qi.chartXYFittingRectangleStrokeStyle,this.yk=he.Default,this.pk=he.Move,this.Sk=he.ZoomIn,this.vk=he.Default,this.bk=void 0,this.xk=H0,this.GM=0,this.Gy=Ze.snapToClosest,this.Mk=OR(this.Og,this.Vg),this._k=OR(this.Gg,this.Ng),this.wk=(u,d,f,g,m)=>{this.Mk(g,m),this._k(m,g),this.ik.q(g,m),this.us.Ss()},this.Ck=(u,d)=>{this.sk.set(u,d)},this.qA=u=>{const d=this.Og.findIndex(p=>p.axis===u),f=this.Vg.findIndex(p=>p.axis===u),g=this.Gg.findIndex(p=>p.axis===u),m=this.Ng.findIndex(p=>p.axis===u);d>=0&&this.Og.splice(d,1),f>=0&&this.Vg.splice(f,1),g>=0&&this.Gg.splice(g,1),m>=0&&this.Ng.splice(m,1),this.sk.delete(u),this.us.Ss()},this.addAreaSeries=u=>{const d=(u==null?void 0:u.axisX)||(u==null?void 0:u.xAxis)||this.getDefaultAxisX(),f=(u==null?void 0:u.axisY)||(u==null?void 0:u.yAxis)||this.getDefaultAxisY();hn(d,f);const g=u&&u.baseline?u.baseline:0,m=new(u&&u.type?u.type:qz.Positive)(this,this._S,this.Rb,d,f,this.kk(d),this.kk(f),this.nm,g,this.qi,this.us.es,(u==null?void 0:u.automaticColorIndex)!==void 0?u.automaticColorIndex:this.xS.length);return this.PS(m),m},this.addAreaRangeSeries=u=>{const d=(u==null?void 0:u.axisX)||(u==null?void 0:u.xAxis)||this.getDefaultAxisX(),f=(u==null?void 0:u.axisY)||(u==null?void 0:u.yAxis)||this.getDefaultAxisY();hn(d,f);const g=new u5(this,this._S,this.Rb,d,f,this.kk(d),this.kk(f),this.nm,this.qi,this.us.es,(u==null?void 0:u.automaticColorIndex)!==void 0?u.automaticColorIndex:this.xS.length);return this.PS(g),g},this.Tk=!1,this.Fk=!1,this.UM=()=>{(this.ek||this.hk)&&(this.bk=this.engine.setMouseStyle(this.yk))},this.YM=()=>{this.Tk=!1,this.engine.restoreMouseStyle(this.bk)},this.HM=(u,d,f)=>{var g,m;const p=Ne((g=this.cA.Yn)===null||g===void 0?void 0:g.chartXYRectangleZoomFitMouseButton,0),x=Ne((m=this.cA.Yn)===null||m===void 0?void 0:m.chartXYPanMouseButton,2);this.engine.restoreMouseStyle(this.bk);const v=this.xm.us.Pe(d.clientX,d.clientY);f===p&&(this.ek||this.hk)?(this.Ik(u,v),vt(d)):f===x&&this.nk&&(this.bk=this.engine.setMouseStyle(this.pk),this.Fk=!0,vt(d))},this.eS=(u,d,f,g,m)=>{var p,x;const v=Y(d.clientX,d.clientY),A=Ne((p=this.cA.Yn)===null||p===void 0?void 0:p.chartXYRectangleZoomFitMouseButton,0),E=Ne((x=this.cA.Yn)===null||x===void 0?void 0:x.chartXYPanMouseButton,2);f===A&&(this.ek||this.hk)?(this.Pk(u,g,v),vt(d)):f===E&&this.nk&&(this.Dk(Wt(m,-1)),vt(d)),this.us.Ss()},this.$M=(u,d,f,g)=>{var m,p;const x=Ne((m=this.cA.Yn)===null||m===void 0?void 0:m.chartXYRectangleZoomFitMouseButton,0),v=Ne((p=this.cA.Yn)===null||p===void 0?void 0:p.chartXYPanMouseButton,2);if(f===x&&(this.ek||this.hk)){const A=Y(d.clientX,d.clientY);this.Bk(u,g,A),vt(d)}else f===v&&this.nk&&vt(d);this.engine.restoreMouseStyle(this.bk),this.FS.getIsUnderMouse()&&(this.bk=this.engine.setMouseStyle(this.yk)),this.Tk=!1,this.Fk=!1},this.sS=(u,d)=>{if(this.rk){const f=this.xm.us.Pe(d.clientX,d.clientY);this.Lk(f,Y(Qo(d),Qo(d))),vt(d)}},this.Rk=(u,d,f,g)=>{},this.Ek=(u,d,f,g,m,p)=>{if(this.nk){const x=Y(-(g.x+m.x)/2,-(g.y+m.y)/2);this.Dk(x),vt(p),this.Fk=!0}if(this.rk){const x=this.engine.clientLocation2Engine(d.x,d.y),v=this.engine.clientLocation2Engine(f.x,f.y),A=be(Y(Math.abs(x.x-g.x-(v.x-m.x)),Math.abs(x.y-g.y-(v.y-m.y))),Y(Math.abs(x.x-v.x),Math.abs(x.y-v.y)));this.forEachAxisX(E=>{E.getChartInteractionZoomByWheel()&&E.St(E.dt.mi(E.getInterval().start,-A.x),E.dt.mi(E.getInterval().end,A.x),!1,!0,"interactionZoom")}),this.forEachAxisY(E=>{E.getChartInteractionZoomByWheel()&&E.St(E.dt.mi(E.getInterval().start,-A.y),E.dt.mi(E.getInterval().end,A.y),!1,!0,"interactionZoom")}),vt(p),this.Tk=!0}},this.zk=(u,d,f,g)=>{this.Fk=!1,this.Tk=!1},this.Vk=(u,d,f)=>{(this.hk||this.ek)&&(this.Ik(u,d),vt(f))},this.Ok=(u,d,f,g,m)=>{(this.hk||this.ek)&&(this.Pk(u,d,f),vt(m))},this.Nk=(u,d,f,g)=>{(this.hk||this.ek)&&(this.Bk(u,d,f),vt(g))},this.us.Nn(Dt.gf),this.setPadding({right:24}),this.Gk=e.ob("chartXY series bg",Ph.seriesBackground),this.Wk=[Ph.gridLine0,Ph.gridLine1,Ph.gridLine2].map(u=>e.Uk(`chartXY gridline #${u}`,u)),this.JA=e.Uk("chartXY highlighters below",Ph.highlightersBelow),this.Rb=e.$y("chartXY plotting",md.plotting),this.KA=e.$y("chartXY highlighters above",md.highlightersAbove),this.bA=e.$y("chartXY fg",md.fg),this.ik.x.J(0,this.uiScale.x.getCellSize()-(this.Xt.left+this.Xt.right+this.ya.left+this.ya.right)),this.ik.y.J(0,this.uiScale.y.getCellSize()-(this.Xt.bottom+this.Xt.top+this.ya.bottom+this.ya.top)),this.ik.q(this.uiScale.oi().x,this.uiScale.oi().y),this.FS=this.Gk.ke(this.ik).Ce(this.qi.chartXYSeriesBackgroundFillStyle).we(bt),this.IS=this.bA.ke(this.ik).Ce(Nt).we(this.qi.chartXYSeriesBackgroundStrokeStyle).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.setSeriesBackgroundEffect(!1),this.jy=e.Zy();const l=Ne(a?a.autoCursorBuilder:void 0,Dz);this.Pm=l.uy(this.jy,this.ik,this.ik,this.qi),Ms.Dm(this),this.LS((u,d)=>{Ms.Bm(this,d)}),this.addAxisX(a&&a.defaultAxisX),this.addAxisY(a&&a.defaultAxisY),this.onResize(this.wk),this._m.Rh("ChartXY"),this.hS=tr(new Xr(this.Vk,this.Ok,this.Nk,1),new CA(this.Rk,this.Ek,this.zk)),this.onSeriesBackgroundMouseEnter(this.UM),this.onSeriesBackgroundMouseLeave(this.YM),this.onSeriesBackgroundMouseWheel(this.sS),this.onSeriesBackgroundMouseDragStart(this.HM),this.onSeriesBackgroundMouseDrag(this.eS),this.onSeriesBackgroundMouseDragStop(this.$M),this.onSeriesBackgroundTouchStart(this.hS.onTouchStart),this.onSeriesBackgroundTouchMove(this.hS.onTouchMove),this.onSeriesBackgroundTouchEnd(this.hS.onTouchEnd),this.setAnimationsEnabled((a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1),this.Sm(n,this.ik)}get coordsAxis(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return Ms.Hc(this,gs(e,this.us),this.xS)}getMinimumSize(){const t={x:0,y:0};t.x+=this.Xt.left+this.Xt.right+this.ya.left+this.ya.right,t.y+=this.Xt.top+this.Xt.bottom+this.ya.top+this.ya.bottom;const e=this._m.Ps().jc(),i=ru(vS(this.xk||H0),this.bm);return t.x+=e.x+i.left+i.right,t.y+=e.y+i.top+i.bottom,this.Yk&&(t.x+=this.Yk.left,t.x+=this.Yk.right,t.y+=this.Yk.top,t.y+=this.Yk.bottom),t.x+=GR.x,t.y+=GR.y,t}addChartMarkerXY(t=Fz,e,i){const r=this.nm(),n=new a5(r,this.uiScale,e||this.getDefaultAxisX(),i||this.getDefaultAxisY(),t,this.tm(r),this.qi);return this.gm(n),n}addAxisX(t){var e,i;const{opposite:r,type:n}=lx(t);let a;a=n.type==="linear"?this.sm.d1({dimension:"x",scale1DConstructor:xr}):n.type==="linear-highPrecision"?this.sm.d1({dimension:"x",scale1DConstructor:xr}).Mi():this.sm.d1({dimension:"x",scale1DConstructor:nh}).Ai(n.base),a.q(this.ik.x.oi());const o=r?this.Vg:this.Og,l=new Cg(this.Wk,this.bA,this.xm,this.JA,this.KA,this.us.es,a,this.ik.y,(u=()=>l._g(),{...kg,...nN(u)}),this,r?100:0,this.qA,this.Ck,this.qi,this.th,n);var u;let d,f;return(t==null?void 0:t.iParallel)===void 0&&(t==null?void 0:t.iStack)===void 0?(d=o.reduce((g,m)=>Math.max(g,m.iParallel+1),0),f=0):(d=(e=t.iParallel)!==null&&e!==void 0?e:0,f=(i=t.iStack)!==null&&i!==void 0?i:0),o.push({axis:l,iStack:f,iParallel:d}),this.us.Ss(),l}addAxisY(t){var e,i;const{opposite:r,type:n}=lx(t);let a;a=n.type==="linear"?this.sm.d1({dimension:"y",scale1DConstructor:xr}):n.type==="linear-highPrecision"?this.sm.d1({dimension:"y",scale1DConstructor:xr}).Mi():this.sm.d1({dimension:"y",scale1DConstructor:nh}).Ai(n.base),a.q(this.ik.y.oi());const o=r?this.Ng:this.Gg,l=new Cg(this.Wk,this.bA,this.xm,this.JA,this.KA,this.us.es,a,this.ik.x,(u=()=>l._g(),{...LA,...aN(u)}),this,r?100:0,this.qA,this.Ck,this.qi,this.th,n);var u;let d,f;return(t==null?void 0:t.iParallel)===void 0&&(t==null?void 0:t.iStack)===void 0?(d=o.reduce((g,m)=>Math.max(g,m.iParallel+1),0),f=0):(d=(e=t.iParallel)!==null&&e!==void 0?e:0,f=(i=t.iStack)!==null&&i!==void 0?i:0),o.push({axis:l,iParallel:d,iStack:f}),this.us.Ss(),l}swapAxes(t,e){const i=[this.Og,this.Gg,this.Ng,this.Vg],r=i.find(d=>d.find(f=>f.axis===t)!==void 0),n=i.find(d=>d.find(f=>f.axis===e)!==void 0);if(!r||!n)return this;if(r!==n)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");const a=r.find(d=>d.axis===t),o=r.find(d=>d.axis===e);if(!a||!o)return this;const l=a.iParallel,u=a.iStack;return a.iParallel=o.iParallel,a.iStack=o.iStack,o.iParallel=l,o.iStack=u,this.us.Ss(),this}dispose(){return this.Pm.dispose(),this.Gk.W(),this.Rb.W(),this.bA.W(),this.Wk.forEach(t=>t.W()),this.KA.W(),this.JA.W(),this.jy.W(),this.VC().forEach(t=>t.dispose()),Tu(this.ik),this.Og.slice().forEach(t=>t.axis.dispose()),this.Gg.slice().forEach(t=>t.axis.dispose()),this.Ng.slice().forEach(t=>t.axis.dispose()),this.Vg.slice().forEach(t=>t.axis.dispose()),this.xS.slice().forEach(t=>{t.dispose()}),super.dispose()}getDefaultAxisX(){var t;return(t=[...this.Og,...this.Vg].find(e=>e.axis.getVisible()))===null||t===void 0?void 0:t.axis}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}getDefaultAxisY(){var t;return(t=[...this.Gg,...this.Ng].find(e=>e.axis.getVisible()))===null||t===void 0?void 0:t.axis}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}getDefaultAxes(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]}getAxes(...t){const e=t&&t.length>0?new Set(t):lN;return xg(Array.from(e).map(i=>{switch(i){default:case ba.Top:return this.Vg.map(r=>r.axis);case ba.Bottom:return this.Og.map(r=>r.axis);case ba.Left:return this.Gg.map(r=>r.axis);case ba.Right:return this.Ng.map(r=>r.axis)}}))}Hk(t){let e;return this.forEachAxisX(i=>{e=t===i?"x":e}),this.forEachAxisY(i=>{e=t===i?"y":e}),e}forEachAxisX(t){this.Og.forEach((e,i,r)=>t(e.axis,i,r.map(n=>n.axis))),this.Vg.forEach((e,i,r)=>t(e.axis,i,r.map(n=>n.axis)))}forEachAxisY(t){this.Gg.forEach((e,i,r)=>t(e.axis,i,r.map(n=>n.axis))),this.Ng.forEach((e,i,r)=>t(e.axis,i,r.map(n=>n.axis)))}setTitlePosition(t){return this.xk=t,this.us.Ss(),this}getTitlePosition(){return this.xk}$k(t,e,i,r){const n=this.xk||H0;let a,o=ru(vS(n),this.bm);this.getTitleFillStyle()===Nt||this.getTitle().length===0?(a={x:0,y:0},o={left:0,top:0,right:0,bottom:0}):a=this._m.Ps().jc();const l=Math.abs(r)+this.ya.bottom+this.Xt.bottom,u=Math.abs(i)+this.ya.top+this.Xt.top,d={left:Math.abs(t)+this.ya.left+this.Xt.left,right:Math.abs(e)+this.ya.right+this.Xt.right,top:u,bottom:l},f=this.uiScale.Wi(),{horizontalAlignment:g,verticalAlignment:m,position:p,marginsWithTitle:x}=YR(n,f,d,a,o,this.ya);return this._m.Fe(p).Da(g).La(m),x}Te(t){super.Te(t);for(const T of this.xS)T.oS();for(const T of this.xS)T.Te();const e=this.Gg.map(T=>T.axis.Mr().Ps()),i=this.Og.map(T=>T.axis.Mr().Ps()),r=this.Vg.map(T=>T.axis.Mr().Ps()),n=this.Ng.map(T=>T.axis.Mr().Ps());let a=!1;this.forEachAxis(T=>{(T.kr()||T.Tr())&&(a=!0)});const o=this.Tk||this.Fk||!this.ak&&a;Ms.Im(this,this.FS.getIsUnderMouse(),o,this.xS,T=>Ms.Hc(this,T,this.xS),(T,F)=>T.Hc(F,!0));const l=X0(this.Gg,e),u=X0(this.Og,i),d=X0(this.Vg,r),f=X0(this.Ng,n),g=this.$k(l.thicknessTotal,f.thicknessTotal,d.thicknessTotal,u.thicknessTotal),m=this.ik.x.getCellSize()-(g.left+g.right),p=this.ik.y.getCellSize()-(g.bottom+g.top),x=[g.left,g.right],v=[g.bottom,g.top];this.ik.x.J(0,m),this.ik.y.J(0,p),this.ik.x.si(x),this.ik.y.si(v);const A=(T,F,D,N)=>{let V=0;T.groups.forEach(P=>{let b=0;const M=P.stacks.reduce((z,H)=>Math.max(z,H.kg),0),w=P.stacks.reduce((z,H)=>z+(H.axis.getVisible()?H.axis.iA+H.axis.sA:0),0),C=P.stacks.reduce((z,H)=>z+(H.axis.getVisible()&&"pixels"in H.axis.zd?H.axis.zd.pixels:0),0),k=F-w-C;P.stacks.forEach(z=>{const H=z.axis,B=H.getVisible(),U=Math.max(F-b,0),O=Math.min(B?"pixels"in H.zd?H.zd.pixels:H.zd.relative/P.sumRelativeSize*k:0,U),W=B?D[0]+b+H.iA:0,I=B?D[1]+(F-b)-O-H.iA:0;H.dt.si([W,I]),H.Te({kg:M,Tg:z.Tg,Pg:O,Xk:b,zg:M+z.Tg,Bg:V}),B&&(b+=O+H.iA+H.sA)}),V+=N*P.thicknessMax})};A(l,p,v,-1),A(f,p,v,1),A(u,m,x,-1),A(d,m,x,1),this.Yk={left:l.thicknessTotal,top:d.thicknessTotal,right:f.thicknessTotal,bottom:u.thicknessTotal},this.FS.Fe(Y(0,0)).q(Y(m,p)),this.IS.Fe(Y(0,0)).q(Y(m,p));const E=Ow(this.ik.x.ei(),this.ik.y.ei(),this.ik.x.ri(),this.ik.y.ri());this.Rb.qv(E),this.JA.qv(E),this.KA.qv(E),this.Zg&&this.Zg(),this.Og.forEach(T=>T.axis.Wg()),this.Vg.forEach(T=>T.axis.Wg()),this.Gg.forEach(T=>T.axis.Wg()),this.Ng.forEach(T=>T.axis.Wg()),super.pm();for(const T of this.xS)T.dp()}j(){for(let t=0;t<this.Og.length;t+=1)this.Og[t].axis.j();for(let t=0;t<this.Vg.length;t+=1)this.Vg[t].axis.j();for(let t=0;t<this.Gg.length;t+=1)this.Gg[t].axis.j();for(let t=0;t<this.Ng.length;t+=1)this.Ng[t].axis.j();return super.j()}kk(t){if(this.sk.has(t))return this.sk.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")}addLineSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);let r=Js.freeform;t&&t.dataPattern&&(r=t.dataPattern.pattern==="ProgressiveX"?Js.horizontalProgressive:t.dataPattern.pattern==="ProgressiveY"?Js.verticalProgressive:t.dataPattern.pattern==="RegressiveX"?Js.horizontalRegressive:t.dataPattern.pattern==="RegressiveY"?Js.verticalRegressive:Js.freeform);const n=new yd(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,r,this.qi,this.us.es,L0(t&&t.dataPattern),(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(n),n}addPointLineAreaSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=new m5(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(r),r}addPointSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=t&&t.pointShape&&Object.values(Qe).includes(t.pointShape)?typeof t.pointShape=="string"?Qe[t.pointShape]:t.pointShape:Qe.Square,n=new qA(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,r,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(n),n}addPointLineSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=t&&t.pointShape&&Object.values(Qe).includes(t.pointShape)?typeof t.pointShape=="string"?Qe[t.pointShape]:t.pointShape:Qe.Square;let n=Js.freeform;t&&t.dataPattern&&(n=t.dataPattern.pattern==="ProgressiveX"?Js.horizontalProgressive:t.dataPattern.pattern==="ProgressiveY"?Js.verticalProgressive:t.dataPattern.pattern==="RegressiveX"?Js.horizontalRegressive:t.dataPattern.pattern==="RegressiveY"?Js.verticalRegressive:Js.freeform);const a=new hf(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,n,r,this.qi,this.us.es,L0(t&&t.dataPattern),(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(a),a}addStepSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=t&&t.pointShape?t.pointShape:Qe.Square,n=t&&t.mode?t.mode:to.before,a=new g5(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,r,n,this.qi,this.us.es,L0(t&&t.dataPattern),(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(a),a}addSplineSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=t&&t.pointShape?t.pointShape:Qe.Square;let n=Js.freeform;t&&t.dataPattern&&(n=t.dataPattern.pattern==="ProgressiveX"?Js.horizontalProgressive:t.dataPattern.pattern==="RegressiveX"?Js.horizontalRegressive:Js.freeform);const a=new c5(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,n,r,this.qi,this.us.es,L0(t&&t.dataPattern),(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,t);return this.PS(a),a}addRectangleSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=new Oz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length);return this.PS(r),r}addPolygonSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY(),r=new Uz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length);return this.PS(r),r}addSegmentSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=new Gz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length);return this.PS(r),r}addEllipseSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=new Iz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length);return this.PS(r),r}addBoxSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=t&&t.dimensionStrategy?t.dimensionStrategy:kg,n=new Lz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,r,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length);return this.PS(n),n}addHeatmapGridSeries(t){const e=t.xAxis?t.xAxis:this.getDefaultAxisX(),i=t.yAxis?t.yAxis:this.getDefaultAxisY();let r;if(t.heatmapDataType!==void 0&&t.heatmapDataType!=="intensity")throw new Error(`Unsupported Heatmap Grid heatmapDataType: '${t.heatmapDataType}'`);return r=new Yz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,t,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length),this.PS(r),r}addHeatmapScrollingGridSeries(t){const e=t.xAxis?t.xAxis:this.getDefaultAxisX(),i=t.yAxis?t.yAxis:this.getDefaultAxisY();let r;if(t.heatmapDataType!==void 0&&t.heatmapDataType!=="intensity")throw new Error(`Unsupported Heatmap Grid heatmapDataType: '${t.heatmapDataType}'`);return r=new Xz(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,t,this.qi,this.us.es,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length),this.PS(r),r}addOHLCSeries(t){const e=(t==null?void 0:t.axisX)||(t==null?void 0:t.xAxis)||this.getDefaultAxisX(),i=(t==null?void 0:t.axisY)||(t==null?void 0:t.yAxis)||this.getDefaultAxisY();hn(e,i);const r=new(t&&t.type?t.type:rN.Candlesticks)(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es);return this.PS(r),r}addOnScreenMenu(t,e){return new oN(this.cA,t,this,e)}setMouseBackgroundStyle(t=he.Default){return this.yk=t,this}setMouseZoomStyle(t=he.ZoomIn){return this.Sk=t,this}setMouseFitStyle(t=he.Default){return this.vk=t,this}setMousePanStyle(t=he.Move){return this.pk=t,this}setMouseInteractions(t){return this.setMouseInteractionRectangleZoom(t).setMouseInteractionRectangleFit(t).setMouseInteractionWheelZoom(t).setMouseInteractionPan(t)}setMouseInteractionRectangleZoom(t){return this.ek=t,this}getMouseInteractionRectangleZoom(){return this.ek}setMouseInteractionRectangleFit(t){return this.hk=t,this}getMouseInteractionRectangleFit(){return this.hk}setMouseInteractionPan(t){return this.nk=t,this}getMouseInteractionPan(){return this.nk}setMouseInteractionWheelZoom(t){return this.rk=t,this}getMouseInteractionWheelZoom(){return this.rk}setZoomingRectangleFillStyle(t){return this.fk=typeof t=="function"?t(this.fk):t,this.us.Ss(),this}getZoomingRectangleFillStyle(){return this.fk}setZoomingRectangleStrokeStyle(t){return this.Ak=typeof t=="function"?t(this.Ak):t,this.us.Ss(),this}getZoomingRectangleStrokeStyle(){return this.Ak}setFittingRectangleFillStyle(t){return this.gk=typeof t=="function"?t(this.gk):t,this.us.Ss(),this}getFittingRectangleFillStyle(){return this.gk}setFittingRectangleStrokeStyle(t){return this.mk=typeof t=="function"?t(this.mk):t,this.us.Ss(),this}getFittingRectangleStrokeStyle(){return this.mk}addLegendBox(t,e){const i=super.addLegendBox(t,e);if(e===void 0||e===this.uiScale)if(t===void 0||t.getAlignment()==="vertical")i.setOrigin(Au.RightCenter).setPosition({x:this.uiScale.x.ut(this.uiScale.x.hi()-this.ya.right),y:Su(this.ik.y.ut(this.ik.y.ei()+this.ik.y.ri()/2),this.ik.y,this.uiScale.y)});else{const r=this.xk||H0,n=YR(r,this.uiScale.Wi(),this.ya,this.getTitleFillStyle()===Nt||this.getTitle().length===0?{x:0,y:0}:this._m.Ps().jc(),ru(vS(r),this.bm),this.ya).marginsWithTitle.top;i.setOrigin(Au.RightTop).setPosition(mt({x:this.pixelScale.x.getInnerEnd()-this.ya.right,y:this.pixelScale.y.getInnerEnd()-n},this.pixelScale,this.uiScale))}return i}Ik(t,e){this.forEachAxis(Y0);const i=mt(this.engine.clientLocation2Engine(e.x,e.y),this.xm.us.dt,this.ik);this.uk.Fe(i).q(Y(0,0))}Pk(t,e,i){const r=mt(this.engine.clientLocation2Engine(e.x,e.y),this.xm.us.dt,this.ik),n=mt(this.engine.clientLocation2Engine(i.x,i.y),this.xm.us.dt,this.ik),a=Aa(n.x,this.ik.x.getInnerStart(),this.ik.x.getInnerEnd())&&Aa(n.y,this.ik.y.getInnerStart(),this.ik.y.getInnerEnd()),o=Y(Math.min(r.x,n.x),Math.min(r.y,n.y)),l=Y(Math.max(r.x,n.x),Math.max(r.y,n.y));this.uk.Fe(o).q(be(l,o));const u=Math.min(l.x-o.x,l.y-o.y)>=10;a&&u&&l.x===r.x&&this.hk?(this.Tk=!0,this.uk.Ce(this.gk).we(this.mk),this.ck.Re(this.mk).Ve(r).ze(n),this.dk.Re(this.mk).Ve(Y(r.x,n.y)).ze(Y(n.x,r.y)),this.bk=this.engine.setMouseStyle(this.vk,this.bk)):a&&u&&(this.ek||this.hk)?(this.Tk=!0,this.uk.Ce(this.fk).we(this.Ak),this.ck.Re(bt),this.dk.Re(bt),this.bk=this.engine.setMouseStyle(this.Sk,this.bk)):(this.Tk=!1,this.uk.we(bt).Ce(Nt),this.ck.Re(bt),this.dk.Re(bt),this.engine.restoreMouseStyle(this.bk)),this.us.Ss()}Bk(t,e,i){if(this.Tk){const r=mt(this.engine.clientLocation2Engine(i.x,i.y),this.xm.us.dt,this.ik),n=Aa(r.x,this.ik.x.getInnerStart(),this.ik.x.getInnerEnd())&&Aa(r.y,this.ik.y.getInnerStart(),this.ik.y.getInnerEnd()),a=i.x>=e.x||!this.hk?"zoom":"fit",o=this.uk.Fa(),l=Bt(o,this.uk.oi()),u=Math.min(this.uk.oi().x,this.uk.oi().y)>=10;n&&u&&a==="zoom"&&this.ek?(this.forEachAxisX(d=>{if(d.getChartInteractionZoomByDrag()){const f=mt(o,this.ik,d.ng).x,g=mt(l,this.ik,d.ng).x;d.St(f,g,!0,!0,"interactionSetInterval")}}),this.forEachAxisY(d=>{if(d.getChartInteractionZoomByDrag()){const f=mt(o,this.ik,d.ng).y,g=mt(l,this.ik,d.ng).y;d.St(f,g,!0,!0,"interactionSetInterval")}})):n&&u&&a==="fit"&&this.hk&&this.forEachAxis(uN)}this.uk.we(bt).Ce(Nt),this.ck.Re(bt),this.dk.Re(bt),this.us.Ss()}pan(t){this.forEachAxisX(e=>{e.setStopped(!0).pan(t.x)}),this.forEachAxisY(e=>{e.setStopped(!0).pan(t.y)})}Dk(t){this.forEachAxisX(e=>{e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.x)}),this.forEachAxisY(e=>{e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.y)})}zoom(t,e){this.forEachAxis(Y0),this.forEachAxisX(i=>{i.zoom(i.dt.ut(t.x),e.x)}),this.forEachAxisY(i=>{i.zoom(i.dt.ut(t.y),e.y)})}Lk(t,e){this.forEachAxisX(i=>{i.getChartInteractionZoomByWheel()&&(Y0(i),i.zoom(i.dt.ut(t.x),e.x))}),this.forEachAxisY(i=>{i.getChartInteractionZoomByWheel()&&(Y0(i),i.zoom(i.dt.ut(t.y),e.y))})}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.forEachAxis(e=>e.setAnimationsEnabled(t)),this}Zd(){const t=[];return this.forEachAxis(e=>e.vg(i=>t.push(i))),super.Zd().concat(t)}VC(){return this.lk}me(){return this.Cm(this.Rb)}setAutoCursorEnabledDuringAxisAnimation(t){return this.ak=t,this}getAutoCursorEnabledDuringAxisAnimation(){return this.ak}forEachAxis(t){return this.forEachAxisX(t),this.forEachAxisY(t),this}translateCoordinate(t,e,i){if(i){const r=t,n=e,a=ou(n)?n:Kn(n)?this.pixelScale:void 0;if(a&&nu(i)){const o=mt(r,a,this.engine.scale);return this.us.Do({engineX:o.x,engineY:o.y})}if(a&&Kn(i))return mt(r,a,this.pixelScale);if(a&&ou(i))return mt(r,a,i)}else{const r=t;if(Kn(e)){const n=this.us.Po(r);return mt({x:n.engineX,y:n.engineY},this.engine.scale,this.pixelScale)}if(ou(e)){const n=e,a=this.us.Po(r);return mt({x:a.engineX,y:a.engineY},this.engine.scale,n)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}}(function(s){s.CenterTop="center-top",s.RightTop="right-top",s.LeftTop="left-top",s.CenterBottom="center-bottom",s.RightBottom="right-bottom",s.LeftBottom="left-bottom",s.SeriesCenterTop="series-center-top",s.SeriesRightTop="series-right-top",s.SeriesLeftTop="series-left-top",s.SeriesCenterBottom="series-center-bottom",s.SeriesRightBottom="series-right-bottom",s.SeriesLeftBottom="series-left-bottom"})(dx||(dx={}));const H0=dx.CenterTop,vS=s=>{switch(s){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:5};case"left-top":return{left:20,right:0,top:0,bottom:5};case"right-top":return{left:0,right:20,top:0,bottom:5};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:5,bottom:0};case"series-left-top":return{left:5,right:0,top:5,bottom:0};case"series-right-top":return{left:0,right:5,top:5,bottom:0};case"series-left-bottom":return{left:5,right:0,top:0,bottom:5};case"series-right-bottom":return{left:0,right:5,top:0,bottom:5}}return Lu(0,`Unexpected ChartXY title position selection ${s}`)},YR=(s,t,e,i,r,n)=>{i.x,r.left,r.right;const a=i.y+r.bottom+r.top,o=(r.left-r.right)*t.x,l=(r.bottom-r.top)*t.y;switch(s){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+o,y:100-(n.top+r.top)*t.y},marginsWithTitle:{...e,top:e.top+a}};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:o,y:100-(n.top-r.top)*t.y},marginsWithTitle:{...e,top:e.top+a}};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+o,y:100-(n.top-r.top)*t.y},marginsWithTitle:{...e,top:e.top+a}};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+o,y:(n.bottom+r.bottom)*t.y},marginsWithTitle:{...e,bottom:e.bottom+a}};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:o,y:(n.bottom+r.bottom)*t.y},marginsWithTitle:{...e,bottom:e.bottom+a}};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+o,y:(n.bottom+r.bottom)*t.y},marginsWithTitle:{...e,bottom:e.bottom+a}};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+o,y:100-e.top*t.y+l},marginsWithTitle:e};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:e.left*t.x+o,y:100-e.top*t.y+l},marginsWithTitle:e};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-e.right*t.x+o,y:100-e.top*t.y+l},marginsWithTitle:e};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:e.bottom*t.y+l},marginsWithTitle:e};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:e.left*t.x+o,y:e.bottom*t.y+l},marginsWithTitle:e};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-e.right*t.x+o,y:e.bottom*t.y+l},marginsWithTitle:e}}return Lu(0,`Unexpected ChartXY title position selection ${s}`)},X0=(s,t)=>{const e=[];s.forEach((r,n)=>{const a=t[n],o=e.find(l=>l.iParallel===r.iParallel);o?(o.stacks.push({...r,...a}),o.stacks.sort((l,u)=>l.iStack-u.iStack)):e.push({iParallel:r.iParallel,stacks:[{...r,...a}]})});const i=e.map(r=>{const n=r.stacks.reduce((u,d)=>Math.max(u,d.kg),0),a=r.stacks.reduce((u,d)=>Math.max(u,d.Tg),0),o=r.stacks.reduce((u,d)=>Math.max(u,d.Vd),0),l=r.stacks.reduce((u,d)=>u+(d.axis.getVisible()&&"relative"in d.axis.zd?d.axis.zd.relative:0),0);return{...r,ticksSizeMax:n,titleSizeMax:a,sumRelativeSize:l,thicknessMax:o}});return i.sort((r,n)=>r.iParallel-n.iParallel),{groups:i,thicknessTotal:i.reduce((r,n)=>r+n.thicknessMax,0)}};class p5{constructor(t,e,i,r,n,a,o){this.coordsRelative="relative",this.coordsClient="client",this.D=new qi,this.jk=[],this.Zk=new Map,this.xS=new Map,this.Qk=(x,v,A)=>{this.xS.size!==0&&[...this.xS.values()].find(({series:E})=>E.getVisible()===!0)!==void 0||this.Jk.St(v,A,!1,!1,"zoomBandChart"),this.Kk.us.Ss()},e.us.Nn(Dt.ff),this.cA=t,this.qk=(a==null?void 0:a.orientation)||"x",this.tT=(a==null?void 0:a.useSharedValueAxis)!==void 0&&a.useSharedValueAxis,this.iT=r,this.Wu=this.qk==="x"?kg:LA;const l={...a,defaultAxisX:this.Wu.getWidth({x:a==null?void 0:a.defaultAxis,y:void 0}),defaultAxisY:this.Wu.getHeight({x:a==null?void 0:a.defaultAxis,y:void 0})};this.Kk=new JA(t,e,i,ae,n,l,o).setTitle("Zoom Band Chart").setMouseInteractions(!1).setAutoCursorMode(Ze.disabled),this.engine=this.Kk.engine;const u=this.Kk.getDefaultAxisX().setMouseInteractions(!1),d=this.Kk.getDefaultAxisY().setMouseInteractions(!1);this.Jk=this.Wu.getWidth({x:u,y:d}).setScrollStrategy(Fa.fitting).setAnimationScroll(!1).setStrokeStyle(bt).setTickStrategy(Rg.Empty),a!=null&&a.useSharedValueAxis?this.sT=this.Wu.getHeight({x:u,y:d}):this.Wu.getHeight({x:u,y:d}).dispose();const f=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new rt({color:this.getTheme().isDark?L(0,0,0,180):L(255,255,255,180)});this.eT=[this.Kk.bA.ke(this.Jk.ng).Ce(f).we(bt),this.Kk.bA.ke(this.Jk.ng).Ce(f).we(bt)];const g=this.Kk.bA.Lg(this.Jk.ng).Re(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.hT={collection:g,members:new Array(5).fill(0).map(x=>g.zr())};const m=this.getTheme(),p=typeof m.zoomBandChartKnobFillStyle=="function"?m.zoomBandChartKnobFillStyle(this.cA.$s):m.zoomBandChartKnobFillStyle||Nt;this.rT=[this.Kk.bA.ke(this.Kk.pixelScale).Ce(p).we(bt),this.Kk.bA.ke(this.Kk.pixelScale).Ce(p).we(bt)],this.nT=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.oT()}add(t){var e,i,r,n,a;const o=this.jk.map(T=>T.axis),l=this.qk==="x"?t.axisX:t.axisY;if(!o.includes(l)){const T=l.onIntervalChange(this.Qk);this.jk.push({axis:l,deattach:()=>{l.offIntervalChange(T)}}),this.Jk.$h(l.Hh()),this.aT&&this.aT.remove(),this.aT=__(...this.jk.map(F=>F.axis))}const u=this.Wu.getHeight({x:t.axisX,y:t.axisY});let d;if(this.tT)d=this.sT;else{const T=this.Zk.get(u);T?d=T:(d=this.Wu.getHeight({x:this.Kk.addAxisX.bind(this.Kk),y:this.Kk.addAxisY.bind(this.Kk)})(),this.lT(d)),this.Zk.set(u,d)}const f=this.Wu.getWidth({x:this.Jk,y:d}),g=this.Wu.getHeight({x:this.Jk,y:d});let m;const p=[],x=(T,F)=>{const D=b=>{if(b.length!==0)if("x"in b[0]){const M=b;F.add(M)}else{const M=b,w=[];for(let C=0;C<M.length;C+=1){const k=M[C];w.push({x:k[0],y:k[4]})}F.add(w)}},N=T.r_();D(N);const V=T.n_((b,M)=>D(M));p.push(()=>T.o_(V));const P=T.a_(()=>F.clear());p.push(()=>{T.l_(P)})};if(t instanceof m5)m=this.Kk.addPointLineAreaSeries({...t.Un,xAxis:f,yAxis:g}).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setCurvePreprocessing(t.getCurvePreprocessing()),m.setDataSet(t.tk());else if(t instanceof yd||t instanceof y5){const T=this.Kk.addLineSeries({xAxis:f,yAxis:g,dataPattern:t instanceof yd?(e=t.Un)===null||e===void 0?void 0:e.dataPattern:void 0});if(t instanceof yd)T.setStrokeStyle(t.getStrokeStyle());else{const F=cN(t);F&&T.setStrokeStyle(F)}x(t,T),m=T}else if(t instanceof jA){const T=this.Kk.addAreaSeries({xAxis:f,yAxis:g,baseline:t.Mw}).setFillStyle(t.getFillStyle()).setStrokeStyle(t.getStrokeStyle());x(t,T),m=T}else if(t instanceof qA){const T=this.Kk.addPointSeries({xAxis:f,yAxis:g,pointShape:(i=t.Un)===null||i===void 0?void 0:i.pointShape}).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());x(t,T),m=T}else if(t instanceof g5){const T=this.Kk.addStepSeries({xAxis:f,yAxis:g,pointShape:(r=t.Un)===null||r===void 0?void 0:r.pointShape,mode:t.$w}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());x(t,T),m=T}else if(t instanceof c5){const T=this.Kk.addSplineSeries({xAxis:f,yAxis:g,pointShape:(n=t.Un)===null||n===void 0?void 0:n.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());x(t,T),m=T}else if(t instanceof hf){const T=this.Kk.addSplineSeries({xAxis:f,yAxis:g,pointShape:(a=t.Un)===null||a===void 0?void 0:a.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());x(t,T),m=T}else if(t instanceof u5){const T=this.Kk.addAreaRangeSeries({xAxis:f,yAxis:g}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.r_()),F=t.n_((N,V)=>T.add(V));p.push(()=>t.o_(F)),m=T;const D=t.a_(()=>T.clear());p.push(()=>{t.l_(D)})}else{if(!(t instanceof h5))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");{const T=this.Kk.addHeatmapGridSeries({xAxis:f,yAxis:g,...t.F_}),F=()=>{T.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle())};F(),m=T,t.D_(m);const D=t.R_((P,b)=>T.invalidateIntensityValues(b)),N=t.B_(F);p.push(()=>{t.E_(D),t.L_(N)});const V=t.a_(()=>T.clear());p.push(()=>{t.l_(V)})}}m.setMouseInteractions(!1);const v=t.onVisibleStateChanged((T,F)=>{m.setVisible(F)});p.push(()=>{t.offVisibleStateChanged(v)});const A=t.onHighlight((T,F)=>m.setHighlight(F));p.push(()=>{t.offHighlight(A)});const E=t.onDispose(()=>{this.disposeSeries(t)});return p.push(()=>{t.offDispose(E)}),this.xS.set(t,{series:m,clearReferences:()=>p.forEach(T=>T())}),m}disposeSeries(t){const e=this.xS.get(t);if(e){const{clearReferences:r}=e;r(),this.xS.delete(t),e.series.dispose();const n=this.Wu.getHeight({x:t.axisX,y:t.axisY}),a=this.Zk.get(n);a&&a._g().length===0&&(this.Zk.delete(n),a.dispose())}const i=this.qk==="x"?t.axisX:t.axisY;if(!Array.from(this.xS.keys()).find(r=>i===(this.qk==="x"?r.axisX:r.axisY))){const r=this.jk.findIndex(n=>n.axis===i);this.jk[r].deattach(),this.jk.splice(r,1)}return this}setDefocusOverlayFillStyle(t){return this.eT.forEach(e=>e.Ce(t)),this.Kk.us.Ss(),this}getDefocusOverlayFillStyle(){return this.eT[0].Eh()}setSplitterStrokeStyle(t){return this.hT.collection.Re(t),this.Kk.us.Ss(),this}getSplitterStrokeStyle(){return this.hT.collection.uu()}setKnobFillStyle(t){return this.rT.forEach(e=>e.Ce(t)),this.Kk.us.Ss(),this}getKnobFillStyle(){return this.rT[0].Eh()}setKnobStrokeStyle(t){return this.rT.forEach(e=>e.we(t)),this.Kk.us.Ss(),this}getKnobStrokeStyle(){return this.rT[0].ao()}setKnobSize(t){return this.nT=t,this.Kk.us.Ss(),this}getKnobSize(){return this.nT}getDefaultAxisX(){return this.Kk.getDefaultAxisX()}getDefaultAxisY(){return this.Kk.getDefaultAxisY()}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}lT(t){t.setTickStrategy(Rg.Empty).setMouseInteractions(!1).setNibStyle(bt).setStrokeStyle(bt)}oT(){let t;const e=(n,a,o)=>{var l,u;const d=this.qk==="x"?(l=Array.from(this.xS.keys())[0])===null||l===void 0?void 0:l.axisX:(u=Array.from(this.xS.keys())[0])===null||u===void 0?void 0:u.axisY;if(!d)return;const f=d.getInterval(),g=this.Jk.getInterval();Math.abs(this.Jk.dt.ct(n)-this.Jk.dt.ct(a))<10||Math.sign(a-n)!==Math.sign(f.end-f.start)||Math.min(n,a)<Math.min(g.start,g.end)||Math.max(n,a)>Math.max(g.start,g.end)&&Math.max(f.start,f.end)<Math.max(n,a)||d.St(n,a,o,!0,"zoomBandChart")};this.rT.forEach((n,a)=>{n.setMouseEnterEventHandler(()=>{t=this.engine.setMouseStyle(this.Wu.getWidth({x:he.Horizontal,y:he.Vertical}),t)}),n.setMouseLeaveEventHandler(()=>{this.engine.restoreMouseStyle(t)});const o=u=>{var d,f;const g=this.qk==="x"?(d=Array.from(this.xS.keys())[0])===null||d===void 0?void 0:d.axisX:(f=Array.from(this.xS.keys())[0])===null||f===void 0?void 0:f.axisY;if(!g)return;const m=this.Wu.getWidth(this.Kk.translateCoordinate(u,this.Kk.coordsAxis)),p=g.getInterval(),x=a===0?m:p.start,v=a===1?m:p.end;e(x,v,!1),vt(u)};n.setMouseDragEventHandler((u,d,f,g,m)=>o(d));const l=tr(new Xr(void 0,(u,d,f,g,m)=>o(m)));n.setTouchStartEventHandler(l.onTouchStart),n.setTouchMoveEventHandler(l.onTouchMove),n.setTouchEndEventHandler(l.onTouchEnd)}),this.Kk.onSeriesBackgroundMouseEnter(()=>{t=this.engine.setMouseStyle(he.Move,t)}),this.Kk.onSeriesBackgroundMouseLeave(()=>{this.engine.restoreMouseStyle(t)});const i=(n,a)=>{var o,l;const u=this.qk==="x"?(o=Array.from(this.xS.keys())[0])===null||o===void 0?void 0:o.axisX:(l=Array.from(this.xS.keys())[0])===null||l===void 0?void 0:l.axisY;if(!u)return;const d=u.getInterval(),f=this.Jk.dt.mi(d.start,this.Wu.getWidth(n)),g=this.Jk.dt.mi(d.end,this.Wu.getWidth(n));e(f,g,!1),vt(a)};this.Kk.onSeriesBackgroundMouseDrag((n,a,o,l,u)=>i(u,a));const r=tr(new Xr(void 0,(n,a,o,l,u)=>i(l,u)));this.Kk.onSeriesBackgroundMouseWheel((n,a)=>{var o,l;const u=this.qk==="x"?(o=Array.from(this.xS.keys())[0])===null||o===void 0?void 0:o.axisX:(l=Array.from(this.xS.keys())[0])===null||l===void 0?void 0:l.axisY;if(!u)return;const d=u.getInterval(),f=this.Jk.getInterval(),g=this.Wu.getWidth(this.Kk.translateCoordinate(a,this.Kk.coordsAxis)),m=this.Jk.dt.ct(d.start),p=this.Jk.dt.ct(d.end),x=this.Jk.dt.ct(g),v=ee((x-m)/(p-m),0,1),A=.2*Math.abs(p-m)*u.Rf,E=v*A*-Math.sign(a.deltaY),T=(1-v)*A*Math.sign(a.deltaY),F=ee(this.Jk.dt.mi(d.start,E),f.start,f.end),D=ee(this.Jk.dt.mi(d.end,T),f.start,f.end);e(F,D,!1),vt(a)}),this.Kk.onSeriesBackgroundTouchStart(r.onTouchStart),this.Kk.onSeriesBackgroundTouchMove(r.onTouchMove),this.Kk.onSeriesBackgroundTouchEnd(r.onTouchEnd),this.eT.forEach((n,a)=>{n.setMouseEnterEventHandler(()=>{t=this.engine.setMouseStyle(he.Point,t)}),n.setMouseLeaveEventHandler(()=>{this.engine.restoreMouseStyle(t)});const o=u=>{var d,f;const g=this.qk==="x"?(d=Array.from(this.xS.keys())[0])===null||d===void 0?void 0:d.axisX:(f=Array.from(this.xS.keys())[0])===null||f===void 0?void 0:f.axisY;if(!g)return;const m=this.Wu.getWidth(this.Kk.translateCoordinate(u,this.Kk.coordsAxis)),p=g.getInterval(),x=this.Jk.getInterval(),v=ee(m-(p.end-p.start)/2,Math.min(x.start,x.end),Math.max(x.start,x.end)-Math.abs(p.end-p.start)),A=v+(p.end-p.start);e(v,A,!0),vt(u)};n.setMouseClickEventHandler((u,d)=>o(d));const l=tr(new class{constructor(u,d=300){this.Ds=!1,this.Bs=[],this.Ls=300,this.Rs=u,this.Ls=d}Is(u,d){const f=ht.performance.now();let g=!1;for(let m=0;m<this.Bs.length;m+=1)f-this.Bs[m].time>=this.Ls?(this.Bs.splice(m,1),m-=1):this.Bs[m].state&&(g=!0);return this.Ds?d.interactions.length===0&&(this.Bs.push({state:!1,time:f}),this.Ds=!1):d.interactions.length===1&&d.type==="pointerdown"&&(this.Bs.push({state:!0,time:f}),g=!0,this.Ds=!0),g}Ps(u,d,f){if(f&&!this.Ds){const g=this.Bs.reduce((m,p)=>(p.state?m.on+=1:m.off+=1,m),{on:0,off:0});g.on>=1&&g.off>=1&&(this.Rs(u,d),this.Bs.length=0)}}}((u,d)=>o(d)));n.setTouchStartEventHandler(l.onTouchStart),n.setTouchMoveEventHandler(l.onTouchMove),n.setTouchEndEventHandler(l.onTouchEnd)})}getSizePixels(){return this.Kk.getSizePixels()}onResize(t){return this.Kk.onResize((e,i,r,n,a)=>t(this,i,r,n,a))}offResize(t){return this.Kk.offResize(t)}Fr(t){this.Kk.Fr(t)}getMinimumSize(){return this.Kk.getMinimumSize()}j(){return this.Kk.j()}Z(){return this.Kk.Z()}Te(t){var e,i,r,n;const a=Xo(Array.from(this.xS.keys()).map(v=>v.chart)),o=this.qk==="x"?(e=Array.from(this.xS.keys())[0])===null||e===void 0?void 0:e.axisX:(i=Array.from(this.xS.keys())[0])===null||i===void 0?void 0:i.axisY;if(this.qk==="x"){const v=a.reduce((F,D)=>{let N=0;return D.forEachAxisY(V=>{N+=V.sg===0?V.Ug():0}),Math.max(F,N)},0),A=a.reduce((F,D)=>{let N=0;return D.forEachAxisY(V=>{N+=V.sg===100?V.Ug():0}),Math.max(F,N)},0),E=a.reduce((F,D)=>Math.max(F,D.getPadding().left),0),T=a.reduce((F,D)=>Math.max(F,D.getPadding().right),0);(r=this.getDefaultAxisY())===null||r===void 0||r.setThickness(v),this.Kk.setPadding({left:E+(a.length===0?10:0),right:T+A+(a.length===0?10:0)})}else{const v=a.reduce((F,D)=>{let N=0;return D.forEachAxisX(V=>{N+=V.sg===0?V.Ug():0}),Math.max(F,N)},0),A=a.reduce((F,D)=>{let N=0;return D.forEachAxisX(V=>{N+=V.sg===100?V.Ug():0}),Math.max(F,N)},0),E=a.reduce((F,D)=>Math.max(F,D.getPadding().bottom),0),T=a.reduce((F,D)=>Math.max(F,D.getPadding().top),0);(n=this.getDefaultAxisX())===null||n===void 0||n.setThickness(v),this.Kk.setPadding({bottom:E+(a.length===0?10:0),top:T+A+(a.length===0?10:0)})}this.Kk.Te(t);const l=this.Jk.getInterval().start,u=this.Jk.getInterval().end,d=ee(o?o.getInterval().start:l,l,u),f=ee(o?o.getInterval().end:u,l,u),g=this.Wu.getHeight(this.Kk.ik.getInnerIntervalPixels());this.eT[0].Fe(this.Wu.toPoint(l,0)).q(this.Wu.toPoint(d-l,g)),this.eT[1].Fe(this.Wu.toPoint(f,0)).q(this.Wu.toPoint(u-f,g)),this.hT.members[0].Eg(this.Wu.toPoint(l,g),this.Wu.toPoint(d,g)),this.hT.members[1].Eg(this.Wu.toPoint(d,g),this.Wu.toPoint(d,0)),this.hT.members[2].Eg(this.Wu.toPoint(d,0),this.Wu.toPoint(f,0)),this.hT.members[3].Eg(this.Wu.toPoint(f,0),this.Wu.toPoint(f,g)),this.hT.members[4].Eg(this.Wu.toPoint(f,g),this.Wu.toPoint(u,g));const m=mt(this.Wu.toPoint(d,g/2),this.Jk.ng,this.Kk.pixelScale),p=mt(this.Wu.toPoint(f,g/2),this.Jk.ng,this.Kk.pixelScale),x=this.nT;this.rT[0].Fe({x:m.x-x.x/2,y:m.y-x.y/2}).q({x:x.x,y:x.y}).Nh(this.Wu.getWidth({x:0,y:90})),this.rT[1].Fe({x:p.x-x.x/2,y:p.y-x.y/2}).q({x:x.x,y:x.y}).Nh(this.Wu.getWidth({x:0,y:90}))}setSeriesBackgroundFillStyle(t){return this.Kk.setSeriesBackgroundFillStyle(t),this.Kk.us.Ss(),this}getSeriesBackgroundFillStyle(){return this.Kk.getSeriesBackgroundFillStyle()}setSeriesBackgroundStrokeStyle(t){return this.Kk.setSeriesBackgroundStrokeStyle(t),this.Kk.us.Ss(),this}getSeriesBackgroundStrokeStyle(){return this.Kk.getSeriesBackgroundStrokeStyle()}setSeriesBackgroundEffect(t){return this.Kk.setSeriesBackgroundEffect(t),this.Kk.us.Ss(),this}getSeriesBackgroundEffect(){return this.Kk.getSeriesBackgroundEffect()}getTheme(){return this.Kk.getTheme()}setTitle(t){return this.Kk.setTitle(t),this}getTitle(){return this.Kk.getTitle()}setTitleFillStyle(t){return this.Kk.setTitleFillStyle(t),this}getTitleFillStyle(){return this.Kk.getTitleFillStyle()}setTitleFont(t){return this.Kk.setTitleFont(t),this}getTitleFont(){return this.Kk.getTitleFont()}setTitleMargin(t){return this.Kk.setTitleMargin(t),this}getTitleMargin(){return this.Kk.getTitleMargin()}setPadding(t){return this.Kk.setPadding(t),this}getPadding(){return this.Kk.getPadding()}setBackgroundFillStyle(t){return this.Kk.setBackgroundFillStyle(t),this}getBackgroundFillStyle(){return this.Kk.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.Kk.setBackgroundStrokeStyle(t),this}getBackgroundStrokeStyle(){return this.Kk.getBackgroundStrokeStyle()}translateCoordinate(t,e,i){return Sy(t,e,i,this.Kk.pixelScale,this.Kk.us)}addUIElement(t,e){return this.Kk.addUIElement(t,e)}addLegendBox(t,e){return this.Kk.addLegendBox(t,e)}getLegendBoxes(){return this.Kk.getLegendBoxes()}saveToFile(t,e,i){return this.Kk.saveToFile(t,e,i),this}dispose(){return this.Kk.dispose(),this.Zk.clear(),this.xS.clear(),this.iT(this),this}isDisposed(){return this.Kk.isDisposed()}onDispose(t){return this.Kk.onDispose(()=>t(this))}offDispose(t){return this.Kk.offDispose(t)}}const cN=s=>{if("getStrokeStyle"in s)return s.getStrokeStyle();const t=(e=>e instanceof yd||e instanceof jA?e.getStrokeStyle().getFillStyle():e instanceof qA||e instanceof hf?e.getPointFillStyle():void 0)(s);return t?new te({thickness:2,fillStyle:t}):void 0};class dN extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,o),this.xs="Point Series",this.Vx=[],this.Ox=!1,this.Hx=3,this.Aa=0,this.Wy=rf,this.be=re(this.qi.polarPointSeriesFillStyle,a),this.od=new NA({dataPattern:null}),this.Na=t.dd(r).Re(bt).ud(Nt).ld(this.be).fd(Qe.Circle).pd(this.Hx).cs(this.getHighlight()).ad(this.od),this.ds(this.Na)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return this.Vx.length!==0&&this.Ji.us.Nn(Dt.vf),this.Vx=vy(t),this.Ox=!0,this.Bx=nf(this.Vx),this.ks.Ss(),this}setPointAlignment(t){return this.Na.JC(t),this.Ji.us.Ss(),this}getPointAlignment(){return this.Na.KC()}setPointFillStyle(t){this.be=typeof t=="function"?t(this.be):t;const e=this.be;return this.Na.ld(e),this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){return this.Hx=t,this.Na.pd(t),this.ks.Ss(),this}getPointSize(){return this.Hx}setPointShape(t){return this.Na.fd(t),this.Ji.us.Ss(),this}getPointShape(){return this.Na.Ad()}setPointRotation(t){return this.Aa=t,this.Na.gd(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=mt(t,this.Ji.us.dt,this.scale),r=this.od.Hc(i,!1,this.scale,this.Ji.pixelScale);if(!r)return;const{angle:n,amplitude:a}=oh(r,this.scale);return er(r,this.scale,this.Wy(new Ji,this,n,a,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,"color"in r&&r.color!==void 0&&Gs(this.be)?new rt({color:A_(r.color)}):this.be)}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}Te(){if(this.Ox||this.scale.Yx()){const t=ah(this.Vx,this.scale),e=ei(t);this.od.clear().add(t),this.Na.Yo(e),this.Ox=!1,this.Na.Ps()}}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be}),this}Cs(){return this.bs||this.getPointShape()}}class fN{constructor(t,e,i,r){this.D=new qi,this.uT=!1,this.Ji=t,this.cT=e,this.xS=i,this.Na=r}setGeometry(t){return this.dT=t,this.uT=!0,this.Ji.us.Ss(),this}getGeometry(){return this.dT}setMouseInteractions(t){return this.Na.setMouseInteractions(t),this}dispose(){return this.Na.dispose(),this.cT(this),this.D.emit("dispose",this),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){const e=this.Na.getVisible()!==t;return this.Na.setVisible(t),e&&this.D.emit("visibleStateChanged",this,t),this.Ji.us.Ss(),this}getVisible(){return this.Na.getVisible()}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}class gN extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,o),this.xs="Polygon Series",this.fT=[],this.AT=[],this.Wy=rf,this.gT=l=>{const u=this.AT.indexOf(l);u>=0&&this.AT.splice(u,1);const d=this.fT.findIndex(f=>f===l.Na);d>=0&&this.fT.splice(d,1),this.ks.Ss()},this.be=re(this.qi.polarPolygonSeriesFillStyle,a),this.xe=re(this.qi.polarPolygonSeriesStrokeStyle,a)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}addPolygon(){const t=new fN(this.Ji,this.gT,this,this.mT());return this.AT.push(t),t}setFillStyle(t){this.be=typeof t=="function"?t(this.be):t;const e=this.be;for(const i of this.fT)i.Ce(e);return this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){this.xe=typeof t=="function"?t(this.xe):t;const e=this.xe;for(const i of this.fT)i.we(e);return this.ks.Ss(),this}getStrokeStyle(){return this.xe}Kp(){return this.tS&&this.AT.find(t=>t.yT!==void 0)!==void 0&&this.getVisible()}Te(){this.AT.forEach(t=>{(t.uT||this.scale.Yx())&&t.pT&&(t.Na.pl(ah(t.pT,this.scale)),t.uT=!1,t.Na.Ps())})}oS(){super.oS();const t=se(Rt,Ft);this.AT.forEach(e=>{if(!e.dT)return;const i=!e.uT&&e.pT?e.pT:vy(e.dT);e.pT=i;const r=!e.uT&&e.yT?e.yT:nf(i);e.yT=r,t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max)}),this.Bx=t}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=Jh(t,this.fT,(l,u)=>{const d=l.Hc(u);if(d)return mt(d,this.scale,l.us.dt)},Da);if(!i)return;const r=mt(i[0],i[1].us.dt,this.scale),n=this.ST(i[1]);if(!n)return;const{angle:a,amplitude:o}=oh(r,this.scale);return{location:r,scale:this.scale,resultTableContent:this.Wy(new Ji,this,a,o,this.Ji.getAmplitudeAxis().formatValue).Zu(),owner:this,fillStyle:this.be,polarPolygon:n}}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}mT(){const t=this.ks.ic(this.scale,jr.Simple).Ce(this.be).we(this.xe).cs(this.getHighlight());return this.fT.push(t),this.ds(t),t}ST(t){return this.AT.find(e=>e.Na===t)}}class yN extends Wu{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,o),this.xs="Area Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.vT=!1,this.Wy=rf,this.be=re(this.qi.polarAreaSeriesFillStyle,a),this.xe=re(this.qi.polarAreaSeriesStrokeStyle,a)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){this.Vx.length!==0&&this.Ji.us.Nn(Dt.vf);const e=(i=>{const r=[];let n,a,o=!1;for(let l=0;l<i.length;l+=1){const u=i[l];let d=!0;if(n){d=!1;const f=u.angle-n.angle;if(ki(f,0))d=!0;else{const g=Math.sign(f);a===void 0?(a=g,d=!0):a===g&&(d=!0)}}d?r.push(u):o=!0,n=u}return{progressivePoints:r,userDataModified:o}})(t);return e.userDataModified&&this.vT===!1&&(console.warn(`${this.xs} setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.`),this.vT=!0),this.Vx=e.progressivePoints,this.Ox=!0,this.Bx=nf(this.Vx),this.ks.Ss(),this}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.ks.Ss(),this}getStrokeStyle(){return this.xe}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}}class mN extends yN{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,a,o),this.bT=this.ks.ic(this.scale,jr.Simple).cs(this.getHighlight()),this.ds(this.bT)}Te(){if(this.Ox||this.scale.Yx()){const t=this.Vx,e=this.Nx===!0?ah(t.concat((i=>{if(i.length===0)return i;const r=i[0],n=i[i.length-1];if(ki(r.angle,n.angle))return i;const a=1*Math.sign(n.angle-r.angle);let o=0;const l=[];for(let u=n.angle+a;!ki(u%360,r.angle%360);u+=a)if(l.push({angle:u,amplitude:0}),o+=1,o>360)return[];for(let u=0;u<l.length;u+=1)l[u].amplitude=eh(n.amplitude,r.amplitude,(u+1)/(l.length+1));return l})(t)),this.scale):[...ah(t,this.scale),{x:0,y:0}];this.bT.pl(e).Ce(this.be).we(this.xe),this.Ox=!1,this.bT.Ps()}}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=this.bT.Hc(t);if(!i)return;const{angle:r,amplitude:n}=oh(i,this.scale);return er(i,this.scale,this.Wy(new Ji,this,r,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.be)}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}}class dr extends zn{constructor(){super(...arguments),this.Gi="RadialScale",this.xT={start:0,end:1},this.MT=!1,this._T=0,this.X=Y(0,0),this.wT=[0,0],this.CT=[0,0],this.i=!0,this.vi=!0,this.kT=!0,this.TT=!0,this.FT={x:0,y:0},this.di={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}}}yx(t,e){return t===this.xT.start&&e===this.xT.end||(this.xT={start:t,end:e},this.kT=!0,this.IT()),this}mx(){return this.xT}gx(){return this.xT.end>=this.xT.start}wx(t){this.MT=t,this.TT=!0}kx(){return this.MT===!1}Cx(t){this._T=t,this.TT=!0}xx(){return this._T}yi(){return this.vi}_i(){return!1}ot(t,e,i,r){return this.x=new xr(t.x,e.x,i.x,r?r.x:void 0),this.y=new xr(t.y,e.y,i.y,r?r.y:void 0),this}pi(){return this.di}Yx(){return this.kT}PT(){return this.TT}Wi(){return this.FT}j(){return this.i=!1,this.vi=!1,this.kT=!1,this.TT=!1,this}Z(){return this.i=!0,this.vi=!0,this.kT=!0,this.TT=!0,this}q(t,e){return typeof t=="object"?(this.X.x=t.x,this.X.y=t.y):(this.X.x=t,this.X.y=e),this.IT(),this}Ei(t){return this.wT=t,this.IT(),this}zi(t){return this.CT=t,this.IT(),this}ni(){return Y(this.wT[0]+this.wT[1],this.CT[0]+this.CT[1])}oi(){return this.X}IT(){const t=this.xT,e=Y(this.x.ai(this.X.x),this.y.ai(this.X.y)),i=this.wT[0]+this.wT[1],r=this.CT[0]+this.CT[1],n=Math.max(e.x-i,0),a=Math.max(e.y-r,0),o=.5*(n>a?a:n),l=[this.wT[0]+Math.max((n-2*o)/2,0),this.wT[1]+Math.max((n-2*o)/2,0)],u=[this.CT[0]+Math.max((a-2*o)/2,0),this.CT[1]+Math.max((a-2*o)/2,0)],d=Math.abs(t.end-t.start);this.x.q(this.X.x).si(l).J(-d,d),this.y.q(this.X.y).si(u).J(-d,d),this.FT={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.di={x:this.x.pi(),y:this.y.pi()},this.Z()}mi(t,e){const i=this.Wi();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}Ui(t,e,i,r){const n=this.Wi(),a=ny(t,e);return a.x*=r,a.y*=r,{x:t.x+i*n.x*a.x,y:t.y+i*n.y*a.y}}}class S5 extends sf{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("polarChart bg",0),r,e.us.qi.polarChartBackgroundFillStyle,e.us.qi.polarChartBackgroundStrokeStyle,e.us.qi.polarChartTitleFont,e.us.qi.polarChartTitleFillStyle,o),this.coordsClient="client",this.Jf=[],this.Bo=!0,this.Gy=Ze.onHover,this.DT=(u,d,f,g,m)=>{this.Jb.q(g,m)},this.tA=tC(this.Jf),this.BT=u=>{this.Jf.push(u)},this.LT=()=>this.xS,this.us.Nn(Dt.cf),this.Gk=e.ob("polarChart series bg",0),this.RT=e.$y("polarChart axis gridlines",0),this.ET=e.$y("polarChart series",1),this.zT=e.$y("polarChart axis lines",2),this.VT=e.$y("polarChart axis ticks",3),this.Jb=i.d2({scaleXYConstructor:dr}),this.onResize(this.DT),this._m.Rh("Polar Chart"),this.FS=this.Gk.Jc(this.Jb).Ce(this.qi.polarChartSeriesBackgroundFillStyle).we(bt).eu(0).ze(360).ou(0),this.IS=this.Gk.Jc(this.Jb).Ce(Nt).we(this.qi.polarChartSeriesBackgroundStrokeStyle).eu(0).ze(360).ou(0),super.TS(this.FS,this.IS),this.Sm(n,this.pixelScale),this.OT=new Sz(this,this.Jb,this.qi,(a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1,this.RT,this.zT,this.VT,this.es,this.LT),this.NT=new Az(this,this.Jb,this.qi,(a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1,this.RT,this.zT,this.VT,this.es),this.coordsAxis={axisAmplitude:this.OT,axisRadial:this.NT},this.jy=e.Zy();const l=Ne(a?a.autoCursorBuilder:void 0,UV);this.Pm=l.uy(this.jy,this.uiScale,this.uiScale,this.qi),Ms.Dm(this),this.LS((u,d)=>{Ms.Bm(this,d)}),this.setAnimationsEnabled((a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1)}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return Ms.Hc(this,gs(e,this.us),this.xS)}translateCoordinate(t,e,i){if(i){const r=t,n=this.pixelScale,a=i;if(nu(a)){const o=mt(r,n,this.engine.scale);return this.us.Do({engineX:o.x,engineY:o.y})}if(Kn(a))return r;if(AS(a)){const o=mt(r,n,this.Jb);return oh(o,this.Jb)}}else{const r=t,n=e;if(wA(r)){if(AS(n)){const a=this.us.Po(r),o=mt({x:a.engineX,y:a.engineY},this.engine.scale,this.Jb);return oh(o,this.Jb)}if(nu(n))return r;if(Kn(n)){const a=this.us.Po(r);return mt({x:a.engineX,y:a.engineY},this.us.dt,this.pixelScale)}}else if(bz(r)){if(AS(n))return r;const a=ah([r],this.Jb)[0];if(nu(n)){const o=mt(a,this.Jb,this.engine.scale),l={engineX:o.x,engineY:o.y};return this.us.Do(l)}if(Kn(n))return mt(a,this.Jb,this.pixelScale)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}addLineSeries(t){const e=new Tz(this.ET,this,this._S,this.Jb,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointSeries(t){const e=new dN(this.ET,this,this._S,this.Jb,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointLineSeries(t){const e=new wz(this.ET,this,this._S,this.Jb,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addAreaSeries(t){const e=new mN(this.ET,this,this._S,this.Jb,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPolygonSeries(t){const e=new gN(this.ET,this,this._S,this.Jb,this.qi,(t==null?void 0:t.automaticColorIndex)!==void 0?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addHeatmapSeries(t){const e=new Rz(this.ET,this,this._S,this.Jb,this.qi,this.us.es,t);return this.PS(e),e}addSector(){const t=new Mz(this.ET,this,this.tA,this.Jb,this.qi,this.us.es);return this.BT(t),t}getAmplitudeAxis(){return this.OT}get amplitudeAxis(){return this.OT}get axisAmplitude(){return this.OT}getRadialAxis(){return this.NT}get radialAxis(){return this.radialAxis}get axisRadial(){return this.radialAxis}Te(t){var e,i;super.Te(t),ys.Fm(this._m,this.bm);for(const o of this.xS)o.oS();this.OT.Mr(),this.NT.Mr();for(const o of this.xS)o.Te();for(let o=1;o<=2;o+=1){const l=this.OT.Te(),u=this.NT.Te(),d=ys.Tm(this._m,this.bm),f=[this.ya.left+u,this.ya.right+u],g=[this.ya.bottom+u,this.ya.top+u+d];this.Jb.Ei(f).zi(g);const m=4;if(!(!this.GT||Math.abs(this.GT.amplitude-l)>=m||Math.abs(this.GT.radial-u)>=m)||o!==1){this.GT={amplitude:l,radial:u};break}}const r=this.Jb.mx().start,n=this.Jb.mx().end,a=this.Jb.gx()?(((e=this.GT)===null||e===void 0?void 0:e.radial)||0)*this.Jb.x.getPixelSize()+n-r:(((i=this.GT)===null||i===void 0?void 0:i.radial)||0)*this.Jb.x.getPixelSize()+r-n;this.FS.hu(a).au(360),this.IS.hu(a).au(360);for(const o of this.Jf)o.Te();Ms.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,o=>Ms.Hc(this,o,this.xS),(o,l)=>o.Hc(l,!0));for(const o of this.xS)o.dp();return super.pm(),this.WT(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.OT.setAnimationsEnabled(t),this.NT.setAnimationsEnabled(t),this}setMouseInteractions(t){return this.Bo=t,this}getMouseInteractions(){return this.Bo}getMinimumSize(){return Y(HR,HR)}WT(){}forEachAxis(t){return t(this.OT),t(this.NT),this}dispose(){return this.Jf.slice().forEach(t=>t.dispose()),this.Pm.dispose(),this.Gk.W(),this.RT.W(),this.ET.W(),this.zT.W(),this.VT.W(),this.jy.W(),super.dispose()}Zd(){return[...this.xS,...this.Jf]}}const HR=300;class pN extends xy{}class SN extends pN{constructor(t,e,i,r,n,a,o,l){super(r,a,o,l),this.xs="Slice",this.u=0,this.gy=!1,this.UT=Nt,this.yy=Nt,this.py=this.u,this.by=Ca(()=>this.Ji.us.Ss()),this.My=()=>{this._y=void 0},this.index=t,this.Ji=r,this.scale=n,this.Ki=a,this.bT=e.ic(n,jr.Simple).cs(this.getHighlight()),this.ds(this.bT),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0})}setValue(t){return this.Ji.getAnimationsEnabled()?this.getVisible()&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return t===!1?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,()=>super.setVisible(!1))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,Yr.ease)([[t,e]],([r])=>{this.py=r,this.Ji.us.Ss()}),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,r){this.UT=t,this.yy=i,this.bT.Ce(this.UT).we(e),this.Ue.Ce(this.yy).Oh(r);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}Ie(t,e){return t.cs(e),this.Ji.us.Ss(),this}attach(t,e=!0,i=!1){return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t,e=!0,i=!1){oi(t,this.qi,i,{fill:this.UT,stroke:this.bT.ao()})}}var eo;(function(s){s[s.VariableHeight=0]="VariableHeight",s[s.VariableWidth=1]="VariableWidth"})(eo||(eo={}));const XR=(s,t)=>{let e=100;return s<=0?s=0:(e=s>=100?100:s,s=t*(e/100)),s},xN=(s,t,e,i,r,n=0,a=eo.VariableHeight,o)=>{t=XR(t,i.x),e=XR(e,i.x);const l=s.length;let u=0,d=0;u=s.reduce((E,T)=>E+T.getAnimatedValue(),0);let f={x:o-t/2,y:i.y+r.bottom},g={x:o+t/2,y:i.y+r.bottom},m={x:0,y:r.bottom},p={x:0,y:r.bottom},x=0,v=0;if(n)for(let E=0;E<s.length;E+=1){v+=s[E].getAnimatedValue();const F=a===eo.VariableWidth?(i.y-n*l)/l:i.y+r.bottom-v/u*i.y;if(a===eo.VariableWidth){n=F-n<10?Math.max(20,F-10):n;break}x!==0&&x-F-n<10&&(n=Math.max(0,x-F-10)),x=F}const A=(t-e)/2/i.y;for(let E=0;E<l;E+=1){const T=s[E];d+=T.getAnimatedValue();const F=a===eo.VariableWidth?(i.y-n*l)/l:i.y+r.bottom-d/u*i.y;let D=0;E>0&&(f={x:m.x+A*n,y:m.y-n},g={x:p.x-A*n,y:p.y-n}),D=(t+d/u*(e-t))/2,m={x:o-D,y:parseInt(`${a===eo.VariableWidth?f.y-F:F}`,10)},p={x:o+D,y:parseInt(`${a===eo.VariableWidth?g.y-F:F}`,10)},g.x>=f.x&&p.x>m.x&&T.bT.pl([m,f,g,p])}};class AN extends An{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("funnelChart bg",0),r,e.us.qi.funnelChartBackgroundFillStyle,e.us.qi.funnelChartBackgroundStrokeStyle,e.us.qi.funnelChartTitleFont,e.us.qi.funnelChartTitleFillStyle,a),this.Fy=[],this.Iy=YA.None,this.By=!0,this.Ey=0,this.YT=80,this.HT=20,this.$T=0,this.XT=eo.VariableHeight,this.Oy=!0,this.Gy=Ze.onHover,this.Wy=XA,this.Uy=u=>{const d=this.Fy.indexOf(u);d>=0&&(this.Fy.splice(d,1),this.Yy())},this.us.Nn(Dt.af),this.Ny=this.qi.effectsText,this.Hy=e.$y("funnelChart bottom",0),this.Xy=e.$y("funnelChart top",1),this._m.Rh("Funnel Chart"),this.Py=this.qi.funnelChartSliceFillStylePalette,this.Dy=this.qi.funnelChartSliceStrokeStyle,this.Ly=this.qi.funnelChartSliceLabelFont,this.Ry=this.qi.funnelChartSliceLabelFillStyle,this.jy=e.Zy();const l=Ne(o?o.autoCursorBuilder:void 0,GA);this.Pm=l.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.setAnimationsEnabled((o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1),this.Sm(n,this.pixelScale)}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new SN(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);return this.Ey+=1,i.setName(t),i.setValue(e),i.es.rs.ps(this.Ny),i.es.ns.ps(this.Oy),this.Fy.push(i),this.us.Ss(),i.setHighlightOnHover(this.By),i.onMouseMove(()=>{this.Gy&&this.us.Ss()}),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setHeadWidth(t){return this.YT=t,this.us.Ss(),this}getHeadWidth(){return this.YT}setNeckWidth(t){return this.HT=t,this.us.Ss(),this}getNeckWidth(){return this.HT}setSliceGap(t){return this.$T=Math.min(Math.max(t,0),20),this.us.Ss(),this}setSliceMode(t){return this.XT=t,this.us.Ss(),this}getFunnelSliceMode(){return this.XT}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){return this.Py=t,this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){return this.Dy=typeof t=="function"?t(this.Dy):t,this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach(e=>e.es.ns.ps(t)),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){return this.Ry=typeof t=="function"?t(this.Ry):t,this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){return this.Ly=typeof t=="function"?t(this.Ly):t,this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach(e=>e.es.rs.ps(t)),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach(e=>e.setHighlightOnHover(t)),this}Te(t){super.Te(t),ys.Fm(this._m,this.bm),super.pm();const e=ys.Tm(this._m,this.bm),i=Y(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),r=Y(this.ya.left+i.x/2,this.ya.bottom+i.y/2);this.Fy=this.Fy.sort(this.Iy);for(let u=0,{length:d}=this.Fy;u<d;u+=1)this.Qy(this.Fy[u],u);const n=this.Fy.filter(u=>u.getAnimatedValue()>0);let a=0;for(let u=0;u<n.length;u+=1)a+=n[u].getAnimatedValue();const o=[];for(let u=0;u<n.length;u+=1)o.push((l=n[u].getAnimatedValue())>0?l/a:0);var l;for(let u=0;u<n.length;u+=1){const d=n[u];d.Ue.Rh(this.Jy(d,o[u])).Ps()}o.push(a),Ms.Im(this,!1,!1,this.Fy,void 0,(u,d)=>er(d,this.engine.scale,this.Wy(new Ji,this,u,o[n.indexOf(u)]||0).Zu(),u,void 0)),this.Ky(n,o,r,i)}Qy(t,e){t.setStyle(this.Nd?new rt({color:this.Nd.getColors(t.getAnimatedValue())}):this.Py(e,t),this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return this.Fy.slice().forEach(t=>t.dispose()),this.Pm.dispose(),this.Hy.W(),this.Xy.W(),this.jy.W(),super.dispose()}}const WR=(s,t,e)=>{const i=s.Sl();if(i.length>0){let r;const n=(i[1].y-i[0].y)/2+i[0].y;return r=t===Wo.Left?(i[0].x-i[1].x)/2+i[1].x-e:(i[2].x-(i.length===4?i[3].x:i[1].x))/2+(i.length===4?i[3].x:i[1].x)+e,{x:r,y:n}}};class x5 extends AN{constructor(){super(...arguments),this.Jy=HA.NamePlusValue,this.jT=10,this.ZT=Wo.Left,this.QT=zg.LabelsOnSides,this.qy=[],this.ep=this.qi.funnelChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelConnectorGap(t){return this.jT=t,this.us.Ss(),this}getLabelConnectorGap(){return this.jT}setLabelSide(t){return this.ZT=t,this.us.Ss(),this}getLabelSide(){return this.ZT}Ky(t,e,i,r){const n=this.jT;let a=0;for(let f=0;f<t.length;f+=1)a=Math.max(a,t[f].Ue.oi().x);const o=r.x+this.ya.left+this.ya.right,l=this.ZT===Wo.Right?(this.ya.left+(o-(this.ya.right+a)))/2:(this.ya.left+a+(o-this.ya.right))/2,u=r.x-a,d=Y(u,r.y);xN(t,this.YT,this.HT,d,this.ya,this.$T,this.XT,l),this.JT(t,this.ZT===Wo.Left?-1:1,-1,i,r);for(let f=0;f<this.qy.length;f+=1)this.qy[f].setVisible(!1);for(let f=0;f<t.length;f+=1)t[f].getVisible()&&this.hp(this.KT(t[f],-1,i,n))}getMinimumSize(){return Y(500,300)}JT(t,e,i,r,n){if(t.length===0)return;const a=r.x+e*n.x*.5,o=i===1?Math.max:Math.min;let l;for(let u=0;u<t.length;u+=1){const d=t[u];if(d.bT.Sl().length===0)d.Ue.setVisible(!1);else{let f;d.Ue.setVisible(!0),l&&(f=l.Ue.Fa().y+i*(l.Ue.oi().y+10));const g=(WR(d.bT,this.ZT,0)||Y(0,0)).y,m=f===void 0?g:o(g,f);d.Ue.Fe(Y(a,m)).Da(e).La(0),l=d}}}KT(t,e,i,r){const n=t.bT,a=t.Ue,o=WR(n,this.ZT,r);if(o){const l={x:Kl(this.ZT===Wo.Left?a.Fa().x-e*(r+a.oi().x):a.Fa().x+e*(r+a.oi().x),o,i).x,y:EA(a.Fa().y,o,i).y};return[o,l,Y(this.ZT===Wo.Left?a.Fa().x-e*(r+a.oi().x):a.Fa().x+e*(r+a.oi().x),l.y)]}}hp(t){if(t){let e;for(let i=0;i<this.qy.length;i+=1)if(!this.qy[i].getVisible()){e=this.qy[i].setVisible(!0);break}e===void 0&&(e=this.Xy.rp(this.pixelScale,void 0,[Jr.InternalUI]).Re(this.ep),this.qy.push(e)),e.Nt().nl(t)}}}var Wo,io;(function(s){s[s.Right=0]="Right",s[s.Left=1]="Left"})(Wo||(Wo={}));class vN extends An{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("gaugeChart bg",0),r,e.us.qi.gaugeChartBackgroundFillStyle,e.us.qi.gaugeChartBackgroundStrokeStyle,e.us.qi.gaugeChartTitleFont,e.us.qi.gaugeChartTitleFillStyle,a),this.Fy=[],this.Uy=u=>{const d=this.Fy.indexOf(u);d>=0&&this.Fy.splice(d,1)},this.us.Nn(Dt.lf),this.ks=e.$y("gaugeChart layer",0),this.Xy=e.$y("gaugeChart top layer",1),this._m.Rh("Gauge Chart"),this.Sm(n,this.pixelScale);const l=tr();this.onBackgroundTouchStart(l.onTouchStart),this.onBackgroundTouchMove(l.onTouchMove),this.onBackgroundTouchEnd(l.onTouchEnd),this.setAnimationsEnabled(o===void 0||o)}dispose(){return this.ks.W(),this.Xy.W(),this.Fy.slice().forEach(t=>t.dispose()),super.dispose()}}class bN extends vN{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,a,o),this.Xl=90,this.jl=-270,this.qT={min:this.Xl,max:this.jl},this.tF=Ca(()=>this.ks.Ss()),this.iF=()=>{this.sF=void 0},this.eF=e.$y("radialGaugeChart bg arc",2),this.hF=this.ks.Jc(this.pixelScale).Ce(this.qi.gaugeChartEmptyGaugeFillStyle).we(this.qi.gaugeChartEmptyGaugeStrokeStyle)}setAngleInterval(t,e){t===e?e-=360:Math.abs(e-t)>360&&(e-=(e-t)%360);const i=this.Xl,r=this.jl,n=this.qT;return this.getAnimationsEnabled()?this.rF(n,{min:t,max:e}):(n.min=t,n.max=e,this.Xl=t,this.jl=e),this.D.emit("angleIntervalChange",this,{min:i,max:r},{min:t,max:e}),this.us.Ss(),this}getAngleInterval(){return{min:this.Xl,max:this.jl}}setGaugeFillStyle(t){return this.hF.Ce(t),this.us.Ss(),this}setGaugeStrokeStyle(t){return this.hF.we(t),this.us.Ss(),this}rF(t,e,i){this.sF=this.tF(1e3,Yr.ease)([[t.min,e.min],[t.max,e.max]],([r,n])=>{this.qT={min:r,max:n},this.Xl=r,this.jl=n,this.ks.Ss()}),this.sF.onEveryAnimationEnd(this.iF),i&&this.sF.onAnimationEnd(i)}onAngleIntervalChange(t){return this.D.on("angleIntervalChange",t)}offAngleIntervalChange(t){return this.D.off(t,"angleIntervalChange")}dispose(){return super.dispose(),this.eF.W(),this}}class MN extends xy{nF(t){return this.D.on("valueChange",t)}oF(t){return this.D.on("valueIntervalChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}offIntervalChange(t){return this.D.off(t,"valueIntervalChange")}attach(t,e=!0,i=!1){return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t,e=!0,i=!1){oi(t,this.qi,i,{fill:this.aF})}}class RN extends MN{onValueChange(t){return this.nF(t)}onIntervalChange(t){return this.oF(t)}}class EN extends RN{constructor(t,e,i,r,n,a,o){super(i,n,a,o),this.Xl=0,this.jl=0,this.lF=0,this.uF=0,this.cF=0,this.dF=100,this.fF=!0,this.py=this.u,this.vy=this.getVisible(),this.by=nC(),this.AF=l=>{this.py=l,this.Ji.us.Ss()},this.gF=t,this.Dr=e,this.Ji=i,this.scale=r,this.aF=this.qi.gaugeChartGaugeFillStyle,this.ky=t.Jc(r).Ce(this.aF).we(bt).cs(this.getHighlight()),this.ds(this.ky),this.mF=e.Pr(r).cs(this.getHighlight()),this.ds(this.mF,{isText:!0}),this.yF=e.Pr(r).cs(this.getHighlight()),this.ds(this.yF,{isText:!0}),this.Ue=e.Pr(r).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0}),this.mF.Ce(a.gaugeChartIntervalLabelsFillStyle).Oh(a.gaugeChartIntervalLabelsFont),this.yF.Ce(a.gaugeChartIntervalLabelsFillStyle).Oh(a.gaugeChartIntervalLabelsFont),this.Ue.Ce(a.gaugeChartValueLabelFillStyle).Oh(a.gaugeChartValueLabelFont),this.setName("Gauge Slice")}Te(){const t=this.Ji.getDataLabelFormatter(),e=this.Xl/90<this.jl/90?1:-1;let i=this.Ji.getAnimationsEnabled()?this.py:this.u;const[r,n]=this.cF<this.dF?[this.cF,this.dF]:[this.dF,this.cF];i<r?i=r:i>n&&(i=n);const a=this.jl-e*this.uF,o=this.Xl+e*this.lF,l=this.dF-this.cF,u=(l!==0?(a-o)/l:1/0)*(i-this.cF);this.ky.eu(o).ze(o+u);const d=typeof t=="function"?t(i,{getInnerStart:()=>r,getInnerEnd:()=>n}):t.format(i);this.Ue.Rh(d)}pF(){const t=this.Ji.getIntervalLabelFormatter(),e=typeof t=="function"?t(this.cF,{getInnerStart:()=>this.cF,getInnerEnd:()=>this.dF}):t.format(this.cF);return this.mF.Rh(e).Ps(),this.mF.oi()}SF(){const t=this.Ji.getIntervalLabelFormatter(),e=typeof t=="function"?t(this.dF,{getInnerStart:()=>this.cF,getInnerEnd:()=>this.dF}):t.format(this.dF);return this.yF.Rh(e).Ps(),this.yF.oi()}setName(t){return super.setName(t),this.Ji.us.Ss(),this}setValue(t){const e=this.u;return this.Ji.getAnimationsEnabled()?this.vy&&this.by(e,t,this.AF):this.py=t,this.u=t,this.D.emit("valueChange",this,e,t),this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return this.vy=t,t===!1?this.Ji.getAnimationsEnabled()&&this.py>0?this.by(this.py,0,this.AF,{onCompleted:()=>super.setVisible(!1)}):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(super.setVisible(!0),this.by(this.py,this.u,this.AF)):(this.py=this.u,super.setVisible(!0)),this}setInterval(t,e){const i=this.cF,r=this.dF;return this.D.emit("valueIntervalChange",this,{min:i,max:r},{min:t,max:e}),this.cF=t,this.dF=e,this.Ji.us.Ss(),this}setIntervalLabelsFont(t){return this.mF.Oh(t),this.yF.Oh(t),this.Ji.us.Ss(),this}getIntervalLabelsFont(){return this.mF.Vh()}setIntervalLabelsFillStyle(t){return this.mF.Ce(t),this.yF.Ce(t),this.Ji.us.Ss(),this}getIntervalLabelsFillStyle(){return this.mF.Eh()}setIntervalLabelsVisible(t){return t?(this.mF.setVisible(!0),this.yF.setVisible(!0)):(this.mF.setVisible(!1),this.yF.setVisible(!1)),this.fF=t,this}getIntervalLabelsVisible(){return this.fF}setAngleInterval(t,e){return this.Xl=t,this.jl=e,this.Ji.us.Ss(),this}setMinAngle(t){return this.Xl=t,this.Ji.us.Ss(),this}setMaxAngle(t){return this.jl=t,this.Ji.us.Ss(),this}setMarginInDegrees(t=this.lF,e=this.uF){return t!==this.lF&&(this.lF=t),e!==this.uF&&(this.uF=e),this.Ji.us.Ss(),this}setFillStyle(t){this.aF=typeof t=="function"?t(this.aF):t;const e=this.aF;this.ky.Ce(e);for(let i=0;i<this.Qi.length;i+=1)this.styleAttachedEntry(this.Qi[i]);return this.Ji.us.Ss(),this}vF(t){return this.Ue.Ce(t),this.Dr.Ss(),this}bF(){return this.Ue.Eh()}getAnimatedValue(){return this.py}}function Bg(s,t,e,i,r,n=Math.floor(Math.sqrt(i>r?25*i:25*r))){const a=Array(n+2),o=Math.PI;let l=0,u=0;const d=t*o/180,f=(e*o/180-d)/n;for(a[l]=Y(s.x,s.y),l+=1;l<=n+1;)a[l]=Y(s.x+i*Math.cos(d+u*f),s.y+r*Math.sin(d+u*f)),l+=1,u+=1;return[a,n]}class A5 extends bN{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n,a,o),this.Vd=20,this.xF=new Intl.NumberFormat,this.MF=new Intl.NumberFormat,this._F=!1,this.wF=5;const l=new EN(this.ks,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);this.CF=l,this.Fy.push(l),this.setPadding(10)}Te(t){super.Te(t),ys.Fm(this._m,this.bm),super.pm();const e=ys.Tm(this._m,this.bm),i=ei([this.CF.pF(),this.CF.SF()]),r=Y(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right+2*i.max.x),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+1*i.max.y+e)),n=Math.max(.5*Math.min(r.x,r.y),0),a=Y(this.ya.left+i.max.x+.5*r.x,this.ya.bottom+i.max.y+.5*r.y),o=this._F?this.kF(a,n):a,l=this.hF.xe.getThickness(),u=n-.5*l,d=n-this.Vd;let f=d/n*100;f=f>100||f<0?99:f;const g=100*(1-(this.Vd-l)/n);this.TF(o,d)&&(this.hF.hu(n).ou(f),this.CF.ky.hu(u).ou(g));const m=.5*(p=n,(x=this.jl-this.Xl)/(2*Math.PI*p*(x/360))*l);var p,x;this.hF.eu(this.Xl).ze(this.jl).Fe(o),this.CF.ky.Fe(o),this.CF.Ue.Fe(o),this.Nd&&this.CF.setFillStyle(new rt({color:this.Nd.getColors(this.CF.getAnimatedValue())})),this.CF.setMinAngle(this.Xl).setMaxAngle(this.jl).setMarginInDegrees(m,m).Te();const v=this.hF.Zl();if(this.CF.getIntervalLabelsVisible()){this.FF(this.Xl,this.jl,o,v+this.wF);const A=this.CF.mF.Ps().We(),E=this.CF.yF.Ps().We();bg(A,E)&&this.IF(A,E,o,v+this.wF)}}TF(t,e){const i=Wt(this.CF.Ue.Ps().oi(),.5),r=t.x+e,n=t.x-e,a=t.y+e,o=t.y-e;return!(t.x+i.x>r||t.x-i.x<n||t.y+i.y>a||t.y-i.y<o)}IF(t,e,i,r){const n=hC(t,e),[a,o]=[rR(Ur(this.Xl)),rR(Ur(this.jl))],[l,u]=a!==o||a!==1&&a!==3?[be(n.min,i),be(n.max,i)]:[be(Y(n.min.x,n.max.y),i),be(Y(n.max.x,n.min.y),i)],d=l.x*u.x+l.y*u.y,f=go(l)*go(u),g=.7*uC(Math.acos(d/f)),[m,p]=this.PF();this.FF(this.Xl-m*g,this.jl-p*g,i,r)}PF(){const t=this.jl-this.Xl,e=Math.sign(t);let i=Math.sign(this.Xl),r=Math.sign(this.jl);return i===r&&(e>=0?i=-r:r=-i),[i,r]}kF(t,e){const[i]=Bg(t,this.Xl,this.jl,e,e),r=ei(i),n=.5*(r.max.x-r.min.x),a=.5*(r.max.y-r.min.y);return Bt(be(t,Y(r.min.x+n,r.min.y+a)),t)}FF(t,e,i,r){const n=Ur(t),a=Ur(e);this.CF.mF.Fe(va(Y(i.x+r,i.y),i,-n)),this.CF.yF.Fe(va(Y(i.x+r,i.y),i,-a)),this.CF.mF.Ea(Y(-Math.cos(n),-Math.sin(n))),this.CF.yF.Ea(Y(-Math.cos(a),-Math.sin(a)))}getDefaultSlice(){return this.CF}setAutoScaling(t){return this._F=t,this.us.Ss(),this}getAutoScaling(){return this._F}setDataLabelFormatter(t){return this.MF=t,this.us.Ss(),this}getDataLabelFormatter(){return this.MF}setIntervalLabelFormatter(t){return this.xF=t,this.us.Ss(),this}getIntervalLabelFormatter(){return this.xF}setIntervalLabelPadding(t){return this.wF=t,this.us.Ss(),this}getIntervalLabelPadding(){return this.wF}setThickness(t){return this.Vd=t,this}setLUT(t){return this.Nd=t,this.us.Ss(),this}setDataLabelFont(t){return this.CF.Ue.Oh(t),this.us.Ss(),this}getDataLabelFont(){return this.CF.Ue.Vh()}getMinimumSize(){return Y(500,300)}setDataLabelFillStyle(t){return this.CF.vF(t),this.us.Ss(),this}getDataLabelFillStyle(){return this.CF.bF()}Zd(){return this.Fy}dispose(){return this.CF.dispose(),super.dispose()}}class TN extends xy{}class wN extends TN{constructor(t,e,i,r,n,a,o,l){super(r,a,o,l),this.xs="Slice",this.u=0,this.gy=!1,this.UT=Nt,this.yy=Nt,this.py=this.u,this.by=Ca(()=>this.Ji.us.Ss()),this.My=()=>{this._y=void 0},this.index=t,this.Ji=r,this.scale=n,this.Ki=a,this.bT=e.ic(n,jr.Simple).cs(this.getHighlight()),this.ds(this.bT),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0})}setValue(t){return this.Ji.getAnimationsEnabled()?this.getVisible()&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return t===!1?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,()=>super.setVisible(!1))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,Yr.ease)([[t,e]],([r])=>{this.py=r,this.Ji.us.Ss()}),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,r){this.UT=t,this.yy=i,this.bT.Ce(this.UT).we(e),this.Ue.Ce(this.yy).Oh(r);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}attach(t,e=!0,i=!1){return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t,e=!0,i=!1){oi(t,this.qi,i,{fill:this.UT,stroke:this.bT.ao()})}}(function(s){s[s.VariableHeight=0]="VariableHeight",s[s.VariableWidth=1]="VariableWidth"})(io||(io={}));const $R=(s,t)=>{let e=100;return s<=0?s=0:(e=s>=100?100:s,s=t*(e/100)),s},CN=(s,t,e,i,r,n=0,a=io.VariableHeight,o)=>{t=$R(t,i.x),e=$R(e,i.x);const l=s.length;let u=0,d=0;u=s.reduce((E,T)=>E+T.getAnimatedValue(),0);let f={x:o-t/2,y:i.y+r.bottom},g={x:o+t/2,y:i.y+r.bottom},m={x:0,y:r.bottom},p={x:0,y:r.bottom},x=0,v=0;if(n)for(let E=0;E<s.length;E+=1){v+=s[E].getAnimatedValue();const F=a===io.VariableWidth?(i.y-n*l)/l:i.y+r.bottom-v/u*i.y;if(a===io.VariableWidth){n=F-n<10?Math.max(20,F-10):n;break}x!==0&&x-F-n<10&&(n=Math.max(0,x-F-10)),x=F}const A=(t-e)/2/i.y;for(let E=0;E<l;E+=1){const T=s[E];d+=T.getAnimatedValue();const F=a===io.VariableWidth?(i.y-n*l)/l:i.y+r.bottom-d/u*i.y;let D=0;E>0&&(f={x:m.x+A*n,y:m.y-n},g={x:p.x-A*n,y:p.y-n}),D=(t+d/u*(e-t))/2,m={x:o-D,y:parseInt(`${a===io.VariableWidth?f.y-F:F}`,10)},p={x:o+D,y:parseInt(`${a===io.VariableWidth?g.y-F:F}`,10)},g.x>=f.x&&p.x>=m.x&&T.bT.pl([m,f,g,p])}};class kN extends An{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("pyramidChart bg",0),r,e.us.qi.pyramidChartBackgroundFillStyle,e.us.qi.pyramidChartBackgroundStrokeStyle,e.us.qi.pyramidChartTitleFont,e.us.qi.pyramidChartTitleFillStyle,a),this.Fy=[],this.Iy=YA.None,this.Py=this.qi.pyramidChartSliceFillStylePalette,this.Dy=this.qi.pyramidChartSliceStrokeStyle,this.By=!0,this.Ly=this.qi.pyramidChartSliceLabelFont,this.Ry=this.qi.pyramidChartSliceLabelFillStyle,this.Ey=0,this.YT=0,this.HT=80,this.$T=0,this.XT=io.VariableHeight,this.Oy=!0,this.Gy=Ze.onHover,this.Wy=XA,this.Uy=u=>{const d=this.Fy.indexOf(u);d>=0&&(this.Fy.splice(d,1),this.Yy())},this.us.Nn(Dt.af),this.Ny=this.qi.effectsText,this.Hy=e.$y("pyramidChart bottom",0),this.Xy=e.$y("pyramidChart top",1),this._m.Rh("Pyramid Chart"),this.jy=e.Zy();const l=Ne(o?o.autoCursorBuilder:void 0,GA);this.Pm=l.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.Sm(n,this.pixelScale),this.setAnimationsEnabled((o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1)}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new wN(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);return this.Ey+=1,i.setName(t),i.setValue(e),i.es.rs.ps(this.Ny),i.es.ns.ps(this.Oy),this.Fy.push(i),this.us.Ss(),i.onMouseMove(()=>{this.Gy&&this.us.Ss()}),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setNeckWidth(t){return this.HT=t,this.us.Ss(),this}getNeckWidth(){return this.HT}setSliceGap(t){return this.$T=Math.min(Math.max(t,0),20),this.us.Ss(),this}setSliceMode(t){return this.XT=t,this.us.Ss(),this}getPyramidSliceMode(){return this.XT}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){return this.Py=t,this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){return this.Dy=typeof t=="function"?t(this.Dy):t,this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach(e=>e.es.ns.ps(t)),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){return this.Ry=typeof t=="function"?t(this.Ry):t,this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){return this.Ly=typeof t=="function"?t(this.Ly):t,this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach(e=>e.es.rs.ps(t)),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach(e=>e.setHighlightOnHover(t)),this}Te(t){super.Te(t),ys.Fm(this._m,this.bm),super.pm();const e=ys.Tm(this._m,this.bm),i=Y(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),r=Y(this.ya.left+i.x/2,this.ya.bottom+i.y/2);this.Fy=this.Fy.sort(this.Iy);for(let u=0,{length:d}=this.Fy;u<d;u+=1)this.Qy(this.Fy[u],u);const n=this.Fy.filter(u=>u.getAnimatedValue()>0);let a=0;for(let u=0;u<n.length;u+=1)a+=n[u].getAnimatedValue();const o=[];for(let u=0;u<n.length;u+=1)o.push((l=n[u].getAnimatedValue())>0?l/a:0);var l;for(let u=0;u<n.length;u+=1){const d=n[u];d.Ue.Rh(this.Jy(d,o[u])).Ps()}o.push(a),Ms.Im(this,!1,!1,this.Fy,void 0,(u,d)=>er(d,this.engine.scale,this.Wy(new Ji,this,u,o[n.indexOf(u)]||0).Zu(),u,void 0)),this.Ky(n,o,r,i)}Qy(t,e){t.setStyle(this.Nd?new rt({color:this.Nd.getColors(t.getAnimatedValue())}):this.Py(e,t),this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return this.Fy.slice().forEach(t=>t.dispose()),this.Pm.dispose(),this.Hy.W(),this.Xy.W(),this.jy.W(),super.dispose()}}const jR=(s,t,e)=>{const i=s.Sl();if(i.length>0){let r;const n=(i[1].y-i[0].y)/2+i[0].y;return r=t===$o.Left?(i[0].x-i[1].x)/2+i[1].x-e:(i[2].x-(i.length===4?i[3].x:i[1].x))/2+(i.length===4?i[3].x:i[1].x)+e,{x:r,y:n}}};class v5 extends kN{constructor(){super(...arguments),this.Jy=HA.NamePlusValue,this.jT=10,this.ZT=$o.Left,this.QT=zg.LabelsOnSides,this.qy=[],this.ep=this.qi.pyramidChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelConnectorGap(t){return this.jT=t,this.us.Ss(),this}getLabelConnectorGap(){return this.jT}setLabelSide(t){return this.ZT=t,this.us.Ss(),this}getLabelSide(){return this.ZT}Ky(t,e,i,r){const n=this.jT;let a=0;for(let f=0;f<t.length;f+=1)a=Math.max(a,t[f].Ue.oi().x);const o=r.x+this.ya.left+this.ya.right,l=this.ZT===$o.Right?(this.ya.left+(o-(this.ya.right+a)))/2:(this.ya.left+a+(o-this.ya.right))/2,u=r.x-a,d=Y(u,r.y);CN(t,this.YT,this.HT,d,this.ya,this.$T,this.XT,l),this.JT(t,this.ZT===$o.Left?-1:1,-1,i,r);for(let f=0;f<this.qy.length;f+=1)this.qy[f].setVisible(!1);for(let f=0;f<t.length;f+=1)if(t[f].getVisible()){const g=this.KT(t[f],-1,i,n);g&&this.hp(g)}}getMinimumSize(){return Y(500,300)}JT(t,e,i,r,n){if(t.length===0)return;const a=r.x+e*n.x*.5,o=i===1?Math.max:Math.min;let l;for(let u=0;u<t.length;u+=1){const d=t[u];let f;d.bT.Sl().length===0?d.Ue.setVisible(!1):d.Ue.setVisible(!0),l&&(f=l.Ue.Fa().y+i*(l.Ue.oi().y+10));const g=jR(d.bT,this.ZT,0);if(g){const m=g.y,p=f===void 0?m:o(m,f);d.Ue.Fe(Y(a,p)).Da(e).La(0)}l=d}}KT(t,e,i,r){const n=t.bT,a=t.Ue,o=jR(n,this.ZT,r);if(o){const l={x:Kl(this.ZT===$o.Left?a.Fa().x-e*(r+a.oi().x):a.Fa().x+e*(r+a.oi().x),o,i).x,y:EA(a.Fa().y,o,i).y};return[o,l,Y(this.ZT===$o.Left?a.Fa().x-e*(r+a.oi().x):a.Fa().x+e*(r+a.oi().x),l.y)]}}hp(t){let e;for(let i=0;i<this.qy.length;i+=1)if(!this.qy[i].getVisible()){e=this.qy[i].setVisible(!0);break}e===void 0&&(e=this.Xy.rp(this.pixelScale,void 0,[Jr.InternalUI]).Re(this.ep),this.qy.push(e)),e.Nt().nl(t)}}var $o;(function(s){s[s.Right=0]="Right",s[s.Left=1]="Left"})($o||($o={}));const DN=(s,t,e,i,r,n)=>(s.alignmentX=(r+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,s.alignmentY=r%(2*Math.PI)<=Math.PI?-1:1,s.paddingX=Math.cos(r)*n,s.paddingY=Math.sin(r)*n,s),FN=(s,t,e,i,r,n,a,o)=>{if(t===0)return s.paddingX=o,s.alignmentX=-1,s};var Vd;(function(s){s[s.Normal=0]="Normal",s[s.Circle=1]="Circle"})(Vd||(Vd={}));class _N{constructor(t,e,i,r,n,a,o,l){this.D=new qi,this.DF=t,this.Dr=e,this.scale=i,this.chart=r,this.tag=n,this.axisScale=a,this.BF=o,this.LF=l,this.RF=this.DF.Ee(this.scale).setMouseInteractions(!1),this.EF=this.Dr.Pr(this.scale).Rh(this.tag).setMouseInteractions(!1),this.zF=this.BF(this,this.DF.rp(this.scale,void 0,[Jr.InternalUI])).Re(this.chart.getNibStyle()),this.LF.fs([this.EF])}Ky(t,e,i,r,n,a,o){const l=e.length,u=e[i>0?i-1:l-1],d=e[i],f=e[i<l-1?i+1:0],g=this.chart.getNibLength();this.RF.Ve(t).ze(d).Re(this.chart.getAxisStyle()),this.zF.Nt().nl(a===Vd.Normal?[fo(d,u,ee(.5*g/go(be(u,d)),0,1)),d,fo(d,f,ee(.5*g/go(be(f,d)),0,1))]:((m,p,x,v,A=2)=>{const E=v/x,T=[];for(let F=-v/2;F<=v/2;F+=A){const D=E*(F/v)+p,N=Y(m.x+Math.cos(D)*x,m.y+Math.sin(D)*x);T.push(N)}return T})(t,r,n,g)),o?this.EF.setVisible(!0).Fe(Bt(d,Y(o.paddingX,o.paddingY))).Da(o.alignmentX).La(o.alignmentY):this.EF.setVisible(!1)}getLabelSize(){return this.EF.Oh(this.chart.getAxisLabelFont()).Ce(this.chart.getAxisLabelStyle()).Ps().oi()}dispose(){this.RF&&this.RF.dispose(),this.EF&&this.EF.dispose(),this.zF&&this.zF.dispose()}}const VN=(s,t,e,i,r)=>{const n=t.getIcon();return n?s.addRow(n,t.getName()):s.addRow(t.getName()),s.addRow("Axis:","",i).addRow("Value:","",r(e))};class zN extends Ay{constructor(t,e,i,r,n,a,o,l,u,d,f,g){super(t,u,d,g),this.xs="Spider Series",this.yu=new Map,this.Hi=cn.onHover,this.Wy=VN,this.Hx=8,this.Aa=0,this.VF=nC(),this.OF={},this.NF={},this.vy=this.getVisible(),this.GF=1,this.WF=((m,p)=>{const x=Ca(()=>{});let v,A,E=1;return(T,F,D)=>{if(T===A)return;A=T;const N=(D==null?void 0:D.easing)||Yr.ease,V=(D==null?void 0:D.durationMs)||1e3;v&&(v.finish(!1),v=void 0),T===!1?F&&E?(v=x(V,N)([[E,0]],([P])=>{E=P,m(E)}),v.onAnimationEnd(()=>{v=void 0,p(!1)})):(E=0,p(!1)):F?(p(!0),v=x(V,N)([[E,1]],([P])=>{E=P,m(E)}),v.onAnimationEnd(()=>{v=void 0})):(E=1,p(!0))}})(m=>{this.GF=m,this.ks.us.Ss()},m=>{super.setVisible(m)}),this.Ji=t,this.ks=e,this.$x=r,this.UF=n,this.ab=a,this.YF=o,this.HF=l,this.scale=i,this.$F=re(d.spiderSeriesFillStyle,f),this.XF=re(d.spiderSeriesStrokeStyle,f),this.jF=re(d.spiderSeriesPointFillStyle,f)}Kp(){return this.tS&&this.yu.size>0&&this.getVisible()}addPoints(...t){this.yu.size>0&&this.Ji.us.Nn(Dt.vf),t=t.filter(e=>e.axis!==void 0);for(let e=0;e<t.length;e+=1)this.UF(t[e].axis);if(this.Ji.getAnimationsEnabled()&&this.OF!==void 0){const e=new Map;let i;t.forEach(r=>e.set(r.axis,r.value)),this.VF(0,1,r=>{e.forEach((n,a)=>{const o=(i==null?void 0:i.get(a))||0;this.yu.set(a,o+r*(n-o)),this.ks.us.Ss()})},{easing:this.OF.easing,durationMs:this.OF.durationMs,onStart:()=>{i=new Map(this.yu)}})}else for(let e=0;e<t.length;e+=1){const i=t[e].axis;this.yu.set(i,t[e].value)}return this.ks.Ss(),this}getValue(t,e=!1){const i=this.yu.get(t),r=this.Ji.getOriginValue();if(i!==void 0)return e?r+this.GF*(i-r):i}setAnimationAddPoints(t,e){return this.OF=t?{easing:t,durationMs:e}:void 0,this.ks.Ss(),this}setVisibleStateChangedAnimation(t,e){return this.NF=t?{easing:t,durationMs:e}:void 0,this.ks.Ss(),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setCursorEnabled(t){return super.setCursorEnabled(t)}setFillStyle(t){return this.$F=typeof t=="function"?t(this.$F):t,this.bT&&(this.bT.Ce(this.$F),this.ks.Ss()),this}getFillStyle(){return this.$F}setStrokeStyle(t){return this.XF=typeof t=="function"?t(this.XF):t,this.bT&&(this.bT.we(this.XF),this.ks.Ss()),this}getStrokeStyle(){return this.XF}setPointFillStyle(t){return this.jF=typeof t=="function"?t(this.jF):t,this.Xx&&(this.Xx.Ce(this.jF),this.ks.Ss()),this}getPointFillStyle(){return this.jF}setPointSize(t){return this.Hx=t,this.Xx&&this.Xx.q(t),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){return this.Aa=t,this.Xx&&this.Xx.Nh(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}Te(){if(super.Te(),!this.$i){const t=new Array(this.ab.length),e=this.Ji.getOriginValue();for(let i=0;i<this.ab.length;i+=1){const r=this.yu.get(this.ab[i].tag);t[i]=r!==void 0?this.YF(this.ab[i].tag,e+this.GF*(r-e)):this.YF(this.ab[i].tag,e)}eC(t),t.length>=3&&(this.bT||(this.bT=this.ks.ic(this.scale,jr.Simple).we(this.XF).Ce(this.$F).cs(this.getHighlight()),this.ds(this.bT)),this.bT.pl(t),this.Xx||(this.Xx=this.ks.bS(this.scale).q(this.Hx).il(this.$x).Nh(this.Aa).Ce(this.jF).cs(this.getHighlight()),this.ds(this.Xx)),this.Xx.Nt().nl(t))}}attach(t,e=!0,i=!1){return super.attach(t,e,i),oi(t,this.qi,i,{fill:this.$F,stroke:this.XF}),this}Cs(){return this.bs||this.$x}ZF(){for(let t=0;t<this.Qi.length;t+=1)oi(this.Qi[t],this.qi,!1,{fill:this.$F,stroke:this.XF})}Hc(t,e){if(this.bT){const i=this.HF(t);if(i!==void 0&&this.yu.has(i.tag)){const r=this.yu.get(i.tag),n=this.YF(i.tag,r);return er(n,this.scale,this.Wy(new Ji,this,r,i.tag,this.Ji.formatValue).Zu(),this,this.$F)}}}solveNearestFromScreen(t){return this.Hc(gs(t,this.Ji.us),!1)}Ie(t,e){return t.cs(e),this.ks.Ss(),this}setVisible(t){var e,i;return this.vy=t,this.WF(t,this.Ji.getAnimationsEnabled()&&this.NF!==void 0,{easing:(e=this.NF)===null||e===void 0?void 0:e.easing,durationMs:(i=this.NF)===null||i===void 0?void 0:i.durationMs}),this}}const Kc=(s,t)=>{const e=Math.PI/2-2*s*Math.PI/t;return e>=0?e:e+2*Math.PI},NN=s=>ei(s.EF.We()),BN=s=>ei(s.We()),bS=(s,t,e,i)=>s.ou(0).Fe(e).eu(90).ze(-270).au(t===Vd.Circle?void 0:i.length),td={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},su={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},qR=()=>{su.alignmentX=0,su.alignmentY=0,su.paddingX=0,su.paddingY=0};class b5 extends sf{constructor(t,e,i,r,n,a,o){super(t,e,i,e.vm("spiderChart bg",0),r,e.us.qi.spiderChartBackgroundFillStyle,e.us.qi.spiderChartBackgroundStrokeStyle,e.us.qi.spiderChartTitleFont,e.us.qi.spiderChartTitleFillStyle,o),this.ya=oo(20,20,20,20),this.axisScale=ws.d1({scale1DConstructor:xr,dimension:"x"}).J(0,1),this.ab=[],this.QF=[],this.JF=[],this.KF=Fa.expansion,this.qF=!0,this.tI=FN,this.iI=DN,this.Bo=!0,this.sI=Vd.Normal,this.eI=4,this.hI=this.qi.spiderChartWebStyle,this.rI=this.qi.spiderChartScaleLabelFillStyle,this.nI=this.qi.spiderChartScaleLabelFont,this.oI=5,this.aI=this.qi.spiderChartAxisLabelFillStyle,this.lI=this.qi.spiderChartAxisLabelFont,this.uI=5,this.cI=this.qi.spiderChartAxisStrokeStyle,this.dI=this.qi.spiderChartAxisNibStrokeStyle,this.Pf=10,this.fI=oo(),this.Gy=Ze.onHover,this.hasAxis=u=>this.ab.reduce((d,f)=>d||f.tag===u,!1),this.formatValue=u=>this.axisScale.Di(u,ga.Numeric),this.AI=()=>{const u=this.ab.map(NN).concat(this.JF.map(BN));return lC(u)},this.gI=()=>this.mI.Jc(this.pixelScale).setMouseInteractions(!1),this.yI=u=>u.dispose(),this.pI=()=>this.bA.Pr(this.pixelScale).setMouseInteractions(!1),this.SI=u=>u.dispose(),this.vI=u=>this.formatValue(this.axisScale.getInnerStart()+u*(this.axisScale.getInnerEnd()-this.axisScale.getInnerStart())),this.bI=(u,d)=>{let f,g;const m=()=>{this.xI!==void 0&&this.xI.finish(),f=se(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd()),g=this.KF,this.KF=void 0},p=(A,E,T,F,D)=>{const N=Y(T.x-E.x,E.y-T.y),V=this.ab.findIndex(P=>P===u);if(V>=0&&f!==void 0){const P=Kc(V,this.ab.length),b=Y(Math.cos(P),Math.sin(P)),M=N.x*b.x+N.y*b.y,w=go(be(u.RF.Ii(),u.RF.Ti())),C=f.min+(f.max-f.min)*Math.max(1+M/w,.01);this.axisScale.J(f.min,C),vt(D),this.us.Ss()}},x=()=>{if(f=void 0,g!==void 0)if(this.th){const A=se(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd()),E=this.MI(),T=g;if(E!==void 0){const F=T.start(A.min,A.max,E.min,E.max),D=T.end(A.min,A.max,E.min,E.max);this.xI=this.qg.us.sn(300,Yr.ease)([[0,1]],([N])=>{this.axisScale.J(A.min+N*(F-A.min),A.max+N*(D-A.max))}),this.xI.onAnimationEnd(()=>{this.xI=void 0,this.KF=T})}else this.KF=g}else this.KF=g;g=void 0};d.setMouseEnterEventHandler(this._I).setMouseLeaveEventHandler(this.wI).setMouseDragStartEventHandler(m).setMouseDragEventHandler((A,E,T,F,D)=>p(0,Y(E.clientX,E.clientY),F,0,E)).setMouseDragStopEventHandler(x);const v=tr(new Xr((A,E,T)=>{this._I(A),m(),vt(T)},p,(A,E,T,F)=>{this.wI(A),x(),vt(F)}));return d.setTouchStartEventHandler(v.onTouchStart).setTouchMoveEventHandler(v.onTouchMove).setTouchEndEventHandler(v.onTouchEnd)},this.CI=u=>{this.qF&&!this.hasAxis(u)&&this.addAxis(u)},this.YF=(u,d)=>{for(const f of this.ab)if(f.tag===u){const g=Math.max(Math.min((d-this.axisScale.getInnerStart())/(this.axisScale.getInnerEnd()-this.axisScale.getInnerStart()),1),0);return fo(f.RF.Ii(),f.RF.Ti(),g)}},this.HF=u=>{if(this.ab.length===0)return;const d=be(mt(u,this.engine.scale,this.pixelScale),this.ab[0].RF.Ii()),f=Math.atan2(d.y,d.x);let g,m=Rt;for(const p of this.ab){const x=be(p.RF.Ti(),p.RF.Ii()),v=Math.atan2(x.y,x.x),A=Math.abs(f-v);A<m&&(g=p,m=A)}return g},this._I=u=>{this.Bo&&(u.Re(this.dI),this.us.Ss())},this.wI=u=>{u.Re(this.dI),this.us.Ss()},this.us.Nn(Dt.uf),this.Gk=e.ob("spiderChart series bg",0),this.mI=e.$y("spiderChart web shapes",0),this.kI=e.$y("spiderChart axis bg",1),this.Rb=e.$y("spiderChart plotting",2),this.bA=e.$y("spiderChart fg",3),this.LF=this.es.yg().ps(this.qi.effectsText),this._m.Rh("Spider Chart"),this.FS=this.Gk.Jc(this.pixelScale).Ce(this.qi.spiderChartSeriesBackgroundFillStyle).we(bt).eu(90).ze(-270).ou(0),this.IS=this.Gk.Jc(this.pixelScale).Ce(Nt).we(this.qi.spiderChartSeriesBackgroundStrokeStyle).eu(90).ze(-270).ou(0),super.TS(this.FS,this.IS),this.jy=e.Zy();const l=Ne(a?a.autoCursorBuilder:void 0,KC);this.Pm=l.uy(this.jy,this.uiScale,this.uiScale,this.qi),Ms.Dm(this),this.LS((u,d)=>{Ms.Bm(this,d)}),this.setAnimationsEnabled((a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1),this.Sm(n,this.pixelScale)}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return Ms.Hc(this,gs(e,this.us),this.xS)}addAxis(t){if(typeof t=="string"){if(!this.hasAxis(t)){const e=new _N(this.kI,this.bA,this.pixelScale,this,t,this.axisScale,this.bI,this.LF);this.ab.push(e)}}else t&&this.ab.push(t);return this.LF.fs(this.ab.map(e=>e.EF)),this.us.Ss(),this}addSeries(t){const e=typeof t=="object"?t.pointShape?t.pointShape:Qe.Circle:t||Qe.Circle,i=typeof t=="object"&&t.automaticColorIndex?t.automaticColorIndex:this.xS.length,r=new zN(this,this.Rb,this.pixelScale,e,this.CI,this.ab,this.YF,this.HF,this._S,this.qi,i,this.us.es);return this.PS(r),r}getSeriesCount(){return this.xS.length}setWebMode(t){return this.sI=t,this.us.Ss(),this}getWebMode(){return this.sI}setWebCount(t){return this.eI=t,this.us.Ss(),this}getWebCount(){return this.eI}setWebStyle(t){return this.hI=typeof t=="function"?t(this.hI):t,this.us.Ss(),this}getWebStyle(){return this.hI}setScaleLabelStyle(t){return this.rI=typeof t=="function"?t(this.rI):t,this.us.Ss(),this}getScaleLabelStyle(){return this.rI}setScaleLabelFont(t){return this.nI=typeof t=="function"?t(this.nI):t,this.us.Ss(),this}getScaleLabelFont(){return this.nI}setScaleLabelPadding(t){return this.oI=t,this.us.Ss(),this}getScaleLabelPadding(){return this.oI}setScaleLabelStrategy(t){return this.tI=t,this.us.Ss(),this}setScaleLabelFormatter(t){return this.formatValue=t,this.us.Ss(),this}setAxisLabelStyle(t){return this.aI=typeof t=="function"?t(this.aI):t,this.us.Ss(),this}getAxisLabelStyle(){return this.aI}setAxisLabelFont(t){return this.lI=typeof t=="function"?t(this.lI):t,this.us.Ss(),this}getAxisLabelFont(){return this.lI}setAxisLabelEffect(t){return this.LF.ps(t),this.us.Ss(),this}getAxisLabelEffect(){return this.LF.vs()}setAxisLabelPadding(t){return this.uI=t,this.us.Ss(),this}getAxisLabelPadding(){return this.uI}setAxisLabelStrategy(t){return this.iI=t,this.us.Ss(),this}setAxisStyle(t){return this.cI=typeof t=="function"?t(this.cI):t,this.us.Ss(),this}getAxisStyle(){return this.cI}setNibStyle(t){return this.dI=typeof t=="function"?t(this.dI):t,this.us.Ss(),this}getNibStyle(){return this.dI}setNibLength(t){return this.Pf=t,this.us.Ss(),this}getNibLength(){return this.Pf}setAutoAxis(t){return this.qF=t,this}getAutoAxis(){return this.qF}setMouseInteractions(t){return this.Bo=t,this}getMouseInteractions(){return this.Bo}setAxisScrollStrategy(t){return this.KF=t,this.us.Ss(),this}getAxisScrollStrategy(){return this.KF}setAxisInterval(t,e=0){return this.axisScale.J(e,t),this.us.Ss(),this}getOriginValue(){return this.axisScale.getInnerStart()}getEdgeValue(){return this.axisScale.getInnerEnd()}Te(t){super.Te(t),ys.Fm(this._m,this.bm);const e=this.ab.length,i=ys.Tm(this._m,this.bm),r=Y(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+i)),n=((l=0,u=0,d=0,f=0)=>({left:l,top:u,right:d,bottom:f}))(0,0,0,0);if(this.iI!==void 0){const l=Math.min(r.x,r.y)/2;for(let u=0;u<e;u+=1){const d=Kc(u,e),f=Math.cos(d),g=Math.sin(d),m=this.ab[u].getLabelSize();qR();const p=this.iI(su,u,e,this.ab[u].tag,d,this.uI),x=Y(f*l+p.paddingX,g*l+p.paddingY);f>0?n.right=Math.max(n.right,x.x+.5*(1-p.alignmentX)*m.x-l):n.left=Math.max(n.left,-x.x+.5*(p.alignmentX+1)*m.x-l),g>0?n.top=Math.max(n.top,x.y+.5*(1-p.alignmentY)*m.y-l):n.bottom=Math.max(n.bottom,-x.y+.5*(p.alignmentY+1)*m.y-l)}}if(this.KF){const l=this.MI();if(l!==void 0){const u=this.KF.start(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),l.min,l.max),d=this.KF.end(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),l.min,l.max);this.axisScale.J(u,d)}}const a=Y(this.pixelScale.x.getInnerStart()+(n.left+this.pixelScale.x.getInnerInterval()-n.right)/2,this.pixelScale.y.getInnerStart()+(n.bottom+this.pixelScale.y.getInnerInterval()-n.top)/2),o=Math.min(r.x/2-(n.left+n.right)/2,r.y/2-(n.bottom+n.top)/2);this.fI=oo(this.Xt.left+this.ya.left+n.left,this.Xt.top+this.ya.top+i+n.top,this.Xt.right+this.ya.right+n.right,this.Xt.bottom+this.ya.bottom+n.bottom),this.Ky(a,o);for(const l of this.xS)l.oS();for(const l of this.xS)l.Te();super.pm(),Ms.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,l=>Ms.Hc(this,l,this.xS),(l,u)=>l.Hc(u,!0));for(const l of this.xS)l.dp()}dispose(){return this.Gk.W(),this.mI.W(),this.kI.W(),this.Rb.W(),this.bA.W(),this.Pm.dispose(),this.jy.W(),super.dispose()}getMinimumSize(){return Y(this.fI.left+this.fI.right+100,this.fI.bottom+this.fI.top+100)}Ky(t,e){const i=this.ab.length,r=[];for(let n=0;n<i;n+=1){const a=Kc(n,i),o=Y(t.x+Math.cos(a)*e,t.y+Math.sin(a)*e);r.push(o)}bS(this.FS,this.sI,t,r),bS(this.IS,this.sI,t,r),this.FS.hu(e),this.IS.hu(e),((n,a,o,l,u,d,f,g)=>{const m=n.length,p=d.length,x=a>0&&p>1;for(let v=0;v<Math.max(a,m);v+=1)if(x&&v<a){v>=m&&n.push(f());const A=n[v];bS(A,o,l,d);const E=u*((v+1)/a);A.hu(E)}else v<n.length&&g(n[v]);n.length=x?a:0})(this.QF,this.eI,this.sI,t,e,r,this.gI,this.yI);for(const n of this.QF)n.Ce(Nt).we(this.hI);for(let n=0;n<i;n+=1){const a=this.ab[n],o=Kc(n,i);qR();const l=this.iI!==void 0?this.iI(su,n,i,this.ab[n].tag,o,this.uI):void 0;a.Ky(t,r,n,o,e,this.sI,l)}((n,a,o,l,u,d,f,g,m,p)=>{const x=u.length,v=n.length;let A=0;if(a!==void 0)for(let E=0;E<x;E+=1){const T=u[E].tag,F=Kc(E,x);for(let D=0;D<o+ +(E===0);D+=1){td.alignmentX=0,td.alignmentY=0,td.paddingX=0,td.paddingY=0;const N=a(td,E,x,T,F,D,o,l);if(N!==void 0){A>=v&&n.push(g());const V=n[A];A+=1;const P=(o-D)/o,b=fo(d,f[E],P);V.Fe(Bt(b,Y(N.paddingX,N.paddingY))).Da(N.alignmentX).La(N.alignmentY).Rh(p(P))}}}for(let E=A;E<v;E+=1)m(n[E]);n.length=A})(this.JF,this.tI,this.eI,this.oI,this.ab,t,r,this.pI,this.SI,this.vI);for(const n of this.JF)n.Ce(this.rI).Oh(this.nI)}MI(){let t,e;const i=this.getSeriesCount()>1;for(const r of this.ab)for(const n of this.xS){const a=n.getValue(r.tag,i);a!==void 0&&(t=t===void 0?a:Math.min(t,a),e=e===void 0?a:Math.max(e,a))}if(t!==void 0&&e!==void 0)return se(t,e)}}const Tr=(s,t)=>{const e=Math.floor(99999/t),i=Math.floor(99999/t),r=Math.floor(99998/t),n=Math.floor(99998/t),a=Math.floor(99999/(t+1)),o=Math.floor(89999/(t+1)),l=510001+t*o;let u=0;return{TI:()=>{const d=s.FI("dashboard ui",l+u);return u+=1,d},II:()=>s.FI("dashboard legend",51e4),DI:d=>{const f=1+d*e,g=100001+d*i,m=200002+d*r,p=300002+d*n,x=400001+d*a,v=510001+d*o;let A=0;return{us:s,vm:(E,T)=>{const F=f+T;return s.FI(E,F)},ob:(E,T)=>{const F=g+T;return s.FI(E,F)},Uk:(E,T)=>{const F=m+T;return s.FI(E,F)},$y:(E,T)=>{const F=p+T;return s.FI(E,F)},nb:(E,T,F)=>{const D=p+T;return s.BI(E,D,F)},Mm:(E,T)=>{const F=x+T;return s.FI(E,F)},om:E=>{const T=v+A,F=s.FI(E,T);return A+=1,F},lm:()=>s.FI("panel legend",500002+d),Zy:()=>s.FI("panel cursor",600001+d)}}}};class JR{constructor(t){this.D=new qi,this.u=t}S(t){return this.u=t,this.D.emit("set",t),this}M(){return this.u}O(t){return this.D.on("set",t)}G(t){return this.D.off(t,"set")}}const PN={uh:()=>{},ih:!1,sh:0,eh:!1,rh:0,hh:!1,oh:0,ah:0,Je:Fa.fitting},LN=s=>{if(!s||typeof s!="object"||s===null)return!1;const t=s.type;return!(!t||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(t))},IN=(s,t,e,i,r,n,a,o)=>{const{type:l,data:u}=s;if(u.length===0)return;const d=[i,r];l==="spark-line"&&HN(s,t,d,n,a,o),l==="spark-bar"&&ZR({...s,winLoss:!1},t,d,n,a,o),l==="spark-win-loss"&&ZR({...s,winLoss:!0},t,d,n,a,o),l==="spark-area"&&XN(s,t,d,n,a,o),l==="spark-pie"&&WN(s,t,d,n,a,o)},Or=(s,t,e,i)=>({x:M5(s.x,t.x,e.x,i),y:fx(s.y,t.y,e.y,i)}),UN=(s,t,e,i)=>({position:M5(s.position,t.x,e.x,i),high:fx(s.high,t.y,e.y,i),low:fx(s.low,t.y,e.y,i)}),M5=(s,t,e,i)=>{const r=ee(s,t,t+e);return i[0].x+i[1].x*(r-t)/e},fx=(s,t,e,i)=>{const r=ee(s,t,t+e);return i[0].y+i[1].y*(r-t)/e},R5=(s,t,e,i,r,n,a,o)=>{for(const l of s)l.type==="point"&&ON(l,t,e,r,n,a,o),l.type==="axis-band"&&GN(l,e,r,n,a,o),l.type==="constant-line"&&YN(l,e,i,r,n,a,o)},ON=(s,t,e,i,r,n,a)=>{const{value:o,fillStyle:l,shape:u,size:d,rotation:f}=s;let g={x:NaN,y:NaN};if(o==="start"&&(g=t[0]),o==="end"&&(g=t[t.length-1]),o==="min"){g=t[0];for(const m of t)g=g.y<m.y?g:m}if(o==="max"){g=t[0];for(const m of t)g=g.y>m.y?g:m}(typeof o!="object"||(g=Or(o,e,i,r),((m,p)=>{const x=p[0],v=p[1],A=m.x,E=m.y;return x.x<=A&&A<=x.x+v.x&&x.y<=E&&E<=x.y+v.y})(g,r)))&&n.pointSet.add().Nt().il(u!==void 0?u:Qe.Circle).Nh(f||0).q(d||5).Ce(l||a.sparkPointChartFillStyle).nl(g)},GN=(s,t,e,i,r,n)=>{const{axis:a,start:o,end:l,fillStyle:u,strokeStyle:d}=s;let f=Y(Ft,Rt),g=Y(Ft,Rt);a==="x"&&(f=Or({x:o,y:Ft},t,e,i),g=Or({x:l,y:Rt},t,e,i)),a==="y"&&(f=Or({x:Ft,y:o},t,e,i),g=Or({x:Rt,y:l},t,e,i));const m=i[0],p=i[1],x=ee(f.x,m.x,m.x+p.x),v=ee(f.y,m.y,m.y+p.y),A=ee(g.x,m.x,m.x+p.x),E=ee(g.y,m.y,m.y+p.y);r.rect.add().cl(x).dl(v).q(Y(A-x,E-v)).Ce(u||n.sparkChartBandFillStyle).we(d||n.sparkChartBandStrokeStyle).we(bt)},YN=(s,t,e,i,r,n,a)=>{const{axis:o,value:l,strokeStyle:u}=s,d=l||0,f=t.y,g=e.y,m=t.x,p=e.x,x=[];if(o==="y"&&f<=d&&d<=g){const v=Or(Y(m,d),{x:m,y:f},i,r),A=Or(Y(p,d),{x:m,y:f},i,r);x.push([v,A])}if(o==="x"&&m<=d&&d<=p){const v=Or(Y(d,f),{x:m,y:f},i,r),A=Or(Y(d,g),{x:m,y:f},i,r);x.push([v,A])}x.length>0&&n.line.add().Re(u||a.sparkChartConstantLineStrokeStyle).Ve(x[0][0]).ze(x[0][1])},HN=(s,t,e,i,r,n)=>{const{strokeStyle:a,data:o,markers:l}=s,u=o.length;u>1e4&&r.Hn&&ht.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let d=Rt,f=Ft,g=Rt,m=Ft;for(let v=0;v<u;v+=1){const A=o[v];d=Math.min(d,A.x),f=Math.max(f,A.x),g=Math.min(g,A.y),m=Math.max(m,A.y)}const p={x:f-d,y:m-g},x=o.map(v=>Or(v,{x:d,y:g},p,e));t.lineSet.add().cs(n).Re(a||i.sparkLineChartStrokeStyle).Nt().nl(x),l&&R5(l,x,{x:d,y:g},{x:f,y:m},p,e,t,i)},ZR=(s,t,e,i,r,n)=>{const{data:a,fillStyle:o,strokeStyle:l,threshold:u,winFillStyle:d,lossFillStyle:f}=s,g=s.barSize||1,m=s.gap||1,p=s.winLoss,x=u||0,v=m/g*1;let A=Rt,E=Ft;if(p)A=-1,E=1;else for(const D of a)A=Math.min(A,D),E=Math.max(E,D);const T={x:0,y:p?-1:Math.min(0,A)},F={x:1*a.length+(a.length-1)*v,y:p?2:Math.max(E,1e-5)};a.map((D,N)=>{const V={x:1*(N+1)+N*v,y:p?D>=x?1:0:D},P=Or({x:1*N+N*v,y:p?D>=x?0:-1:0},T,F,e),b=Or(V,T,F,e);return{value:D,position:P,width:b.x-P.x,height:b.y-P.y}}).forEach(D=>{var N;t.rect.add().cs(n).Fe(D.position).Al(D.height).fl(D.width).Ce((N=D.value,p?(N>=x?d:f)||i.sparkBarChartFillStyle:o||i.sparkBarChartFillStyle)).we(l||i.sparkBarChartStrokeStyle)})},XN=(s,t,e,i,r,n)=>{const{data:a,fillStyle:o,strokeStyle:l,markers:u}=s,d=a.length;d>1e4&&r.Hn&&ht.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let f=Rt,g=Ft,m=Rt,p=Ft;for(let E=0;E<d;E+=1){const T=a[E];f=Math.min(f,T.x),g=Math.max(g,T.x),m=Math.min(m,T.y),p=Math.max(p,T.y)}const x={x:g-f,y:p-m},v=[],A=[];for(const E of a){const T=_n(E.x,E.y,m);v.push(UN(T,{x:f,y:m},x,e)),A.push(Or(E,{x:f,y:m},x,e))}t.junction.add().cs(n).Nt().nl(v).Ce(o||i.sparkAreaChartFillStyle),t.lineSet.add().cs(n).Nt().nl(A).Re(l||i.sparkAreaChartStrokeStyle),u&&R5(u,A,{x:f,y:m},{x:g,y:p},x,e,t,i)},WN=(s,t,e,i,r,n)=>{const{data:a,strokeStyle:o}=s,l=a.map(x=>typeof x=="number"?x:x.value),u=a.map(x=>typeof x=="object"?x.fillStyle:void 0),d=l.reduce((x,v)=>x+v,0),f=Or(Y(50,50),{x:0,y:0},{x:100,y:100},e),g=e[1],m=g.x<=g.y?g.x/2:g.y/2;let p=90;l.forEach((x,v)=>{const A=x/d*360;t.arc.add().cs(n).Fe(f).hu(m).ou(0).eu(p).ze(p+A).Ce(u[v]||re(i.sparkPieChartFillStyle,v)).we(o||i.sparkPieChartStrokeStyle),p+=A})};var Ce,Ra,Ma;(function(s){s[s.UpToDown=0]="UpToDown",s[s.LeftToRight=1]="LeftToRight"})(Ce||(Ce={})),function(s){s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s[s.Both=2]="Both"}(Ra||(Ra={})),function(s){s[s.Up=0]="Up",s[s.Down=1]="Down",s[s.Left=2]="Left",s[s.Right=3]="Right"}(Ma||(Ma={}));class QR extends cy{constructor(t,e,i,r,n){super(),this.Ds=!1,this.C_={x:0,y:0,height:20,width:20},this.LI={x:10,y:10},this.ks=t,this.RI=n,this.EI=new br(t,e,i,ae,r).setMouseInteractions(!0),this.zI=t.ic(e,jr.Simple).Ce(r.dataGridScrollBarButtonArrowFillStyle).we(r.dataGridScrollBarButtonArrowStrokeStyle).setMouseInteractions(!1),this.xu(this),this.EI.onMouseEnter(a=>a.setHighlight(1)),this.EI.onMouseLeave(a=>a.setHighlight(0))}VI(){switch(this.RI){case Ma.Up:this.zI.pl([{x:this.C_.x,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y-this.LI.y/2},{x:this.C_.x-this.LI.x/2,y:this.C_.y-this.LI.y/2}]);break;case Ma.Down:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x,y:this.C_.y-this.LI.y/2}]);break;case Ma.Left:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y},{x:this.C_.x+this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y-this.LI.y/2}]);break;case Ma.Right:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y},{x:this.C_.x-this.LI.x/2,y:this.C_.y-this.LI.y/2}])}}Fe(t){return this.C_.x=t.x,this.C_.y=t.y,this}Fa(){return Y(this.C_.x,this.C_.y)}q(t){return this.C_.height=t.x,this.C_.width=t.y,this}oi(){return{x:this.C_.height,y:this.C_.width}}onMouseDown(t){return this.EI.onMouseDown(t)}onMouseUp(t){return this.EI.onMouseUp(t)}setFillStyle(t){return this.EI.setFillStyle(t),this}getFillStyle(){return this.EI.getFillStyle()}setStrokeStyle(t){return this.EI.setStrokeStyle(t),this}getStrokeStyle(){return this.EI.getStrokeStyle()}Te(){return this.EI.Te(),this.VI(),this}Ps(){return this.EI.setSize(Y(this.C_.height,this.C_.width)).setPosition(Y(this.C_.x,this.C_.y)),this}setVisible(t){return this.EI.setVisible(t),this.zI.setVisible(t),this}dispose(){return this.EI.dispose(),this.zI.dispose(),this}setMouseInteractions(t){return this.EI.setMouseInteractions(t),this}getMouseInteractions(){return this.EI.getMouseInteractions()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}getHighlight(){return this.EI.getHighlight()}setHighlight(t){return this.EI.setHighlight(Ko(t)),this.D.emit("highlight",this,!!t),this.ks.Ss(),this}}const KR=(s,t)=>Math.min(Math.max(s,t.getInnerStart()),t.getInnerEnd());class $N{constructor(t,e,i,r,n,a,o){this.Kc={x:0,y:0},this.C_={x:0,y:0,height:0,width:0},this.D=new qi,this.OI={min:Y(0,0),max:Y(0,0)},this.wM=!1,this.CM=!1,this.NI={x:0,y:0},this._u=void 0,this.GI=Y(0,0),this.WI={x:0,y:0},this.UI=0,this.YI=15,this.kM=(l,u)=>{this.wM=!0,this.bA.Ss();const d=this.HI.getDraggingMode();this._u=this.bA.us.Wr(d===ze.notDraggable?he.Restricted:d===ze.draggable?he.Move:d===ze.onlyHorizontal?he.Horizontal:he.Vertical),this.$I&&clearInterval(this.$I)},this.TM=()=>{this.wM=!1,this.bA.Ss(),this.bA.us.Ur(this._u)},this.FM=l=>(this.CM=!0,this.NI=mt(this.bA.us.Pe(l.x,l.y),this.bA.us.dt,this.scale),!0),this.XI=(l,u)=>(this.jI(u),this.$I=setInterval(()=>this.jI(u),300),!0),this.ZI=()=>(clearInterval(this.$I),!0),this.IM=(l,u)=>{const d=this.HI.getDraggingMode();if(d!==ze.notDraggable){const f=u||d,g=mt(this.bA.us.Pe(l.x,l.y),this.bA.us.dt,this.scale),m=Y(f!==ze.onlyVertical?KR(g.x,this.scale.x):this.C_.x,f!==ze.onlyHorizontal?KR(g.y,this.scale.y):this.C_.y),p=Y(m.x-this.NI.x,m.y-this.NI.y),x=Y(this.HI.getPosition().x+p.x,this.HI.getPosition().y+p.y),v=this.QI(x),A={x:Math.abs(this.GI.x-v.x),y:Math.abs(this.GI.y-v.y)};return this.JI(A),this.WI.y>p.y&&(this.NI=g),this.Te(),!0}return!1},this.PM=(l,u)=>{this.CM=!1,vt(u),this.bA.Ss()},this.bA=t,this.qg=e,this.scale=r,this.contentScale=n,this.KI=o,this.qI=new QR(t,i,r,a,o===Ce.UpToDown?Ma.Up:Ma.Left).setStrokeStyle(a.dataGridScrollBarButtonStrokeStyle).setFillStyle(a.dataGridScrollBarButtonFillStyle),this.tP=new QR(t,i,r,a,o===Ce.UpToDown?Ma.Down:Ma.Right).setStrokeStyle(a.dataGridScrollBarButtonStrokeStyle).setFillStyle(a.dataGridScrollBarButtonFillStyle),this.HI=new br(t,i,r,ae,a).setFillStyle(a.dataGridScrollBarFillStyle).setStrokeStyle(a.dataGridScrollBarStrokeStyle).setMouseInteractions(!0).setDraggingMode(o===Ce.UpToDown?ze.onlyVertical:o===Ce.LeftToRight?ze.onlyHorizontal:ze.notDraggable),this.iP=new br(e,i,r,ae,a).setFillStyle(a.dataGridScrollBarBackgroundFillStyle).setStrokeStyle(a.dataGridScrollBarBackgroundStrokeStyle).setMouseInteractions(!0),this.HI.onMouseEnter(this.kM),this.HI.onMouseLeave(this.TM),this.HI.onMouseDragStart((l,u)=>this.FM(Y(u.clientX,u.clientY))&&vt(u)),this.HI.onMouseDrag((l,u)=>this.IM(Y(u.clientX,u.clientY))&&vt(u)),this.HI.onMouseDragStop(this.PM),this.HI.onTouchStart((l,u)=>this.FM(Y(u.clientX,u.clientY))&&vt(u)),this.HI.onTouchMove((l,u)=>this.IM(Y(u.clientX,u.clientY))&&vt(u)),this.HI.onTouchEnd(this.PM),this.qI.onMouseDown((l,u)=>this.XI(l,u)&&vt(u)),this.tP.onMouseDown((l,u)=>this.XI(l,u)&&vt(u)),this.qI.onMouseUp((l,u)=>this.ZI()&&vt(u)),this.tP.onMouseUp((l,u)=>this.ZI()&&vt(u)),this.iP.onMouseWheel((l,u)=>this.sP(u)),this.HI.onMouseWheel((l,u)=>this.sP(u)),this.iP.onMouseDown((l,u)=>this.XI(l,u)&&vt(u)),this.iP.onMouseUp((l,u)=>this.ZI()&&vt(u))}eP(t){return this.C_=t,this}fl(t){return this.C_.width=t,this}hP(){return this.C_.width}rP(t){return this.GI=t,this}nP(t){return this.Kc=t,this}oP(){return this.Kc}aP(t){return this.YI=t,this}lP(){return this.KI}uP(t){let e;switch(this.KI){case Ce.UpToDown:return e=t>0?Math.min(this.GI.y-this.OI.max.y,this.WI.y+t):Math.max(0,this.WI.y+t),e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0);case Ce.LeftToRight:return e=Math.min(this.OI.max.x-this.GI.x,this.WI.x+t),e!==this.WI.x&&(this.JI({y:0,x:e}),this.Te(),!0);default:return!1}}cP(t){let e;switch(this.KI){case Ce.UpToDown:return e=Math.max(0,this.WI.y-t),e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0);case Ce.LeftToRight:return e=t>0?Math.max(0,this.WI.x-t):Math.min(this.OI.max.x-this.GI.x,this.WI.x-t),e!==this.WI.x&&(this.JI({x:e,y:0}),this.Te(),!0);default:return!0}}dP(t){switch(this.KI){case Ce.UpToDown:return this.D.on("scrollY",t);case Ce.LeftToRight:return this.D.on("scrollX",t)}return this.D.on("scrollY",t)}QI(t){switch(this.KI){case Ce.UpToDown:if(t.y>this.OI.min.y)return Y(t.x,this.OI.min.y);if(t.y<this.OI.max.y)return Y(t.x,this.OI.max.y);break;case Ce.LeftToRight:if(t.x<this.OI.min.x)return Y(this.OI.min.x,t.y);if(t.x>this.OI.max.x)return Y(this.OI.max.x,t.y)}return t}sP(t){t.deltaY>0&&this.fP()&&vt(t),t.deltaY<0&&this.AP()&&vt(t)}jI(t){const e=mt(this.bA.us.Pe(t.clientX,t.clientY),this.bA.us.dt,this.scale);let i;const r=this.HI.getPosition(),n=this.HI.getSize();this.gP(e,r,n)?clearInterval(this.$I):(i=this.KI===Ce.UpToDown?Y(0,e.y-r.y>0?this.YI:-this.YI):Y(r.x-e.x>0?this.YI:-this.YI,0),(i.x>0||i.y>0)&&this.mP(i.x!==0?Math.abs(i.x):Math.abs(i.y)),(i.x<0||i.y<0)&&this.yP(i.x!==0?Math.abs(i.x):Math.abs(i.y)))}gP(t,e,i){return this.KI===Ce.UpToDown?t.y<e.y+i.y/2&&t.y>e.y-i.y/2:t.x>e.x-i.x/2&&t.x<e.x+i.x/2}pP(t){this.OI=t}mP(t){switch(this.KI){case Ce.UpToDown:{const e=Math.max(0,this.WI.y-t);return e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0)}case Ce.LeftToRight:{const e=Math.max(0,this.WI.x-t);return e!==this.WI.x&&(this.JI({x:e,y:0}),this.Te(),!0)}default:return!1}}yP(t){switch(this.KI){case Ce.UpToDown:{let e;return e=this.Kc.x>this.C_.height?Math.min(this.GI.y-this.OI.max.y,this.WI.y+t):0,e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0)}case Ce.LeftToRight:{const e=Math.min(this.OI.max.x-this.GI.x,this.WI.x+t);return e!==this.WI.x&&(this.JI({y:0,x:e}),this.Te(),!0)}default:return!1}}AP(){return this.mP(this.YI)}fP(){return this.yP(this.YI)}JI(t){if(t.x===this.WI.x&&t.y===this.WI.y)return;let e;switch(this.WI=t,this.KI){case Ce.UpToDown:e=this.WI.y*this.UI*this.contentScale.Wi().y,this.D.emit("scrollY",Ra.Vertical,e),this.bA.us.Ss();break;case Ce.LeftToRight:e=this.WI.x*this.UI*this.contentScale.Wi().x,this.D.emit("scrollX",Ra.Horizontal,e)}}setVisible(t){return this.qI.setVisible(t),this.tP.setVisible(t),this.iP.setVisible(t),this.HI.setVisible(t),this}dispose(){return this.qI.dispose(),this.tP.dispose(),this.iP.dispose(),this.HI.dispose(),this.$I&&clearInterval(this.$I),this}Ps(){switch(this.SP(),this.vP(),this.KI){case Ce.UpToDown:this.qI.Fe({x:this.C_.x,y:this.C_.y+this.C_.height-this.qI.oi().x/2}).q(Y(this.C_.width,this.C_.width)).Ps(),this.tP.Fe({x:this.C_.x,y:this.C_.y+10}).q(Y(this.C_.width,this.C_.width)).Ps(),this.iP.setSize({x:this.C_.width,y:this.C_.height-2*this.qI.oi().x}).setPosition({x:this.C_.x,y:this.C_.y+this.tP.oi().y+this.iP.getSize().y/2}),this.HI.setSize(Y(this.C_.width,this.bP())),this.GI={x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2},this.pP({min:{x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2},max:{x:this.C_.x,y:this.tP.Fa().y+this.tP.oi().x/2+this.HI.getSize().y/2}});break;case Ce.LeftToRight:this.qI.Fe({x:this.C_.x,y:this.C_.y}).q(Y(this.C_.height,this.C_.height)).Ps(),this.tP.Fe({x:this.C_.x+this.C_.width-this.tP.oi().x,y:this.C_.y}).q(Y(this.C_.height,this.C_.height)).Ps(),this.iP.setSize({y:this.C_.height,x:this.C_.width-2*this.qI.oi().y}).setPosition({x:this.C_.x+this.qI.oi().x/2+this.iP.getSize().x/2,y:this.C_.y}),this.HI.setSize(Y(this.bP(),this.C_.height)),this.GI={x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2,y:this.C_.y},this.pP({min:{x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2,y:this.C_.y},max:{x:this.tP.Fa().x-this.tP.oi().x/2-this.HI.getSize().x/2,y:this.C_.y}})}return this.xP(),this}SP(){switch(this.KI){case Ce.UpToDown:this.MP()||this.setVisible(!1),this.MP()&&this.setVisible(!0);break;case Ce.LeftToRight:this._P()||this.setVisible(!1),this._P()&&this.setVisible(!0)}}vP(){switch(this.KI){case Ce.UpToDown:this.MP()||this.JI({x:0,y:0});break;case Ce.LeftToRight:this._P()||this.JI({x:0,y:0})}}MP(){return this.Kc.x>this.C_.height}_P(){return this.Kc.y>this.C_.width}bP(){switch(this.KI){case Ce.UpToDown:return this.C_.height*(this.C_.height-2*this.qI.oi().x)/this.Kc.x;case Ce.LeftToRight:return this.C_.width*(this.C_.width-2*this.qI.oi().y)/this.Kc.y;default:return 0}}xP(){switch(this.KI){case Ce.UpToDown:this.UI=(this.Kc.x-this.C_.height)/(this.OI.min.y-this.OI.max.y);break;case Ce.LeftToRight:this.UI=(this.Kc.y-this.C_.width)/(this.OI.max.x-this.OI.min.x)}}Te(){switch(this.qI.Te(),this.tP.Te(),this.iP.Te(),this.KI){case Ce.UpToDown:this.HI.setPosition({x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2-this.WI.y}).Te();break;case Ce.LeftToRight:this.HI.setPosition({y:this.C_.y,x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2+this.WI.x}).Te()}return this}}class jN{constructor(t,e,i,r,n,a,o){switch(this.bA=t,this.qg=e,this.scale=r,this.contentScale=n,o){case Ra.Vertical:this.wP=this.CP(i,a,Ce.UpToDown);break;case Ra.Horizontal:this.kP=this.CP(i,a,Ce.LeftToRight);break;case Ra.Both:this.wP=this.CP(i,a,Ce.UpToDown),this.kP=this.CP(i,a,Ce.LeftToRight)}this.TP=tr(new Xr(void 0,(l,u,d,f,g)=>{var m,p;f.x!==0&&(!((m=this.kP)===null||m===void 0)&&m.cP(f.x))&&vt(g),f.y!==0&&(!((p=this.wP)===null||p===void 0)&&p.uP(f.y))&&vt(g)}))}CP(t,e,i){return new $N(this.bA,this.qg,t,this.scale,this.contentScale,e,i)}hP(){return 20}nP(t){var e,i;return(e=this.wP)===null||e===void 0||e.nP(t),(i=this.kP)===null||i===void 0||i.nP(t),this}FP(t){var e;return(e=this.kP)===null||e===void 0||e.aP(t),this}IP(t){var e;return(e=this.wP)===null||e===void 0||e.aP(t),this}PP(t){const e=this.wP;return e&&e.sP(t),this}DP(t){return this.TP.onTouchStart(this,t),this}BP(t){return this.TP.onTouchMove(this,t),this}LP(t){return this.TP.onTouchEnd(this,t),this}onScroll(t){var e,i;return(e=this.kP)===null||e===void 0||e.dP(t),(i=this.wP)===null||i===void 0||i.dP(t),this}dispose(){var t,e;return(t=this.wP)===null||t===void 0||t.dispose(),(e=this.kP)===null||e===void 0||e.dispose(),this}Te(){var t,e;return(t=this.wP)===null||t===void 0||t.Te(),(e=this.kP)===null||e===void 0||e.Te(),this}Ps(){var t,e,i,r;const n=this.scale.x,a=this.scale.y;return(t=this.wP)===null||t===void 0||t.eP({x:n.getInnerEnd()-10,y:a.getInnerStart()+20,height:a.getInnerEnd()-20,width:20}),(e=this.kP)===null||e===void 0||e.eP({x:n.getInnerStart()+10,y:a.getInnerStart()+10,height:20,width:n.getInnerEnd()-20}),(i=this.wP)===null||i===void 0||i.Ps(),(r=this.kP)===null||r===void 0||r.Ps(),this}}class E5 extends An{constructor(t,e,i,r,n,a){super(t,e,i,e.vm("dataGrid bg",0),r,e.us.qi.dataGridBackgroundFillStyle,e.us.qi.dataGridBackgroundStrokeStyle,e.us.qi.dataGridTitleFont,e.us.qi.dataGridTitleFillStyle,a),this.RP=[],this.EP=[],this.zP=[],this.VP=new Map,this.OP=!0,this.NP=!0,this.GP=!0,this.WP=!0,this.UP=!0,this.YP=!0,this.HP=!0,this.$P=!0,this.XP=!0,this.jP=!0,this.ZP=!0,this.QP=!0,this.JP=!0,this.KP=!0,this.qP=!0,this.tD=!0,this.iD=new Set,this.sD=new Set,this.eD=!0,this.hD=!0,this.rD=(o,l)=>{o.borders=l===void 0?iE:{...o.borders,...l},this.nD(o),this.QP=!0,this.us.Ss()},this.nD=o=>{o.borders&&(o.borders.top===!1&&this.oD(o.column,o.row-1,l=>{l.borders=l.borders?{...l==null?void 0:l.borders,bottom:!1}:{...this.aD,bottom:!1}}),o.borders.bottom===!1&&this.oD(o.column,o.row+1,l=>{l.borders=l.borders?{...l.borders,top:!1}:{...this.aD,top:!1}}),o.borders.left===!1&&this.oD(o.column-1,o.row,l=>{l.borders=l.borders?{...l.borders,right:!1}:{...this.aD,right:!1}}),o.borders.right===!1&&this.oD(o.column+1,o.row,l=>{l.borders=l.borders?{...l.borders,left:!1}:{...this.aD,left:!1}}),o.borders.top===!0&&this.oD(o.column,o.row-1,l=>{l.borders=l.borders?{...l==null?void 0:l.borders,bottom:!0}:{...this.aD,bottom:!0}}),o.borders.bottom===!0&&this.oD(o.column,o.row+1,l=>{l.borders=l.borders?{...l.borders,top:!0}:{...this.aD,top:!0}}),o.borders.left===!0&&this.oD(o.column-1,o.row,l=>{l.borders=l.borders?{...l.borders,right:!0}:{...this.aD,right:!0}}),o.borders.right===!0&&this.oD(o.column+1,o.row,l=>{l.borders=l.borders?{...l.borders,left:!0}:{...this.aD,left:!0}}))},this.lD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseEnter,u,l)},this.uD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseLeave,u,l)},this.cD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseClick,u,l)},this.dD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseDoubleClick,u,l)},this.fD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseDown,u,l)},this.AD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseUp,u,l)},this.gD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseMove,u,l)},this.mD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseDrag,u,l)},this.yD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseDragStart,u,l)},this.pD=(o,l)=>{const u=this.VP.get(o);u&&this.D.emit(Ai.cellMouseDragStop,u,l)},this.SD=(o,l)=>{const u=this.VP.get(o);u&&(this.D.emit(Ai.cellMouseWheel,u,l),!l.defaultPrevented&&this.eD&&this.vD.PP(l))},this.bD=(o,l)=>{const u=this.VP.get(o);u&&(this.D.emit(Ai.cellTouchStart,u,l),!l.defaultPrevented&&this.hD&&this.vD.DP(l))},this.xD=(o,l)=>{const u=this.VP.get(o);u&&(this.D.emit(Ai.cellTouchMove,u,l),!l.defaultPrevented&&this.hD&&this.vD.BP(l))},this.MD=(o,l)=>{const u=this.VP.get(o);u&&(this.D.emit(Ai.cellTouchEnd,u,l),!l.defaultPrevented&&this.hD&&this.vD.LP(l))},this.us.Nn(Dt.if),this._m.Rh("Data Grid"),this._D=i.d2({scaleXYConstructor:Me}),this._D.x.ig=PN,this.wD=i.d2({scaleXYConstructor:Me}),this.CD={x:0,y:0},this.kD=this.qi.dataGridTextFont,this.TD=this.qi.dataGridTextFillStyle,this.aD={top:!0,bottom:!0,left:!0,right:!0},this.FD=this.qi.dataGridCellBackgroundFillStyle,this.ID=this.qi.dataGridBorderStrokeStyle,this.PD="left-center",this.DD={left:5,right:5,bottom:5,top:5},this.BD=e.ob("dataGrid grid bg",0),this.LD=e.ob("dataGrid cell bg",1),this.RD=e.$y("dataGrid cell content",0),this.ED=e.$y("dataGrid scrollbar bg",1),this.zD=e.$y("dataGrid scrollbar fg",2),this.vD=this.VD(),this.onBackgroundMouseWheel((o,l)=>{this.eD&&this.vD.PP(l)}),this.onBackgroundTouchStart((o,l)=>{this.hD&&this.vD.DP(l)}),this.onBackgroundTouchMove((o,l)=>{this.hD&&this.vD.BP(l)}),this.onBackgroundTouchEnd((o,l)=>{this.hD&&this.vD.LP(l)}),this.OD=this.BD.ke(this._D).Ce(this.qi.dataGridBackgroundFillStyle).we(bt).setMouseInteractions(!1),this.ND=this.RD.Lg(this._D).setMouseInteractions(!1),this.GD=new un(()=>this.LD.ke(this._D).setMouseInteractions(!0).setMouseEnterEventHandler(this.lD).setMouseLeaveEventHandler(this.uD).setMouseClickEventHandler(this.cD).setMouseDoubleClickEventHandler(this.dD).setMouseDownEventHandler(this.fD).setMouseUpEventHandler(this.AD).setMouseMoveEventHandler(this.gD).setMouseDragEventHandler(this.mD).setMouseDragStartEventHandler(this.yD).setMouseDragStopEventHandler(this.pD).setMouseWheelEventHandler(this.SD).setTouchStartEventHandler(this.bD).setTouchMoveEventHandler(this.xD).setTouchEndEventHandler(this.MD)),this.WD=new un(()=>this.RD.ke(this._D).setMouseInteractions(!1)),this.UD=new un(()=>this.RD.Pr(this._D).setMouseInteractions(!1)),this.YD=new un(()=>this.RD.rp(this._D,{},[Jr.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setMouseInteractions(!1)),this.HD=new un(()=>this.RD.Ee(this._D).setMouseInteractions(!1)),this.$D=new un(()=>this.RD.bS(this._D).setMouseInteractions(!1)),this.XD=new un(()=>this.RD.ke(this._D).setMouseInteractions(!1)),this.jD=new un(()=>this.RD.lw(this._D).setMouseInteractions(!1)),this.ZD=new un(()=>this.RD.Jc(this._D).setMouseInteractions(!1)),this.Sm(n,this.uiScale),this.onResize(()=>{this.OP=!0,this.us.Ss(),this._D.q(this.pixelScale.oi()),this.wD.q(this.pixelScale.oi())}),this.QD=this.es.yg([this.OD])}getMinimumSize(){return{x:200,y:200}}setAnimationsEnabled(t){return this}Zd(){return[]}dispose(){return super.dispose(),this.BD.W(),this.LD.W(),this.RD.W(),this.ED.W(),this.zD.W(),Tu(this._D),Tu(this.wD),this.vD.dispose(),this.UD.gp(),this.GD.gp(),this.WD.gp(),this.YD.gp(),this.HD.gp(),this.$D.gp(),this.XD.gp(),this.jD.gp(),this.ZD.gp(),this}j(){return super.j(),this._D.j(),this.wD.j(),this}Z(){return super.Z(),this._D.Z(),this.wD.Z(),this}setBackgroundEffect(t){return this.QD.ps(t),this.us.Ss(),this}getBackgroundEffect(){return this.QD.vs()}setInteractionScrollOnWheel(t){return this.eD=t,this}getInteractionScrollOnWheel(){return this.eD}setInteractionPanOnTouch(t){return this.hD=t,this}getInteractionPanOnTouch(){return this.hD}onCellMouseEnter(t){return this.D.on(Ai.cellMouseEnter,t)}offCellMouseEnter(t){return this.D.off(t)}onCellMouseLeave(t){return this.D.on(Ai.cellMouseLeave,t)}offCellMouseLeave(t){return this.D.off(t)}onCellMouseClick(t){return this.D.on(Ai.cellMouseClick,t)}offCellMouseClick(t){return this.D.off(t)}onCellMouseDoubleClick(t){return this.D.on(Ai.cellMouseDoubleClick,t)}offCellMouseDoubleClick(t){return this.D.off(t)}onCellMouseDown(t){return this.D.on(Ai.cellMouseDown,t)}offCellMouseDown(t){return this.D.off(t)}onCellMouseUp(t){return this.D.on(Ai.cellMouseUp,t)}offCellMouseUp(t){return this.D.off(t)}onCellMouseMove(t){return this.D.on(Ai.cellMouseMove,t)}offCellMouseMove(t){return this.D.off(t)}onCellMouseDrag(t){return this.D.on(Ai.cellMouseDrag,t)}offCellMouseDrag(t){return this.D.off(t)}onCellMouseDragStart(t){return this.D.on(Ai.cellMouseDragStart,t)}offCellMouseDragStart(t){return this.D.off(t)}onCellMouseDragStop(t){return this.D.on(Ai.cellMouseDragStop,t)}offCellMouseDragStop(t){return this.D.off(t)}onCellMouseWheel(t){return this.D.on(Ai.cellMouseWheel,t)}offCellMouseWheel(t){return this.D.off(t)}onCellTouchStart(t){return this.D.on(Ai.cellTouchStart,t)}offCellTouchStart(t){return this.D.off(t)}onCellTouchMove(t){return this.D.on(Ai.cellTouchMove,t)}offCellTouchMove(t){return this.D.off(t)}onCellTouchEnd(t){return this.D.on(Ai.cellTouchEnd,t)}offCellTouchEnd(t){return this.D.off(t)}setGridBackgroundFillStyle(t){return this.OD.Ce(t),this.us.Ss(),this}getGridBackgroundFillStyle(){return this.OD.Eh()}setCellContent(t,e,i,r,n){if(typeof i=="number"&&r!==void 0&&n!==void 0){const a=i,o=r,l=n;let u=[];for(let g=t;g<t+a;g+=1)for(let m=e;m<e+o;m+=1){const p=this.oD(g,m);p&&u.push(p)}u=Xo(u);let d={highlight:0};for(const g of u){const m=this.RP.indexOf(g);m<0||(d={...d,highlight:g.highlight,textFont:g.textFont,textFillStyle:g.textFillStyle,contentAlignment:g.contentAlignment,borders:g.borders,padding:g.padding,backgroundFillStyle:g.backgroundFillStyle},this.RP.splice(m,1))}const f={...d,column:t,row:e,columnSpan:a,rowSpan:o,content:l};this.RP.push(f),this.WP=!0,typeof f.content=="string"||typeof f.content=="number"?this.NP=!0:this.GP=!0,this.us.Ss()}else this.JD(t,e,i);return this}setColumnContent(t,e){const i=e.length;if(i===0)return this;for(let r=0;r<i;r+=1){const n=e[r];this.JD(t,r,n)}return this}setRowContent(t,e){const i=e.length;if(i===0)return this;for(let r=0;r<i;r+=1){const n=e[r];this.JD(r,t,n)}return this}setTableContent(t){const e=t.length;if(e===0)return this;const i=t[0].length;if(i===0)return this;for(let r=0;r<i;r+=1)for(let n=0;n<e;n+=1){const a=t[n][r];this.JD(r,n,a)}return this}setColumnWidth(t,e){let i=this.EP.find(r=>r.column===t);return i||(i={column:t,min:void 0,max:void 0},this.EP.push(i)),typeof e=="object"?(i.min=e.min,i.max=e.max):e===void 0?this.EP.splice(this.EP.indexOf(i),1):(i.min=e,i.max=e),this.YP=!0,this.us.Ss(),this}setRowHeight(t,e){let i=this.zP.find(r=>r.row===t);return i||(i={row:t,min:void 0,max:void 0},this.zP.push(i)),typeof e=="object"?(i.min=e.min,i.max=e.max):e===void 0?this.zP.splice(this.zP.indexOf(i),1):(i.min=e,i.max=e),this.YP=!0,this.us.Ss(),this}setColumnPaddings(t,e){return typeof e=="number"&&(e=od(e,e,e,e)),this.KD(t,i=>this.qD(i,e)),this}setRowPaddings(t,e){return typeof e=="number"&&(e=od(e,e,e,e)),this.tB(t,i=>this.qD(i,e)),this}setCellPadding(t,e,i){return typeof i=="number"&&(i=od(i,i,i,i)),this.oD(t,e,r=>this.qD(r,i)),this}setCellsPaddings(t){return typeof t=="number"&&(t=od(t,t,t,t)),this.DD={...this.DD,...t},this.iB(e=>this.qD(e,this.DD)),this}setCellBorders(t,e,i){return this.oD(t,e,r=>this.rD(r,i)),this}setRowBorders(t,e){return this.tB(t,i=>this.rD(i,e)),this}setColumnBorders(t,e){return this.KD(t,i=>this.rD(i,e)),this}setCellsBorders(t){return this.aD=t===void 0?iE:t,this.iB(e=>this.rD(e,this.aD)),this}setCellsBorderStrokeStyle(t){return this.ID=typeof t=="function"?t(this.ID):t,this.KP=!0,this.us.Ss(),this}setColumnTextFillStyle(t,e){return this.KD(t,i=>this.sB(i,e)),this}setRowTextFillStyle(t,e){return this.tB(t,i=>this.sB(i,e)),this}setCellTextFillStyle(t,e,i){return this.oD(t,e,r=>this.sB(r,i)),this}setCellsTextFillStyle(t){return this.TD=typeof t=="function"?t(this.TD):t,this.iB(e=>this.sB(e,this.TD)),this}setColumnTextFont(t,e){return this.KD(t,i=>this.eB(i,e)),this}setRowTextFont(t,e){return this.tB(t,i=>this.eB(i,e)),this}setCellTextFont(t,e,i){return this.oD(t,e,r=>this.eB(r,i)),this}setCellsTextFont(t){return this.kD=typeof t=="function"?t(this.kD):t,this.iB(e=>this.eB(e,this.kD)),this}setColumnContentAlignment(t,e){return this.KD(t,i=>this.hB(i,e)),this}setRowContentAlignment(t,e){return this.tB(t,i=>this.hB(i,e)),this}setCellContentAlignment(t,e,i){return this.oD(t,e,r=>this.hB(r,i)),this}setCellsContentAlignment(t){return this.PD=t,this.iB(e=>this.hB(e,this.PD)),this}setCellBackgroundFillStyle(t,e,i){return this.oD(t,e,r=>this.rB(r,i)),this}setColumnBackgroundFillStyle(t,e){return this.KD(t,i=>this.rB(i,e)),this}setRowBackgroundFillStyle(t,e){return this.tB(t,i=>this.rB(i,e)),this}setCellsBackgroundFillStyle(t){return this.FD=typeof t=="function"?t(this.FD):t,this.iB(e=>this.rB(e,this.FD)),this}setCellHighlight(t,e,i){return this.oD(t,e,r=>{r.highlight=Ko(i)}),this.JP=!0,this.us.Ss(),this}setColumnHighlight(t,e){const i=Ko(e);return this.KD(t,r=>{r.highlight=i}),this.JP=!0,this.us.Ss(),this}setRowHighlight(t,e){const i=Ko(e);return this.tB(t,r=>{r.highlight=i}),this.JP=!0,this.us.Ss(),this}removeCell(t,e){return this.oD(t,e,i=>this.RP.splice(this.RP.indexOf(i),1)),this.UP=!0,this.us.Ss(),this}removeRow(t){return this.tB(t,e=>this.RP.splice(this.RP.indexOf(e),1)),this.RP.filter(e=>e.row>t).forEach(e=>{e.row-=1}),this.UP=!0,this.us.Ss(),this}removeColumn(t){return this.KD(t,e=>this.RP.splice(this.RP.indexOf(e),1)),this.RP.filter(e=>e.column>t).forEach(e=>{e.column-=1}),this.UP=!0,this.us.Ss(),this}removeCells(){return this.RP.splice(0),this.UP=!0,this.us.Ss(),this}getColumnMax(){return this.RP.length===0?0:this.RP.reduce((t,e)=>Math.max(t,e.column+e.columnSpan-1),0)}getRowMax(){return this.RP.length===0?0:this.RP.reduce((t,e)=>Math.max(t,e.row+e.rowSpan-1),0)}Te(t){super.Te(t),ys.Fm(this._m,this.bm),super.pm();const e=Math.round(this.ID.V()),i=e/2;let r=this.NP||this.GP||this.WP||this.UP||this.YP||this.HP||this.ZP||this.QP||this.KP||this.tD;if(r){this.RP.forEach(p=>{this.sD.add(p.column)}),this.RP.forEach(p=>{this.iD.add(p.row)});const a=this.UD.fp(),o=this.nB(i,a);a.finishPlot();const l=this.oB(this.sD.size,o),u=this.aB(this.iD.size,o),d=l.reduce(wd,0)+e,f=u.reduce(wd,0)+e,g=new Array(l.length+1).fill(0).map((p,x)=>l.reduce((v,A,E)=>v+(E<x?A:0),0)),m=new Array(u.length+1).fill(0).map((p,x)=>u.reduce((v,A,E)=>v+(E<x?A:0),0));if(this.lB){const p=this.lB.columnWidths.every((v,A)=>v===l[A]),x=this.lB.rowHeights.every((v,A)=>v===u[A]);p&&x&&(r=!1)}this.lB={columnWidths:l,rowHeights:u,dataGridWidth:d,dataGridHeight:f,columnWidthsCumulative:g,rowHeightsCumulative:m,cellsContentSizes:o}}const n=r||this.GP||this.WP||this.UP||this.$P||this.XP||this.jP||this.QP||this.JP||this.KP||this.OP||this.tD;if((n||this.qP)&&this.lB){const a=this.pixelScale.getInnerIntervalPixels(),o=ys.Tm(this._m,this.bm),l=[this.ya.left+i,this.ya.right+i],u=[this.ya.bottom+i,this.ya.top+o+i],d={x:a.x-l[0]-l[1],y:a.y-u[0]-u[1]},f=[this.ya.left,this.ya.right],g=[this.ya.bottom,this.ya.top+o],m={x:Math.round(a.x-f[0]-f[1]),y:Math.round(a.y-g[0]-g[1])},p={x:Math.ceil(i),y:Math.floor(m.y-i)};this.wD.Ei(l).zi(u).Vi(0,d.x).Oi(0,d.y),this.vD.nP({x:this.lB.dataGridHeight,y:this.lB.dataGridWidth}).Ps().Te();const x={x:Math.round(this.CD.x),y:Math.round(Math.min(0,this.CD.y))};this._D.Ei(f).zi(g).Vi(x.x,m.x+x.x).Oi(x.y,m.y+x.y),this.OD.Fe({x:p.x,y:p.y});const v={x:this._D.x.ei(),y:this._D.y.ei()+this.vD.hP(),width:this._D.x.ri()+e-this.vD.hP(),height:this._D.y.ri()+e};this.RD.qv(v),this.LD.qv(v),this.BD.qv(v);const A=this.lB,E=[{x:this._D.x.getInnerStart(),y:this._D.y.getInnerStart()},{x:this._D.x.getInnerEnd(),y:this._D.y.getInnerStart()},{x:this._D.x.getInnerEnd(),y:this._D.y.getInnerEnd()},{x:this._D.x.getInnerStart(),y:this._D.y.getInnerEnd()}];A.cellsContentSizes.forEach(T=>{var F;const D={x:p.x+A.columnWidthsCumulative[T.cell.column],y:p.y-A.rowHeightsCumulative[T.cell.row+T.cell.rowSpan]},N={x:D.x+A.columnWidths[T.cell.column],y:D.y+A.rowHeights[T.cell.row]},V=bg([D,{x:N.x,y:D.y},N,{x:D.x,y:N.y}],E);(F=T.text)===null||F===void 0||F.setVisible(V)}),n&&this.uB(p,this.lB,e)}this.OP=!1,this.NP=!1,this.GP=!1,this.WP=!1,this.UP=!1,this.YP=!1,this.HP=!1,this.$P=!1,this.XP=!1,this.jP=!1,this.ZP=!1,this.QP=!1,this.JP=!1,this.KP=!1,this.qP=!1,this.tD=!1}nB(t,e){const i=[],r={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};for(const n of this.RP){const{content:a}=n,o={...this.DD,...n.padding};let l,u,d,f={x:0,y:0};if(typeof a=="string"||typeof a=="number"){const g=String(a);l=e.add(),f=l.Rh(g).Oh(n.textFont||this.kD).Ps().jc()}if(LN(a)&&(u=a,f={x:200,y:50}),$h(a)){const g=this.us.cB(a);g.dB()?(d=a,f=d.oi()):g.fB(()=>{this.tD=!0,this.us.Ss()})}if(l||u||d){o.top=Math.round(o.top),o.left=Math.round(o.left),o.right=Math.round(o.right),o.bottom=Math.round(o.bottom);const g={x:Math.round(f.x+o.left+o.right+r.left+r.right),y:Math.round(f.y+o.top+o.bottom+r.top+r.bottom)};i.push({cell:n,contentSize:g,text:l,sparkChart:u,icon:d,cellPadding:o,cellMargin:r})}}return i}uB(t,e,i){const{dataGridWidth:r,dataGridHeight:n,cellsContentSizes:a,columnWidths:o,columnWidthsCumulative:l,rowHeights:u,rowHeightsCumulative:d}=e,f={x:r-i,y:-n+i};this.OD.q(f),this.ND.Re(this.ID),this.VP.clear();const g={cellBackground:this.GD.fp(),cellIconRect:this.WD.fp(),lineSet:this.YD.fp(),line:this.HD.fp(),pointSet:this.$D.fp(),rect:this.XD.fp(),junction:this.jD.fp(),arc:this.ZD.fp()},m=[];for(const p of a){const{cell:x,text:v,sparkChart:A,icon:E,cellPadding:T,cellMargin:F}=p,D={column:x.column,row:x.row},N={x:t.x+l[x.column],y:t.y-d[x.row+x.rowSpan]},V={x:N.x+F.left,y:N.y+F.bottom},P={x:V.x+T.left,y:V.y+T.bottom},b={x:new Array(x.columnSpan).fill(0).reduce((z,H,B)=>z+o[x.column+B],0),y:new Array(x.rowSpan).fill(0).reduce((z,H,B)=>z+u[x.row+B],0)},M={x:b.x-F.left-F.right,y:b.y-F.top-F.bottom},w={x:M.x-T.left-T.right,y:M.y-T.top-T.bottom};if(v){const z=eE(P,w,x.contentAlignment||this.PD);v.Fe(z[0]).Ea({x:z[1],y:z[2]}).Ce(this.AB(x.textFillStyle||this.TD,x.content,this.TD)).cs(x.highlight)}const C=this.AB(x.backgroundFillStyle||this.FD,x.content);if(C!==Nt){const z=g.cellBackground.add();z.Fe(N).q(b).Ce(C).we(bt).cs(x.highlight),this.VP.set(z,D)}const k=x.borders||this.aD;if(k&&qN(N,b,k,i,m),A){const z=P,H=w;IN(A,g,this._D,z,H,this.qi,this.cA,x.highlight)}if(E){const z=E.oi(),H=eE(P,w,x.contentAlignment||this.PD);g.cellIconRect.add().Fe({x:H[0].x+z.x*(-.5-H[1]/2),y:H[0].y+z.y*(-.5-H[2]/2)}).q(z).Ce(new ta({source:E.rc,fitMode:as.Stretch})).we(bt).cs(x.highlight)}}this.ND.Nt();for(const p of m)this.ND.zr().Eg(p[0],p[1]);g.cellBackground.finishPlot(),g.cellIconRect.finishPlot(),g.lineSet.finishPlot(),g.line.finishPlot(),g.pointSet.finishPlot(),g.rect.finishPlot(),g.junction.finishPlot(),g.arc.finishPlot()}oB(t,e){const i=new Array(t).fill(0);for(const r of this.sD.values()){const n=e.filter(l=>r>=l.cell.column&&r+1<=l.cell.column+l.cell.columnSpan).reduce((l,u)=>{const d=u.contentSize.x/u.cell.columnSpan;return Math.max(l,d)},0),a=this.EP.find(l=>l.column===r),o=a?ee(n,a.min!==void 0?a.min:Ft,a.max!==void 0?a.max:Rt):n;i[r]=o}return i}aB(t,e){const i=new Array(t).fill(0);for(const r of this.iD.values()){const n=e.filter(l=>r>=l.cell.row&&r+1<=l.cell.row+l.cell.rowSpan).reduce((l,u)=>{const d=u.contentSize.y/u.cell.rowSpan;return Math.max(l,d)},0),a=this.zP.find(l=>l.row===r),o=a?ee(n,a.min!==void 0?a.min:Ft,a.max!==void 0?a.max:Rt):n;i[r]=o}return i}AB(t,e,i){if(Bi(t)){try{const r=Number(e);return new rt({color:t.getPalette().getColors(r)})}catch{}return i||Nt}return t}sB(t,e){t.textFillStyle=typeof e=="function"?e(t.textFillStyle||this.TD):e,this.jP=!0,this.us.Ss()}eB(t,e){t.textFont=typeof e=="function"?e(t.textFont||this.kD):e,this.ZP=!0,this.us.Ss()}rB(t,e){t.backgroundFillStyle=typeof e=="function"?e(t.backgroundFillStyle||this.FD):e,this.XP=!0,this.us.Ss()}hB(t,e){t.contentAlignment=e,this.$P=!0,this.us.Ss()}qD(t,e){t.padding={...t.padding,...e},this.HP=!0,this.us.Ss()}JD(t,e,i){let r=this.oD(t,e);r?r.content=i:(r={column:t,row:e,columnSpan:1,rowSpan:1,content:i,highlight:0},this.RP.push(r),this.WP=!0),typeof r.content=="string"||typeof r.content=="number"?this.NP=!0:this.GP=!0,this.us.Ss()}iB(t){this.RP.forEach(e=>t(e))}oD(t,e,i){const r=this.RP.find(n=>t>=n.column&&t+1<=n.column+n.columnSpan&&e>=n.row&&e+1<=n.row+n.rowSpan);return r&&i&&i(r),r}KD(t,e){const i=this.RP.filter(r=>t>=r.column&&t+1<=r.column+r.columnSpan);for(const r of i)r&&e(r)}tB(t,e){const i=this.RP.filter(r=>t>=r.row&&t+1<=r.row+r.rowSpan);for(const r of i)r&&e(r)}VD(){return new jN(this.zD,this.ED,this.wD,this.wD,this._D,this.qi,Ra.Both).onScroll((t,e)=>{this.lB&&(t===Ra.Vertical&&(this.CD.y=-e),t===Ra.Horizontal&&(this.CD.x=e),this.qP=!0,this.us.Ss())}).FP(50).IP(12)}}const Ai={cellMouseEnter:"cellMouseEnter",cellMouseLeave:"cellMouseLeave",cellMouseClick:"cellMouseClick",cellMouseDoubleClick:"cellMouseDoubleClick",cellMouseDown:"cellMouseDown",cellMouseUp:"cellMouseUp",cellMouseMove:"cellMouseMove",cellMouseDrag:"cellMouseDrag",cellMouseDragStart:"cellMouseDragStart",cellMouseDragStop:"cellMouseDragStop",cellMouseWheel:"cellMouseWheel",cellTouchStart:"cellTouchStart",cellTouchMove:"cellTouchMove",cellTouchEnd:"cellTouchEnd"};var tE;(function(s){s.Center="center",s.RightCenter="right-center",s.LeftCenter="left-center",s.RightTop="right-top",s.LeftTop="left-top",s.RightBottom="right-bottom",s.LeftBottom="left-bottom",s.CenterTop="center-top",s.CenterBottom="center-bottom"})(tE||(tE={}));const qN=(s,t,e,i,r)=>{const n={x:s.x,y:s.y},a={x:s.x,y:s.y+t.y},o={x:s.x+t.x,y:s.y},l={x:s.x+t.x,y:s.y+t.y};e.top&&r.push([a,l]),e.bottom&&r.push([n,o]),e.left&&r.push([n,a]),e.right&&r.push([o,l])},eE=(s,t,e)=>{const i=s.x,r=s.x+t.x,n=s.x+t.x/2,a=s.y+t.y,o=s.y,l=s.y+t.y/2;switch(e){case"left-center":return[Y(i,l),-1,0];case"right-center":return[Y(r,l),1,0];case"center":return[Y(n,l),0,0];case"left-bottom":return[Y(i,o),-1,-1];case"right-bottom":return[Y(r,o),1,-1];case"center-bottom":return[Y(n,o),0,-1];case"left-top":return[Y(i,a),-1,1];case"right-top":return[Y(r,a),1,1];case"center-top":return[Y(n,a),0,1]}return Lu(0,`Unidentified DataGrid cell content alignment option: ${e}`)},iE={top:!1,bottom:!1,left:!1,right:!1};class JN extends Xh{constructor(t,e,i,r,n,a){super(t,{Sr(){},pr(){},br(){}},r,e,i,{numeric:e.xAxisNumericTicks,datetime:e.xAxisDateTimeTicks,time:e.xAxisTimeTicks},{type:"linear"}),this.chart=t,this.es=a,this.ks=n,this.Lh=n.Pr(t.gB).Oh(this.qi.barChartCategoryAxisTitleFont||this.qi.xAxisTitleFont).Ce(this.qi.barChartCategoryAxisTitleFillStyle||this.qi.xAxisTitleFillStyle),this.setTitleRotation(this.chart.Ts.getWidth({x:0,y:-90})),this.Wh=this.es.yg([this.Lh]).ps(e.effectsText),this.mB=n.Ee(t.gB).Re(e.barChartCategoryAxisStrokeStyle||e.xAxisStrokeStyle)}setThickness(t){return typeof t=="number"?(this.xg=t,this.Mg=t):typeof t=="object"&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setStrokeStyle(t){return this.mB.Re(t),this.chart.us.Ss(),this}getStrokeStyle(){return this.mB.uu()}Ps(){if(!this.Xi)return{kg:0,Tg:0,Vd:ee(0,this.xg!==void 0?this.xg:0,this.Mg!==void 0?this.Mg:Rt)};const t=this.mB.uu().V()/2,e=this.chart.Ts.getHeight(this.Lh.Ps().jc());return{kg:t,Tg:e,Vd:t+e}}Te(t,e,i,r){const n=this.getInterval(),a=this.chart.valueAxis.getInterval();this.mB.Ve(this.chart.Ts.toPoint(n.start,a.start)).ze(this.chart.Ts.toPoint(n.end,a.start)).setVisible(this.Xi),this.Lh.Fe(this.chart.Ts.toPoint(.5*(n.start+n.end),this.chart.valueAxis.dt.mi(a.start,-(t.kg+r.labelMarginBeforeCategoryAxisPixels)))).Ea(this.chart.Ts.toPoint(0,1)).setVisible(this.Xi)}setMouseInteractions(t){return this}ur(t,e){return new Zd(e,t,this.ks,this.chart.gB)}cr(t,e){return{}}_r(t,e){return e}Cr(t,e,i){return{min:t,max:e}}}class ZN extends Xh{constructor(t,e,i,r,n,a,o){super(t,{Sr:()=>{var l;if(t.yB){if(t.pB==="positive"||t.pB==="bipolar"){if(((l=t.SB)===null||l===void 0?void 0:l.position)==="after-bar"){const u=this.dt.ri();return this.dt.mi(t.yB.max,Math.min(this.chart.Ts.getHeight(this.chart.vB())+t.SB.labelMargin,.3*u))}return t.yB.max}return t.bB?ee(-1,-1e-6,t.yB.max):0}},pr:()=>{var l;if(t.yB){if(t.pB==="negative"||t.pB==="bipolar"){if(((l=t.SB)===null||l===void 0?void 0:l.position)==="after-bar"){const u=this.dt.ri();return this.dt.mi(t.yB.min,-Math.min(this.chart.Ts.getHeight(this.chart.vB())+t.SB.labelMargin,.3*u))}return t.yB.min}return t.bB?ee(1,1e-6,t.yB.min):0}},br:()=>{}},r,e,i,{numeric:e.barChartValueAxisTicks||e.yAxisNumericTicks,datetime:e.yAxisDateTimeTicks,time:e.yAxisTimeTicks},o),this.chart=t,this.es=a,this.ks=n,this.Lh=n.Pr(t.gB).Oh(this.qi.barChartValueAxisTitleFont||this.qi.yAxisTitleFont).Ce(this.qi.barChartValueAxisTitleFillStyle||this.qi.yAxisTitleFillStyle),this.setTitleRotation(this.chart.Ts.getHeight({x:0,y:-90})),this.Wh=this.es.yg([this.Lh]).ps(e.effectsText),this.mB=n.Ee(t.gB).Re(e.barChartValueAxisStrokeStyle||this.qi.yAxisStrokeStyle)}setThickness(t){return typeof t=="number"?(this.xg=t,this.Mg=t):typeof t=="object"&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setStrokeStyle(t){return this.mB.Re(t),this.chart.us.Ss(),this}getStrokeStyle(){return this.mB.uu()}setTickStrategy(t,e){return super.Fh(t,e)}Ps(t){if(!this.Xi)return this.Uh(),{kg:0,Tg:0,Vd:ee(0,this.xg!==void 0?this.xg:0,this.Mg!==void 0?this.Mg:Rt)};const e=this.chart.Ts.getWidth(this.chart.gB).ri(),i=this.dt.ri();this.qh({physicalAxisSize:i,oppositeAxisSize:e,plotLines:t});let r=0;for(const o of this.Ze.values())for(const l of o.values()){const u=l.Sh.lr,d=this.chart.Ts.getWidth(l.Ue.jc()),f=u.getTickLength()+u.getTickPadding()+d+u.getLabelPadding();r=Math.max(r,f)}const n=r+this.mB.uu().V()/2,a=this.chart.Ts.getWidth(this.Lh.Ps().jc());return{kg:n,Tg:a,Vd:ee(n+a,this.xg!==void 0?this.xg:0,this.Mg!==void 0?this.Mg:Rt)}}Te(t){const e=this.getInterval();this.mB.Ve(this.chart.Ts.toPoint(-.5,this.Ih)).ze(this.chart.Ts.toPoint(-.5,this.Ph)).setVisible(this.Xi);const i=this.kh.type==="logarithmic"?Math.sqrt(e.start+e.end):.5*(e.start+e.end),r=this.chart.Ts.toPoint(this.chart.categoryAxis.dt.mi(-.5,t.kg*this.chart.Ts.xB),i),n=this.chart.Ts.toPoint(this.chart.Ts.MB,0);this.Lh.Fe(r).Ea(n).setVisible(this.Xi)}setMouseInteractions(t){return this}ur(t,e){return new Zd(e,t,this.ks,this.chart.gB)}cr(t,e){const i=t.Sh.lr,r=this.chart.Ts.toPoint(-.5,t.u),n=this.chart.gB.mi(r,this.chart.Ts.toPoint(i.getTickLength()*this.chart.Ts.xB,0)),a=this.chart.gB.mi(r,this.chart.Ts.toPoint(i.gridStrokeLength*e.oppositeAxisSize*-this.chart.Ts.xB,0)),o=this.chart.gB.mi(n,this.chart.Ts.toPoint(i.getTickPadding()*this.chart.Ts.xB,0));t.Ue.Fe(o).Ea(this.chart.Ts.toPoint(this.chart.Ts.MB,i.getLabelAlignment())).Nh(i.getLabelRotation()),i.tickStyle!==bt&&i.tickLength!==0&&e.plotLines.add({positions:[r,n]},{lineStyle:i.tickStyle}),i.gridStrokeStyle!==bt&&i.gridStrokeLength>0&&e.plotLines.add({positions:[r,a]},{lineStyle:i.gridStrokeStyle})}_r(t,e){return this.kh.type==="linear"?kd(t,e,this.dt):wg(t,e,this.dt)}Cr(t,e,i){return{min:t,max:e}}}class QN extends Ay{constructor(t,e,i,r,n,a,o){super(t,e,i,r),this.No=oC(),this.u=0,this._B=!1,this.chart=t,this.Ji=t,this.category=n,this.subCategory=a,this.xs=n,this.be=re(i.barChartBarFillStyle||i.rectangleSeriesFillStyle,o),this.xe=re(i.barChartBarStrokeStyle||i.rectangleSeriesStrokeStyle,o),this.onVisibleStateChanged(()=>{this.Ji.wB()}),this.onDispose(()=>{this.Ji.wB(),this.Ji.CB.delete(this)})}setValue(t){return this._B=!0,this.u=t,this.Ji.wB(),this.Ji.us.Ss(),this.Ji.CB.delete(this),this}getValue(){return this.u}get value(){return this.u}setFillStyle(t){return this.be=typeof t=="function"?t(this.be):t,this.Ji.wB(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe=typeof t=="function"?t(this.xe):t,this.Ji.wB(),this}getStrokeStyle(){return this.xe}Kp(){return this.tS}Hc(t,e){return er(t,this.Ji.engine.scale,this.Ji.Wy(new Ji,this.category,this.u,this).Zu(),this,void 0)}solveNearestFromScreen(t){}setEffect(t){return this.Ji.setBarsEffect(t),this}}const KN=s=>!!(s&&typeof s=="object"&&"iCategory"in s&&typeof s.iCategory=="number"&&"value"in s&&typeof s.value=="number"),sE=(s,t,e)=>{const i=s.kd.filter(a=>a!==void 0),r=i.map(a=>e(a.sizePixels)).reduce((a,o)=>Math.max(a,o),1),n=Math.ceil(r/(t/i.length));return n<=1?i:i.filter((a,o)=>o%n==0)};class T5 extends sf{constructor(t,e,i,r,n,a,o){var l;let u;super(t,e,i,e.vm("barChart bg",0),r,e.us.qi.barChartBackgroundFillStyle||e.us.qi.chartXYBackgroundFillStyle,e.us.qi.barChartBackgroundStrokeStyle||e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.barChartTitleFont||e.us.qi.chartXYTitleFont,e.us.qi.barChartTitleFillStyle||e.us.qi.chartXYTitleFillStyle,a),this.coordsBars="barChart",this.kB=tB.Descending,this.TB=this.qi.barChartCategoryLabels,this.SB=this.qi.barChartValueLabelsAfterBars,this.FB=!1,this.b_=Iu(),this.IB=new Map,this.CB=new Map,this.pB="positive",this.PB="columns",this.DB=!0,this.BB=new Map,this.LB={speed:1},this._y={speed:1},this.RB=.08,this.Gy=Ze.snapToClosest,this.Wy=(g,m,p,x)=>{this.categoryAxis.getTitle().length>0&&g.addRow(this.categoryAxis.getTitle()),g.addRow({text:m,font:{weight:"bold"}}),this.valueAxis.getTitle().length>0&&g.addRow(this.valueAxis.getTitle());const v=[];return x.subCategory&&x.subCategory.length>0&&v.push(x.subCategory),v.push(this.valueAxis.formatValue(p)),g.addRow(...v),g},this.fn=(g,m,p,x,v)=>{this.gB.q(x,v)},this.us.Nn(Dt.nf),this.Ts=(o==null?void 0:o.type)==="horizontal"?iB:eB,this._m.Rh("Bar Chart"),this.EB=e.$y("barChart plotting 1",0),this.zB=e.$y("barChart plotting 2",1),this.bB=((l=o==null?void 0:o.valueAxis)===null||l===void 0?void 0:l.type)==="logarithmic",this.bB?this.Ts.VB==="horizontal"?(u=i.d1({scale1DConstructor:xr,dimension:"y"}),this.gB=new Pi().Ri(i.d1({scale1DConstructor:nh,dimension:"x"}),u)):(u=i.d1({scale1DConstructor:xr,dimension:"x"}),this.gB=new Pi().Ri(u,i.d1({scale1DConstructor:nh,dimension:"y"}))):(this.gB=i.d2({scaleXYConstructor:Me}),u=this.Ts.getWidth(this.gB)),this.OB=this.es.yg(),this.M_=new yo(()=>this.b_._t(this.EB.Ob(this.gB).Jo(0)),(g,m,p)=>(g.Ce(p.fillStyle).we(p.strokeStyle),m.map(x=>{const v=x.existingMember||g.zr();return v.pl(x.vertices),this.b_.Ot(v,x.bar),x.bar.gs([v]),v})),()=>{this.b_.Nt()},g=>{this.OB.fs(g)}),this.FS=this.qg.ke(this.gB).Ce(this.qi.barChartSeriesBackgroundFillStyle||Nt).we(bt),this.IS=this.qg.ke(this.gB).Ce(Nt).we(this.qi.barChartSeriesBackgroundStrokeStyle||bt).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.categoryAxis=new JN(this,this.qi,(o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1,u,this.zB,this.es);const d=lx(o==null?void 0:o.valueAxis);this.valueAxis=new ZN(this,this.qi,(o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1,this.Ts.getHeight(this.gB),this.zB,this.es,d.type),this.NB=new un(()=>this.zB.Pr(this.gB).Ir(ka).Fr(ka).Jo(1)),this.GB=new yo(()=>this.qg.Lg(this.gB).setMouseInteractions(!1),(g,m,p)=>(g.Re(p.lineStyle),m.map(({positions:x,existingMember:v})=>(v||g.zr()).Eg(x[0],x[1])))),this.jy=e.Zy();const f=Ne(o?o.autoCursorBuilder:void 0,IV);this.Pm=f.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.onResize(this.fn),this.Sm(n,this.gB),this.setAutoCursorMode(Ze.onHover),this.setAnimationsEnabled((o==null?void 0:o.disableAnimations)!==!0&&(o==null?void 0:o.animationsEnabled)!==!1),this.LS((g,m)=>{Ms.Bm(this,m)})}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}setBarsMargin(t){return this.RB=ee(t,0,.49),this.FB=!0,this.us.Ss(),this}getBarsMargin(){return this.RB}setBarsEffect(t){return this.OB.ps(t),this.us.Ss(),this}getBarsEffect(){return this.OB.vs()}setData(t){let e;if(Array.isArray(t))e=[],t.forEach((i,r)=>{typeof i=="string"?e.push({category:i}):typeof i=="number"?e.push({category:`Category ${r+1}`,value:i}):typeof i=="object"&&e.push(i)});else{e=[];const i=Object.keys(t);for(const r of i){const n=t[r];e.push({category:r,value:typeof n=="number"?n:void 0})}}return this.WB("columns",e),this}setDataStacked(t,e){const i=[];return e.forEach(r=>{const{subCategory:n,values:a}=r;a.forEach((o,l)=>{const u=t[l];i.push({category:u,subCategory:n,value:o})})}),this.WB("stacks",i),this}setDataGrouped(t,e){const i=[];return e.forEach(r=>{const{subCategory:n,values:a}=r;a.forEach((o,l)=>{const u=t[l];i.push({category:u,subCategory:n,value:o})})}),this.WB("groups",i),this}WB(t,e){this.xS.length>0&&this.us.Nn(Dt.vf),this.PB=t,this.UB(e);const i=Xo(e.map(a=>a.category)),r=i.length,n=Xo(e.map(a=>a.subCategory)).filter(a=>a!==void 0);if(e.forEach(a=>{let o=this.xS.find(l=>l.category===a.category&&l.subCategory===a.subCategory);if(!o){const l=i.indexOf(a.category),u=n.includes(a.subCategory)?n.indexOf(a.subCategory):void 0;o=new QN(this,this._S,this.qi,this.us.es,a.category,a.subCategory,Ne(u,l)),this.PS(o),this.BB.set(o,{category:l,valueStart:this.bB?1e-6:0,valueEnd:a.value!==void 0?a.value:0})}a.value!==void 0&&o.setValue(a.value)}),this.xS.slice().forEach(a=>{e.find(o=>o.category===a.category&&o.subCategory===a.subCategory)===void 0&&(a.dispose(),this.BB.delete(a))}),this.categoryAxis.setInterval(this.Ts.getWidth({x:{start:-.5,end:r-.5},y:{start:r-.5,end:-.5}})),this.yB=this.xS.length===0?void 0:t!=="stacks"?this.xS.reduce((a,o)=>({min:Math.min(a.min,o.getValue()),max:Math.max(a.max,o.getValue())}),{min:Rt,max:Ft}):{min:0,max:i.reduce((a,o)=>Math.max(a,e.reduce((l,u)=>u.category!==o?l:u.value!==void 0?l+u.value:l,0)),0)},this.yB&&(this.pB=this.yB.min>=0?"positive":this.yB.max<=0?"negative":"bipolar",(this.pB==="bipolar"||this.pB==="negative")&&this.bB))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");this.UB(this.xS),this.IB.clear(),this.CB.clear(),this.FB=!0,this.us.Ss()}setCategoryLabels(t){const e=typeof t=="function"?this.TB?t(this.TB):this.TB:t;return this.TB=e?{...this.qi.barChartCategoryLabels,...e}:void 0,this.IB.clear(),this.us.Ss(),this}getCategoryLabels(){return this.TB}setValueLabels(t){var e;const i=typeof t=="function"?this.SB?t(this.SB):this.SB:t,r=(i==null?void 0:i.position)||((e=this.SB)===null||e===void 0?void 0:e.position);return i&&r?r==="after-bar"?this.SB={...this.qi.barChartValueLabelsAfterBars,...i}:r!=="inside-bar"&&r!=="inside-bar-start"&&r!=="inside-bar-centered"&&r!=="inside-bar-end"||(this.SB={...this.qi.barChartValueLabelsInsideBars,...i}):this.SB=void 0,this.CB.clear(),this.us.Ss(),this}getValueLabels(){return this.SB}setLabelFittingEnabled(t){return this.DB=t,this.us.Ss(),this}getLabelFittingEnabled(){return this.DB}getBar(t,e){if((this.PB==="groups"||this.PB==="stacks")&&e===void 0)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");const i=this.xS.find(r=>r.category===t&&(e===void 0||e===r.subCategory));if(!i)throw new Error(`BarChart.getBar() no such bar: "${t}" ${e?`"${e}"`:""}`);return i}getBars(){return this.xS}setSorting(t){return this.kB=t,this.UB(this.xS),this.us.Ss(),this}getSorting(){return this.kB}setAnimationCategoryPosition(t,e=1){return this.LB=t?{speed:e}:void 0,this.us.Ss(),this}setAnimationValues(t,e=1){return this._y=t?{speed:e}:void 0,this.us.Ss(),this}translateCoordinate(t,e,i){if(i&&aR(t)&&Kn(e))return super.translateCoordinate(t,e,i);const r=e;let n;if(wA(t))n=this.us.Po(t);else if(aR(t)){const a=mt(t,this.pixelScale,this.us.dt);n={engineX:a.x,engineY:a.y}}else{if(!KN(t))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");{const a=mt(this.Ts.toPoint(t.iCategory,t.value),this.gB,this.us.dt);n={engineX:a.x,engineY:a.y}}}if(nu(r))return this.us.Do(n);if(r==="barChart"){const a=mt({x:n.engineX,y:n.engineY},this.us.dt,this.gB);return{iCategory:this.Ts.getWidth(a),value:this.Ts.getHeight(a)}}if(Kn(r))return mt({x:n.engineX,y:n.engineY},this.us.dt,this.pixelScale);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")}Zd(){if(this.PB==="columns")return this.xS;const t=Xo(oS(this.xS.map(e=>e.subCategory)));return oS(t.map(e=>{const i=this.xS.filter(n=>n.subCategory===e),r=i[0];if(r)return(n=>{let a=!1;n.forEach(o=>o.onHighlight((l,u)=>{a||(a=!0,n.forEach(d=>o!==d?d.setHighlight(u):void 0),a=!1)})),n.forEach(o=>o.onDispose(()=>{const l=n.indexOf(o);l>=0&&n.splice(l,1)}))})(i),{attach(n,a){return rC(n,i,{toggleVisibilityOnClick:!0,label:e,style:r.getFillStyle()}),this}}}))}Te(t){var e,i;super.Te(t);const r=this.NB.fp(),n=this.GB.fp(),a=this.xS.filter(b=>b.getVisible()&&b._B),o=Xo(a.map(b=>b.category)),l=Xo(oS(a.map(b=>b.subCategory))),u=5e-4*t*(((e=this.LB)===null||e===void 0?void 0:e.speed)||0),d=.003*t*(((i=this.LB)===null||i===void 0?void 0:i.speed)||0),f=this.valueAxis.dt,g=f instanceof xr?(b,M)=>{var w;return kd(b,M,f,((w=this._y)===null||w===void 0?void 0:w.speed)||0)}:(b,M)=>{var w;return wg(b,M,f,((w=this._y)===null||w===void 0?void 0:w.speed)||0)};let m;this.PB==="columns"?m=a.map(b=>({bar:b,position:{category:o.indexOf(b.category),valueStart:this.bB?1e-6:0,valueEnd:b.value}})):this.PB==="groups"?m=a.map(b=>{const M=o.indexOf(b.category),w=l.indexOf(b.subCategory),C=1/(l.length+2*(l.length+1)*this.RB),k=this.RB*C;return{bar:b,position:{category:M+(w-(l.length-1)/2)*(C+k),valueStart:this.bB?1e-6:0,valueEnd:b.value}}}):(m=[],o.forEach((b,M)=>{const w=a.filter(k=>k.category===b);let C=this.bB?1e-6:0;w.forEach((k,z)=>{m.push({bar:k,position:{category:o.indexOf(b),valueStart:C,valueEnd:C+k.value}}),C+=k.value})})),m.forEach(b=>{const{bar:M,position:w}=b;let C,k,z=this.BB.get(M);z===void 0&&(z=w);const H=w.valueStart;if(this.LB&&z.category!==w.category){const B=Math.sign(w.category-z.category);C=z.category+u*B+d*(w.category-z.category),B!==Math.sign(w.category-C)&&(C=w.category)}else C=w.category;if(this._y&&z.valueEnd!==w.valueEnd){const B=Math.sign(w.valueEnd-z.valueEnd);k=g(z.valueEnd,w.valueEnd),B!==Math.sign(w.valueEnd-k)&&(k=w.valueEnd)}else k=w.valueEnd;this.BB.set(M,{category:C,valueStart:H,valueEnd:k}),C===w.category&&k===w.valueEnd||this.us.Ss(!0),C===z.category&&k===z.valueEnd||(this.FB=!0)}),ys.Fm(this._m,this.bm);const p=a.length>0;this.categoryAxis.Mr(),this.valueAxis.Mr();const x=this.categoryAxis.setVisible(p).Ps(),v=this.valueAxis.setVisible(p).Ps(n),{labelMarginBeforeCategoryAxisPixels:A}=p?this.YB(o,a,r,n):{labelMarginBeforeCategoryAxisPixels:0};this.categoryAxis.Te(x,r,n,{labelMarginBeforeCategoryAxisPixels:A}),this.valueAxis.Te(v);const E=this.categoryAxis.getThickness(),T=ee(x.Vd+A,E.min!==void 0?E.min:0,E.max!==void 0?E.max:Rt),F={x:Math.min(this.gB.x.getInnerStart(),this.gB.x.getInnerEnd()),y:Math.min(this.gB.y.getInnerStart(),this.gB.y.getInnerEnd())},D=Math.max(this.gB.x.getInnerStart(),this.gB.x.getInnerEnd()),N=Math.max(this.gB.y.getInnerStart(),this.gB.y.getInnerEnd()),V={x:D-F.x,y:N-F.y};this.FS.Fe(F),this.FS.q(V),this.IS.Fe(F),this.IS.q(V),super.pm(),Ms.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,void 0,(b,M)=>b.Hc(M,!0));const P=ys.Tm(this._m,this.bm);if(this.gB.zi([this.Xt.bottom+this.ya.bottom+(this.Ts.VB==="vertical"?T:0),this.Xt.top+this.ya.top+P+(this.Ts.VB==="horizontal"?v.Vd:0)]),this.gB.Ei([this.Xt.left+this.ya.left+this.Ts.getHeight({x:T,y:v.Vd}),this.Xt.right+this.ya.right]),this.EB.qv({x:this.gB.x.ei(),y:this.gB.y.ei(),width:this.gB.x.ri(),height:this.gB.y.ri()}),this.Zg&&this.Zg(),this.FB){const b=this.M_.fp(),M=this.PB==="groups"?1/(l.length+2*(l.length+1)*this.RB):1-2*this.RB;a.forEach(w=>{const C=this.BB.get(w);if(C===void 0)return;const k=C.category-.5*M,z=C.category+.5*M,H=[this.Ts.toPoint(k,C.valueStart),this.Ts.toPoint(k,C.valueEnd),this.Ts.toPoint(z,C.valueEnd),this.Ts.toPoint(z,C.valueStart)];b.add({No:w.No,vertices:H,bar:w},{fillStyle:w.be,strokeStyle:w.xe})}),b.finishPlot()}r.finishPlot(),n.finishPlot(),this.FB=!1}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationCategoryPosition(t),this.setAnimationValues(t),this.valueAxis.setAnimationsEnabled(t),this.categoryAxis.setAnimationsEnabled(t),this}solveNearest(t){}dispose(){return this.zB.W(),this.EB.W(),this.Pm.dispose(),this.jy.W(),super.dispose()}UB(t){const e=this.kB;e&&t.sort((i,r)=>e({category:i.category,value:t.reduce((n,a)=>n+(a.category===i.category&&a.value||0),0)},{category:r.category,value:t.reduce((n,a)=>n+(a.category===r.category&&a.value||0),0)}))}YB(t,e,i,r){let n=0;const a=this.TB,o=this.SB,l=this.valueAxis.getInterval(),u=this.Ts.getWidth({x:this.gB.x.ri(),y:this.gB.y.ri()});if(a&&a.labelFillStyle!==Nt){const d=a.tickLength+a.labelMargin,f=this.Ts.toPoint(0,1),g={kd:t.map((p,x)=>{const v=e.reduce((T,F)=>F.category!==p?T:T+F.value,0),A=a.formatter(p,v);if(!A)return;const E=x;return E!==void 0?{text:A,position:this.Ts.toPoint(E,this.valueAxis.dt.mi(l.start,-d)),alignment:f,rotation:a.labelRotation,sizePixels:this.HB(p,v)}:void 0}),Nu:a.labelFont,dt:this.gB},m=g?this.DB?sE(g,u,this.Ts.getWidth):g.kd:[];m.forEach(p=>{p&&i.add().Rh(p.text).Fe(p.position).Ea(p.alignment).Nh(p.rotation).Ce(a.labelFillStyle).Oh(a.labelFont)}),a.tickStyle!==bt&&a.tickLength!==0&&m.forEach(p=>{if(!p)return;const x=this.Ts.getWidth(p.position);r.add({positions:[this.Ts.toPoint(x,this.valueAxis.dt.getInnerStart()),this.Ts.toPoint(x,this.valueAxis.dt.mi(l.start,-a.tickLength))]},{lineStyle:a.tickStyle})}),n=m.reduce((p,x)=>x?Math.max(p,this.Ts.getHeight(x.sizePixels)):p,0)+a.tickLength+a.labelMargin}if(o&&o.labelFillStyle!==Nt){let d;o.position==="after-bar"?d={kd:e.map((f,g)=>{const m=o.formatter(f,f.category,f.value);if(!m)return;const p=this.BB.get(f);return p!==void 0?{text:m,position:this.Ts.toPoint(p.category,this.valueAxis.dt.mi(p.valueEnd,o.labelMargin*Math.sign(p.valueEnd))),alignment:this.Ts.toPoint(0,-1*Math.sign(p.valueEnd)),rotation:o.labelRotation,sizePixels:this.$B(f)}:void 0}),Nu:o.labelFont,dt:this.gB}:o.position!=="inside-bar"&&o.position!=="inside-bar-start"&&o.position!=="inside-bar-centered"&&o.position!=="inside-bar-end"||(d={kd:e.map((f,g)=>{const m=o.formatter(f,f.category,f.value);if(!m)return;const p=this.BB.get(f);if(p===void 0)return;const x=this.pB==="bipolar"?Math.sign(p.valueEnd):this.pB==="negative"?-1:1,v=this.Ts.toPoint(0,o.position==="inside-bar"||o.position==="inside-bar-end"?1*x:o.position==="inside-bar-centered"?0:-1*x);return{text:m,position:this.Ts.toPoint(p.category,o.position==="inside-bar"||o.position==="inside-bar-end"?this.valueAxis.dt.mi(p.valueEnd,-o.labelMargin*x):o.position==="inside-bar-centered"?(p.valueStart+p.valueEnd)/2:this.valueAxis.dt.mi(p.valueStart,o.labelMargin*x)),alignment:v,rotation:o.labelRotation,sizePixels:this.$B(f)}}),Nu:o.labelFont,dt:this.gB}),d&&(d?this.DB?sE(d,u,this.Ts.getWidth):d.kd:[]).forEach(f=>{f&&i.add().Rh(f.text).Fe(f.position).Ea(f.alignment).Nh(f.rotation).Ce(o.labelFillStyle).Oh(o.labelFont).setMouseInteractions(!1)})}return{labelMarginBeforeCategoryAxisPixels:n}}HB(t,e){if(!this.TB||this.TB.labelFillStyle===Nt)return{x:0,y:0};const i=this.IB.get(t);if(i)return i;const r=this.TB.formatter(t,e),n=this.us.Ig.Fg(r,this.TB.labelFont,this.TB.labelRotation);return n.isEstimate?this.us.Ss(!0):this.IB.set(t,n),n}$B(t){if(!this.SB||this.SB.labelFillStyle===Nt)return{x:0,y:0};const e=this.CB.get(t);if(e)return e;const i=this.us.Ig.Fg(this.SB.formatter(t,t.category,t.value),this.SB.labelFont,this.SB.labelRotation);return i.isEstimate?this.us.Ss(!0):this.CB.set(t,i),i}vB(){return this.xS.reduce((t,e)=>{const i=this.$B(e);return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}},{x:0,y:0})}wB(){this.FB=!0,this.us.Ss()}getMinimumSize(){return{x:200,y:200}}}const tB={Descending:(s,t)=>t.value-s.value},eB={...kg,VB:"vertical",xB:-1,MB:1},iB={...LA,VB:"horizontal",xB:1,MB:-1},W0=(s,t)=>t?s.x:s.y,sB=(s,t,e,i)=>t===1&&i===(e?s.columnIndex:s.rowIndex)||t===-1&&i===(e?s.columnIndex+s.columnSpan:s.rowIndex+s.rowSpan),rE=(s,t,e,i,r,n)=>{const a=t.length,o=Math.sign(i),l=[],u=t.reduce((p,x)=>p+x);for(let p=1;p<=a-1;p+=1)l.push(W0(r,n)*t.slice(0,p).reduce((x,v)=>x+v,0)/u);const d=l.map(p=>0);let f=l[e-1]+i;for(let p=e;p>0&&p<a;p+=o){const x=s.filter(A=>sB(A,o,n,p)).reduce((A,E)=>Math.max(A,W0(E.panel.getMinimumSize()||{x:0,y:0},n)),20),v=l[p-1];if(o===1&&f>W0(r,n)-x||o===-1&&f<0+x){d.fill(0);break}if(p!==e&&(o===1?v>f:v<f))break;d[p-1]=f-v,f+=x*o}const g=d.map((p,x)=>l[x]+p),m=g.map((p,x)=>(p-(x>0?g[x-1]:0))/W0(r,n));return m.push(1-m.reduce((p,x)=>p+x,0)),m};class w5{constructor(t,e,i,r,n){this.coordsRelative="relative",this.coordsClient="client",this.$i=!1,this.RP=new Array,this.D=new qi,this.XB=[],this.$g=[],this.jB=void 0,this.ZB=!0,this.QB=!0,this.JB=!0,this.Qg=!1,this.KB=!0,this.qB=()=>{this.KB=!0,this.us.Ss()},this.tL=[],this.onInViewChange=f=>this.D.on("inViewChange",f),this.offInViewChange=f=>this.D.off(f,"inViewChange"),this.iL=f=>{for(let g=0;g<this.RP.length;g+=1)if(this.RP[g].panel===f){this.RP.splice(g,1),this.ZB=!0,this.us.Ss();break}},this.sL=f=>{const g=this.XB.indexOf(f);g>=0&&this.XB.splice(g,1)},this.im=f=>{const g=this.$g.indexOf(f);g>=0&&this.$g.splice(g,1)},this.eL=(f,g,m,p,x)=>{if(this.hL(g,m,p,x)){const v={panel:f,columnIndex:g,rowIndex:m,columnSpan:p,rowSpan:x};return this.RP.push(v),this.rL(v),this.ZB=!0,f}throw new dd("Out of dashboard range.")},this.nL=e.numberOfRows,this.oL=e.numberOfColumns,this.cA=t,this.aL=e,this.lL=r;const a=this.oL*this.nL;this.uL={x:new JR(new Array(this.oL).fill(1)),y:new JR(new Array(this.nL).fill(1))},this.qi=i.qi,this.cL=this.qi.dashboardSplitterStyle,this.th=(e==null?void 0:e.disableAnimations)!==!0&&(e==null?void 0:e.animationsEnabled)!==!1,this.dL=Tr(i,a),this.fL=i.FI("dashboard splitters",500001),this.OM=()=>this.dL.TI(),this.am=this.dL.II(),this.es=i.es.hs(this,{AL:{}}),this.es.AL.ps(this.qi.effectsDashboardSplitters);const o=i.oi();this.uiScale=ws.d2({scaleXYConstructor:Me}).Vi(0,100).Oi(0,100).q(o),this.pixelScale=ws.d2({scaleXYConstructor:Me}).Vi(0,this.uiScale.x.getCellSize()).Oi(0,this.uiScale.y.getCellSize()).q(o),this.gL=i.mL.bind(i),this.yL=i.pL.bind(i),this.SL=i.vL.bind(i),this.bL=i.xL.bind(i),this.eo=i.eo.bind(i),this.ro=i.ro.bind(i),this.engine=i.hm,this.us=i.rm,i.Co(()=>this.qB()),i.Ss();const l=i.Fo(f=>{this.Qg=f,this.D.emit("inViewChange",this,f)});this.Am=i.Io.bind(i,l),this.ML(),this.setAnimationsEnabled(this.th);const u={on:(d=this.D).on.bind(d,"resize"),off:d.off.bind(d)};var d;this.createChartXY=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new JA(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,g,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createSpiderChart=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new b5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,g,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createPolarChart=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new S5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,g,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createPieChart=f=>{const g=Nr(f,this.aL,this.th),m=g&&g.type?g.type:e5;return this.eL(new m(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createGaugeChart=f=>{const g=Nr(f,this.aL,this.th),m=g&&g.type?g.type:A5;return this.eL(new m(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g.disableAnimations),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createFunnelChart=f=>{const g=Nr(f,this.aL,this.th),m=g&&g.type?g.type:x5;return this.eL(new m(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createPyramidChart=f=>{const g=Nr(f,this.aL,this.th),m=f&&f.type?f.type:v5;return this.eL(new m(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createUIPanel=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new IA(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createLegendBoxPanel=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new hz(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createZoomBandChart=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new p5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,g,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createMapChart=f=>{const g=Nr(f,this.aL,this.th);return this.eL(new s5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,g,u),g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createChart3D=f=>{const g=Nr(f,this.aL,this.th),m=new WA(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g);return this.eL(m,g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createDataGrid=f=>{const g=Nr(f,this.aL,this.th),m=new E5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u);return this.eL(m,g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)},this.createBarChart=f=>{const g=Nr(f,this.aL,this.th),m=new T5(this.cA,this.dL.DI(this._L(f.columnIndex,f.rowIndex)),this.wL(g,this.uL),this.iL,n,u,g);return this.eL(m,g.columnIndex,g.rowIndex,g.columnSpan,g.rowSpan)}}_L(t,e){return t+e*this.oL}wL(t,e){return{d1:i=>new i.scale1DConstructor(i.dimension==="x"?t.columnIndex:t.rowIndex,i.dimension==="x"?t.columnSpan:t.rowSpan,i.dimension==="x"?this.oL:this.nL,i.dimension==="x"?e.x:e.y),d2:i=>new i.scaleXYConstructor().ot({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.oL,y:this.nL},e),d3:()=>new Hw({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.oL,y:this.nL},e)}}setWidth(t){return t instanceof Array||(t=[t,t]),this.gL(t[0]),this.yL(t[1]),this}setHeight(t){return t instanceof Array||(t=[t,t]),this.SL(t[0]),this.bL(t[1]),this}getWidth(){return this.eo()}getHeight(){return this.ro()}setBackgroundFillStyle(t){return this.engine.setBackgroundFillStyle(t),this.fL.Ss(),this}getBackgroundFillStyle(){return this.engine.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.engine.setBackgroundStrokeStyle(t),this.fL.Ss(),this}getBackgroundStrokeStyle(){return this.engine.getBackgroundStrokeStyle()}getTheme(){return this.qi}setSplitterStyle(t){const e=this.cL;return this.cL=typeof t=="function"?t(this.cL):t,this.CL(e),this}getSplitterStyle(){return this.cL}setSplitterEffect(t){return this.es.AL.ps(t),this.us.Ss(),this}getSplitterEffect(){return this.es.AL.vs()}setAnimationHighlight(t){return this.JB=t,this.tL.forEach(e=>this.us.ls._s(e.line,t)),this}getAnimationHighlight(){return this.JB}CL(t){for(const e of this.tL)e.line.Re(this.cL);this.ML()}setColumnWidth(t,e){const i=this.uL.x.M();return t>=0&&t<i.length&&(i[t]=e,this.uL.x.S(i)),this.qB(),this}getColumnWidth(t){const e=this.uL.x.M();if(t>=e.length)throw new dd("Column index is out of dashboard range.");return e[t]}setRowHeight(t,e){const i=this.uL.y.M();return t>=0&&t<i.length&&(i[Math.abs(i.length-1-t)]=e,this.uL.y.S(i)),this.qB(),this}getRowHeight(t){const e=this.uL.y.M();if(t>=e.length)throw new dd("Row index is out of dashboard range.");return e[Math.abs(e.length-1-t)]}getSizePixels(){return this.pixelScale.getInnerIntervalPixels()}onResize(t){return this.D.on("resize",t)}offResize(t){return this.D.off(t,"resize")}kL(t,e,i){if(i&&Math.abs(t.x)>0)this.TL(e,t.x);else{if(i||!(Math.abs(t.y)>0))return;this.FL(e,t.y)}for(const r of this.RP)r.panel.Z();this.qB()}FL(t,e){const i=rE(this.RP,this.uL.y.M(),t,e,this.pixelScale.oi(),!1);this.uL.y.S(i),this.qB()}TL(t,e){const i=rE(this.RP,this.uL.x.M(),t,e,this.pixelScale.oi(),!0);this.uL.x.S(i),this.qB()}IL(){this.tL.forEach(t=>t.line.dispose()),this.tL.length=0;for(let t=1;t<=this.oL-1;t+=1)for(let e=0;e<=this.nL-1;e+=1)if(this.RP.find(i=>Aa(e,i.rowIndex,i.rowIndex+i.rowSpan-1)&&(t===i.columnIndex||t===i.columnIndex+i.columnSpan))!==void 0){const i=tr(new Xr(()=>{this.PL(t)},(n,a,o,l,u)=>{this.kL(l,t,!0),vt(u)},()=>{this.DL(t)})),r=this.fL.Ee(this.pixelScale).Re(this.cL).setMouseEnterEventHandler(()=>{this.PL(t)}).setMouseLeaveEventHandler(()=>{this.DL(t)}).setMouseDragEventHandler((n,a,o,l,u)=>{this.kL(u,t,!0),vt(a)}).setTouchStartEventHandler(i.onTouchStart).setTouchMoveEventHandler(i.onTouchMove).setTouchEndEventHandler(i.onTouchEnd);this.us.ls.os(r,n=>r.cs(n),{animationEnabled:this.JB}),this.tL.push({row:e,column:t,line:r,alignment:"vertical"})}for(let t=1;t<=this.nL-1;t+=1)for(let e=0;e<=this.oL-1;e+=1)if(this.RP.find(i=>Aa(e,i.columnIndex,i.columnIndex+i.columnSpan-1)&&(t===i.rowIndex||t===i.rowIndex+i.rowSpan))!==void 0){const i=tr(new Xr(()=>{this.BL(t)},(n,a,o,l,u)=>{this.kL(l,t,!1),vt(u)},()=>{this.LL(t)})),r=this.fL.Ee(this.pixelScale).Re(this.cL).setMouseEnterEventHandler(()=>{this.BL(t)}).setMouseLeaveEventHandler(()=>{this.LL(t)}).setMouseDragEventHandler((n,a,o,l,u)=>{this.kL(u,t,!1),vt(a)}).setTouchStartEventHandler(i.onTouchStart).setTouchMoveEventHandler(i.onTouchMove).setTouchEndEventHandler(i.onTouchEnd);this.us.ls.os(r,n=>r.cs(n),{animationEnabled:this.JB}),this.tL.push({row:t,column:e,line:r,alignment:"horizontal"})}this.es.AL.fs(this.tL.map(t=>t.line))}RL(){const t=this.pixelScale.oi(),e=this.uL.x.M(),i=e.reduce((a,o)=>a+o),r=this.uL.y.M(),n=r.reduce((a,o)=>a+o);this.tL.forEach(a=>{if(a.alignment==="vertical"){const o=Y(t.x*e.slice(0,a.column).reduce((u,d)=>u+d,0)/i,t.y*r.slice(0,a.row).reduce((u,d)=>u+d,0)/n),l=Y(o.x,t.y*r.slice(0,a.row+1).reduce((u,d)=>u+d,0)/n);a.line.Ve(o).ze(l)}else{const o=Y(t.x*e.slice(0,a.column).reduce((u,d)=>u+d,0)/i,t.y*r.slice(0,a.row).reduce((u,d)=>u+d,0)/n),l=Y(t.x*e.slice(0,a.column+1).reduce((u,d)=>u+d,0)/i,o.y);a.line.Ve(o).ze(l)}})}PL(t){this.tL.forEach(e=>{e.alignment==="vertical"&&e.column===t&&(this.us.ls.Ms(e.line,1),this.fL.EL(e.line))}),this.jB=this.engine.setMouseStyle(he.ResizeColumn),this.us.Ss()}BL(t){this.tL.forEach(e=>{e.alignment==="horizontal"&&e.row===t&&(this.us.ls.Ms(e.line,1),this.fL.EL(e.line))}),this.jB=this.engine.setMouseStyle(he.ResizeRow),this.us.Ss()}DL(t){this.tL.forEach(e=>{e.alignment==="vertical"&&e.column===t&&this.us.ls.Ms(e.line,0)}),this.engine.restoreMouseStyle(this.jB),this.us.Ss()}LL(t){this.tL.forEach(e=>{e.alignment==="horizontal"&&e.row===t&&this.us.ls.Ms(e.line,0)}),this.engine.restoreMouseStyle(this.jB),this.us.Ss()}setAnimationsEnabled(t){return this.th=t,this.getCells().filter(e=>e.panel instanceof An).forEach(e=>e.panel.setAnimationsEnabled(t)),this.setAnimationHighlight(this.th),this}getAnimationsEnabled(){return this.th}getCells(){return this.RP.slice()}dispose(){return this.$i||(this.Am&&this.Am(),this.RP.slice().forEach(t=>t.panel.dispose()),this.XB.slice().forEach(t=>t.dispose()),this.$g.slice().forEach(t=>t.dispose()),this.$i=!0,this.lL(),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}getIsInView(){return this.Qg}saveToFile(t,e,i){return HC(this.engine,t,e,i),this}zL(t){if(this.KB){const e=this.us.dt.oi(),i=e.x,r=e.y;this.uiScale.q(i,r),this.pixelScale.q(i,r);const n=this.uiScale.getInnerIntervalPixels();this.pixelScale.Vi(0,n.x).Oi(0,n.y),this.D.emit("resize",this,n.x,n.y,i,r),this.QB=!0}this.ZB&&(this.IL(),this.ZB=!1,this.QB=!0),this.QB&&(this.RL(),this.QB=!1);for(const e of this.RP)e.panel.Te(t);return this.XB.forEach(e=>e.Ps()),this.XB.forEach(e=>e.Te()),this.$g.forEach(e=>e.Ps()),this.$g.forEach(e=>e.Te()),this.KB=!1,this}j(){for(const t of this.RP)t.panel.j();return this.pixelScale.x.j(),this.pixelScale.y.j(),this.uiScale.x.j(),this.uiScale.y.j(),this}Z(){for(const t of this.RP)t.panel.Z();return this.pixelScale.x.Z(),this.pixelScale.y.Z(),this.uiScale.x.Z(),this.uiScale.y.Z(),this}translateCoordinate(t,e,i){return Sy(t,e,i,this.pixelScale,this.us)}addUIElement(t=PA,e=this.uiScale){e=_g(e,this.pixelScale);const i=Fg(t,this.OM(),this.uiScale,e,this.sL,this.qi);return this.XB.push(i),i}addLegendBox(t=my,e=this.uiScale){e=_g(e,this.pixelScale);const i=Fg(t,this.am,this.uiScale,e,this.im,this.qi);return i.setDraggingMode(ze.notDraggable),this.$g.push(i),i}getLegendBoxes(){return this.$g}hL(t,e,i,r){return e>=0&&t>=0&&e+r<=this.nL&&t+i<=this.oL}rL(t){const e=this.cL,i=e===bt?0:e.getThickness()/2,r={left:t.columnIndex>0?i:0,top:t.rowIndex<this.nL-1?i:0,right:t.columnIndex<this.oL-1?i:0,bottom:t.rowIndex>0?i:0};t.panel.Fr(r)}ML(){this.uiScale.x.si([0,0]),this.uiScale.y.si([0,0]),this.pixelScale.x.si([0,0]),this.pixelScale.y.si([0,0]);for(const t of this.RP)this.rL(t);this.us.Ss()}}const Nr=(s,t,e)=>{const i={...s,columnSpan:s.columnSpan||1,rowSpan:s.rowSpan||1,animationsEnabled:s.disableAnimations!==void 0?!s.disableAnimations:s.animationsEnabled!==void 0?s.animationsEnabled:e};var r,n;return i.rowIndex=(r=i.rowIndex,n=i.rowSpan,t.numberOfRows-(r+n)),i},Pg=(s,t)=>Math.abs(s)+Math.abs(t);function nE(s,t){const e=s.reduce(Pg,0),i=(r=s,Math.max(...r.map(a=>a)));var r;const n=(a=>Math.min(...a.map(o=>o)))(s);return Math.max(t**2*i/e**2,e**2/(t**2*n))}const og=({height:s,width:t})=>s>t?{value:t,vertical:!1}:{value:s,vertical:!0},aE=({data:s,dimensions:t})=>{const{x:e,y:i,width:r,height:n}=t;s.map(g=>g.value).reduce(Pg,0);const a=s.map(g=>g.animatedValue).reduce(Pg,0),o=s.map(g=>g.animatedValue*n*r/a),l=o.reduce((g,m)=>g+m,0),u=o.map(g=>g/l*100),d=o.filter((g,m)=>u[m]),f={children:[],x:e,y:i,width:r,height:n};if(s.length===1){const g={...s[0],x:t.x,y:t.y,width:t.width,height:t.height};f.children.push(g)}else rB(d,og(f).value,s,f);return f.children},oE=(s,t,e,i,r)=>{const n=s.reduce(Pg,0)/t;s.forEach((a,o)=>{const l=Math.abs(a)/n,{x:u,y:d,children:f}=r,g={...i[f.length],x:u,y:d,width:e?n:l,height:e?l:n};e?r.y+=l:r.x+=l,f.push(g)}),e?(r.x+=n,r.y-=t,r.width-=n):(r.x-=t,r.y+=n,r.height-=n)},rB=(s,t,e,i)=>{const r=[{children:s,width:t,row:[]}];for(;r.length>0;){const n=r.pop();if(!n)continue;const{children:a,width:o,row:l}=n;let u=0;const d=[...l];for(;u<a.length;){const f=[...d,a[u]],g=nE(d,o),m=nE(f,o);if(!(d.length===0||g>m)){oE(d,o,og(i).vertical,e,i),r.push({children:a.slice(u),width:og(i).value,row:[]});break}d.push(a[u]),u+=1}u===a.length&&oE(d,o,og(i).vertical,e,i)}};class nB extends An{constructor(t,e,i,r,n,a,o){if(super(t,e,i,e.vm("treeMapChart bg",0),r,e.us.qi.treeMapChartBackgroundFillStyle||e.us.qi.chartXYSeriesBackgroundFillStyle,e.us.qi.treeMapChartBackgroundStrokeStyle||e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.treeMapChartTitleFont||e.us.qi.chartXYTitleFont,e.us.qi.treeMapChartTitleFillStyle||e.us.qi.chartXYTitleFillStyle,o),this.VL=new Map,this.OL=[],this.NL={},this.GL=qt([]),this._y={speed:1},this.WL=Rt,this.UL=!0,this.YL="Go Back",this.HL=[],this.$L=this.qi.treeMapChartPathLabelFillStyle||this.qi.uiTextFillStyle,this.XL=this.qi.treeMapChartPathLabelFont||this.qi.uiTextFont,this.jL=this.qi.treeMapChartLabelHeaderFillStyle||this.qi.uiTextFillStyle,this.ZL=this.qi.treeMapChartLabelHeaderFont||this.qi.uiTextFont,this.QL=this.qi.treeMapChartLabelFillStyle||this.qi.uiTextFillStyle,this.JL=this.qi.treeMapChartLabelFont||this.qi.uiTextFont,this.Yi=!0,this.bb=Ze.onHover,this.Wy=aB,this.Mb=!0,this.KL=!1,this.qL=this.qi.treeMapChartParentColor||ti,this.tR=this.qi.treeMapChartNodeStrokeStyle||this.qi.uiBackgroundStrokeStyle,this.onNodeMouseEnter=u=>this.D.on("mouseEnter",u),this.onNodeMouseLeave=u=>this.D.on("mouseLeave",u),this.onNodeMouseClick=u=>this.D.on("mouseClick",u),this.onNodeMouseDoubleClick=u=>this.D.on("mouseDoubleClick",u),this.onNodeMouseDown=u=>this.D.on("mouseDown",u),this.onNodeMouseUp=u=>this.D.on("mouseUp",u),this.onNodeMouseMove=u=>this.D.on("mouseMove",u),this.offNodeMouseEnter=u=>this.D.off(u,"mouseEnter"),this.offNodeMouseLeave=u=>this.D.off(u,"mouseLeave"),this.offNodeMouseClick=u=>this.D.off(u,"mouseClick"),this.offNodeMouseDoubleClick=u=>this.D.off(u,"mouseDoubleClick"),this.offNodeMouseDown=u=>this.D.off(u,"mouseDown"),this.offNodeMouseUp=u=>this.D.off(u,"mouseUp"),this.offNodeMouseMove=u=>this.D.off(u,"mouseMove"),this.offNodeMouseDragStart=u=>this.D.off(u,"mouseDragStart"),this.offNodeMouseDrag=u=>this.D.off(u,"mouseDrag"),this.offNodeMouseDragStop=u=>this.D.off(u,"mouseDragStop"),this.offNodeMouseWheel=u=>this.D.off(u,"mouseWheel"),this.Cb=(u,d,f,g,m)=>{this.us.Ss(),this.KL=!0},this.wt=(u,d)=>{const f=this.iR(d);f&&(this.bb!==Ze.disabled&&(this.Hb=f,vt(u)),this.Mb&&this.us.ls.Ms(d,!0),this.UL&&this.engine.setMouseStyle(he.Point),this.D.emit("mouseEnter",this,u,f.userNode),this.us.Ss())},this.Ct=(u,d)=>{const f=this.iR(d);f&&(this.bb!==Ze.disabled&&(this.Hb=void 0,u&&vt(u)),this.Mb&&this.us.ls.Ms(d,!1),this.engine.setMouseStyle(he.Default),this.D.emit("mouseLeave",this,u,f.userNode),this.us.Ss())},this.Pt=(u,d)=>{const f=this.iR(d);f&&(this.bb!==Ze.disabled&&(this.Hb=f,vt(u)),this.Mb&&this.us.ls.Ms(d,!0),this.UL&&this.engine.setMouseStyle(he.Point),this.D.emit("mouseEnter",this,u,f.userNode),this.us.Ss())},this.kt=(u,d)=>{const f=this.iR(d);if(f){if(this.UL){const g=f!=null&&f.children.length?f:f.parentID?this.NL[f.parentID]:void 0;g&&(this.GL.S([g]),this.Hb=void 0,this.D.emit("viewChange",this.GL.M()),this.KL=!0),u&&vt(u)}this.D.emit("mouseClick",this,u,f.userNode),this.us.Ss()}},this.Tt=(u,d)=>{var f;const g=(f=this.VL.get(d))===null||f===void 0?void 0:f.userNode;this.D.emit("mouseDoubleClick",this,u,g)},this.Ft=(u,d)=>{var f;const g=(f=this.VL.get(d))===null||f===void 0?void 0:f.userNode;this.D.emit("mouseDown",this,u,g)},this.It=(u,d)=>{var f;const g=(f=this.VL.get(d))===null||f===void 0?void 0:f.userNode;this.D.emit("mouseUp",this,u,g)},this.Bt=(u,d,f)=>{var g;const m=(g=this.VL.get(f))===null||g===void 0?void 0:g.userNode;this.D.emit("mouseDragStart",this,u,d,m)},this.Dt=(u,d,f,g,m)=>{var p;const x=(p=this.VL.get(m))===null||p===void 0?void 0:p.userNode;this.D.emit("mouseDrag",this,u,d,f,g,x)},this.Lt=(u,d,f,g)=>{var m;const p=(m=this.VL.get(g))===null||m===void 0?void 0:m.userNode;this.D.emit("mouseDragStop",this,u,d,f,p)},this.Rt=(u,d)=>{var f;const g=(f=this.VL.get(d))===null||f===void 0?void 0:f.userNode;this.D.emit("mouseWheel",this,u,g)},this.Et=(u,d)=>{const f=this.iR(d);f&&(this.bb!==Ze.disabled&&(this.Hb=f),this.Mb&&this.us.ls.Ms(d,!0),this.D.emit("touchStart",this,u,f.userNode),this.us.Ss(),vt(u))},this.zt=(u,d)=>{const f=this.iR(d);f&&(this.bb!==Ze.disabled&&(this.Hb=f),this.Mb&&this.us.ls.Ms(d,!0),this.D.emit("touchMove",this,u,f.userNode),this.us.Ss(),vt(u))},this.Vt=(u,d)=>{const f=this.iR(d);if(f){if(this.bb!==Ze.disabled&&(this.Hb=void 0),this.UL){const g=f!=null&&f.children.length?f:f.parentID?this.NL[f.parentID]:void 0;g&&(this.GL.S([g]),this.D.emit("viewChange",this.GL.M()),this.KL=!0),u&&vt(u)}this.Mb&&this.us.ls.Ms(d,!1),this.D.emit("touchEnd",this,u,f.userNode),this.us.Ss(),vt(u)}},this.sR=u=>{const d=this.NL[this.HL[u].id]?[this.NL[this.HL[u].id]]:this.OL;this.GL.S(d),this.D.emit("viewChange",d),this.KL=!0,this.us.Ss()},this.qi.treeMapChartNodeColors)this.eR=this.qi.treeMapChartNodeColors;else{const u=this.qi.pointSeriesFillStyle,d=f=>fe(f)?f.getColor():ti;this.eR=typeof u=="function"?new Array(5).fill(0).map((f,g)=>d(u(g))):[d(u)]}this.us.Nn(Dt.Mf),this.Hy=e.ob("TreeMapChart plotting",0),this.Xy=e.ob("TreeMap UI plotting",1),this.onResize(this.Cb),this._m.Rh("TreeMap Chart");const l=Ne(void 0,t5);this.Eb=l.Ay(e.Zy(),this.pixelScale,this.pixelScale,this.qi).setVisible(!1),this.hR=this.es.yg(),this.Sm(n,this.uiScale),this.Vb=this.Hy.Ob(this.pixelScale).Ce(new jM).we(this.tR),this.rR=this.us.ls.Er(this,{animationEnabled:(a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1}),this.nR=new un(()=>this.Xy.Pr(this.pixelScale).setMouseInteractions(!1)),this.oR=new un(()=>this.Xy.Pr(this.uiScale)),this.Vb.setMouseInteractions(this.Yi).setMouseEnterEventHandler((u,d,f)=>this.wt(d,f)).setMouseLeaveEventHandler((u,d,f)=>this.Ct(d,f)).setMouseClickEventHandler((u,d,f)=>this.kt(d,f)).setMouseDoubleClickEventHandler((u,d,f)=>this.Tt(d,f)).setMouseDownEventHandler((u,d,f)=>this.Ft(d,f)).setMouseUpEventHandler((u,d,f)=>this.It(d,f)).setMouseMoveEventHandler((u,d,f)=>this.Pt(d,f)).setMouseDragStartEventHandler((u,d,f,g)=>this.Bt(d,f,g)).setMouseDragEventHandler((u,d,f,g,m,p)=>this.Dt(d,f,g,m,p)).setMouseDragStopEventHandler((u,d,f,g,m)=>this.Lt(d,f,g,m)).setMouseWheelEventHandler((u,d,f)=>this.Rt(d,f)).setTouchStartEventHandler((u,d,f)=>this.Et(d,f)).setTouchMoveEventHandler((u,d,f)=>this.zt(d,f)).setTouchEndEventHandler((u,d,f)=>this.Vt(d,f)),this.setAnimationsEnabled((a==null?void 0:a.disableAnimations)!==!0&&(a==null?void 0:a.animationsEnabled)!==!1)}setData(t){t=Array.isArray(t)?t.slice():[t];const{aR:e}=(()=>{let r=0;return{aR:n=>{var a;const o=n.map((f,g)=>({node:f,parent:null})),l=[];for(;o.length>0;){const f=o.pop();if(!f)continue;const{node:g,parent:m}=f;r+=1;const p={id:r,parentID:m==null?void 0:m.id,name:g.name,value:g.value||0,animatedValue:g.value||0,children:[],nodeIndex:m?m.nodeIndex:-1,userNode:g};m?m.children.push(p):l.push(p),(a=g.children)===null||a===void 0||a.forEach(x=>{o.push({node:x,parent:p})})}const u=f=>{f.children.forEach(u),f.children.length>0&&(f.value+=f.children.reduce((g,m)=>g+m.value,0),f.animatedValue+=f.children.reduce((g,m)=>g+m.animatedValue,0),f.children.sort((g,m)=>m.animatedValue-g.animatedValue))};l.forEach(u);const d=n.length===1?l[0].children:l;return d.sort((f,g)=>g.animatedValue-f.animatedValue),d.forEach((f,g)=>{f.nodeIndex=g;const m=p=>{p.children.forEach(x=>{x.nodeIndex=f.nodeIndex,m(x)})};m(f)}),l}}})(),i=e(t);return i.forEach(r=>{const n=this.NL[r.id];n&&this.lR(r,n)}),this.Hb=void 0,this.GL.S(i),this.OL=i,this.NL=this.uR(i),this.KL=!0,this.us.Ss(),this}setAnimationValues(t,e=1){return this._y=t?{speed:e}:void 0,this.us.Ss(),this}setInitPathButtonText(t){return this.YL=t,this.KL=!0,this.us.Ss(),this}setDisplayedLevelsCount(t){return this.WL=t,this.KL=!0,this.us.Ss(),this}setDrillDownEnabled(t){return this.UL=t,this.KL=!0,this.us.Ss(),this}setDrillDownNode(t){var e,i;if(this.Hb=void 0,t===void 0)this.GL.S(this.OL);else{const r=[...this.OL];for(;r.length>0;){const n=r.pop();if(n){if(n.value!==void 0&&n.userNode===t||n.parentID&&Array.isArray(t)&&((i=(e=this.NL[n.parentID])===null||e===void 0?void 0:e.userNode)===null||i===void 0?void 0:i.children)===t){const a=n.children.length?n:n.parentID?this.NL[n.parentID]:this.OL[0];this.GL.S([a]);break}if(n.children)for(let a=n.children.length-1;a>=0;a-=1)r.push(n.children[a])}}}return this.D.emit("viewChange",this.GL.M()),this.KL=!0,this.us.Ss(),this}setNodeColoring(t){return t instanceof Array?(this.Vb.Ce(new jM),this.eR=t):this.Vb.Ce(t),this.KL=!0,this.us.Ss(),this}setParentNodeColor(t){return this.qL=t,this.KL=!0,this.us.Ss(),this}setPathLabelFillStyle(t){return this.$L=typeof t=="function"?t(this.$L):t,this.KL=!0,this.us.Ss(),this}getPathLabelFillStyle(){return this.$L}setPathLabelFont(t){return gd(t)?this.XL=t:this.XL=t(this.XL),this.KL=!0,this.us.Ss(),this}getPathLabelFont(){return this.XL}setHeaderFont(t){return gd(t)?this.ZL=t:this.ZL=t(this.ZL),this.KL=!0,this.us.Ss(),this}getHeaderFont(){return this.ZL}setHeaderFillStyle(t){return this.jL=typeof t=="function"?t(this.jL):t,this.KL=!0,this.us.Ss(),this}getHeaderFillStyle(){return this.jL}setLabelFont(t){return gd(t)?this.JL=t:this.JL=t(this.JL),this.KL=!0,this.us.Ss(),this}getLabelFont(){return this.JL}setLabelFillStyle(t){return this.QL=typeof t=="function"?t(this.QL):t,this.KL=!0,this.us.Ss(),this}getLabelFillStyle(){return this.QL}setNodeBorderStyle(t){return this.Vb.we(t),this.KL=!0,this.us.Ss(),this}getNodeBorderStyle(){return this.Vb.ao()}setNodeEffect(t){return this.hR.ps(t),this.us.Ss(),this}getNodeEffect(){return this.hR.vs()}setAutoCursor(t){return this.Eb&&t(this.Eb),this.us.Ss(),this}getAutoCursor(){return this.Eb}setAutoCursorMode(t){return this.bb=t,this.us.Ss(),this}getAutoCursorMode(){return this.bb}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}onNodeMouseDragStart(t){return this.D.on("mouseDragStart",t)}onNodeMouseDrag(t){return this.D.on("mouseDrag",t)}onNodeMouseDragStop(t){return this.D.on("mouseDragStop",t)}onNodeMouseWheel(t){return this.D.on("mouseWheel",t)}onNodeTouchStart(t){return this.D.on("touchStart",t)}onNodeTouchMove(t){return this.D.on("touchMove",t)}onNodeTouchEnd(t){return this.D.on("touchEnd",t)}onViewChange(t){return this.D.on("viewChange",t)}offNodeTouchStart(t){return this.D.off(t,"touchStart")}offNodeTouchMove(t){return this.D.off(t,"touchMove")}offNodeTouchEnd(t){return this.D.off(t,"touchEnd")}offViewChange(t){return this.D.off(t,"viewChange")}setMouseInteractions(t){return this.Yi=t,this.Vb.setMouseInteractions(t),this}getMouseInteractions(){return this.Yi}setAnimationHighlight(t){return this.rR.Or(t),this}getAnimationHighlight(){return this.rR.Nr()}setHighlightOnHover(t){return this.Mb=t,this}getHighlightOnHover(){return this.Mb}getMinimumSize(){}Zd(){return[this]}Te(t){super.Te(t),super.pm(),ys.Fm(this._m,this.bm);const e=ys.Tm(this._m,this.bm);if(this.KL&&this.GL.M().length){this.Vb.Nt(),this.VL.clear(),this.rR.Vr(),this.th&&this.cR(t);const r=aE({data:this.GL.M(),dimensions:{x:0+this.ya.left,y:0+this.ya.bottom,width:this.pixelScale.x.getInnerEnd()-this.ya.right-this.ya.left,height:this.pixelScale.y.getInnerEnd()-e-this.ya.top-this.ya.bottom}}),n=this.nR.fp();this.dR(r,n),n.finishPlot(),this.fR(),this.OL!==this.GL.M()&&this.OL.length>1&&this.HL.unshift({name:this.YL,id:0});let a=0;const o=this.oR.fp(),l=this.XL;this.HL.forEach((u,d)=>{const f=o.add(),g=this.us.Ig.Fg(u.name,l,0);f.Rh(` ${u.name}`).Oh(l).Fe({x:0,y:100}).Ea({x:-1,y:1}).Fr({left:this.ya.left+a,top:this.ya.top,right:0,bottom:0}).Ce(this.$L).setMouseClickEventHandler(m=>this.sR(d)).setMouseEnterEventHandler(()=>this.engine.setMouseStyle(he.Point)).setMouseLeaveEventHandler(()=>this.engine.setMouseStyle(he.Default)),a+=g.x+25}),o.finishPlot(),this.GL.M().every(u=>u.value===u.animatedValue)?this.KL=!1:this.us.Ss(!0)}const i=this.us.On();if(this.Hb&&i){const r=i;this.Eb.setPosition(r).setVisible(!0).getResultTable().setContent(this.Wy(new Ji,this.Hb).Zu())}else this.Eb.setVisible(!1);return this.Eb.Ps().Te(),this}dispose(){return this.Xy.W(),this.Hy.W(),this.Eb.dispose(),this.Vb.dispose(),this.VL.clear(),this.nR.gp(),this.oR.gp(),super.dispose()}j(){return super.j(),this}Z(){return super.Z(),this}Gd(){return os(this.Vb.Eh())}attach(t,e=!0,i=!1){return t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),oi(t,this.qi,i,{}),this}dR(t,e,i=!1,r=0){const n=t.map((a,o)=>({node:a,isChild:i,depth:r}));for(;n.length>0;){const a=n.pop();if(!a)continue;const{node:o,depth:l,opacity:u}=a,{x:d,y:f,height:g,width:m,children:p,animatedValue:x,name:v,nodeIndex:A}=o,E=this.eR,T=l===0&&this.GL.M().length===1?this.qL:E[A%E.length],F=[{x:d,y:f},{x:d,y:g+f},{x:m+d,y:g+f},{x:m+d,y:f}],D=this.Vb.zr().pl(F).AR(T.setA(u||250)).Yb(x);this.VL.set(D,o),this.rR.zr(D,H=>D.cs(H));const N=d+5,V=f+5,P=Math.max(g-25-5,0),b=Math.max(m-5-5,0);if(p&&p.length&&l<this.WL&&b>15&&P>15){const H=aE({data:p,dimensions:{x:b>0?N:d,y:P>0?V:f,width:b,height:P}});for(let B=0;B<H.length;B+=1){const U=(250-(p.length>7?50:150))/(p.length-1),O=o.id===1&&this.OL.length===1||this.OL===this.GL.M()?250:u?u/(l+1):250-B*U;n.push({node:H[B],isChild:!0,depth:l+1,opacity:O})}}const M=l===0&&this.GL.M().length===1?this.jL:this.QL,w=l===0?this.ZL:this.JL,C=this.gR(v,m-25,w),k=this.us.Ig.Fg(C,w,0),z=e.add();m-25>k.x&&g>25?z.Rh(C).Fe({x:d+5,y:g+f-2.5}).Ea({x:-1,y:1}).Ce(M).Oh(w):z.Rh("")}}uR(t){const e={},i=[...t];for(;i.length>0;){const r=i.pop();r&&(e[r.id]=r,r.children&&i.push(...r.children))}return e}iR(t){if(!this.KL&&t)return this.VL.get(t)}fR(){this.HL=[];const t=this.GL.M()[0].id;let e=this.NL[t].parentID;for(;e;)this.HL.push({name:this.NL[e].name,id:e}),e=this.NL[e].parentID;return this.HL.reverse()}gR(t,e,i){let r=this.us.Ig.Fg(t,i,0).x;if(r<=e)return t;const n=t.split(" ");let a=t;for(;n.length>1&&r>e;)n.pop(),a=`${n.join(" ")}...`,r=this.us.Ig.Fg(a,i,0).x;if(r>e)for(a=`${n[0]}...`,r=this.us.Ig.Fg(a,i,0).x;a.length>3&&r>e;)a=`${a.substring(0,a.length-4)}...`,r=this.us.Ig.Fg(a,i,0).x;return a.length<=3&&r>e?"":a}cR(t){var e;const i=[...this.OL];for(;i.length>0;){const r=i.pop();if(!r)continue;const n=r.value-r.animatedValue;if(Math.abs(n)<.0015*r.value||this._y===void 0)r.animatedValue=r.value;else{const a=n/250*(((e=this._y)===null||e===void 0?void 0:e.speed)||1)*t;r.animatedValue+=a,(n>0&&r.animatedValue>r.value||n<0&&r.animatedValue<r.value)&&(r.animatedValue=r.value)}r.children&&r.children.length>0&&i.push(...r.children)}}lR(t,e){const i=[{current:t,previous:e}];for(;i.length>0;){const r=i.pop();if(!r)continue;const{current:n,previous:a}=r;n.animatedValue=this.th?a.animatedValue:n.value,a.nodeIndex<0?n.nodeIndex=0:n.nodeIndex=a.nodeIndex;const o=new Map(a.children.map(l=>[l.id,l]));n.children.forEach((l,u)=>{const d=o.get(l.id);i.push({current:l,previous:d||a})})}}}const aB=(s,t)=>{const{name:e,value:i}=t;return s.addRow(`${e}`).addRow(`${i}`),s},lf=(s,t)=>{const e=(r=>{const n=new rt({color:r.uiStrokeColorContrastHigh}),a=new rt({color:r.uiStrokeColorContrastMedium}),o=new rt({color:r.uiStrokeColorContrastLow}),l=new oy({family:r.fontFamily,weight:"normal",style:"normal"}),u=l.setSize(18*r.fontScaler),d=l.setSize(16*r.fontScaler),f=l.setSize(14*r.fontScaler),g=l.setSize(10*r.fontScaler),m=l.withMutations(Yt=>Yt.set("size",14*r.fontScaler).set("weight","bold")),p=l.setSize(13*r.fontScaler),x=new te({thickness:2,fillStyle:o}),v=new rt({color:r.dataHighlightOverlayColor}),A=new te({thickness:2,fillStyle:r.legendBackgroundBorderFillStyle}),E=r.dataColorPalette.map(Yt=>new rt({color:Yt.stroke})),T=Yt=>E[Yt%E.length],F=E.map(Yt=>new te({thickness:2,fillStyle:Yt})),D=Yt=>F[Yt%F.length],N=r.dataColorPalette.map(Yt=>new rt({color:Yt.border})).map(Yt=>new te({thickness:2,fillStyle:Yt})),V=Yt=>N[Yt%N.length],P=r.dataColorPalette.map(Yt=>{const oe=Yt.area;return new Vs({angle:180,stops:[{color:_s(oe,L(255,255,255,oe.getA()),.3),offset:0},{color:oe,offset:.5},{color:_s(oe,L(0,0,0,oe.getA()),.3),offset:1}]})}),b=Yt=>P[Yt%P.length],M=r.dataColorPaletteInverted.map(Yt=>{const oe=Yt.area;return new Vs({angle:180,stops:[{color:_s(oe,L(255,255,255,oe.getA()),.3),offset:0},{color:oe,offset:.5},{color:_s(oe,L(0,0,0,oe.getA()),.3),offset:1}]})}),w=Yt=>M[Yt%M.length],C=r.dataColorPaletteInverted.map(Yt=>new rt({color:Yt.border})).map(Yt=>new te({thickness:2,fillStyle:Yt})),k=Yt=>C[Yt%C.length],z=new rt({color:r.dataColorPositive}),H=new rt({color:r.dataColorNegative}),B=new te({thickness:1,fillStyle:new rt({color:r.dataStrokeColorContrastHigh.setA(50)})}),U=new te({thickness:2,fillStyle:r.axisLineFillStyle}),O=bt,W=new rt({color:L(0,0,0,1)}),I=new te({thickness:1,fillStyle:r.axisGridMajorFillStyle}),X=new te({thickness:1,fillStyle:r.axisTickMajorFillStyle}),j=f,Q=r.axisLabelMajorFillStyle,J=new te({thickness:1,fillStyle:r.axisGridMajorFillStyle}),st=new te({thickness:1,fillStyle:r.axisTickMajorFillStyle}),nt=f,ct=r.axisLabelMajorFillStyle,dt=new te({thickness:1,fillStyle:r.axisGridMinorFillStyle}),Tt=new te({thickness:1,fillStyle:r.axisTickMinorFillStyle}),At=g,Vt=r.axisLabelMinorFillStyle,Pt=YC,jt=new In({gridStrokeStyle:I,tickStyle:X,tickLength:50,tickPadding:-14,labelFont:j,labelPadding:0,labelFillStyle:Q}),Jt=new In({gridStrokeStyle:J,tickStyle:st,tickLength:7,tickPadding:5,labelFont:nt,labelPadding:0,labelFillStyle:ct}),_t=new In({gridStrokeStyle:dt,tickStyle:Tt,tickLength:4,tickPadding:10,labelFont:At,labelPadding:0,labelFillStyle:Vt}),Ct=new DV({extremeTickStyle:Pt,majorTickStyle:Jt,minorTickStyle:_t}),bi=new RV({greatTickStyle:jt,majorTickStyle:Jt,minorTickStyle:_t}),Ee=new _V({majorTickStyle:Jt,minorTickStyle:_t}),pe=new rt({color:r.dataHighlightOverlayColor}),gr=new te({thickness:1,fillStyle:a}),Ge=new te({thickness:2,fillStyle:a}),zt=Yt=>new Eg.Triangulated({shape:"sphere",size:10,fillStyle:E[Yt%E.length]}),Dr=E[0],ge=r.uiTextFillStyle,ii=r.legendBackgroundFillStyle,Di=new te({thickness:1,fillStyle:r.legendBackgroundBorderFillStyle}),Se=Ag(r.legendButtonDefaultColor),Ye=Ag(r.isDark?L(70,70,70,255):L(170,170,170,255)),Mi=new rt({color:r.isDark?L(70,70,70,255):L(170,170,170,255)}),je=new te({thickness:1,fillStyle:n}),He=new nV({thickness:1,fillStyle:r.cursorGridFillStyle,pattern:DC.DashedEqual,patternScale:3}),Ao=r.zoomBandChartDefocusOverlayFillStyle,Xe=new te({thickness:2,fillStyle:new rt({color:r.zoomBandChartSplitterColor})});let qe={isDark:r.isDark,effect:r.effect,effectsText:r.effectsText,effectsDashboardSplitters:r.effectsDashboardSplitters,lcjsBackgroundFillStyle:r.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:bt,highlightColorOffset:r.highlightColorOffset,highlightColorOffsetAxisOverlay:r.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new te({thickness:4,fillStyle:r.dashboardSplitterFillStyle}),chartXYBackgroundFillStyle:r.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:bt,chartXYTitleFont:u,chartXYTitleFillStyle:r.titleFillStyle,chartXYSeriesBackgroundFillStyle:r.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:x,chartXYZoomingRectangleFillStyle:v,chartXYZoomingRectangleStrokeStyle:A,chartXYFittingRectangleFillStyle:v,chartXYFittingRectangleStrokeStyle:A,lineSeriesStrokeStyle:D,pointLineSeriesStrokeStyle:D,pointLineSeriesFillStyle:T,pointSeriesFillStyle:T,ellipseSeriesFillStyle:T,ellipseSeriesStrokeStyle:D,polygonSeriesFillStyle:T,polygonSeriesStrokeStyle:D,rectangleSeriesFillStyle:T,rectangleSeriesStrokeStyle:bt,segmentSeriesStrokeStyle:D,boxSeriesBodyFillStyle:T(0),boxSeriesBodyStrokeStyle:bt,boxSeriesStrokeStyle:new te({thickness:1,fillStyle:E[0]}),boxSeriesMedianStrokeStyle:new te({thickness:1,fillStyle:new rt({color:L(0,0,0)})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:z,ohlcCandleBodyFillStyleNegative:H,ohlcCandleTailStrokeStylePositive:new te({thickness:1,fillStyle:new rt({color:r.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new te({thickness:1,fillStyle:new rt({color:r.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new te({thickness:2,fillStyle:z}),ohlcBarStrokeStyleNegative:new te({thickness:2,fillStyle:H}),heatmapGridSeriesFillStyle:T,heatmapGridSeriesWireframeStyle:B,heatmapScrollingGridSeriesFillStyle:T,heatmapScrollingGridSeriesWireframeStyle:B,areaRangeSeriesFillStyle:b,areaRangeSeriesStrokeStyle:V,areaRangeSeriesFillStyleInverted:w,areaRangeSeriesStrokeStyleInverted:k,areaSeriesBipolarHighFillStyle:b,areaSeriesBipolarHighStrokeStyle:V,areaSeriesBipolarLowFillStyle:w,areaSeriesBipolarLowStrokeStyle:k,areaSeriesPositiveFillStyle:b,areaSeriesPositiveStrokeStyle:V,areaSeriesNegativeFillStyle:w,areaSeriesNegativeStrokeStyle:k,xAxisTitleFont:d,xAxisTitleFillStyle:r.axisTitleFillStyle,xAxisStrokeStyle:U,xAxisNibStyle:O,xAxisOverlayStyle:W,xAxisZoomingBandFillStyle:v,xAxisZoomingBandStrokeStyle:bt,xAxisNumericTicks:Ct,xAxisDateTimeTicks:bi,xAxisTimeTicks:Ee,yAxisTitleFont:d,yAxisTitleFillStyle:r.axisTitleFillStyle,yAxisStrokeStyle:U,yAxisNibStyle:O,yAxisOverlayStyle:W,yAxisZoomingBandFillStyle:v,yAxisZoomingBandStrokeStyle:bt,yAxisNumericTicks:Ct,yAxisDateTimeTicks:bi,yAxisTimeTicks:Ee,bandFillStyle:pe,bandStrokeStyle:gr,constantLineStrokeStyle:Ge,barChartBackgroundFillStyle:r.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:bt,barChartTitleFont:u,barChartTitleFillStyle:r.titleFillStyle,barChartSeriesBackgroundFillStyle:Nt,barChartSeriesBackgroundStrokeStyle:bt,barChartBarFillStyle:T,barChartBarStrokeStyle:new te({thickness:1,fillStyle:o}),barChartValueAxisTitleFont:d,barChartValueAxisTitleFillStyle:r.axisTitleFillStyle,barChartValueAxisStrokeStyle:U,barChartValueAxisTicks:Ct.setMajorTickStyle(Yt=>Yt.setGridStrokeStyle(bt)).setMinorTickStyle(Yt=>Yt.setGridStrokeStyle(bt)),barChartCategoryAxisTitleFont:d,barChartCategoryAxisTitleFillStyle:r.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:U,barChartCategoryLabels:{formatter:(Yt,oe)=>Yt,labelFillStyle:Ct.majorTickStyle.labelFillStyle,labelFont:Ct.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,tickStyle:Ct.majorTickStyle.tickStyle,tickLength:0},barChartValueLabelsAfterBars:{position:"after-bar",formatter:(Yt,oe,wt)=>Yt.chart.valueAxis.formatValue(wt),labelFillStyle:Ct.majorTickStyle.labelFillStyle,labelFont:Ct.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:(Yt,oe,wt)=>Yt.chart.valueAxis.formatValue(wt),labelFillStyle:Ct.majorTickStyle.labelFillStyle,labelFont:Ct.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},chart3DBackgroundFillStyle:r.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:bt,chart3DTitleFont:u,chart3DTitleFillStyle:r.titleFillStyle,chart3DSeriesBackgroundFillStyle:r.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:x,chart3DBoundingBoxStrokeStyle:bt,xAxis3DTitleFont:d,xAxis3DTitleFillStyle:r.axisTitleFillStyle,xAxis3DStrokeStyle:U,xAxis3DNumericTicks:Ct,xAxis3DDateTimeTicks:bi,xAxis3DTimeTicks:Ee,yAxis3DTitleFont:d,yAxis3DTitleFillStyle:r.axisTitleFillStyle,yAxis3DStrokeStyle:U,yAxis3DNumericTicks:Ct,yAxis3DDateTimeTicks:bi,yAxis3DTimeTicks:Ee,zAxis3DTitleFont:d,zAxis3DTitleFillStyle:r.axisTitleFillStyle,zAxis3DStrokeStyle:U,zAxis3DNumericTicks:Ct,zAxis3DDateTimeTicks:bi,zAxis3DTimeTicks:Ee,lineSeries3DStrokeStyle:D,pointLineSeries3DStrokeStyle:D,pointLineSeries3DPointStyle:zt,pointSeries3DPointStyle:zt,pointCloudSeries3DPointStyle:Yt=>new Eg.Pixelated({size:5,fillStyle:E[Yt%E.length]}),surfaceGridSeries3DFillStyle:T,surfaceGridSeries3DWireframeStyle:B,surfaceScrollingGridSeries3DFillStyle:T,surfaceScrollingGridSeries3DWireframeStyle:B,boxSeries3DFillStyle:T,meshModel3DFillStyle:T(0),polarChartBackgroundFillStyle:r.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:bt,polarChartTitleFont:u,polarChartTitleFillStyle:r.titleFillStyle,polarChartSeriesBackgroundFillStyle:r.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:x,polarSectorFillStyle:pe,polarSectorStrokeStyle:gr,polarAmplitudeAxisTitleFont:d,polarAmplitudeAxisTitleFillStyle:r.axisTitleFillStyle,polarAmplitudeAxisStrokeStyle:U,polarAmplitudeAxisNumericTicks:Ct,polarAmplitudeAxisDateTimeTicks:bi,polarAmplitudeAxisTimeTicks:Ee,polarRadialAxisTitleFont:d,polarRadialAxisTitleFillStyle:r.axisTitleFillStyle,polarRadialAxisStrokeStyle:U,polarRadialAxisTickStyle:Jt,polarLineSeriesStrokeStyle:D,polarPointLineSeriesFillStyle:T,polarPointLineSeriesStrokeStyle:D,polarPointSeriesFillStyle:T,polarPolygonSeriesFillStyle:b,polarPolygonSeriesStrokeStyle:V,polarAreaSeriesFillStyle:b,polarAreaSeriesStrokeStyle:V,polarHeatmapSeriesFillStyle:T,mapChartBackgroundFillStyle:r.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:bt,mapChartTitleFont:u,mapChartTitleFillStyle:r.titleFillStyle,mapChartFillStyle:Dr,mapChartStrokeStyle:new te({thickness:1,fillStyle:new rt({color:r.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:Nt,mapChartOutlierRegionStrokeStyle:new te({thickness:1,fillStyle:o}),mapChartSeparateRegionFillStyle:ii,mapChartSeparateRegionStrokeStyle:Di,dataGridBackgroundFillStyle:r.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:bt,dataGridTitleFont:u,dataGridTitleFillStyle:r.titleFillStyle,dataGridTextFont:f,dataGridTextFillStyle:Dr,dataGridCellBackgroundFillStyle:new rt({color:r.uiBackgroundColor}),dataGridBorderStrokeStyle:new te({thickness:.4,fillStyle:new rt({color:r.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:r.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:bt,dataGridScrollBarFillStyle:r.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:Di,dataGridScrollBarButtonFillStyle:r.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:Di,dataGridScrollBarButtonArrowFillStyle:Se,dataGridScrollBarButtonArrowStrokeStyle:Di,sparkLineChartStrokeStyle:D(0),sparkPointChartFillStyle:T(0),sparkBarChartFillStyle:T(0),sparkBarChartStrokeStyle:V(0),sparkAreaChartFillStyle:b(0),sparkAreaChartStrokeStyle:V(0),sparkPieChartFillStyle:T,sparkPieChartStrokeStyle:Di,sparkChartBandFillStyle:pe,sparkChartBandStrokeStyle:gr,sparkChartConstantLineStrokeStyle:Ge,spiderChartBackgroundFillStyle:r.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:bt,spiderChartTitleFont:u,spiderChartTitleFillStyle:r.titleFillStyle,spiderChartSeriesBackgroundFillStyle:r.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:x,spiderChartWebStyle:new te({thickness:2,fillStyle:o}),spiderChartScaleLabelFillStyle:r.axisLabelMajorFillStyle,spiderChartScaleLabelFont:f,spiderChartAxisLabelFillStyle:r.axisTitleFillStyle,spiderChartAxisLabelFont:d,spiderChartAxisStrokeStyle:new te({thickness:2,fillStyle:a}),spiderChartAxisNibStrokeStyle:new te({thickness:2,fillStyle:n}),spiderSeriesFillStyle:b,spiderSeriesStrokeStyle:V,spiderSeriesPointFillStyle:T,pieChartBackgroundFillStyle:r.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:bt,pieChartTitleFont:u,pieChartTitleFillStyle:r.titleFillStyle,pieChartSliceFillStylePalette:T,pieChartSliceStrokeStyle:Di,pieChartSliceLabelFont:p,pieChartSliceLabelFillStyle:r.uiTextFillStyle,pieChartConnectorStrokeStyle:je,funnelChartBackgroundFillStyle:r.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:bt,funnelChartTitleFont:u,funnelChartTitleFillStyle:r.titleFillStyle,funnelChartSliceFillStylePalette:T,funnelChartSliceStrokeStyle:Di,funnelChartSliceLabelFont:p,funnelChartSliceLabelFillStyle:r.uiTextFillStyle,funnelChartConnectorStrokeStyle:je,pyramidChartBackgroundFillStyle:r.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:bt,pyramidChartTitleFont:u,pyramidChartTitleFillStyle:r.titleFillStyle,pyramidChartSliceFillStylePalette:T,pyramidChartSliceStrokeStyle:Di,pyramidChartSliceLabelFont:p,pyramidChartSliceLabelFillStyle:r.uiTextFillStyle,pyramidChartConnectorStrokeStyle:je,gaugeChartBackgroundFillStyle:r.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:bt,gaugeChartTitleFont:u,gaugeChartTitleFillStyle:r.titleFillStyle,gaugeChartEmptyGaugeFillStyle:new rt({color:r.uiBackgroundColor}),gaugeChartEmptyGaugeStrokeStyle:Di,gaugeChartGaugeFillStyle:Dr,gaugeChartIntervalLabelsFillStyle:ge,gaugeChartIntervalLabelsFont:p,gaugeChartValueLabelFillStyle:ge,gaugeChartValueLabelFont:p,treeMapChartBackgroundFillStyle:r.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:bt,treeMapChartParentColor:r.treeMapChartParentColor,treeMapChartNodeColors:r.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new te({thickness:1,fillStyle:new rt({color:Ys("000")})}),treeMapChartTitleFillStyle:r.titleFillStyle,treeMapChartTitleFont:u,treeMapChartPathLabelFillStyle:ge,treeMapChartPathLabelFont:p,treeMapChartLabelHeaderFillStyle:r.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:u,treeMapChartLabelFillStyle:r.treeMapChartLabelFillStyle,treeMapChartLabelFont:p,uiPanelBackgroundFillStyle:r.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:bt,zoomBandChartDefocusOverlayFillStyle:Ao,zoomBandChartSplitterStrokeStyle:Xe,zoomBandChartKnobFillStyle:r.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:r.zoomBandChartKnobSize,onScreenMenuBackgroundColor:L(254,204,0,.7),uiButtonFillStyle:Se,uiButtonFillStyleHidden:Ye,uiButtonStrokeStyle:Di,uiButtonSize:10,uiBackgroundFillStyle:ii,uiBackgroundStrokeStyle:Di,uiTextFillStyle:ge,uiTextFillStyleHidden:Mi,uiTextFont:p,legendTitleFillStyle:ge,legendTitleFont:m,cursorTickMarkerXBackgroundFillStyle:ii,cursorTickMarkerXBackgroundStrokeStyle:Di,cursorTickMarkerXTextFillStyle:ge,cursorTickMarkerXTextFont:p,cursorTickMarkerYBackgroundFillStyle:ii,cursorTickMarkerYBackgroundStrokeStyle:Di,cursorTickMarkerYTextFillStyle:ge,cursorTickMarkerYTextFont:p,cursorPointMarkerFillStyle:He.getFillStyle(),cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:Qe.Cross,cursorResultTableFillStyle:ii,cursorResultTableStrokeStyle:Di,cursorResultTableTextFillStyle:ge,cursorResultTableTextFont:p,cursorGridStrokeStyleX:He,cursorGridStrokeStyleY:He,chartMarkerPointMarkerFillStyle:He.getFillStyle(),chartMarkerPointMarkerSize:{x:20,y:20},chartMarkerPointMarkerShape:Qe.Star,seriesMarkerPointMarkerFillStyle:He.getFillStyle(),seriesMarkerPointMarkerSize:{x:9,y:9},seriesMarkerPointMarkerShape:Qe.Cross};return r.overrideThemeProperties&&(qe={...qe,...r.overrideThemeProperties}),qe})(s),i={...t,header1Font:e.xAxisTitleFont,header2Font:e.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:e.uiTextFont,mainDataColor:s.dataColorPalette[0].stroke};return{...e,examples:i}},Zh=(s,t)=>{const e=new Image;e.crossOrigin="*";const i=`${s}/${t}`;return e.addEventListener("error",r=>{aC(s,i,"Theme resource",{shouldCrash:!1})}),e.src=i,e},uf=(s,t,e)=>i=>{const r=s===!0?t[i%t.length].stroke:_s(t[i%t.length].stroke,L(255,255,255),.5);return new Rs({stops:[{color:_s(r,L(255,255,255),.5*e).setA(100),offset:0},{color:r.setA(100),offset:.5},{color:_s(r,L(30,30,30),.5*e).setA(100),offset:1}]})},cf=(s,t,e)=>i=>{const r=s===!0?t[i%t.length].stroke:_s(t[i%t.length].stroke,L(255,255,255),.2);return new Rs({stops:[{color:_s(r,L(255,255,255),.2*e),offset:0},{color:r,offset:.5},{color:_s(r,L(0,0,0),.2*e),offset:1}]})},_a=(s,t,e)=>i=>{const r=s===!0?t[i%t.length].stroke:_s(t[i%t.length].stroke,L(255,255,255),.2);return new Vs({angle:90,stops:[{color:_s(r,L(255,255,255),.5*e),offset:0},{color:r,offset:.35},{color:_s(r,L(30,30,30),.5*e),offset:1}]})},df=(s,t,e)=>(i=>{const r=new Map;return n=>{const a=r.get(n);if(a)return a;const o=(l=>{const u=s===!0?t[l%t.length].stroke:_s(t[l%t.length].stroke,L(255,255,255),.3);return new Vs({angle:90,stops:[{color:_s(u,L(255,255,255),.5),offset:0},{color:u,offset:.35},{color:_s(u,L(30,30,30),.5),offset:1}]})})(n);return r.set(n,o),o}})(),ff=(s,t,e)=>{const i=t[0].stroke;return new Rs({shape:Us.ellipse,extent:Os.farthestCorner,position:{x:.5,y:.5},stops:[{color:s===!0?i:_s(i,L(255,255,255),.5*e),offset:0},{color:i,offset:.5},{color:s===!0?i:_s(i,L(0,0,0),.5*e),offset:1}]})},oB=qd(()=>{const s=L(255,255,255),t=new rt({color:s}),e=!0,i=new fy({spread:1,blur:9,offset:{x:0,y:0},color:L(0,0,0,150)}),r=new Rs({position:{x:.8,y:.8},extent:Os.farthestCorner,shape:Us.ellipse,stops:[{offset:0,color:L(50,51,52)},{offset:.5,color:L(14,15,16)},{offset:1,color:L(0,0,0)}]}),n=new rt({color:L(45,45,45)}),a=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(120,120,120,100)},{offset:1,color:L(0,0,0,50)}]}),o=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(30,30,30,200)},{offset:1,color:L(0,0,0,255)}]}),l=new rt({color:L(255,255,220)}),u=new rt({color:L(255,255,166)}),d=new rt({color:L(255,255,220)}),f=new rt({color:L(255,255,220,130)}),g=new rt({color:L(255,255,200)}),m=g,p=new Vs({angle:45,stops:[{offset:0,color:L(230,230,230)},{offset:1,color:L(150,150,150)}]}),x=new rt({color:L(220,220,220)}),v=new rt({color:L(200,200,200,50)}),A=new rt({color:L(200,200,200,150)}),E=new rt({color:L(200,200,200,20)}),T=new rt({color:L(150,150,150)}),F=new Vs({angle:0,stops:[{offset:0,color:L(10,10,10,220)},{offset:1,color:L(30,30,30,220)}]}),D=t,N=L(255,255,200),V=L(20,20,20),P=L(0,0,0),b=s,M=L(150,150,150),w=L(50,50,50),C=L(50,50,50),k=L(100,100,100);L(200,200,200);const z=[L(255,255,91,255),L(255,205,91,255),L(255,155,91,255),L(255,196,188,255),L(255,148,184,255),L(219,148,198,255),L(235,196,224,255),L(169,148,198,255),L(148,226,198,255),L(148,255,176,255),L(180,255,165,255)].map(Ct=>({stroke:Ct,border:Ct,area:Ct.setA(100)})),H=s.setA(20),B=L(176,255,157,255),U=L(255,112,76,255),O={mapChartFillStyle:new Vs({angle:135,stops:[{color:L(255,255,91,255),offset:0},{color:L(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:uf(e,z,.5),pieChartSliceFillStylePalette:cf(e,z,1),funnelChartSliceFillStylePalette:_a(e,z,1),pyramidChartSliceFillStylePalette:_a(e,z,1),rectangleSeriesFillStyle:df(e,z),gaugeChartGaugeFillStyle:ff(e,z,1)},W=new rt({color:L(176,255,157,255)}),I=new rt({color:L(255,146,146,255)}),X=new rt({color:L(176,255,157,255)}),j=new rt({color:L(230,63,63,255)}),Q=new rt({color:L(176,255,157,120)}),J=new rt({color:L(229,63,63,180)}),st=new rt({color:L(27,37,36,255)}),nt=new rt({color:L(62,27,27,255)}),ct=[L(255,0,0),L(255,255,0),L(0,255,0)],dt=[L(10,10,255),L(10,190,255),L(251,255,0),L(255,38,0)],Tt=[L(255,255,0),L(255,204,0),L(255,128,0),L(255,0,0)],At=[L(0,0,0),L(167,4,69,255),L(255,0,0),L(252,252,168,255)],Vt=new Rs({stops:[{color:L(61,61,80,100),offset:0},{color:L(44,44,55,30),offset:1}]}),Pt=new rt({color:L(148,148,198,255)}),jt=Q.getColor().setA(255),Jt=L(100,100,100),_t=[L(255,241,149,200),L(255,230,65,200),L(238,211,32,200),L(238,176,32,200),L(255,159,13,200),L(254,120,37,200),L(253,91,56,200),L(253,75,84,200),L(254,95,124,200),L(227,56,160,200),L(226,53,134,200),L(216,90,166,200),L(254,151,206,200),L(237,151,254,200),L(243,177,255,200),L(233,133,252,200),L(210,101,230,200),L(178,61,200,200),L(193,81,156,200),L(217,95,145,200)];return lf({isDark:e,highlightColorOffset:L(60,60,60,60),highlightColorOffsetAxisOverlay:L(255,255,255,40),effect:i,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:r,dashboardSplitterFillStyle:n,panelBackgroundFillStyle:a,seriesBackgroundFillStyle:o,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:l,axisTitleFillStyle:u,axisLabelMajorFillStyle:d,axisLabelMinorFillStyle:f,uiTextFillStyle:m,axisLineFillStyle:p,axisTickMajorFillStyle:x,axisGridMajorFillStyle:v,axisTickMinorFillStyle:A,axisGridMinorFillStyle:E,cursorGridFillStyle:T,legendBackgroundFillStyle:F,legendBackgroundBorderFillStyle:D,legendButtonDefaultColor:N,uiBackgroundColor:V,uiBackgroundBorderColor:P,uiStrokeColorContrastHigh:b,uiStrokeColorContrastMedium:M,uiStrokeColorContrastLow:w,dataStrokeColorContrastHigh:C,dataStrokeColorContrastMedium:k,dataColorPalette:z,dataColorPaletteInverted:[{area:L(190,50,50,100),border:L(210,80,80)}],dataHighlightOverlayColor:H,dataColorPositive:B,dataColorNegative:U,zoomBandChartDefocusOverlayFillStyle:new rt({color:L(0,0,0,180)}),zoomBandChartSplitterColor:Ys("#FBFB5A"),zoomBandChartKnobFillStyle:Ct=>new ta({source:Zh(Ct,"zoomBandChart/darkgold-selector.png"),fitMode:as.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:O,treeMapChartParentColor:Ys("#181E21"),treeMapChartNodeColors:_t,treeMapChartLabelFillStyle:new rt({color:L(33,33,33)}),treeMapChartLabelHeaderFillStyle:new rt({color:L(250,250,250)})},{positiveTextFillStyle:W,negativeTextFillStyle:I,positiveFillStyle:X,negativeFillStyle:j,positiveAreaFillStyle:Q,negativeAreaFillStyle:J,positiveBackgroundFillStyle:st,negativeBackgroundFillStyle:nt,badGoodColorPalette:ct,coldHotColorPalette:dt,intensityColorPalette:Tt,spectrogramColorPalette:At,bollingerFillStyle:Vt,bollingerBorderFillStyle:Pt,highlightPointColor:s,highlightDataGridColor:jt,unfocusedDataColor:Jt})}),hB=qd(()=>{const s=L(255,255,255),t=new rt({color:s}),e=!0,i=new fy({spread:0,blur:9,offset:{x:0,y:0},color:L(105,255,236,40)}),r=new rt({color:L(2,21,30)}),n=new Rs({stops:[{color:L(19,40,66,150),offset:0},{color:L(0,0,0,150),offset:1}]}),a=new rt({color:L(0,5,8,150)}),o=t,l=t,u=t,d=new rt({color:L(255,255,220,130)}),f=t,g=new rt({color:L(20,224,250,255)}),m=t,p=new rt({color:L(61,94,110,100)}),x=new rt({color:L(61,94,110,255)}),v=new rt({color:L(61,94,110,40)}),A=t,E=new rt({color:L(0,18,23,255)}),T=t,F=s;new rt({color:L(0,17,22,240)});const D=L(0,38,48,220),N=L(0,0,0),V=s,P=L(150,150,150),b=L(19,78,93),M=L(50,50,50),w=L(0,36,48);L(200,200,200);const C=[L(45,253,253,255),L(44,172,247,255),L(46,100,248,255),L(96,84,199,255),L(184,104,245,255),L(98,160,218,255),L(43,238,245,255),L(38,140,206,255),L(112,96,224,255),L(206,157,255,255)].map(Jt=>({stroke:Jt,border:Jt,area:Jt.setA(100)})),k=s.setA(50),z=L(3,217,194,255),H=L(230,63,63,255),B={mapChartFillStyle:new Vs({angle:135,stops:[{color:L(118,248,231,255),offset:0},{color:L(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:uf(e,C,1),pieChartSliceFillStylePalette:cf(e,C,1),funnelChartSliceFillStylePalette:_a(e,C,1),pyramidChartSliceFillStylePalette:_a(e,C,1),rectangleSeriesFillStyle:df(e,C),gaugeChartGaugeFillStyle:ff(e,C,1)},U=new rt({color:L(45,253,253,255)}),O=new rt({color:L(255,146,146,255)}),W=new rt({color:L(45,253,253,255)}),I=new rt({color:L(230,63,63,255)}),X=new rt({color:L(1,190,164,120)}),j=new rt({color:L(229,63,63,180)}),Q=new rt({color:L(1,53,57,255)}),J=new rt({color:L(62,27,27,255)}),st=[L(1,104,119,255),L(0,165,144,255),L(0,246,214,255)],nt=[L(0,87,95,255),L(0,125,124,255),L(1,209,182,255),L(0,255,221,255),L(218,112,112,255),L(172,47,47,255)],ct=[L(126,255,253,255),L(50,233,230,255),L(0,196,193,255),L(62,138,178,255),L(139,88,191,255),L(162,55,143,255)],dt=[L(13,31,52,255),L(101,50,118,255),L(1,142,172,255),L(2,196,170,255),L(0,255,221,255)],Tt=new Rs({stops:[{color:L(122,103,254,70),offset:0},{color:L(178,168,255,10),offset:1}]}),At=new rt({color:L(122,103,254,255)}),Vt=X.getColor().setA(255),Pt=L(15,83,83),jt=[L(139,252,252,150),L(60,239,239,150),L(2,201,201,150),L(26,159,159,150),L(15,146,187,150),L(65,168,200,150),L(67,146,207,150),L(64,108,209,150),L(189,64,233,150),L(219,84,238,150),L(192,55,212,150),L(212,98,229,150),L(248,110,211,150),L(251,154,225,150),L(251,154,184,150),L(233,105,144,150),L(255,133,170,150),L(249,110,135,150),L(245,72,101,150),L(210,57,84,150)];return lf({isDark:e,highlightColorOffset:L(60,60,60,60),highlightColorOffsetAxisOverlay:L(255,255,255,40),effect:i,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:Jt=>new ta({source:Zh(Jt,"themes/turquoiseHexagon.jpg"),fitMode:as.Fill}),dashboardSplitterFillStyle:r,panelBackgroundFillStyle:n,seriesBackgroundFillStyle:a,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:o,axisTitleFillStyle:l,axisLabelMajorFillStyle:u,axisLabelMinorFillStyle:d,uiTextFillStyle:f,axisLineFillStyle:g,axisTickMajorFillStyle:m,axisGridMajorFillStyle:p,axisTickMinorFillStyle:x,axisGridMinorFillStyle:v,cursorGridFillStyle:A,legendBackgroundFillStyle:E,legendBackgroundBorderFillStyle:T,legendButtonDefaultColor:F,uiBackgroundColor:D,uiBackgroundBorderColor:N,uiStrokeColorContrastHigh:V,uiStrokeColorContrastMedium:P,uiStrokeColorContrastLow:b,dataStrokeColorContrastHigh:M,dataStrokeColorContrastMedium:w,dataColorPalette:C,dataColorPaletteInverted:[{area:L(170,60,210,100),border:L(210,100,250)}],dataHighlightOverlayColor:k,dataColorPositive:z,dataColorNegative:H,zoomBandChartDefocusOverlayFillStyle:new rt({color:L(0,0,0,180)}),zoomBandChartSplitterColor:Ys("#2BF4F4"),zoomBandChartKnobFillStyle:Jt=>new ta({source:Zh(Jt,"zoomBandChart/turquoise-selector.png"),fitMode:as.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:B,treeMapChartParentColor:Ys("#002329"),treeMapChartNodeColors:jt,treeMapChartLabelFillStyle:new rt({color:L(33,33,33)}),treeMapChartLabelHeaderFillStyle:new rt({color:L(250,250,250)})},{positiveTextFillStyle:U,negativeTextFillStyle:O,positiveFillStyle:W,negativeFillStyle:I,positiveAreaFillStyle:X,negativeAreaFillStyle:j,positiveBackgroundFillStyle:Q,negativeBackgroundFillStyle:J,badGoodColorPalette:st,coldHotColorPalette:nt,intensityColorPalette:ct,spectrogramColorPalette:dt,bollingerFillStyle:Tt,bollingerBorderFillStyle:At,highlightPointColor:s,highlightDataGridColor:Vt,unfocusedDataColor:Pt})}),lB=qd(()=>{const t=new fy({spread:0,blur:6,offset:{x:2,y:-2},color:L(0,0,0,30)}),e=new Rs({position:{x:.8,y:.8},extent:Os.farthestCorner,shape:Us.ellipse,stops:[{offset:0,color:L(255,255,255)},{offset:1,color:L(255,255,255)}]}),i=new rt({color:L(219,227,233,255)}),r=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(255,255,255,200)},{offset:1,color:L(240,244,246,200)}]}),n=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(255,255,255,255)},{offset:1,color:L(255,255,255,255)}]}),a=new rt({color:L(33,43,49)}),o=new rt({color:L(33,43,49)}),l=new rt({color:L(33,43,49)}),u=new rt({color:L(33,43,49,150)}),d=new rt({color:L(33,43,49)}),f=d,g=new Vs({angle:45,stops:[{offset:0,color:L(225,225,225)},{offset:1,color:L(225,225,225)}]}),m=new rt({color:L(150,150,150,255)}),p=new rt({color:L(150,150,150,170)}),x=new rt({color:L(150,150,150,150)}),v=new rt({color:L(150,150,150,100)}),A=new rt({color:L(128,146,159)}),E=new Vs({angle:0,stops:[{offset:0,color:L(255,255,255,240)},{offset:1,color:L(255,255,255,240)}]}),T=new rt({color:L(168,186,199)}),F=L(255,255,200);new rt({color:L(255,255,255,240)}),new rt({color:L(128,146,159,255)});const D=L(255,255,255,255),N=L(168,168,199,255),V=L(168,186,199,255),P=L(168,186,199,255),b=L(168,186,199,255),M=L(168,186,199,255),w=L(100,100,100);L(200,200,200);const C=[L(28,181,140,255),L(255,132,0,255),L(240,39,39,255),L(86,121,251,255),L(2,181,213,255),L(13,212,158,255),L(22,167,3,255),L(234,103,232,255),L(62,183,179,255),L(140,93,3,255),L(155,158,186,255)].map(_t=>({stroke:_t,border:_t,area:_t.setA(100)})),k=L(150,150,150,80),z=L(46,182,120,255),H=L(255,66,66,255),B=new te({thickness:2,fillStyle:new rt({color:L(168,186,199,255)})}),U={mapChartFillStyle:new Vs({angle:-45,stops:[{color:L(2,181,213,255),offset:0},{color:L(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:uf(!1,C,.8),pieChartSliceFillStylePalette:cf(!1,C,.8),funnelChartSliceFillStylePalette:_a(!1,C,.5),pyramidChartSliceFillStylePalette:_a(!1,C,.5),rectangleSeriesFillStyle:df(!1,C),gaugeChartGaugeFillStyle:ff(!1,C,.8),chartXYSeriesBackgroundStrokeStyle:B,chart3DSeriesBackgroundStrokeStyle:B,polarChartSeriesBackgroundStrokeStyle:B,spiderChartSeriesBackgroundStrokeStyle:B,dataGridTextFillStyle:new rt({color:L(0,88,64,255)})},O=new rt({color:L(4,146,108,255)}),W=new rt({color:L(240,39,39,255)}),I=new rt({color:L(28,181,140,255)}),X=new rt({color:L(230,88,88,255)}),j=new rt({color:L(28,181,140,180)}),Q=new rt({color:L(230,88,88,180)}),J=new rt({color:L(229,243,228)}),st=new rt({color:L(232,225,216)}),nt=[L(193,48,48,255),L(240,234,60,255),L(45,191,55,255)],ct=[L(10,19,255,255),L(15,191,250,255),L(249,255,2,255),L(253,133,0,255),L(255,24,0,255)],dt=[L(50,99,213),L(8,179,77),L(255,246,0),L(255,126,0),L(189,36,30)],Tt=[L(16,64,176),L(8,179,77),L(255,246,0),L(255,126,0),L(168,6,0)],At=new rt({color:L(185,198,207,255)}),Vt=new Rs({stops:[{color:L(151,190,220,10),offset:0},{color:L(151,190,220,50),offset:1}]}),Pt=j.getColor().setA(255),jt=L(150,150,150),Jt=[L(255,243,136,125),L(254,237,99,125),L(255,216,109,125),L(255,172,100,125),L(255,133,101,125),L(255,113,142,125),L(230,103,129,125),L(242,126,219,125),L(255,155,235,125),L(255,181,240,125),L(203,143,255,125),L(208,154,255,125),L(171,188,255,125),L(197,209,255,125),L(171,187,255,125),L(84,167,239,125),L(38,196,214,125),L(38,214,196,125),L(69,225,141,125),L(36,191,88,125)];return lf({isDark:!1,highlightColorOffset:L(-60,-60,-60,60),highlightColorOffsetAxisOverlay:L(0,0,0,40),effect:t,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:e,dashboardSplitterFillStyle:i,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:n,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:a,axisTitleFillStyle:o,axisLabelMajorFillStyle:l,axisLabelMinorFillStyle:u,uiTextFillStyle:f,axisLineFillStyle:g,axisTickMajorFillStyle:m,axisGridMajorFillStyle:p,axisTickMinorFillStyle:x,axisGridMinorFillStyle:v,cursorGridFillStyle:A,legendBackgroundFillStyle:E,legendBackgroundBorderFillStyle:T,legendButtonDefaultColor:F,uiBackgroundColor:D,uiBackgroundBorderColor:N,uiStrokeColorContrastHigh:V,uiStrokeColorContrastMedium:P,uiStrokeColorContrastLow:b,dataStrokeColorContrastHigh:M,dataStrokeColorContrastMedium:w,dataColorPalette:C,dataColorPaletteInverted:[{area:L(190,50,50,100),border:L(210,80,80)}],dataHighlightOverlayColor:k,dataColorPositive:z,dataColorNegative:H,zoomBandChartDefocusOverlayFillStyle:new rt({color:L(255,255,255,180)}),zoomBandChartSplitterColor:Ys("#505D65"),zoomBandChartKnobFillStyle:_t=>new ta({source:Zh(_t,"zoomBandChart/light-selector.png"),fitMode:as.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:U,treeMapChartParentColor:Ys("#D9D9D9"),treeMapChartNodeColors:Jt,treeMapChartLabelFillStyle:new rt({color:L(0,0,0)}),treeMapChartLabelHeaderFillStyle:new rt({color:L(33,33,33)})},{positiveTextFillStyle:O,negativeTextFillStyle:W,positiveFillStyle:I,negativeFillStyle:X,positiveAreaFillStyle:j,negativeAreaFillStyle:Q,positiveBackgroundFillStyle:J,negativeBackgroundFillStyle:st,badGoodColorPalette:nt,coldHotColorPalette:ct,intensityColorPalette:dt,spectrogramColorPalette:Tt,bollingerFillStyle:Vt,bollingerBorderFillStyle:At,highlightPointColor:L(0,0,0),highlightDataGridColor:Pt,unfocusedDataColor:jt})}),uB=qd(()=>{const t=new Rs({position:{x:.8,y:.8},extent:Os.farthestCorner,shape:Us.ellipse,stops:[{offset:0,color:L(255,255,255)},{offset:1,color:L(255,255,255)}]}),e=new rt({color:L(214,236,216,255)}),i=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(233,244,231,70)},{offset:1,color:L(233,244,231,200)}]}),r=new Rs({position:{x:.5,y:.5},extent:Os.farthestCorner,shape:Us.circle,stops:[{offset:0,color:L(255,255,255,255)},{offset:1,color:L(255,255,255,255)}]}),n=new rt({color:L(1,61,53)}),a=new rt({color:L(1,61,53)}),o=new rt({color:L(1,61,53)}),l=new rt({color:L(1,61,53,150)}),u=new rt({color:L(1,61,53)}),d=u,f=new Vs({angle:45,stops:[{offset:0,color:L(225,225,225)},{offset:1,color:L(225,225,225)}]}),g=new rt({color:L(188,211,186,255)}),m=new rt({color:L(188,211,186,150)}),p=new rt({color:L(188,211,186,50)}),x=new rt({color:L(188,211,186,50)}),v=new rt({color:L(104,148,111,255)}),A=new Vs({angle:0,stops:[{offset:0,color:L(255,255,255,240)},{offset:1,color:L(255,255,255,240)}]}),E=new rt({color:L(104,148,111)}),T=L(255,255,200);new rt({color:L(255,255,255,240)}),new rt({color:L(104,148,111,255)});const F=L(255,255,255,255),D=L(179,201,183,255),N=L(188,211,186,255),V=L(188,211,186,255),P=L(188,211,186,255),b=L(188,211,186,255),M=L(100,100,100);L(200,200,200);const w=[L(138,195,142,255),L(193,161,114,255),L(178,99,99,255),L(142,156,210,255),L(154,209,219,255),L(164,212,199,255),L(104,156,97,255),L(196,147,195,255),L(92,190,187,255),L(126,100,51,255),L(136,138,157,255)].map(Jt=>({stroke:Jt,border:Jt,area:Jt.setA(100)})),C=L(150,150,150,80),k=L(46,182,84,255),z=L(232,96,96,255),H=new te({thickness:2,fillStyle:new rt({color:L(188,211,186,255)})}),B={mapChartFillStyle:new Vs({angle:-45,stops:[{color:L(118,160,121,255),offset:0},{color:L(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:uf(!1,w,.8),pieChartSliceFillStylePalette:cf(!1,w,.8),pyramidChartSliceFillStylePalette:_a(!1,w,.5),funnelChartSliceFillStylePalette:_a(!1,w,.5),rectangleSeriesFillStyle:df(!1,w),gaugeChartGaugeFillStyle:ff(!1,w,.8),chartXYSeriesBackgroundStrokeStyle:H,chart3DSeriesBackgroundStrokeStyle:H,polarChartSeriesBackgroundStrokeStyle:H,spiderChartSeriesBackgroundStrokeStyle:H,dataGridTextFillStyle:new rt({color:L(77,66,21,255)})},U=new rt({color:L(93,151,97,255)}),O=new rt({color:L(178,99,99,255)}),W=new rt({color:L(138,195,142,255)}),I=new rt({color:L(178,99,99,255)}),X=new rt({color:L(138,195,142,180)}),j=new rt({color:L(178,99,99,180)}),Q=new rt({color:L(224,240,237)}),J=new rt({color:L(251,227,227)}),st=[L(178,99,99,255),L(215,224,111,255),L(80,186,88,255)],nt=[L(62,64,142,255),L(66,131,77,255),L(250,250,135,255),L(202,161,78,255),L(179,53,53,255)],ct=[L(64,86,138),L(123,192,205),L(255,252,149),L(220,155,92),L(184,78,74)],dt=[L(64,86,138),L(123,192,205),L(255,252,149),L(220,155,92),L(132,60,57)],Tt=new rt({color:L(185,198,207,255)}),At=new Rs({stops:[{color:L(151,190,220,10),offset:0},{color:L(151,190,220,50),offset:1}]}),Vt=X.getColor().setA(255),Pt=L(150,150,150),jt=[L(242,239,210,150),L(243,238,183,150),L(210,222,136,150),L(204,217,148,150),L(157,190,124,150),L(143,178,72,150),L(198,147,88,150),L(216,148,71,150),L(229,142,103,150),L(225,174,152,150),L(219,149,203,150),L(216,188,209,150),L(109,198,189,150),L(172,206,202,150),L(164,223,217,150),L(174,215,233,150),L(203,225,235,150),L(220,227,243,150),L(207,213,227,150),L(171,182,209,150)];return lf({isDark:!1,highlightColorOffset:L(-60,-60,-60,60),highlightColorOffsetAxisOverlay:L(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:t,dashboardSplitterFillStyle:e,panelBackgroundFillStyle:i,seriesBackgroundFillStyle:r,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:n,axisTitleFillStyle:a,axisLabelMajorFillStyle:o,axisLabelMinorFillStyle:l,uiTextFillStyle:d,axisLineFillStyle:f,axisTickMajorFillStyle:g,axisGridMajorFillStyle:m,axisTickMinorFillStyle:p,axisGridMinorFillStyle:x,cursorGridFillStyle:v,legendBackgroundFillStyle:A,legendBackgroundBorderFillStyle:E,legendButtonDefaultColor:T,uiBackgroundColor:F,uiBackgroundBorderColor:D,uiStrokeColorContrastHigh:N,uiStrokeColorContrastMedium:V,uiStrokeColorContrastLow:P,dataStrokeColorContrastHigh:b,dataStrokeColorContrastMedium:M,dataColorPalette:w,dataColorPaletteInverted:[{area:L(210,70,70,100),border:L(200,110,110)}],dataHighlightOverlayColor:C,dataColorPositive:k,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new rt({color:L(255,255,255,180)}),zoomBandChartSplitterColor:Ys("#446A40"),zoomBandChartKnobFillStyle:Jt=>new ta({source:Zh(Jt,"zoomBandChart/lightnature-selector.png"),fitMode:as.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:B,treeMapChartParentColor:Ys("#EFF7EE"),treeMapChartNodeColors:jt,treeMapChartLabelFillStyle:new rt({color:L(0,0,0)}),treeMapChartLabelHeaderFillStyle:new rt({color:L(33,33,33)})},{positiveTextFillStyle:U,negativeTextFillStyle:O,positiveFillStyle:W,negativeFillStyle:I,positiveAreaFillStyle:X,negativeAreaFillStyle:j,positiveBackgroundFillStyle:Q,negativeBackgroundFillStyle:J,badGoodColorPalette:st,coldHotColorPalette:nt,intensityColorPalette:ct,spectrogramColorPalette:dt,bollingerFillStyle:At,bollingerBorderFillStyle:Tt,highlightPointColor:L(0,0,0),highlightDataGridColor:Vt,unfocusedDataColor:Pt})}),cB=qd(()=>{const s=L(255,255,255),t=new rt({color:s}),e=!0,i=new fy({spread:1,blur:9,offset:{x:0,y:0},color:L(255,255,255,30)}),r=new rt({color:L(6,15,36)}),n=new Rs({stops:[{color:L(46,13,87,50),offset:0},{color:L(0,0,0,150),offset:1}]}),a=new rt({color:L(0,5,8,150)}),o=t,l=t,u=t,d=new rt({color:L(255,255,220,130)}),f=t,g=new Vs({angle:45,stops:[{offset:0,color:L(241,133,255,255)},{offset:1,color:L(115,207,238,255)}]}),m=t,p=new rt({color:L(61,94,110,100)}),x=new rt({color:L(61,94,110,255)}),v=new rt({color:L(61,94,110,40)}),A=t,E=new rt({color:L(0,18,23,255)}),T=t,F=L(115,207,238,255);new rt({color:L(0,17,22,240)});const D=L(0,38,48,255),N=L(0,0,0),V=s,P=L(150,150,150),b=L(19,57,93),M=L(50,50,50),w=L(0,17,48);L(200,200,200);const C=[L(20,211,237,255),L(98,147,252,255),L(164,73,250,255),L(129,117,253,255),L(95,134,252,255),L(22,133,212,255),L(35,200,242,255),L(104,121,233,255),L(137,69,232,255),L(70,72,241,255)].map(Jt=>({stroke:Jt,border:Jt,area:Jt.setA(100)})),k=s.setA(50),z=L(3,217,194,255),H=L(243,21,110,255),B={mapChartFillStyle:new Vs({angle:135,stops:[{color:L(118,248,231,255),offset:0},{color:L(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:uf(e,C,.5),pieChartSliceFillStylePalette:cf(e,C,2),funnelChartSliceFillStylePalette:_a(e,C,1),pyramidChartSliceFillStylePalette:_a(e,C,1),rectangleSeriesFillStyle:df(e,C),gaugeChartGaugeFillStyle:ff(e,C,1)},U=new rt({color:L(20,211,237,255)}),O=new rt({color:L(253,145,178,255)}),W=new rt({color:L(20,211,237,255)}),I=new rt({color:L(239,68,121,255)}),X=new rt({color:L(20,211,237,120)}),j=new rt({color:L(239,68,121,180)}),Q=new rt({color:L(1,53,57,255)}),J=new rt({color:L(94,19,42,255)}),st=[L(174,51,132,255),L(204,107,218,255),L(189,215,253,255)],nt=[L(0,63,95,255),L(0,149,255,255),L(0,225,255,255),L(255,154,254,255),L(204,98,170,255),L(139,39,84,255)],ct=[L(197,241,255,255),L(70,210,255,255),L(0,164,217,255),L(90,99,222,255),L(138,75,192,255),L(151,27,162,255)],dt=[L(13,31,52,255),L(129,54,130,255),L(131,108,176,255),L(7,162,213,255),L(26,247,255,255)],Tt=new Rs({stops:[{color:L(219,42,235,60),offset:0},{color:L(237,73,252,10),offset:1}]}),At=new rt({color:L(237,73,252,255)}),Vt=X.getColor().setA(255),Pt=L(8,70,100),jt=[L(149,230,255,150),L(93,213,243,150),L(20,189,223,150),L(5,151,181,150),L(2,138,198,150),L(2,113,198,150),L(97,148,236,150),L(93,111,230,150),L(151,120,223,150),L(128,87,227,150),L(153,52,230,150),L(179,92,245,150),L(248,110,211,150),L(255,155,228,150),L(251,88,207,150),L(255,0,162,150),L(214,73,177,150),L(209,71,159,150),L(238,101,169,150),L(210,57,134,150)];return lf({isDark:e,highlightColorOffset:L(60,60,60,60),highlightColorOffsetAxisOverlay:L(255,255,255,40),effect:i,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:Jt=>new ta({source:Zh(Jt,"themes/cyberSpace.jpg"),fitMode:as.Fill}),dashboardSplitterFillStyle:r,panelBackgroundFillStyle:n,seriesBackgroundFillStyle:a,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:o,axisTitleFillStyle:l,axisLabelMajorFillStyle:u,axisLabelMinorFillStyle:d,uiTextFillStyle:f,axisLineFillStyle:g,axisTickMajorFillStyle:m,axisGridMajorFillStyle:p,axisTickMinorFillStyle:x,axisGridMinorFillStyle:v,cursorGridFillStyle:A,legendBackgroundFillStyle:E,legendBackgroundBorderFillStyle:T,legendButtonDefaultColor:F,uiBackgroundColor:D,uiBackgroundBorderColor:N,uiStrokeColorContrastHigh:V,uiStrokeColorContrastMedium:P,uiStrokeColorContrastLow:b,dataStrokeColorContrastHigh:M,dataStrokeColorContrastMedium:w,dataColorPalette:C,dataColorPaletteInverted:[{area:L(41,130,255,100),border:L(45,110,240)}],dataHighlightOverlayColor:k,dataColorPositive:z,dataColorNegative:H,zoomBandChartDefocusOverlayFillStyle:new rt({color:L(0,0,0,180)}),zoomBandChartSplitterColor:Ys("#DB77FF"),zoomBandChartKnobFillStyle:Jt=>new ta({source:Zh(Jt,"zoomBandChart/cyberspace-selector.png"),fitMode:as.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:B,treeMapChartParentColor:Ys("#1E1E3B"),treeMapChartNodeColors:jt,treeMapChartLabelFillStyle:new rt({color:L(33,33,33)}),treeMapChartLabelHeaderFillStyle:new rt({color:L(250,250,250)})},{positiveTextFillStyle:U,negativeTextFillStyle:O,positiveFillStyle:W,negativeFillStyle:I,positiveAreaFillStyle:X,negativeAreaFillStyle:j,positiveBackgroundFillStyle:Q,negativeBackgroundFillStyle:J,badGoodColorPalette:st,coldHotColorPalette:nt,intensityColorPalette:ct,spectrogramColorPalette:dt,bollingerFillStyle:Tt,bollingerBorderFillStyle:At,highlightPointColor:s,highlightDataGridColor:Vt,unfocusedDataColor:Pt})}),Zl={};Object.defineProperty(Zl,"darkGold",{get:oB,enumerable:!0}),Object.defineProperty(Zl,"turquoiseHexagon",{get:hB,enumerable:!0}),Object.defineProperty(Zl,"light",{get:lB,enumerable:!0}),Object.defineProperty(Zl,"lightNature",{get:uB,enumerable:!0}),Object.defineProperty(Zl,"cyberSpace",{get:cB,enumerable:!0});const dB=Zl,wr=dB.darkGold,Cr=(s,t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC")=>{let e,i=0,r=0;const n=[],a=d=>{const f=new ht.Image;f.src=d,f.onload=()=>{n.forEach(g=>{var m;const p=new ta({source:f,fitMode:as.Stretch});(m=g.Rd)===null||m===void 0||m.Ce(p),i=f.width,r=f.height,u(g)})}};a(t);const o=s.Gn(d=>a(d));let l;if(new ht.Image instanceof ht.HTMLImageElement){const d=new ht.Image;d.src=t,l=new ta({source:d,fitMode:as.Stretch})}else if(ht.lcjs_setup){const d=new ht.Image;d.src=t;const f=ht.lcjs_setup(d.naturalWidth,d.naturalHeight);f.getContext("2d").drawImage(d,0,0),l=new ta({source:f,fitMode:as.Stretch})}else l=new rt({color:Ys("#f00")});const u=d=>{if(d.Rd){const f=d.dt.mi({x:d.dt.x.getInnerEnd(),y:d.dt.y.getInnerStart()},{x:-(3+i),y:3}),g=d.dt.mi({x:d.dt.x.getInnerEnd(),y:d.dt.y.getInnerStart()},{x:-3,y:3+r}),m={x:g.x-f.x,y:g.y-f.y};d.Rd.Fe(f).q(m)}e&&e.Ss()};return e=s.FI("logo",Number.MAX_SAFE_INTEGER),d=>{const f={dt:d};return(g=>{g.Rd&&g.Rd.dispose(),e&&(g.Rd=e.ke(g.dt).Ce(l).setMouseInteractions(!0).we(bt).setMouseEnterEventHandler(()=>{s.Wr(he.Point)}).setMouseLeaveEventHandler(()=>{s.Wr(he.None)}).setMouseClickEventHandler(hE).setTouchEndEventHandler(hE),u(g))})(f),n.push(f),{Ps:()=>u(f),W:()=>(g=>{g.Rd&&(g.Rd.dispose(),g.Rd=void 0);const m=n.indexOf(g);m>=0&&n.splice(m,1),n.length<=0&&s.Wn(o)})(f)}}},hE=()=>ht.open("https://lightningchart.com/lightningchart-js/");class fB{constructor(){this.mR=this.dP.bind(this),ht.addEventListener("scroll",this.mR,{passive:!0})}W(){this.mR&&ht.removeEventListener("scroll",this.mR),this.mR=void 0}}class $0{constructor(t,e){this.ma=t,this.X=e,this.yR=!0,this.pR=null,this.SR=null}}class MS{constructor(t){this.vR=!1,this.bR=1,this.xR=t,this.MR={ma:Y(0,0),X:Y(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),yR:!0,pR:null,SR:null},this._R=Y(64,64),this.wR=new Uint8ClampedArray(this._R.x*this._R.y*this.bR)}CR(t,e){if(!t.yR)return null;if(t.pR&&t.SR){const u=this.CR(t.pR,e);return u!==null?u:this.CR(t.SR,e)}const i=wa(t.X.x,t.X.y);if(t.ma.x+t.X.x>=Number.MAX_SAFE_INTEGER&&(i.x=this._R.x-t.ma.x-1),t.ma.y+t.X.y>=Number.MAX_SAFE_INTEGER&&(i.y=this._R.y-t.ma.y-1),t.X.x===e.x&&t.X.y===e.y)return t.yR=!1,t;if(i.x<e.x||i.y<e.y)return null;let r,n;const a=i.x-e.x,o=i.y-e.y;let l=a<o;return a===0&&o===0&&(l=!(t.X.x>t.X.y)),l?(r=new $0(Bt(t.ma,{x:0,y:1}),Y(t.X.x,e.y)),n=new $0(Bt(t.ma,{x:0,y:e.y+1}),Y(t.X.x,t.X.y-1-e.y))):(r=new $0(Bt(t.ma,{x:1,y:0}),Y(e.x,t.X.y)),n=new $0(Bt(t.ma,{x:e.x+1,y:0}),Y(t.X.x-1-e.x,t.X.y))),t.pR=r,t.SR=n,this.CR(t.pR,e)}kR(t,e){const i={TR:!1,ma:null};let r=this.CR(this.MR,e);if(r===null)for(;r===null&&this._R.x<this.xR&&this._R.y<this.xR;){if(!this.FR(Y(2*this._R.x,2*this._R.y)))return this.vR=!0,null;i.TR=!0,r=this.CR(this.MR,e)}if(r===null)return this.vR=!0,null;for(let n=0;n<e.y;n+=1)for(let a=0;a<e.x;a+=1){const o=r.ma.y+n,l=r.ma.x+a;this.wR[o*this.bR*this._R.x+l*this.bR+0]=t[n*this.bR*e.x+a*this.bR+0]}return i.ma=r.ma,i}FR(t){if(t.x>this.xR||t.y>this.xR)return!1;const e=new Uint8ClampedArray(t.x*t.y*this.bR);for(let i=0;i<this._R.y;i+=1)for(let r=0;r<this._R.x;r+=1)e[i*t.x*this.bR+r*this.bR+0]=this.wR[i*this._R.x*this.bR+r*this.bR+0];return this._R=t,this.wR=e,!0}}class gB{constructor(t){this.IR=new Map,this.xR=t,this.IR.set(this.IR.size,new MS(this.xR))}PR(t){return this.IR.get(t)}kR(t,e){let i=-1;const r=Array.from(this.IR.values());for(let o=0;o<r.length;o+=1){const l=r[o];if(!l)break;if(!l.vR){i=o;break}}i===-1&&(i=this.IR.size,this.IR.set(this.IR.size,new MS(this.xR)));const n=this.IR.get(i);if(!n)return null;let a=n.kR(t,e);if(!a&&n.vR){const o=this.IR.size,l=new MS(this.xR);this.IR.set(o,l),i=o,a=l.kR(t,e)}return a?{DR:i,...a}:null}}var ro;(function(s){s[s.Fail=0]="Fail",s[s.Success=1]="Success",s[s.Resize=2]="Resize"})(ro||(ro={}));const yB=MA("font-texture");class mB{constructor(t){this.BR=new Map,this.LR=new Map,this.No=yB(),this.RR=t,this.ER=new gB(this.RR.zR||4096)}VR(){return this.LR.forEach(t=>{this.RR.OR(t)}),this.LR.clear(),this}NR(t,e){const i=this.BR.get(e);if(i)return i.get(t)}GR(t,e,i){let r=this.BR.get(e);if(r||(r=new Map,this.BR.set(e,r)),r.has(t.glyph))return ro.Success;const n=this.ER.kR(i,t.size);if(!n||!n.ma)return ro.Fail;n.TR&&this.WR();const a=this.ER.PR(n.DR);if(!a)return ro.Fail;let o=this.LR.get(n.DR);if(!o){const V=this.RR.gl.createTexture();if(!V)throw new zi("Failed to create texture for font!");o=V,this.LR.set(n.DR,V)}const l=n.ma,u=a._R.x,d=a._R.y,f=-t.offsetX,g=t.baseline-t.size.y,m=-t.offsetX+t.size.x,p=t.baseline,x=l.x/u,v=(l.y+t.size.y)/d,A=(l.x+t.size.x)/u,E=l.y/d,T=[x,v,A,v,x,E,x,E,A,v,A,E],F=[f,g,m,g,f,p,f,p,m,g,m,p],D={origin:l,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:F,texCoords:T,packerId:n.DR,texture:o};r.set(t.glyph,D);const N=this.RR.gl;return N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),N.bindTexture(N.TEXTURE_2D,o),N.texImage2D(N.TEXTURE_2D,0,N.LUMINANCE,a._R.x,a._R.y,0,N.LUMINANCE,N.UNSIGNED_BYTE,this.RR.UR?a.wR:new Uint8Array(a.wR)),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.LINEAR),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.LINEAR),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),N.bindTexture(N.TEXTURE_2D,null),n.TR?ro.Resize:ro.Success}WR(){this.BR.forEach(t=>{t.forEach((e,i)=>{const r=this.ER.PR(e.packerId);if(!r)return;const n=e.origin,a=r._R.x,o=r._R.y,l=n.x/a,u=(n.y+e.size.y)/o,d=(n.x+e.size.x)/a,f=n.y/o,g=[l,u,d,u,l,f,l,f,d,u,d,f];e.texCoords=g,t.set(i,e)})})}}const Ut=s=>{if(s instanceof Me||s instanceof dr)return s._i()?"linear-highPrecision":"linear";if(s instanceof Pi){const t={};return s.x instanceof nh&&(t.x={base:s.x.gi()}),s.y instanceof nh&&(t.y={base:s.y.gi()}),["logarithmic",t]}return"linear"},Hs=s=>{const t=Object.keys(s),e={};return t.forEach(i=>{const r=s[i];let n=!1;e[i]=a=>{if(!a)return n;const o=r();return n=o,o}}),e},Ar=(s,t,e)=>s.getLookUpProperty()==="value"?e:s.getLookUpProperty()==="x"?{min:t.vt(),max:t.bt()}:s.getLookUpProperty()==="y"?{min:t.xt(),max:t.Mt()}:s.getLookUpProperty()==="z"?{min:t.lS(),max:t.aS()}:void 0,RS=s=>!(!s||s.lookUpProperty!=="value"||!s.lut.percentageValues),pB=s=>(t,e)=>e%2?t:t+s;class SB{constructor(t){this.YR=new Map,this.HR=MA("font"),this.$R=new Map,this.XR=new Set,this.RR=t}VR(t=!1){return(t||this.XR.size===0)&&(this.YR.forEach((e,i)=>{e.VR(),this.YR.delete(i)}),this.XR.clear()),this}jR(t){this.XR.add(t)}ZR(t){this.XR.delete(t)}QR(t,e,i,r){const n=ht.devicePixelRatio,a=`${r?"dark":"light"} - ${kA(e,n).id}`,o=this.$R.get(a),l=this.YR.get(o);let u=0,d=0,f=0;const g=t.split(""),m=e.size,p=.45*e.size*n,x=Math.round(1*e.size);let v=!1;for(let E=0;E<g.length;E+=1){const T=g[E],F=l&&l.NR(T,m);F?(T.trim()!==""&&(d=Math.max(d,F.baseline),u=Math.min(u,F.baseline-(F.size.y-1))),f+=F.advanceX):(T.trim()!==""&&(d=Math.max(d,0),u=Math.min(u,0-(x-1))),f+=p,v=!0)}const A=((E,T,F)=>{if(F===0||F===360||F===180||F%180==0)return{x:E,y:T};if(F===90||F===-90||(F+90)%180==0)return{x:T,y:E};const D=F*Math.PI/180,N=Math.cos(D),V=Math.sin(D);return{x:Math.abs(E*N)+Math.abs(T*V),y:Math.abs(E*V)+Math.abs(T*N)}})(f/n,(d-u+1)/n,i);return{x:A.x,y:A.y,isEstimate:v}}JR(t,e,i){const r=`${i?"dark":"light"} - ${e.id}`;let n=this.$R.get(r);n||(n=this.HR(),this.YR.set(n,new mB(this.RR)),this.$R.set(r,n));const a=this.YR.get(n);if(!a)throw new zi("Failed to get font texture!");let o=0,l=0,u=0;const d=t.split(""),f=new Map;let g=0;const m=e.properties.size;for(let v=0;v<d.length;v+=1){const A=d[v],E=Math.ceil(g);let T=a.NR(A,m);if(!T){const F=this.RR.KR(A,e.properties,e.dpr,i);if(!F)continue;const D=a.GR(F[1],m,F[0]);if(D===ro.Resize){this.XR.forEach(N=>{N.la.i=!0}),v=-1,g=0,l=0,o=0,f.clear();continue}if(D===ro.Fail)throw new zi("Failed to create glyph");if(T=a.NR(A,m),!T)throw new zi("Failed to get glyph after creation")}if(A.trim()!==""){let F=f.get(T.texture);F||(F={vertices:[],texCoords:[]},f.set(T.texture,F)),F.vertices.push(...T.vertices.map(pB(E))),F.texCoords.push(...T.texCoords),l=Math.max(l,T.baseline),o=Math.min(o,T.baseline-(T.size.y-1))}g+=T.advanceX}u=g;const p=se(Y(0,o),Y(u,l)),x=[];return f.forEach((v,A)=>{x.push({texCoords:new Float32Array(v.texCoords),vertices:new Float32Array(v.vertices),texture:A})}),[x,p]}}class lE{constructor(t){this.modifiers=[],this.modifiers=t}build(t){const e=this.modifiers.filter(i=>xB(i));for(const i of e)t=i(t);return`${Xo(this.modifiers.filter(i=>AB(i))).map(i=>i.qR).join(`
`)}
${t}`}}const xB=s=>typeof s=="function",AB=s=>s&&typeof s=="object"&&"tE"in s,it=(...s)=>t=>{s=s.reverse();for(let e of s)typeof e=="string"&&(e=e.includes("{")||e.endsWith(";")?e:`${e};`,e=e.trim(),t=t.replace("void main(void)",`${e}
void main(void)`));return t},Lg=s=>t=>(s=s.endsWith(";")?s:`${s};`,t.replace(s,"")),$e=(...s)=>t=>{const e=s.filter(r=>r!==!1);for(let r=0;r<e.length;r+=1)e[r]=e[r].endsWith(";")?e[r]:`${e[r]};`,e[r]=e[r].startsWith("	")?e[r]:`	${e[r]}`;const i=e.join(`
`);return t.replace(`void main(void) {
`,`void main(void) {
${i}
`)},Ig=(s,...t)=>e=>{for(let a=0;a<t.length;a+=1)t[a]=t[a].endsWith(";")?t[a]:`${t[a]};`,t[a]=t[a].startsWith("	")?t[a]:`	${t[a]}`;const i=t.join(`
`),r=new RegExp(`(.*${s}.*)`),n=e.replace(r,`${i}
$1`);return t.forEach(a=>{if(!n.includes(a))throw new Error(`ShaderBefore misusage (not found: 
${a}
match: 
${s}
result: 
${n}
)`)}),n},rs=(s,...t)=>e=>{const i=t.filter(d=>typeof d=="string");for(let d=0;d<i.length;d+=1)i[d]=i[d].endsWith(";")?i[d]:`${i[d]};`,i[d]=i[d].startsWith("	")?i[d]:`	${i[d]}`;const r=i.join(`
`),n=e.lastIndexOf(s),a=e.substring(n),o=a.indexOf(`
`),l=a.substring(o),u=`${e.substring(0,n+o)}
${r}${l}`;return i.forEach(d=>{if(!u.includes(d))throw new Error(`ShaderAfter misusage (not found: "${d}", match: "${s}", result: "${u}")`)}),u},qn=(...s)=>t=>{for(let e of s)if(typeof e=="string"){e=e.endsWith(";")?e:`${e};`,e=e.trim(),e=e.startsWith("	")?e:`	${e}`;const i=t.lastIndexOf("}");t=`${t.substring(0,i-1)}
${e}
}`}return t},Ds=(s,t)=>e=>{let i,r;if(s.includes("uniform")||s.includes("attribute")){const n=s.endsWith(";")?s:`${s};`;e=it(n)(e),i=s.split(" ")[2].replace(";","")}else i=s;if(t.includes(" ")){const n=t.endsWith(";")?t:`${t};`;e=it(n)(e),r=t.split(" ")[2].replace(";","")}else r=t;return qn(`	${r} = ${i};`)(e)},vB=(...s)=>t=>{s=s.reverse();for(const e of s)t=e+t;return t},es={roundUnsigned:{tE:"roundUnsigned",qR:`float roundUnsigned(float number) {
  return floor(number + 0.5);
}`},linearStep:{tE:"linearStep",qR:`float linearStep(float step0, float step1, float step) {
  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);
}`},decodeUbyteRGBAEncodedFloat:{tE:"decodeUbyteRGBAEncodedFloat",qR:`
      // Denormalize 8-bit color channels to integers in the range 0 to 255.
      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {
        ivec4 bytes = ivec4(inputFloats * 255.0);
        return (
          littleEndian
          ? bytes.abgr
          : bytes
        );
      }
      
      // Break the four bytes down into an array of 32 bits.
      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {
        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {
          float acc = float(bytes[channelIndex]);
          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {
            float powerOfTwo = exp2(float(indexInByte));
            bool bit = acc >= powerOfTwo;
            bits[channelIndex * 8 + (7 - indexInByte)] = bit;
            acc = mod(acc, powerOfTwo);
          }
        }
      }
      
      // Compute the exponent of the 32-bit float.
      float getExponent(bool bits[32]) {
        const int startIndex = 1;
        const int bitStringLength = 8;
        const int endBeforeIndex = startIndex + bitStringLength;
        float acc = 0.0;
        int pow2 = bitStringLength - 1;
        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {
          acc += float(bits[bitIndex]) * exp2(float(pow2--));
        }
        return acc;
      }
      
      // Compute the mantissa of the 32-bit float.
      float getMantissa(bool bits[32], bool subnormal) {
        const int startIndex = 9;
        const int bitStringLength = 23;
        const int endBeforeIndex = startIndex + bitStringLength;
        // Leading/implicit/hidden bit convention:
        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.
        float acc = float(!subnormal) * exp2(float(bitStringLength));
        int pow2 = bitStringLength - 1;
        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {
          acc += float(bits[bitIndex]) * exp2(float(pow2--));
        }
        return acc;
      }
      
      // Parse the float from its 32 bits.
      float bitsToFloat(bool bits[32]) {
        float signBit = float(bits[0]) * -2.0 + 1.0;
        float exponent = getExponent(bits);
        bool subnormal = abs(exponent - 0.0) < 0.01;
        float mantissa = getMantissa(bits, subnormal);
        float exponentBias = 127.0;
        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);
      }
      
      // Decode a 32-bit float from the RGBA color channels of a texel.
      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {
        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);
        bool bits[32];
        bytesToBits(rgbaBytes, bits);
        return bitsToFloat(bits);
      }
      `},texelFetchWithFallback:{webgl2:{tE:"texelFetchWithFallback",qR:`vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {
  return texelFetch(textureSampler, iTexel, 0);
}`},webgl1:{tE:"texelFetchWithFallback",qR:`vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {
  vec2 halfTexel = 0.5 / textureSize;
  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);
}`}},texelFetchUnsignedWithFallback:{webgl2:{tE:"texelFetchUnsignedWithFallback",qR:`uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {
  return texelFetch(textureSampler, iTexel, 0);
}`},webgl1:{tE:"texelFetchUnsignedWithFallback",qR:`uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {
  vec2 halfTexel = 0.5 / textureSize;
  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);
}`}},modulus:{tE:"modulus",qR:`int modulus(int a, int b) {
  return (a)-((a)/(b))*(b);
}`},computeScreenSpaceWireframe:{tE:"computeScreenSpaceWireframe",qR:`#extension GL_OES_standard_derivatives : enable
float computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {
  vec3 dist = fwidth(barycentric);
  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);
  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);
}`}},Yl=(s,t)=>{const e=t.steps,i=e.length-1,r=[it("uniform vec4 uFallbackColor")],n=[],a=[];for(let o=0;o<t.steps.length;o+=1)n.push(`uniform float uLUTValue${o}`),a.push(`uniform vec4 uLUTColor${o}`);return r.push(it(...n,...a),t.percentageValues&&it("uniform float uMinValue","uniform float uMaxValue")),t.interpolate?r.push(Ig("colorFragment","vec4 colorLookup = vec4(0.0)",`if (${s} <= -340282346638528859811704183484516925440.0) {
                    colorLookup = uFallbackColor;
                }`,"float value = "+(t.percentageValues?`clamp((${s} - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);`:`${s}`),`if (value <= uLUTValue0) {
                    colorLookup = uLUTColor0;
                }`,`if (value >= uLUTValue${i}) {
                    colorLookup = uLUTColor${i};
                }`,...e.slice(0,-1).map((o,l)=>`if (value >= uLUTValue${l} && value <= uLUTValue${l+1}) { colorLookup = uLUTColor${l} + vec4(
                        uLUTColor${l+1}[0] -  uLUTColor${l}[0],
                        uLUTColor${l+1}[1] -  uLUTColor${l}[1],
                        uLUTColor${l+1}[2] -  uLUTColor${l}[2],
                        uLUTColor${l+1}[3] -  uLUTColor${l}[3]
                    ) * (value - uLUTValue${l})/(uLUTValue${l+1} - uLUTValue${l});}`),"vec4 colorFragment = colorLookup")):r.push(Ig("colorFragment","vec4 colorLookup = vec4(uLUTValue0)",`if (${s} <= -340282346638528859811704183484516925440.0) {
                    colorLookup = uFallbackColor;
                }`,"float value = "+(t.percentageValues?`clamp((${s} - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);`:`${s}`),`if (${s} >= uLUTValue${i}) { colorLookup = uLUTColor${i};}`,...e.slice(1).reverse().map(o=>{const l=e[e.indexOf(o)-1];return`if (value < uLUTValue${e.indexOf(o)}) { colorLookup = uLUTColor${e.indexOf(l)};}`}),"vec4 colorFragment = colorLookup")),r},Hl=[it("uniform sampler2D uMaskTexture"),it("varying vec2 vMaskTextureCoord"),rs("antiAliasFactor =","vec4 maskTextureSample = texture2D(uMaskTexture, vMaskTextureCoord)","antiAliasFactor = maskTextureSample.r")],Xl=[it("uniform sampler2D uMaskTexture"),it("varying vec2 vMaskTextureCoord"),rs("antiAliasFactor =","vec4 maskTextureSample = texture2D(uMaskTexture, vMaskTextureCoord)","antiAliasFactor = maskTextureSample.a")],uE=[it("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),rs("colorFragment =","float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = colorFragment.rgb","vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","colorFragment = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, colorFragment.a)")];class j0 extends Error{constructor(t,e,i){super(`Dynamic shader generation error
(id: ${e})
 ${i?`when applying feature: ${i.idVertex?`vert: ${i.idVertex}`:""} ${i.idFragment?`frag: ${i.idFragment}`:""}`:""} | ${t}`)}}const Is=(...s)=>{let t="";for(const e of s){if(typeof e!="object"){t+=`${String(e)},`;continue}const i=[{prefix:"",obj:e}];for(;i.length>0;){const{prefix:r,obj:n}=i.shift();t+=`${r}:`;const a=Object.keys(n).sort();for(const o of a){const l=n[o];typeof l=="object"&&l.__proto__===Object.prototype||Array.isArray(l)?i.push({prefix:o,obj:l}):t+=`${o}=${String(l)},`}}}return t},cE=s=>s.find(t=>{var e;return(e=t.iE)===null||e===void 0?void 0:e.sE})!==void 0,q0=s=>s.find(t=>{var e;return(e=t.iE)===null||e===void 0?void 0:e.eE})!==void 0,_h=(s,t,...e)=>{const i=[],r=t?"vec3":"vec2",{axisWorldTranslation:n,scaling:a,translation:o,offset:l,flipXY:u,flipXZ:d,splitPosAttribute:f,normalSource:g}=s,m=[];if(g==="attribute"&&i.push(it("attribute vec3 aNormal"),$e("vec3 normal = aNormal")),n!=="linear-highPrecision"?e.forEach(p=>{p.attributeNameAxisCoord!==void 0&&p.variableNameAxisCoord!==void 0&&(f!==!0?i.push($e(`${r} ${p.variableNameAxisCoord} = ${p.attributeNameAxisCoord}`)):i.push($e(`${r} ${p.variableNameAxisCoord} = ${t?`vec3(${p.attributeNameAxisCoord}X, ${p.attributeNameAxisCoord}Y, ${p.attributeNameAxisCoord}Z)`:`vec2(${p.attributeNameAxisCoord}X, ${p.attributeNameAxisCoord}Y)`}`)))}):e.forEach(p=>{s.splitPosAttribute!==!0?i.push($e(`${r} ${p.variableNameAxisCoord}_highpart = ${p.attributeNameAxisCoord}_highpart`),$e(`${r} ${p.variableNameAxisCoord}_lowpart = ${p.attributeNameAxisCoord}_lowpart`)):i.push($e(`${r} ${p.variableNameAxisCoord}_highpart = vec2(${p.attributeNameAxisCoord}_highpartX, ${p.attributeNameAxisCoord}_highpartY)`),$e(`${r} ${p.variableNameAxisCoord}_lowpart = vec2(${p.attributeNameAxisCoord}_lowpartX, ${p.attributeNameAxisCoord}_lowpartY)`))}),l&&l.rotation){const p=l.rotation.dataType,x=p==="uniform"?"u":"a";if(p==="attribute-deg"){i.push(it("attribute float aRotDeg"),it("uniform float uBaseRotDeg"));const v="cRot",A="aInstanceGeo";i.push($e(`vec2 ${v} = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))`,`vec2 rotatedGeo = vec2(${A}.x * ${v}.y + ${A}.y * ${v}.x, ${A}.y * ${v}.y - ${A}.x * ${v}.x)`))}else{const v=`${x}Rot`;i.push(it(`${p} vec2 ${v}`));const A="aInstanceGeo";i.push($e(`vec2 rotatedGeo = vec2(${A}.x * ${v}.y + ${A}.y * ${v}.x, ${A}.y * ${v}.y - ${A}.x * ${v}.x)`))}}if(l&&i.push(it(`attribute ${r} aInstanceGeo`)),u===!0){if(n==="linear-highPrecision")throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");e.forEach(p=>{m.push(`${p.variableNameAxisCoord} = ${t?`vec3(${p.variableNameAxisCoord}.y, ${p.variableNameAxisCoord}.x, ${p.variableNameAxisCoord}.z)`:`vec2(${p.variableNameAxisCoord}.y, ${p.variableNameAxisCoord}.x)`}`)})}if(d===!0){if(n==="linear-highPrecision")throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");e.forEach(p=>{m.push(`${p.variableNameAxisCoord} = vec3(${p.variableNameAxisCoord}.z, ${p.variableNameAxisCoord}.y, ${p.variableNameAxisCoord}.x)`)})}if(a){if(n==="linear-highPrecision")throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");const p=(a.dataType==="attribute"?"a":"u")+"Scaling",x=t?"vec3":"vec2";i.push(it(`${a.dataType} ${x} ${p}`)),e.forEach(v=>{m.push(`${v.variableNameAxisCoord} = ${v.variableNameAxisCoord} * ${p}`)})}if(o&&o.sizeUnit==="axis"){if(n==="linear-highPrecision")throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");const p=(o.dataType==="attribute"?"a":"u")+"TranslationAxis",x=t?"vec3":"vec2";i.push(it(`${o.dataType} ${x} ${p}`)),e.forEach(v=>{m.push(`${v.variableNameAxisCoord} = ${v.variableNameAxisCoord} + ${p}`)})}if(l&&l.sizeUnit==="axis"){if(n==="linear-highPrecision")throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");const p=(l.dataType==="attribute"?"a":"u")+"OffsetAxis",x=l.symmetric===!0?"float":r;i.push(it(`${l.dataType} ${x} ${p}`));const v=l.halved?" * 0.5":"",A=l.rotation?"rotatedGeo":"aInstanceGeo",E="offsetGeometry";m.push(`${r} ${E} = ${p} * ${A}${v} * sign(uScale)`),t&&g==="gpu-calculate"&&m.push(`${r} normal = ${A}`),e.forEach(T=>{m.push(`${T.variableNameAxisCoord} = ${T.variableNameAxisCoord} + ${E}`)})}if(n===void 0||n==="linear")i.push(it(`uniform ${r} uDisp`,`uniform ${r} uScale`)),e.forEach(p=>{m.push(`${r} ${p.variableNameWorldCoord} = (${p.variableNameAxisCoord} - uDisp) / uScale`)});else if(n==="linear-highPrecision")i.push(it(`uniform ${r} uDisp`,`uniform ${r} uScale`,`uniform ${r} uScaleStart_highpart`,`uniform ${r} uScaleStart_lowpart`)),e.forEach(p=>{m.push(`${r} ${p.variableNameAxisCoord}_hprecision = (${p.variableNameAxisCoord}_highpart - uScaleStart_highpart) + (${p.variableNameAxisCoord}_lowpart - uScaleStart_lowpart)`,`${r} ${p.variableNameWorldCoord} = (${p.variableNameAxisCoord}_hprecision - uDisp) / uScale`,`${r} ${p.variableNameAxisCoord} = ${p.variableNameAxisCoord}_highpart + ${p.variableNameAxisCoord}_lowpart`)});else if(n==="matrix")i.push(it("uniform mat3 uMatrix")),e.forEach(p=>{m.push(`vec2 ${p.variableNameWorldCoord} = (uMatrix * vec3(${p.variableNameAxisCoord}, 1.0)).xy`)});else if(n==="matrix4")i.push(it("uniform mat4 uMatrix")),e.forEach(p=>{m.push(`vec4 ${p.variableNameWorldCoord} = uMatrix * ${p.attributeNameAxisCoord}`)});else if(n[0]==="logarithmic"){i.push(it(`uniform ${r} uScaleStart`,`uniform ${r} uScaleStartLog`,`uniform ${r} uScaleInterval`,`uniform ${r} uScaleIntervalLog`,`uniform ${r} uViewportStart`,`uniform ${r} uViewportSize`));const p=t?["x","y","z"]:["x","y"],x=[];p.forEach(v=>{const A=n[1][v];if(A!==void 0){const E=A.base;if(E==="e")return;const T=`float cLog${E} = 1.0 / log(${xu(E).toFixed(1)})`;x.includes(T)||x.push(T)}}),i.push(it(...x)),e.forEach((v,A)=>{const E=`${A}`,T=[];p.forEach(F=>{const D=F.toUpperCase(),N=n[1][F];if(N===void 0)m.push(`float posPercent${D}${E} = (${v.variableNameAxisCoord}.${F} - uScaleStart.${F}) / uScaleInterval.${F}`);else{const V=N.base,P=V==="e";m.push(`float posLog${D}${E} = log(${v.variableNameAxisCoord}.${F})${P?"":` * cLog${V}`}`,`float posPercent${D}${E} = (posLog${D}${E} - uScaleStartLog.${F}) / uScaleIntervalLog.${F}`)}T.push(`posPercent${D}${E}`)}),m.push(`${r} ${v.variableNameWorldCoord} = uViewportStart + ${r}(${T.join(", ")}) * uViewportSize`)})}if(l&&l.sizeUnit==="px"){i.push(it("uniform vec2 uRatioPxClip"));let p="vec2(0.0, 0.0)";l.useAlignment&&(i.push(it("uniform vec2 uOffsetAlignment")),p="uOffsetAlignment");const x=(l.dataType==="attribute"?"a":"u")+"OffsetPixels",v=l.symmetric===!0?"float":r;i.push(it(`${l.dataType} ${v} ${x}`));const A=l.halved?" * 0.5":"",E=`(${l.rotation?"rotatedGeo":"aInstanceGeo"} + ${p}) * ${x}${A} * uRatioPxClip`;e.forEach(T=>{m.push(`${T.variableNameWorldCoord} = ${T.variableNameWorldCoord} + ${E}`)})}if(l&&l.sizeUnit==="scale"){i.push(it("uniform vec2 uRatioPxClip")),i.push(it("uniform vec2 uSizePixels"));let p="vec2(0.0, 0.0)";l.useAlignment&&(i.push(it("uniform vec2 uOffsetAlignment")),p="uOffsetAlignment");const x=(l.dataType==="uniform"?"u":"a")+"OffsetScale";i.push(it(`${l.dataType} float ${x}`));const v=`(${l.rotation?"rotatedGeo":"aInstanceGeo"} + ${p}) * ${x} * uSizePixels * uRatioPxClip`;e.forEach(A=>{m.push(`${A.variableNameWorldCoord} = ${A.variableNameWorldCoord} + ${v}`)})}if(l&&l.sizeUnit==="wu"){const p=(l.dataType==="attribute"?"a":"u")+"OffsetWU",x=l.symmetric===!0?"float":r;i.push(it(`${l.dataType} ${x} ${p}`));const v=l.halved?" * 0.5":"",A=l.rotation?"rotatedGeo":"aInstanceGeo",E="offsetGeometry";m.push(`${r} ${E} = ${p} * ${A}${v}`),t&&g==="gpu-calculate"&&m.push(`${r} normal = normalize(${E})`),e.forEach(T=>{m.push(`${T.variableNameWorldCoord} = ${T.variableNameWorldCoord} + ${E}`)})}if(l&&l.sizeUnit==="nwu"){i.push(it("uniform float uRatioNwuWu"));const p=(l.dataType==="attribute"?"a":"u")+"OffsetNWU",x=l.symmetric===!0?"float":r;i.push(it(`${l.dataType} ${x} ${p}`));const v=l.halved?" * 0.5":"",A=l.rotation?"rotatedGeo":"aInstanceGeo",E="offsetGeometry";m.push(`${r} ${E} = ${p} * ${A}${v}`),t&&g==="gpu-calculate"&&m.push(`${r} normal = normalize(${E})`),e.forEach(T=>{m.push(`${T.variableNameWorldCoord} = ${T.variableNameWorldCoord} + ${E} * uRatioNwuWu`)})}return s.snapToNearestPixel&&(i.push(it("uniform vec2 uViewportSizePx")),e.forEach(p=>{m.push(`${p.variableNameWorldCoord} = 2.0 * floor(((${p.variableNameWorldCoord} + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0`)})),i.push(Ig("gl_Position =",...m)),i},J0=(s,t,e,i)=>{const r=[],n=s.axisWorldTranslation,a=t?"vec3":"vec2";if(n==="linear")r.push(rs(e,`${a} ${i} = ${e} * uScale + uDisp`));else if(n==="linear-highPrecision")r.push(rs(e,`${a} ${i} = ${e} * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart`));else{if(n==="matrix")throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if(n==="matrix4")throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if(n[0]!=="logarithmic")throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");{const o=[`${a} ${e}_percent = (${e} - uViewportStart) / uViewportSize`];(t?["x","y","z"]:["x","y"]).forEach(l=>{const u=l.toUpperCase(),d=n[1][l];if(d===void 0)o.push(`float pos${u}Back = ${e}_percent.${l} * uScaleInterval.${l} + uScaleStart.${l}`);else{const f=d.base,g=f==="e"?"1.0":`cLog${f}`;o.push(`float pos${u}Back = pow(2.71828, (${e}_percent.${l} * uScaleIntervalLog.${l} + uScaleStartLog.${l}) / ${g})`)}}),o.push(`${a} ${i} = ${a}(posXBack, posYBack${t?", posZBack":""})`),r.push(rs(e,...o))}}return r},dE=s=>(t=>t.find(e=>{var i;return(i=e.iE)===null||i===void 0?void 0:i.hE})!==void 0)(s)?[Lg("attribute vec4 aColor"),Lg("vColor = aColor"),it("attribute vec4 aColorA"),it("attribute vec4 aColorB"),qn("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[],fE=s=>(t=>t.find(e=>{var i;return(i=e.iE)===null||i===void 0?void 0:i.rE})!==void 0)(s)?[Lg("attribute float aLookupValue"),Lg("vLookupValue = aLookupValue"),it("attribute float aLookupValueA"),it("attribute float aLookupValueB"),qn("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[],q={"2D":{idFeature:"2D",apply:s=>({idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"})},"2DCompose":{idFeature:"2DCompose",apply:s=>({idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"})},"3D":{idFeature:"3D",iE:{sE:!0},apply:s=>({idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"})},PointSize:s=>({idFeature:"PointSize",apply:t=>{const e=s==="uniform"?"u":"a";return{idVertex:`SizePrimitive:${Is(s)}`,idFragment:void 0,vertexShaderModifiers:[it(`${s} float ${e}PointSize`,"uniform float uDevicePixelRatio"),qn(`gl_PointSize = ${e}PointSize * uDevicePixelRatio`)]}}}),Color:s=>{const t=s&&s.dataType,e=s&&s.maskTextureText,i=s&&s.maskTexture,r=s&&s.overrideOpacity;return{idFeature:"Color",iE:{eE:!(!Array.isArray(s.dataType)||s.dataType[1]==="value")||void 0,rE:!(!Array.isArray(s.dataType)||s.dataType[1]!=="value")||void 0,hE:s.dataType==="attribute"||void 0},apply:(n,a)=>{let o,l=`Color:${Is(s)}`;const u=[];let d="FragmentShader";const f=[];if(t==="uniform")f.push(it("uniform vec4 uColor"),$e("vec4 colorFragment = uColor"),...e?Hl:[],...i?Xl:[]);else if(t==="attribute")o="colorAttribute",u.push(Ds("attribute vec4 aColor","varying vec4 vColor")),f.push(it("varying vec4 vColor"),$e("vec4 colorFragment = vColor"),...e?Hl:[],...i?Xl:[]);else if(t==="texture")o="colorTexCoord",u.push(Ds("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),f.push(it("varying vec2 vTextureCoord"),it("uniform sampler2D uColorTexture"),it("uniform vec4 uColor"),$e("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord)",`if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {
                        colorFragment = uColor;
                    }`),...e?Hl:[],...i?Xl:[]);else if(t==="texture-coord-calc-gpu")o="colorTexCoord",d="Empty",u.push(it("attribute vec2 aTextureCoord"),it("varying vec2 vTextureCoord"),qn("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),f.push(it("varying vec2 vTextureCoord"),it("uniform sampler2D uColorTexture"),$e("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord)","gl_FragColor = colorFragment;"));else if(Array.isArray(t)&&t[0]==="image")o="colorTexCoord",u.push(Ds("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),t[1].fitMode===as.Tile?f.push(it("uniform sampler2D uColorTexture"),it("varying vec2 vTextureCoord"),$e("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord);")):f.push(it("uniform sampler2D uColorTexture"),it("varying vec2 vTextureCoord"),it("uniform vec4 uColor"),$e("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord);",`if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){
                                colorFragment = uColor;
                            }`));else if(Array.isArray(t)&&t[0]==="lookup"){const g=t[1];if(g==="value")o="lookup:value",u.push(Ds("attribute float aLookupValue","varying float vLookupValue"));else{const m=`posAxis.${g}`;o=`lookup:${g}`,u.push(Ds(m,"varying float vLookupValue"))}f.push(it("varying float vLookupValue"),...Yl("vLookupValue",t[2]),...e?Hl:[],...i?Xl:[])}else if(Array.isArray(t)&&t[0]==="gradient"){const g=t[1],m=g.getColorStops();gi(g)?(l=`rgradient${m.length},${i},${e}`,f.push(it("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),it(...xg(m.map((p,x)=>[`uniform vec4 color_${x}`,`uniform float stop_${x}`]))),es.linearStep,$e("vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))",...m.map((p,x)=>x<2?"":`color = mix(color, color_${x}, linearStep(stop_${x-1}, stop_${x}, mixVal));`),"vec4 colorFragment = color"),...e?Hl:[],...i?Xl:[])):yi(g)&&(l=`lgradient${m.length},${i},${e}`,f.push(it("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),it(...xg(m.map((p,x)=>[`uniform vec4 color_${x}`,`uniform float stop_${x}`]))),es.linearStep,$e("vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))",...m.map((p,x)=>x<2?"":`color = mix(color, color_${x}, linearStep(stop_${x-1}, stop_${x}, magnitude))`),"vec4 colorFragment = color"),...e?Hl:[],...i?Xl:[]))}if(e||i){const g="maskTexture";o=o?`${o} ${g}`:`Color:${g}`,u.push(Ds("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return r&&f.push(it("uniform float uOpacity"),rs("colorFragment =","colorFragment.a *= uOpacity")),{vertexShaderModifiers:u,fragmentShader:d,fragmentShaderModifiers:f,idVertex:o,idFragment:l}}}},ColorShaded3D:s=>{const{dataType:t,shadingStyle:e,wireframe:i}=s;let r;const n=`ColorShaded3D:${Is(s)}`;return{idFeature:"ColorShaded3D",iE:{eE:!(!Array.isArray(s.dataType)||s.dataType[1]==="value")||void 0,rE:!(!Array.isArray(s.dataType)||s.dataType[1]!=="value")||void 0},apply:(a,o)=>{const l=[],u=[];if(l.push(e==="phong"&&Ds("normal","varying vec3 vNormal"),Ds("posWorld","varying vec3 vPosWorld")),t==="uniform")u.push(it("uniform vec4 uColorDiffuse"),$e("vec4 colorFragment = uColorDiffuse"));else if(t==="attribute")r="per-vertex-color",l.push(Ds("attribute vec4 aColor","varying vec4 vColor")),u.push(it("varying vec4 vColor"),$e("vec4 colorFragment = vColor"));else if(Array.isArray(t)){const d=t[1];if(d==="value")r="lookup:value",l.push(Ds("attribute float aLookupValue","varying float vLookupValue"));else{const f=`posAxis.${d}`;r=`lookup:${d}`,l.push(Ds(f,"varying float vLookupValue"))}u.push(it("varying float vLookupValue"),...Yl("vLookupValue",t[2]))}if(i){const d="wireframe";r=r?`${r},${d}`:d,l.push(Ds("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),u.push(it("varying vec3 vTriangleBary"),it("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),es.computeScreenSpaceWireframe,rs("colorFragment =","float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","colorFragment = mix(colorFragment, uWireframeColor, edge)"))}return e==="phong"&&u.push(...uE),{idVertex:r,idFragment:n,vertexShaderModifiers:l,fragmentShader:"FragmentShader",fragmentShaderModifiers:u}}}},VertexLocation:s=>({idFeature:"VertexLocation",apply:t=>{const e=[],i=cE(t),r=s.coordType?s.coordType:i?"vec3":"vec2";return s.axisWorldTranslation!=="linear-highPrecision"?s.splitPosAttribute!==!0?e.push(it(`attribute ${r} aPos`)):e.push(it("attribute float aPosX"),it("attribute float aPosY"),i&&it("attribute float aPosZ")):s.splitPosAttribute===!0?e.push(it("attribute float aPos_highpartX"),it("attribute float aPos_lowpartX"),it("attribute float aPos_highpartY"),it("attribute float aPos_lowpartY")):e.push(it(`attribute ${r} aPos_highpart`),it(`attribute ${r} aPos_lowpart`)),e.push(..._h(s,i,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:s.coordType==="vec4"?void 0:"posAxis",variableNameWorldCoord:"posWorld"})),{idVertex:`VertexLocation:${Is(s)}`,idFragment:void 0,vertexShaderModifiers:e}}}),Model3D:s=>({idFeature:"Model3D",apply:t=>{const e=[];return e.push(it("attribute vec3 aGeoPos"),it("uniform mat4 uModelRotation"),it("uniform mat4 uModelRotationNormals"),it("uniform vec3 uLocationAxis"),it("uniform vec3 uModelAlignment"),it("uniform vec3 uModelScale"),it("uniform vec3 uModelSize"),..._h({axisWorldTranslation:"linear",normalSource:s.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"}),Ig("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),s.normalSource==="attribute"&&rs("vec3 normal ="," normal = (uModelRotationNormals * vec4(normal, 1.0)).xyz;"),...q0(t)?J0({axisWorldTranslation:"linear",normalSource:s.normalSource},!0,"posWorld","posAxis"):[]),{vertexShaderModifiers:e,idVertex:`Model3D:${Is(s)}`,idFragment:void 0}}}),LineInstanced2D:s=>({idFeature:"LineInstanced2D",apply:t=>({idVertex:`LineInstanced2D:${Is(s)}`,idFragment:void 0,vertexShaderModifiers:[it("uniform float uThicknessPixels"),it("uniform vec2 uRatioPxClip"),...s.axisWorldTranslation!=="linear-highPrecision"&&s.splitPosAttribute!==!0?[it("attribute vec2 aLocationA"),it("attribute vec2 aLocationB")]:s.axisWorldTranslation==="linear-highPrecision"&&s.splitPosAttribute!==!0?[it("attribute vec2 aLocationA_highpart"),it("attribute vec2 aLocationB_highpart"),it("attribute vec2 aLocationA_lowpart"),it("attribute vec2 aLocationB_lowpart")]:s.axisWorldTranslation!=="linear-highPrecision"&&s.splitPosAttribute===!0?[it("attribute float aLocationAX"),it("attribute float aLocationAY"),it("attribute float aLocationBX"),it("attribute float aLocationBY")]:s.axisWorldTranslation==="linear-highPrecision"&&s.splitPosAttribute===!0?[it("attribute float aLocationA_highpartX"),it("attribute float aLocationA_highpartY"),it("attribute float aLocationB_highpartX"),it("attribute float aLocationB_highpartY"),it("attribute float aLocationA_lowpartX"),it("attribute float aLocationA_lowpartY"),it("attribute float aLocationB_lowpartX"),it("attribute float aLocationB_lowpartY")]:[],it("attribute vec2 aSegmentPosition"),it("attribute float aSegmentSide"),..._h(s,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),s.ensureMinimumSegmentLength&&it("uniform vec2 uMinSegmentPixelVector"),rs("worldB = ",s.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",s.ensureMinimumSegmentLength&&`if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {
                        worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;
                    }`,"vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 posWorld = offset + thicknessDirection * uThicknessPixels * uRatioPxClip"),...fE(t),...dE(t),...q0(t)?J0(s,!1,"posWorld","posAxis"):[]]})}),Area2D:s=>({idFeature:"Area2D",apply:t=>({idVertex:`Area2D:${Is(s)}`,idFragment:void 0,vertexShaderModifiers:[...s.axisWorldTranslation!=="linear-highPrecision"&&s.splitPosAttribute!==!0?[it("attribute vec2 aLocationA"),it("attribute vec2 aLocationB")]:s.axisWorldTranslation==="linear-highPrecision"&&s.splitPosAttribute!==!0?[it("attribute vec2 aLocationA_highpart"),it("attribute vec2 aLocationB_highpart"),it("attribute vec2 aLocationA_lowpart"),it("attribute vec2 aLocationB_lowpart")]:s.axisWorldTranslation!=="linear-highPrecision"&&s.splitPosAttribute===!0?[it("attribute float aLocationAX"),it("attribute float aLocationAY"),it("attribute float aLocationBX"),it("attribute float aLocationBY")]:s.axisWorldTranslation==="linear-highPrecision"&&s.splitPosAttribute===!0?[it("attribute float aLocationA_highpartX"),it("attribute float aLocationA_highpartY"),it("attribute float aLocationB_highpartX"),it("attribute float aLocationB_highpartY"),it("attribute float aLocationA_lowpartX"),it("attribute float aLocationA_lowpartY"),it("attribute float aLocationB_lowpartX"),it("attribute float aLocationB_lowpartY")]:[],it("attribute float aCurveOrBaseline"),it("attribute float aSegmentSide"),..._h(s,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),rs("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","float baseline = min(posCoord.y, -1.0)","vec2 posWorld = vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))"),...fE(t),...dE(t),...q0(t)?J0(s,!1,"posWorld","posAxis"):[]]})}),LineInstanced3D:s=>({idFeature:"LineInstanced3D",apply:t=>({idVertex:`LineInstanced3D:${Is(s)}`,idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:[it("uniform float uOffsetWU"),it("attribute vec3 aLocationA"),it("attribute vec3 aLocationB"),it("attribute float aSegmentPosition"),it("attribute float aPerpendHorizontal"),it("attribute float aPerpendVertical"),..._h({axisWorldTranslation:s.axisWorldTranslation,normalSource:"custom"},cE(t),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),rs("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 normal = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis","vec3 posWorld = worldA + aSegmentPosition * directionBasis + normal * uOffsetWU * 0.5"),...q0(t)?J0({axisWorldTranslation:s.axisWorldTranslation},!0,"posWorld","posAxis"):[]]})}),RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:s=>({idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[it("attribute vec3 aEdge"),it("uniform float uEdgeRoundness"),rs("posWorld =","vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","posWorld = posWorld + aEdge * edgeRoundAmount")]})},ColorGrid2D:s=>{const t=s.flipXY,e=s.intensityTextureType,i=s.littleEndian;return{idFeature:"ColorGrid2D",apply:(r,n)=>({idVertex:void 0,idFragment:`ColorGrid2D:${Is(s)}`,fragmentShader:"FragmentShader",fragmentShaderModifiers:[it("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues"),e==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,s.interpolation==="bilinear"?$e("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)",`vec4 sample00 = texture2D(uTileIntensityValues, ${t?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)"})`,`vec4 sample01 = texture2D(uTileIntensityValues, ${t?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)"})`,`vec4 sample10 = texture2D(uTileIntensityValues, ${t?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)"})`,`vec4 sample11 = texture2D(uTileIntensityValues, ${t?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)"})`,"float intensity00 = "+(e==="float"?"sample00.x":`decodeUbyteRGBAEncodedFloat(sample00, ${i})`),"float intensity01 = "+(e==="float"?"sample01.x":`decodeUbyteRGBAEncodedFloat(sample01, ${i})`),"float intensity10 = "+(e==="float"?"sample10.x":`decodeUbyteRGBAEncodedFloat(sample10, ${i})`),"float intensity11 = "+(e==="float"?"sample11.x":`decodeUbyteRGBAEncodedFloat(sample11, ${i})`),"vec2 lerpFactors = cellIndex - cellStart",`float intensityR1 = mix(intensity00, intensity10, ${t?"lerpFactors.x":"lerpFactors.y"})`,`float intensityR2 = mix(intensity01, intensity11, ${t?"lerpFactors.x":"lerpFactors.y"})`,`float intensityP = mix(intensityR1, intensityR2,  ${t?"lerpFactors.y":"lerpFactors.x"})`):$e("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions",`vec4 sample0 = texture2D(uTileIntensityValues, ${t?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)"})`,"float intensityP = "+(e==="float"?"sample0.x":`decodeUbyteRGBAEncodedFloat(sample0, ${i})`)),...Yl("intensityP",s.lut)]})}},DrawToNormalTexture:s=>{const t=s.flipXZ,e=s.vertexIdSource,i=s.normalTextureType,r=s.heightmapTextureType,n=s.littleEndian;return{idFeature:"DrawToNormalTexture",apply:(a,o)=>{const l=[],u=[];return l.push(it("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture",i==="uint"?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB",e==="attribute"&&"attribute float aVertexID"),e!==void 0&&es.roundUnsigned,es.modulus,es.texelFetchWithFallback[o],r==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,$e(e===void 0?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)",`vec3 posAxis0 = vec3(
                            uTileStartLocationAxisXZ.x + iCell.${t?"y":"x"} * cellSizeAxis.x,
                            ${r==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${n})`} ,
                            uTileStartLocationAxisXZ.y + iCell.${t?"x":"y"} * cellSizeAxis.y
                        )`,"vec2 iCell1 = iCell + vec2(1.0, 0.0)",`vec3 posAxis1 = vec3(
                            uTileStartLocationAxisXZ.x + iCell1.${t?"y":"x"} * cellSizeAxis.x,
                            ${r==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${n})`},
                            uTileStartLocationAxisXZ.y + iCell1.${t?"x":"y"} * cellSizeAxis.y
                        )`,"vec2 iCell2 = iCell + vec2(0.0, 1.0)",`vec3 posAxis2 = vec3(
                            uTileStartLocationAxisXZ.x + iCell2.${t?"y":"x"} * cellSizeAxis.x,
                            ${r==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${n})`},
                            uTileStartLocationAxisXZ.y + iCell2.${t?"x":"y"} * cellSizeAxis.y
                        )`,"vec2 iCell3 = iCell + vec2(1.0, 1.0)",`vec3 posAxis3 = vec3(
                            uTileStartLocationAxisXZ.x + iCell3.${t?"y":"x"} * cellSizeAxis.x,
                            ${r==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${n})`},
                            uTileStartLocationAxisXZ.y + iCell3.${t?"x":"y"} * cellSizeAxis.y
                        )`,"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))",i==="uint"?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),u.push(it(i==="uint"?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),$e(i==="uint"?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:`DrawToNormalTexture:${Is(s)}`,idFragment:`DrawToNormalTexture:${Is(s)}`,vertexShaderModifiers:l,fragmentShaderModifiers:u,fragmentShader:"Empty",hints:[i==="uint"&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:s=>{const t=s.fillColor,e=s.interpolation,i=s.flipXZ,r=s.shadingStyle,n=s.wireframe,a=s.instanceIdSource,o=s.normalTextureType,l=s.heightmapTextureType,u=s.intensityTextureType,d=s.littleEndian;return{idFeature:"SurfaceGrid",apply:(f,g)=>{const m=[],p=[];return m.push(it("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture",a==="attribute"&&"attribute float aInstanceID"),a!==void 0&&es.roundUnsigned,es.modulus,es.texelFetchWithFallback[g],l==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,$e(a===void 0?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = "+(l==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${d})`),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * "+(i?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),m.push(..._h({axisWorldTranslation:s.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"})),r==="phong"&&m.push(Ds("posWorld","varying vec3 vPosWorld"),...o==="uint"?[es.texelFetchUnsignedWithFallback[g],qn("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[qn("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")],qn("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),it("varying vec3 vNormal",...o==="uint"?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"])),p.push(it("varying vec3 vTriangleBary")),t==="uniform"?p.push(it("uniform vec4 uColorDiffuse"),$e("vec4 colorFragment = uColorDiffuse")):Array.isArray(t)&&t[0]==="lookup"?t[1]==="value"?(m.push(Ds("posAxis.xz","varying vec2 vVertexLocationAxisXZ")),p.push(it("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),u==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,e==="bilinear"?$e("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)",`vec4 sample00 = texture2D(uTileIntensityValues, ${i?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)"})`,`vec4 sample01 = texture2D(uTileIntensityValues, ${i?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)"})`,`vec4 sample10 = texture2D(uTileIntensityValues, ${i?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)"})`,`vec4 sample11 = texture2D(uTileIntensityValues, ${i?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)"})`,"float intensity00 = "+(u==="float"?"sample00.x":`decodeUbyteRGBAEncodedFloat(sample00, ${d})`),"float intensity01 = "+(u==="float"?"sample01.x":`decodeUbyteRGBAEncodedFloat(sample01, ${d})`),"float intensity10 = "+(u==="float"?"sample10.x":`decodeUbyteRGBAEncodedFloat(sample10, ${d})`),"float intensity11 = "+(u==="float"?"sample11.x":`decodeUbyteRGBAEncodedFloat(sample11, ${d})`),"vec2 lerpFactors = cellIndex - cellStart",`float intensityR1 = mix(intensity00, intensity10, ${i?"lerpFactors.x":"lerpFactors.y"})`,`float intensityR2 = mix(intensity01, intensity11, ${i?"lerpFactors.x":"lerpFactors.y"})`,`float intensityP = mix(intensityR1, intensityR2,  ${i?"lerpFactors.y":"lerpFactors.x"})`):$e("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)",`vec4 sample0 = texture2D(uTileIntensityValues, ${i?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)"})`,"float intensityP = sample0.x"),...Yl("intensityP",t[2]))):(m.push(Ds(`posAxis.${t[1]}`,"varying float vLookupValue")),p.push(it("varying float vLookupValue"),...Yl("vLookupValue",t[2]))):t===void 0&&p.push($e("vec4 colorFragment = vec4(0.0, 0.0, 0.0, 0.0)")),r==="phong"&&p.push(...uE),n&&(m.push(it("attribute vec3 aTriangleBary"),Ds("aTriangleBary","varying vec3 vTriangleBary")),p.push(it("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),es.computeScreenSpaceWireframe,rs("colorFragment =","float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",t?`if (edge > 0.0) {
                                    colorFragment = vec4(mix(colorFragment.rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(colorFragment.a, uWireframeColor.a));
                                }`:`if (edge > 0.0) {
                                    colorFragment = uWireframeColor;
                                  } else {
                                      discard;
                                  }`))),{idVertex:`SurfaceGrid:${Is(s)}`,idFragment:`SurfaceGrid:${Is(s)}`,vertexShaderModifiers:m,fragmentShader:"FragmentShader",fragmentShaderModifiers:p}}}},DebugSurfaceGridNormals:s=>({idFeature:"DebugSurfaceGridNormals",apply:(t,e)=>({idVertex:`DebugSurfaceGridNormals:${Is(s)}`,idFragment:`DebugSurfaceGridNormals:${Is(s)}`,vertexShaderModifiers:[it("attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture",s.instanceIdSource==="attribute"&&"attribute float aInstanceID",...s.normalTextureType==="uint"?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),es.roundUnsigned,es.modulus,es.texelFetchWithFallback[e],s.heightmapTextureType==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,$e(s.instanceIdSource===void 0?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = "+(s.heightmapTextureType==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${s.littleEndian})`),"float y01 = "+(s.heightmapTextureType==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ${s.littleEndian})`),"float y10 = "+(s.heightmapTextureType==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ${s.littleEndian})`),"float y11 = "+(s.heightmapTextureType==="float"?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":`decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ${s.littleEndian})`),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)",`vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ${s.flipXZ?"vec2(iCell.y, iCell.x)":"iCell"})`,"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)",...s.normalTextureType==="uint"?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"],"vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"),...s.normalTextureType==="uint"?[es.texelFetchUnsignedWithFallback[e]]:[],..._h({axisWorldTranslation:s.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"}),rs("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025",`if (aNormalArrow == 0.0) {
                        posWorld = posArrowStart;
                    } else if (aNormalArrow == 1.0) {
                        posWorld = posArrowEnd;
                    } else if (aNormalArrow == 2.0) {
                        posWorld = posArrowLeft;
                    } else if (aNormalArrow == 3.0) {
                        posWorld = posArrowRight;
                    }`)],fragmentShader:"FragmentShader",fragmentShaderModifiers:[qn("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]})}),OffsetTowardsCamera:()=>({idFeature:"OffsetTowardsCamera",apply:s=>({idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[it("uniform vec3 uCameraLoc"),rs("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]})}),AliasedEdge:{idFeature:"AliasedEdge",apply:s=>({idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[it("attribute float aSegmentInside"),it("varying float vSegmentInside"),it("varying float vSegmentSide"),rs("gl_Position = ",`
                vSegmentInside = aSegmentInside;
                vSegmentSide = aSegmentSide;
                `)],fragmentShaderModifiers:[vB("#extension GL_OES_standard_derivatives : enable"),it("uniform float uAALimit"),it("varying float vSegmentInside"),it("varying float vSegmentSide"),rs("antiAliasFactor = ",`
                float dist = (uAALimit - vSegmentInside);
                vec2 ddist = vec2(dFdx(dist), dFdy(dist));
                float pixelDist = dist / length(ddist);
                // additional blurring
                pixelDist *= 0.5;

                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);
                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){
                    aa *= 0.5;
                }
                antiAliasFactor = aa;
                `)]})},Glow1D:s=>({idFeature:"Glow1D",apply:()=>{const t=Math.round(s.spreadPx),e=Math.round(s.blurPx),i=t+e,r=s.firstPass,n=[];for(let a=-i;a<=i;a+=1){const o=Math.abs(a);n.push(r?{x:a.toFixed(1),y:"0.0",distPx:o.toFixed(1)}:{x:"0.0",y:a.toFixed(1),distPx:o.toFixed(1)})}return{idVertex:`Glow1D:${Is(s)}`,idFragment:`Glow1D:${Is(s)}`,vertexShaderModifiers:[Ds("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[it("uniform sampler2D uTexture"),it("varying vec2 vTextureCoord"),it("uniform vec2 uTextureSize"),r&&it("uniform vec2 uOffsetPx"),!r&&it("uniform sampler2D uTextureFirstGlowPass"),!r&&it("uniform vec4 uGlowColor"),rs("antiAliasFactor =","vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize",...r?[]:[`float inverseIntensity =
                        0.25 * texture2D(uTexture, vTextureCoord).a +
                        0.125 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, 0.0)).a +
                        0.125 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, 0.0)).a +
                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, -oneTexel.y)).a +
                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, oneTexel.y)).a +
                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, -oneTexel.y)).a +
                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, -oneTexel.y)).a +
                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, oneTexel.y)).a +
                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, oneTexel.y)).a`,"antiAliasFactor *= 1.0 - (inverseIntensity * inverseIntensity)","if (antiAliasFactor <= 0.0) { discard; }"],"float distancePx = 255.0","vec2 sample_tx = vec2(0.0)",...r?["vec2 texCoordOffset = vTextureCoord - uOffsetPx * oneTexel",...n.map((a,o)=>[`sample_tx = texCoordOffset + oneTexel * vec2(${a.x}, ${a.y})`,`if (distancePx > ${a.distPx} && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ${a.distPx}; }`]).flat(),"vec4 colorFragment = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)"]:["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0",...n.map((a,o)=>[`sample_tx = vTextureCoord + oneTexel * vec2(${a.x}, ${a.y})`,`if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {
                                            sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);
                                            horizontal_dist = sample_horizontal.r * 255.0;
                                          }`,"if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)",`distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ${a.y} * ${a.y}, 0.5))`]).flat(),`if (distancePx > ${i.toFixed(1)}) { discard; }`,"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)",`if (distancePx > ${t.toFixed(1)}) {
                                        float lerpAmount = (distancePx - ${t.toFixed(1)}) / ${(e+1).toFixed(1)};
                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));
                                    } else {
                                        pixelGlowColor = uGlowColor;
                                    }`,"vec4 colorFragment = pixelGlowColor"])]}}}),MousePicking:{idFeature:"MousePicking",apply:s=>({idVertex:void 0,idFragment:"MousePicking",fragmentShaderModifiers:[it("uniform vec4 uColor"),$e("vec4 colorFragment = uColor"),t=>t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor)",`if (antiAliasFactor <= 0.0) { discard; }
gl_FragColor = fragColorEnd`)]})},MousePickingAttribute:{idFeature:"MousePickingAttribute",apply:s=>({idVertex:"MousePickingAttribute",idFragment:"MousePickingAttribute",vertexShaderModifiers:[Ds("attribute vec4 aColor","varying vec4 vColor")],fragmentShaderModifiers:[it("varying vec4 vColor"),$e("vec4 colorFragment = vColor"),t=>t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor)",`if (antiAliasFactor <= 0.0) { discard; }
gl_FragColor = fragColorEnd`)]})},AttributeHighlight:{idFeature:"AttributeHighlight",apply:s=>({idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[Ds("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[t=>t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")]})},StippleTexture:{idFeature:"StippleTexture",apply:(s,t)=>({idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[it("attribute vec2 aLengthSoFar"),it("varying float vLengthSoFar"),it("uniform vec2 uStippleCount"),qn(`
                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;
                vLengthSoFar = len.x + len.y;
                `)],fragmentShaderModifiers:[it("uniform sampler2D uStippleTexture"),it("uniform float uStippleScale"),it("varying float vLengthSoFar"),t==="webgl1"&&it("uniform float uStippleTextureWidthLimiter"),rs("antiAliasFactor = ",`
                    float stippleSampleY = texture2D(
                        uStippleTexture, 
                        ${t==="webgl1"?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)"}
                    ).r;
                    float stippleAA = (stippleSampleY - 0.5) * 2.0;
                    antiAliasFactor *= stippleAA;
                    if (antiAliasFactor <= 0.0) { discard; }`)]})},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:(s,t)=>({idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[it("attribute vec2 aLengthSoFarA"),it("attribute vec2 aLengthSoFarB"),it("varying float vLengthSoFar"),it("uniform vec2 uStippleCount"),qn(`
                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);
                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;
                vLengthSoFar = len.x + len.y;
                `)],fragmentShaderModifiers:[it("uniform sampler2D uStippleTexture"),it("uniform float uStippleScale"),it("varying float vLengthSoFar"),t==="webgl1"&&it("uniform float uStippleTextureWidthLimiter"),rs("antiAliasFactor = ",`
                    float stippleSampleY = texture2D(
                        uStippleTexture, 
                        ${t==="webgl1"?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)"}
                    ).r;
                    float stippleAA = (stippleSampleY - 0.5) * 2.0;
                    antiAliasFactor *= stippleAA;
                    if (antiAliasFactor <= 0.0) { discard; }`)]})},PolarHeatmap:s=>({idFeature:"PolarHeatmap",apply:(t,e)=>{const i="dataType"in s,r="interpolation"in s?s:void 0,n=(r==null?void 0:r.interpolation)==="bilinear",a=r==null?void 0:r.intensityTextureType,o=r==null?void 0:r.littleEndian;return{idVertex:void 0,idFragment:`PolarHeatmap:${Is(s)}`,vertexShaderModifiers:[],fragmentShaderModifiers:[it("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",r&&"uniform sampler2D uTileIntensityValues",i&&"uniform vec4 uColor"),es.texelFetchWithFallback[e],a==="ubyte"&&es.decodeUbyteRGBAEncodedFloat,$e("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep","if (iAnnulus < 0.0 || iAnnulus > uAnnuli) { discard; }"),i&&$e("vec4 colorFragment = uColor"),r&&rs("if (iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",r.flipXY&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",r.flipXY&&"cellStart = ivec2(cellStart.y, cellStart.x)",r.flipXY&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)","vec2 tileDimensions = "+(r.flipXY?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),n&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",n&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",n&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",n&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",n&&"float intensity00 = "+(a==="float"?"sample00.x":`decodeUbyteRGBAEncodedFloat(sample00, ${o})`),n&&"float intensity01 = "+(a==="float"?"sample01.x":`decodeUbyteRGBAEncodedFloat(sample01, ${o})`),n&&"float intensity10 = "+(a==="float"?"sample10.x":`decodeUbyteRGBAEncodedFloat(sample10, ${o})`),n&&"float intensity11 = "+(a==="float"?"sample11.x":`decodeUbyteRGBAEncodedFloat(sample11, ${o})`),n&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",n&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",n&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",n&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!n&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!n&&"float intensityP = "+(a==="float"?"sample0.x":`decodeUbyteRGBAEncodedFloat(sample0, ${o})`)),...r?Yl("intensityP",r.lut):[]]}}})},bB={"2D":`
void main(void) {
    gl_Position = vec4(posWorld, 0.0, 1.0 );
}
`,"2DMatrix":`
void main(void) {
    gl_Position = posWorld;
}
`,"3D":`
uniform mat4 uViewProjectionMatrix;
void main(void) {
    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);
}
`},MB={FragmentShader:`
uniform float uIsHighlighted;
uniform vec4 uHighlightColorOffset;
uniform float uRenderEffectMask;
void main(void) {
    float antiAliasFactor = 1.0;
    vec4 fragColorEnd = colorFragment;
    if (fragColorEnd.a <= 0.0) { discard; }
    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));
    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);
    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor);
}
`,Empty:`
void main(void) {
}
`};class C5{constructor(t,e,i,r,n){if(this.id=t,this.shader=i,this.gl=r,this.info=n,!e||!i)throw new AA(`Could not find ${this.nE()} ${this.oE()} shader source code.`);this.gl.shaderSource(i,e),this.gl.compileShader(i)}get src(){return""}nE(){return this.id.toString()}oE(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"}}class RB extends C5{constructor(t,e,i,r){super(t,e,i.createShader(i.VERTEX_SHADER),i,r)}}class EB extends C5{constructor(t,e,i,r){super(t,e,i.createShader(i.FRAGMENT_SHADER),i,r)}}class TB{constructor(t,e,i,r){this.aE=new Map,this.lE=new Map,this.uE=i,this.cE=i.createProgram(),this.dE=`${t.nE()} vertex`,this.fE=`${e.nE()} fragment`,i.attachShader(this.cE,t.shader),i.attachShader(this.cE,e.shader),i.bindAttribLocation(this.cE,0,"aPos"),i.linkProgram(this.cE),i.deleteShader(t.shader),i.deleteShader(e.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(e.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=e.info.removedVariableNames}get vertexShaderSrc(){return""}get fragmentShaderSrc(){return""}AE(t){return Qn(0,()=>sC())}gE(t){const e=this.mE(t);if(e===void 0)throw this.AE(`Could not get ${t} uniform from ${this.dE} and ${this.fE} shaders.`);return e}mE(t){const e=this.aE.get(t);if(e)return e;const i=this.uE.getUniformLocation(this.cE,t);return i?(this.aE.set(t,i),i):void 0}yE(t){const e=this.pE(t);if(e===void 0)throw this.AE(`Could not get ${t} attribute from ${this.dE} and ${this.fE} shaders.`);return e}pE(t){const e=this.lE.get(t);if(e||e===0)return e;const i=this.uE.getAttribLocation(this.cE,t);return i>=0?(this.lE.set(t,i),i):void 0}W(){this.uE.deleteProgram(this.cE)}}const wB=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,gx=s=>{let t;try{t=ht.getComputedStyle(s)}catch{return null}return t};/**
 * stacking-order by Rich Harris
 * https://github.com/Rich-Harris/stacking-order
 *
 * @license MIT
 *
 * Converted to TypeScript and edited to match LCJS requirements.
 */function CB(s){const t=gx(s);return!!t&&(t.position==="fixed"||!!(t.zIndex!=="auto"&&t.position!=="static"||function(e){const i=gx(k5(e)),r=i?i.display:"auto";return r==="flex"||r==="inline-flex"}(s))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||!!wB.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function gE(s){let t=s.length;for(;t--;)if(CB(s[t]))return s[t];return null}function yE(s){var t;return s&&Number(((t=gx(s))===null||t===void 0?void 0:t.zIndex)||0)||0}function mE(s){const t=[];for(;s;)t.push(s),s=k5(s);return t}function k5(s){var t;return((t=s.parentNode)===null||t===void 0?void 0:t.host)||s.parentNode}class kB extends fB{constructor(t){if(super(),this.SE=new Map,this.vE=new Map,this.bE=new Map,this.xE=!0,this.ME=null,this._E=null,this.wE=null,this.CE=null,this.kE=0,this.TE=0,this.FE=0,this.IE=!1,this.PE=!0,this.$i=!1,this.DE=MA(`chart-engine-${new Date().getTime()}${Math.trunc(1e6*Math.random()).toString()}`),this.X={x:100,y:100},this.BE=()=>{this.LE&&clearTimeout(this.LE),this.LE=setTimeout(()=>this.Zr(),12)},this.RE=o=>{const l=o.intersectionRatio>0,u=o.target.getAttribute("data-lcjs-engine-id");if(u){const d=this.SE.get(u);if(d){const f=d.EE();d.zE(l),l?this.vE.set(u,d):this.vE.delete(u),f!==l&&d.Ss()}}},this.VE=(o,l,u,d,f)=>{const g=f[0],m=this.gl;if(m.bindFramebuffer(m==null?void 0:m.FRAMEBUFFER,null),m.useProgram(this._E.cE),m.clear(m.COLOR_BUFFER_BIT),g.Gr.getBoundingClientRect()){const p=g.OE();m.viewport(0,0,p.x,p.y),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.NE),m.uniform1i(this.kE,0),m.uniformMatrix4fv(this.TE,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m.bindBuffer(m.ARRAY_BUFFER,this.wE),m.enableVertexAttribArray(0),m.vertexAttribPointer(this.FE,2,m.FLOAT,!1,0,0),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),g.GE&&(g.GE.clearRect(0,0,g.GE.canvas.width,g.GE.canvas.height),g.GE.drawImage(this.WE,0,this.WE.height-p.y,p.x,p.y,0,0,g.GE.canvas.width,g.GE.canvas.height))}},this.UE=(o,l,u,d,f)=>{const g=this.gl;g.bindFramebuffer(g==null?void 0:g.FRAMEBUFFER,null),g.useProgram(this._E.cE),g.clear(g.COLOR_BUFFER_BIT),f.forEach(m=>{const p=m.Gr.getBoundingClientRect();if(p){const x=p.right-p.left,v=p.bottom-p.top,A=p.left,E=d-p.bottom;g.viewport(A*this.YE-o*this.YE,E*this.YE+l*this.YE,x*this.YE,v*this.YE)}g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,m.NE),g.uniform1i(this.kE,0),g.uniformMatrix4fv(this.TE,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g.bindBuffer(g.ARRAY_BUFFER,this.wE),g.enableVertexAttribArray(0),g.vertexAttribPointer(this.FE,2,g.FLOAT,!1,0,0),g.drawArrays(g.TRIANGLES,0,6)}),g.bindFramebuffer(g.FRAMEBUFFER,null)},this.HE=(o,l,u,d,f)=>{const g=f[0],m=this.gl2.ctx;m.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),m.clear(m.COLOR_BUFFER_BIT);const p=g.OE();m.bindFramebuffer(m.READ_FRAMEBUFFER,g.$E[1]),m.blitFramebuffer(0,0,p.x,p.y,0,this.WE.height-p.y,p.x,this.WE.height,m.COLOR_BUFFER_BIT,m.LINEAR),g.GE&&(g.GE.clearRect(0,0,g.GE.canvas.width,g.GE.canvas.height),g.GE.drawImage(this.WE,0,0)),m.bindFramebuffer(m.FRAMEBUFFER,null)},this.XE=(o,l,u,d,f)=>{const g=this.gl2.ctx;g.bindFramebuffer(g.DRAW_FRAMEBUFFER,null),g.clear(g.COLOR_BUFFER_BIT),f.forEach(m=>{const p=m.Gr.getBoundingClientRect();if(p){const x=p.right-p.left,v=p.bottom-p.top,A=p.left,E=d-p.bottom,T=m.OE();g.bindFramebuffer(g.READ_FRAMEBUFFER,m.$E[1]),g.blitFramebuffer(0,0,T.x,T.y,A*this.YE-o*this.YE,E*this.YE+l*this.YE,(A-o+x)*this.YE,(E+l+v)*this.YE,g.COLOR_BUFFER_BIT,g.LINEAR)}}),g.bindFramebuffer(g.FRAMEBUFFER,null)},this.LE=void 0,this.Un=t,!ht.requestAnimationFrame||!ht.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");let e=1;if(t&&t.jE)e=t.jE===!0?ht.devicePixelRatio||1:t.jE||1;else{const o=ht.document.head.querySelector('meta[name="viewport"]');o&&o.content.includes("width=device-width")&&(e=ht.devicePixelRatio||1)}this.YE=e,t.Hn=t.Hn===!0,this.PE=t.ZE!==!1,this.QE=t.JE!==!1,this.KE=t.KE||!1;let i=!1;if(t.WE)if(typeof t.WE=="string"){const o=ht.document.getElementById(t.WE);if(!o)throw new Error(`Canvas "${t.WE}" doesn't exist.`);this.WE=o,i=!0}else this.WE=t.WE,i=!0;else this.WE=ht.document.createElement("canvas");const r={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(t.qE!==2&&t.qE){const o=this.WE.getContext("webgl",{...r,antialias:!!t.ZE})||this.WE.getContext("experimental-webgl",{...r,antialias:!!t.ZE});this.gl=o,this.tz=!1}else{const o=this.WE.getContext("webgl2",r);this.gl2={ctx:o},this.gl=o,this.tz=!0}if(!this.gl)throw new zi("No WebGL context available."+(t!=null&&t.qE?`
Selected explicit target: WebGL ${t.qE}`:""));const n=[];if(this.iz={WEBGL_lose_context:this.gl.getExtension("WEBGL_lose_context")},Object.keys(this.iz).forEach(o=>{this.iz[o]===null&&n.push(o)}),this.tz)this.sz=!0;else{const o={ANGLE_instanced_arrays:this.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:this.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:this.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:this.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:this.gl.getExtension("OES_vertex_array_object")};o.OES_standard_derivatives||(this.xE=!1),Object.keys(o).forEach(u=>{o[u]===null&&n.push(u)});const l={OES_texture_float:this.gl.getExtension("OES_texture_float")};this.sz=!!l.OES_texture_float,this.gl1={ctx:this.gl,iz:o,optional:l}}const a=n;if(a.length>0&&t.Hn!==!1){const o=ht.document.createElement("div");o.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",o.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";const l=ht.document.createElement("button");l.innerText="X",l.addEventListener("click",()=>{o.parentElement&&o.parentElement.removeChild(o)}),ht.document.body.appendChild(o),o.appendChild(l),ht.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",a.join(", "))}if(this.ez=this.KE?this.hz(this.tz?this.HE.bind(this):this.VE.bind(this)).bind(this):this.rz(this.tz?this.XE.bind(this):this.UE.bind(this)).bind(this),ht.ResizeObserver){const o=l=>{for(const u of l)u.target===this.WE&&this.nz()};this.Zn=new ht.ResizeObserver(o.bind(this)),this.Zn.observe(this.WE)}if(this.oz=((o,l)=>{const u=o,d=new Map,f=new Map,g=new Map,m={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},p=(x,v,A=[])=>{const E=[],T=[],F={allAttributeNames:Array.from(x.matchAll(/attribute\s[^\s]*\s(.*);/g)).map(D=>D[1]),allUniformNames:Array.from(x.matchAll(/uniform\s[^\s]*\s(.*);/g)).map(D=>D[1]),allVaryingNames:Array.from(x.matchAll(/varying\s[^\s]*\s(.*);/g)).map(D=>D[1]),removedVariableNames:[]};if(l){const D=x.match(/#extension.*/g);D&&T.push(...D),x=x.replace(/#extension.*/g,"")}else if(E.push("#version 300 es"),(x=(x=(x=x.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&E.push("precision highp usampler2D;"),v==="vertex")x=x.replace(/varying/g,"out");else{x=x.replace(/varying/g,"in");const D=A.find(N=>N.type==="fragOutput");x=(x=D?`out ${D.fragOutput} fragOutput;
${x}`:`out vec4 fragOutput;
${x}`).replace(/gl_FragColor/g,"fragOutput")}return T&&E.push(...T),E.push("precision highp float;"),E.push("precision highp int;"),{source:x=`${E.join(`
`)}
${x}`,info:F}};return(...x)=>{const v=l?"webgl1":"webgl2";let A,E,T,F,D,N,V,P,b;try{const M=ht.performance.now();A=x.filter(O=>O!==!1&&O!==void 0),E=((O,W)=>{const I=O.map(Vt=>Vt.apply(O,W)),X=I.map(Vt=>Vt.idVertex).filter(Vt=>Vt!==void 0).sort().join(" "),j=I.map(Vt=>Vt.idFragment).filter(Vt=>Vt!==void 0).sort().join(" "),Q=`vert: ${X} frag: ${j}`;let J,st=!1,nt=!1;const ct=[];let dt;const Tt=[],At=[];if(I.forEach(Vt=>{if(Vt.defaultVertexShader&&(st||(J=Vt.defaultVertexShader)),Vt.vertexShader){if(J&&st&&J!==Vt.vertexShader)throw new j0(`Conflicting vertex shader templates ${J} vs ${Vt.vertexShader}`,Q,Vt);J=Vt.vertexShader,st=!0}if(Vt.vertexShaderModifiers)for(const Pt of Vt.vertexShaderModifiers)Pt!==void 0&&Pt!==!1&&ct.push(Pt);if(Vt.defaultFragmentShader&&(nt||(dt=Vt.defaultFragmentShader)),Vt.fragmentShader){if(dt&&nt&&dt!==Vt.fragmentShader)throw new j0(`Conflicting fragment shader templates ${dt} vs ${Vt.fragmentShader}`,Q,Vt);dt=Vt.fragmentShader,nt=!0}if(Vt.fragmentShaderModifiers)for(const Pt of Vt.fragmentShaderModifiers)Pt!==void 0&&Pt!==!1&&Tt.push(Pt);Vt.hints&&Vt.hints.forEach(Pt=>{Pt&&At.push(Pt)})}),!J)throw new j0("No vertex shader template defined",Q);if(!dt)throw new j0("Fragment shader not defined",Q);return{id:Q,vertexShader:{id:X,template:J,modifiers:ct},fragmentShader:{id:j,template:dt,modifiers:Tt},hints:At}})(A,v);const w=g.get(E.id);if(T="new",w)return T="existing",N=w.vertexShaderSrc,V=w.fragmentShaderSrc,w;const C=E.vertexShader.id;let k=d.get(C);if(k)N=k.src,F="existing";else{F="new";const O=new lE(E.vertexShader.modifiers).build(bB[E.vertexShader.template]),{source:W,info:I}=p(O,"vertex");N=W,P=I,k=new RB(C,W,u,I),d.set(C,k),m.vertexShaders+=1}const z=E.fragmentShader;let H;const B=z.id;if(H=f.get(B),H)V=H.src,D="existing";else{D="new";const O=MB[z.template],W=new lE([...z.modifiers]).build(O),{source:I,info:X}=p(W,"fragment",E.hints);V=I,b=X,H=new EB(B,I,u,X),f.set(B,H),m.fragmentShaders+=1}const U=new TB(k,H,u,E);return g.set(E.id,U),m.programs+=1,m.totalMs+=ht.performance.now()-M,U}catch{throw Qn(0,()=>{const w=`Unexpected LightningChart JS rendering error.
This can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).`;return ht.alert(w),new Error(w)})}}})(this.gl,!this.tz),this.KR=(()=>{const o=ht.document.createElement("canvas"),l=o.getContext("2d",{willReadFrequently:!0});if(!l)throw new zi("Failed to get Text canvas rendering context");return l.fillStyle="#fff",(u,d,f,g)=>{const m=`${d.style} ${d.weight} ${d.size*f}px ${d.family}`;l.font=m,l.textBaseline="alphabetic",l.textAlign="left";const p=l.measureText(u);if(p.width===0)return;const x=p.actualBoundingBoxLeft!==void 0&&p.actualBoundingBoxRight!==void 0?Math.ceil(p.actualBoundingBoxLeft+p.actualBoundingBoxRight):Math.ceil(p.width),v=p.width,A=Math.round(d.size*f),E=p.actualBoundingBoxLeft!==void 0?p.actualBoundingBoxLeft:0;o.width=x>0?x:v,o.height=2*A,l.font=m,l.textBaseline="alphabetic",l.textAlign="left",g?(l.clearRect(0,0,o.width,o.height),l.fillStyle="#fff"):(l.fillStyle="rgba(255,255,255,0)",l.fillRect(0,0,o.width,o.height),l.fillStyle="#000"),l.fillText(u,E,A);const T=l.getImageData(0,0,o.width,o.height);let F=0,D=0;const N=T.width;for(let w=0;w<T.height;w+=1){for(let C=0;C<N;C+=1)if(T.data[w*N*4+4*C+3]!==0){F=w;break}if(F!==0)break}for(let w=T.height-1;w>=0;w-=1){for(let C=0;C<N;C+=1)if(T.data[w*N*4+4*C+3]!==0){D=w;break}if(D!==0)break}const V=l.canvas.height/2-F,P=D-F+1,b=N,M=new Uint8ClampedArray(b*P*1);for(let w=0;w<P;w+=1)for(let C=0;C<b;C+=1)M[1*w*b+1*C+0]=T.data[(w+F)*b*4+4*C+3];return[M,{advance:v,offsetX:E,baseline:V,glyph:u,size:Y(b,P)}]}})(),t.az||(this.KE?this.WE.style.display="none":(this.WE.style.position="absolute",this.WE.style.top="0",this.WE.style.left="0",this.WE.style.right="0",this.WE.style.bottom="0",this.WE.style.width="100%",this.WE.style.height="100%",this.WE.style.boxSizing="content-box",this.WE.style.display="block",this.WE.style.pointerEvents="none")),this.WE.classList.add("lcjs-canvas"),t.lz&&this.WE.setAttribute("data-lcjs-id",t.lz),i||ht.document.body.appendChild(this.WE),ht.IntersectionObserver&&(this.uz=new ht.IntersectionObserver(o=>{for(let l=0;l<o.length;l+=1){const u=o[l];this.RE(u)}},{threshold:Array.from(Array(100)).map((o,l)=>l/100)})),ht.addEventListener("resize",this.BE,{passive:!0}),!this.tz){if(this._E=this.oz(q["2DCompose"],q.Color({dataType:"texture-coord-calc-gpu"}),q.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!this._E.cE)throw new zi("Unable to setup composition shader!");const o=this.gl,l=o.getUniformLocation(this._E.cE,"uColorTexture");if(!l)throw new zi("Unable to setup composition shader! Failed to find uColorTexture");const u=o.getUniformLocation(this._E.cE,"uMatrix");if(!u)throw new zi("Unable to setup composition shader! Failed to find uMatrix");this.kE=l,this.TE=u,this.FE=o.getAttribLocation(this._E.cE,"aPos"),this.wE=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this.wE),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this.CE=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this.CE),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null)}}hz(t){return e=>{this.ME=null;const i=this.gl.canvas,r=Array.from(this.vE.values());this.IE=!1,r.forEach(n=>{const a=n.OE();(this.X.x<a.x||this.X.y<a.y)&&(this.X.x=Math.max(this.X.x,a.x),this.X.y=Math.max(this.X.y,a.y),i instanceof HTMLCanvasElement&&(i.width=this.X.x,i.height=this.X.y)),n.hn&&n.cz(e),t(0,0,0,0,[n])}),this.IE&&this.nz()}}rz(t){return e=>{this.ME=null,"style"in this.gl.canvas&&!this.Un.dz&&(this.gl.canvas.style.transform=`translateX(${window.scrollX}px) translateY(${window.scrollY}px)`);const i=this.gl.canvas,r=this.WE.clientHeight,n=this.WE.clientWidth;let a=0,o=0;if(i instanceof HTMLCanvasElement){i.width===n*this.YE&&i.height===r*this.YE||(i.width=n*this.YE,i.height=r*this.YE);const u=i.getBoundingClientRect();a=u.x,o=u.y}const l=Array.from(this.vE.values());this.IE=!1,l.sort((u,d)=>u.fz()-d.fz()).forEach(u=>{u.hn&&u.cz(e)}),t(a,o,n,r,l),this.IE&&this.nz()}}nz(t){return!this.IE&&t&&(this.IE=!0),this.ME||this.$i||(this.ME=ht.requestAnimationFrame(this.ez)),this}Az(t){const e=this.DE();return t.Gr.setAttribute("data-lcjs-engine-id",e),this.SE.set(e,t),t.gz(this.SE.size-1),t.zE(!0),this.vE.set(e,t),this.uz&&this.uz.observe(t.Gr),this.LE&&clearTimeout(this.LE),this.LE=setTimeout(()=>this.Zr(),0),this}mz(t){const e=t.Gr.getAttribute("data-lcjs-engine-id");return e?(this.SE.delete(e),this.vE.delete(e),this.uz&&this.uz.unobserve(t.Gr),t.Gr.removeAttribute("data-lcjs-engine-id"),this):this}Zr(){if(this.uz){const t=this.uz.takeRecords();for(let e=0;e<t.length;e+=1){const i=t[e];this.RE(i)}}return!this.KE&&this.QE&&Array.from(this.SE.values()).sort((t,e)=>function(i,r){if(i===r)throw new Error("Cannot compare node with itself");const n={a:mE(i),b:mE(r)};let a;for(;n.a[n.a.length-1]===n.b[n.b.length-1];)i=n.a.pop(),r=n.b.pop(),a=i;const o=yE(gE(n.a)),l=yE(gE(n.b));if(o===l&&a){const u=a.childNodes,d={a:n.a[n.a.length-1],b:n.b[n.b.length-1]};let f=u.length;for(;f--;){const g=u[f];if(g===d.a)return 1;if(g===d.b)return-1}}return Math.sign(o-l)}(t.Gr,e.Gr)).forEach((t,e)=>t.gz(e)),this.nz(!0),this}dP(){return this.nz(),this}yz(){this.$i||this.SE.forEach(t=>t.hm.layout())}W(){var t;if(this.$i)return;this.$i=!0,super.W(),this.ME&&(ht.cancelAnimationFrame(this.ME),this.ME=null),this.IE=!1,this.Zn&&(this.Zn.disconnect(),this.Zn=void 0),this.uz&&(this.uz.disconnect(),this.uz=void 0),ht.removeEventListener("resize",this.BE),this.BE=void 0,this.SE.forEach(i=>{i.W()}),this.SE.clear(),Array.from(this.bE.values()).forEach(i=>{i.VR(!0)}),this.bE.clear();const e=this.gl;e.deleteBuffer(this.wE),e.deleteBuffer(this.CE),this.WE&&!this.Un.WE?(this.WE.width=1,this.WE.height=1,(t=this.WE.parentElement)===null||t===void 0||t.removeChild(this.WE),this.WE=void 0):this.WE=void 0,this.oz=void 0,this.KR=void 0,this.ez=()=>{},this.iz.WEBGL_lose_context&&this.iz.WEBGL_lose_context.loseContext()}}const DB=(s,t,e,i)=>r=>{const n={theme:wr,...e,...r},a=s(n),o=t||i?Cr(a,i):void 0,l=new w5(a.Un,r,a,a.W.bind(a),o);return a.uo(u=>l.zL(u)).lo(()=>l.j()).Ss(),l},Zr=(s,t)=>{s.uo(e=>{t.Te(e)}).lo(()=>t.j()).Ss()},FB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new IA(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o);return Zr(a,l),l},_B=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new JA(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r);return Zr(a,l),l},VB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new b5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r);return Zr(a,l),l},zB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new S5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r);return Zr(a,l),l},NB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new(r&&r.type?r.type:e5)(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,r);return Zr(a,l),l},BB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new(r&&r.type?r.type:A5)(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,(r==null?void 0:r.disableAnimations)!==!0&&(r==null?void 0:r.animationsEnabled)!==!1);return Zr(a,l),l},PB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new(r&&r.type?r.type:x5)(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,r);return Zr(a,l),l},LB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new(r&&r.type?r.type:v5)(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,r);return Zr(a,l),l},IB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new s5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r,void 0);return Zr(a,l),l},UB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new WA(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,r);return Zr(a,l),l},OB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new E5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0);return Zr(a,l),l},GB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new T5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,void 0,r);return Zr(a,l),l},YB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new p5(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r);return Zr(a,l),l},HB=(s,t,e,i)=>r=>{const n={...e,...r,theme:(r==null?void 0:r.theme)||wr},a=s(n),o=t||i?Cr(a,i):void 0,l=new nB(a.Un,Tr(a,1).DI(0),ws,a.W.bind(a),o,r);return Zr(a,l),l};function Mr(s,t,e,i,r,n){let a=t.x.ct(s.max.x),o=t.x.ct(s.min.x),l=t.y.ct(s.max.y),u=t.y.ct(s.min.y),d=a-o,f=l-u;if(d<1){const V=(o+a)/2;o=V-.5,a=V+.5,d=1}if(f<1){const V=(u+l)/2;u=V-.5,l=V+.5,f=1}const g=d/f,m=d*e.x,p=f*e.y,x=d-m,v=f-p,A=m>x?[x,m]:[m,x],E=p>v?[v,p]:[p,v];let T,F,D=1,N=1;switch(i){default:case Os.closestSide:if(T=A[0]/d,F=E[0]/f,r===Us.circle){const V=Math.min(T*g,F);D=V,N=V}else D=T*g,N=F;break;case Os.farthestSide:if(T=A[1]/d,F=E[1]/f,r===Us.circle){const V=Math.max(T*g,F);D=V,N=V}else D=T*g,N=F;break;case Os.closestCorner:if(F=E[0]/f,r===Us.circle){T=A[0]/d*g;const V=Math.sqrt(T*T+F*F);D=V,N=V}else{T=A[0]/d;const V=Math.sqrt(T*T+F*F);D=V*g,N=V}break;case Os.farthestCorner:if(F=E[1]/f,r===Us.circle){T=A[1]/d*g;const V=Math.sqrt(T*T+F*F);D=V,N=V}else{T=A[1]/d;const V=Math.sqrt(T*T+F*F);D=V*g,N=V}}return{bounds:[o*n,u*n,d*n,f*n],center:[e.x*g,e.y],distance:[Math.max(D,1e-4),Math.max(N,1e-4)],aspectRatio:g}}function Rr(s,t,e,i){const r=t.x.ct(s.max.x),n=t.x.ct(s.min.x),a=t.y.ct(s.max.y),o=t.y.ct(s.min.y),l=r-n,u=a-o,d=Math.abs(l*Math.sin(e))+Math.abs(u*Math.cos(e)),f=Y(l/2-Math.sin(e)*(d/2),u/2-Math.cos(e)*(d/2)),g=Y(l/2+Math.sin(e)*(d/2),u/2+Math.cos(e)*(d/2));return{bounds:[n*i,o*i,l*i,u*i],startPoint:[f.x*i,f.y*i],endPoint:[g.x*i,g.y*i]}}class $u{constructor(t){this.RR=t}}class XB{constructor(){this.pz=new Array,this.Sz=t=>(this.pz.push(t),t),this.vz=this.Sz(new Map),this.bz=this.Sz(new Map),this.xz=this.Sz(new Map),this.Mz=this.Sz(new Map),this._z=this.Sz(new Map),this.wz=this.Sz(new Map),this.Cz=this.Sz(new Map)}kz(){this.pz.forEach(t=>{t.forEach(e=>e.kz()),t.clear()})}}const Z0=(s,t,e)=>()=>{s.Tz=t,e&&e()},Ry=(s,t,e,i,r)=>{const n=Math.min(e/s,i/t),a=s*n,o=t*n,l=e/a,u=i/o,d=a/e,f=o/i;let g=0,m=1,p=0,x=1;switch(r){case as.Fill:u<l?(g=0,m=1,p=.5+-d/2,x=.5+d/2):(p=0,x=1,g=.5+-f/2,m=.5+f/2);break;case as.Fit:u<l?(p=0,x=1,g=.5+-l/2,m=.5+l/2):(g=0,m=1,p=.5+-u/2,x=.5+u/2);break;case as.Center:{const v=e/s,A=i/t;g=.5+-v/2,m=.5+v/2,p=.5+-A/2,x=.5+A/2}break;case as.Tile:g=0,m=e/s,p=0,x=i/t;break;case as.Stretch:default:g=0,m=1,p=0,x=1}return new Float32Array([g,x,m,x,m,p,g,p])};class WB{constructor(t,e){if(this.Fz=0,this.Iz=0,this.Pz=!1,this.Tz=!1,this.Dz=!1,this.Bz=!1,this.Lz=!1,this.Rz=new Set,this.Ez=new Set,this.rc=e,this.uE=t,this.zz=null,this.Pz=e instanceof ht.HTMLVideoElement,this.rc instanceof ht.HTMLImageElement)this.rc.addEventListener("load",()=>{this.Bz=!0,this.Vz()}),this.rc.addEventListener("error",()=>{this.Lz=!0}),this.rc.complete&&(this.Bz=!0,this.Vz());else if(this.rc instanceof ht.HTMLVideoElement){const i=this;this.rc.addEventListener("canplay",function(){i.Iz=this.videoHeight,i.Fz=this.videoWidth,i.Bz=!0,i.Vz()},!0),this.rc.addEventListener("play",Z0(this,!0,()=>this.Vz())),this.rc.addEventListener("playing",Z0(this,!0,()=>this.Vz())),this.rc.addEventListener("pause",Z0(this,!1)),this.rc.addEventListener("ended",Z0(this,!1)),this.rc.readyState>=1&&(this.Fz=this.rc.videoWidth,this.Iz=this.rc.videoHeight,this.Tz=!this.rc.paused,this.Bz=!0,this.Vz())}else this.Bz=!0,this.Vz()}jR(t){this.Ez.size===0&&this.Bz&&this.Vz(),this.Ez.add(t)}ZR(t){this.Ez.delete(t),this.Ez.size===0&&this.unbindResources()}Oz(t){this.Rz.add(t),this.Dz&&(t(),this.Nz(t))}Nz(t){this.Rz.delete(t)}Vz(){if(this.Lz||this.Dz||!this.Bz)return;const t=this.uE.gl;if(!this.zz&&this.rc&&t){this.zz=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.zz),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const e=0,i=t.RGBA,r=t.RGBA,n=t.UNSIGNED_BYTE,a=this.rc,o=this.Fz>0?this.Fz:a.width,l=this.Iz>0?this.Iz:a.height;t.texImage2D(t.TEXTURE_2D,e,i,r,n,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.Fz=o,this.Iz=l,t.bindTexture(t.TEXTURE_2D,null)}this.Dz=!0,this.Rz&&this.Rz.forEach(e=>{e(),this.Nz(e)})}Ps(){const t=this.uE.gl;if(!this.Lz&&this.Dz&&this.zz){const i=t.RGBA,r=t.RGBA,n=t.UNSIGNED_BYTE,a=this.rc;a&&(t.bindTexture(t.TEXTURE_2D,this.zz),t.texImage2D(t.TEXTURE_2D,0,i,r,n,a))}}Gz(){return this.zz}unbindResources(){return this.Dz&&(this.zz&&(this.uE.OR(this.zz),this.zz=null),this.Dz=!1),this}}class yx extends RC{constructor(t,e,i){super(t.us,e,i),this.iS=!0,this.jp={},this.qp=qt(Ou),this.ks=t,this.dt=t.dt}Wz(){var t;return this.qp.i&&this.qp.M().type!==((t=this.Uz)===null||t===void 0?void 0:t.type)}nS(t){return this.iS=t,this}Yz(t){return this.jp=t,this}}const $B=(s,t,e,i)=>{const r=s.$z(),n=Math.round(Math.min(e.spread,10)*r),a=Math.round(Math.min(e.blur,10)*r),o={x:Math.round(e.offset.x*r),y:Math.round(e.offset.y*r)},l=s.Xz(),u=s.jz(),d=s.Zz(),f=s.Qz(),g=s.Jz();s.Kz("disabled"),s.nS(!1),s.qz(!1);const m=t.tV(),p=n+a/2;((D,N,V,P)=>{const b=D.gl,M=D.$z(),w=D.iV();D.sV(b.FRAMEBUFFER,P.frameBuffer),b.bindRenderbuffer(b.RENDERBUFFER,P.depthBuffer),b.bindTexture(b.TEXTURE_2D,P.texture),b.clearDepth(1),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);const C=P.sizeDpr;D.eV(0,0,C.x,C.y),N.forEach(k=>{let z;if(k instanceof Tg?z=k.ks.km():k instanceof yx&&(z=k.ks.Kv()),z){const H=z.x+V.left,B=z.y+V.bottom,U=Math.max(z.width-(V.left+V.right),0),O=Math.max(z.height-(V.bottom+V.top),0);D.hV(H*M,B*M,U*M,O*M)}else D.qz(!1);k.zL(2)}),D.sV(b.FRAMEBUFFER,w),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindTexture(b.TEXTURE_2D,null),D.qz(!1)})(s,i,{left:p+(o.x<0?-o.x:0),top:p+(o.y>0?o.y:0),right:p+(o.x>0?o.x:0),bottom:p+(o.y<0?-o.y:0)},m);let x=m;const v=n+a+5,A=((D,N,V,P)=>{const b=(k=>{const z=[];for(let H=0;H<k.length;H+=1){let B,U=k[H];do{const O=z.findIndex(W=>vg(U,W));B=O>=0?z[O]:void 0,B&&(z.splice(O,1),U=ur(U,B))}while(B);z.push(U)}return z})(N.map(k=>{const z=k instanceof Tg||k instanceof yx?k.ks.rV(k):Ie;if(ex(z))return Ie;const H={min:{x:Math.max(z.min.x-V.left,0),y:Math.max(z.min.y-V.bottom,0)},max:{x:Math.min(z.max.x+V.right,P.x),y:Math.min(z.max.y+V.top,P.y)}};return H.max.x<=H.min.x||H.max.y<=H.min.y?Ie:H}).filter(k=>!ex(k))),M=6*b.length,w=new Float32Array(4*M);let C=0;return b.forEach(k=>{const z=fd(k.min,P),H=fd(k.max,P),B=z,U=H;w[C+0]=z.x,w[C+1]=z.y,w[C+2]=B.x,w[C+3]=B.y,w[C+4]=H.x,w[C+5]=z.y,w[C+6]=U.x,w[C+7]=B.y,w[C+8]=H.x,w[C+9]=H.y,w[C+10]=U.x,w[C+11]=U.y,w[C+12]=H.x,w[C+13]=H.y,w[C+14]=U.x,w[C+15]=U.y,w[C+16]=z.x,w[C+17]=H.y,w[C+18]=B.x,w[C+19]=U.y,w[C+20]=z.x,w[C+21]=z.y,w[C+22]=B.x,w[C+23]=B.y,C+=24}),{vertexBuffer:D.nV(w),vertexCount:M}})(s,i,{left:v+(o.x<0?-o.x:0),top:v+(o.y>0?o.y:0),right:v+(o.x>0?o.x:0),bottom:v+(o.y<0?-o.y:0)},t.oV()),E=t.tV(m,x),T=s.oz(q["2D"],q.Glow1D({spreadPx:n,blurPx:a,firstPass:!0}),q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((D,N,V,P,b,M)=>{const w=D.gl,C=D.iV();D.sV(w.FRAMEBUFFER,V.frameBuffer),w.bindRenderbuffer(w.RENDERBUFFER,V.depthBuffer),w.bindTexture(w.TEXTURE_2D,V.texture),w.clearDepth(1),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),D.eV(0,0,V.sizeDpr.x,V.sizeDpr.y),D.aV(P,(k,z,H,B)=>(D.jR(P),M&&M(k),D.dV(k("uIsHighlighted"),0).AR(k("uHighlightColorOffset"),Hh).dV(k("uRenderEffectMask"),0).cV(k("uTexture"),N.texture,0).uV(B("uTextureSize"),[N.sizeDpr.x,N.sizeDpr.y]).uV(k("uScale"),V.uniforms.fV()).uV(k("uDisp"),V.uniforms.AV()).uV(k("uScaling"),[V.size.x,V.size.y]).uV(k("uTranslationAxis"),[0,0]).lV(b.vertexBuffer,void 0,{location:z("aPos"),size:2},{location:z("aTextureCoord"),size:2}).Ky(w.TRIANGLES,b.vertexCount,0),!0)),D.sV(w.FRAMEBUFFER,C),w.bindRenderbuffer(w.RENDERBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)})(s,x,E,T,A,(D,N,V,P)=>(s.uV(D("uOffsetPx"),[o.x,o.y]),!0)),x=E,s.qz(u),s.gV(g);const F=s.oz(q["2D"],q.Glow1D({spreadPx:n,blurPx:a,firstPass:!1}),q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((D,N,V,P,b)=>{const M=D.gl,w={x:D.us.oi().x,y:D.us.oi().y};D.eV(0,0,w.x*D.$z(),w.y*D.$z());const C=ws.d2({scaleXYConstructor:Me}).q(w).Vi(0,w.x).Oi(0,w.y),k=new kr;k.mV(C),D.aV(V,(z,H,B,U)=>(D.jR(V),b&&b(z),D.dV(z("uIsHighlighted"),0).AR(z("uHighlightColorOffset"),Hh).dV(z("uRenderEffectMask"),0).cV(z("uTexture"),N.texture,0).uV(U("uTextureSize"),[N.sizeDpr.x,N.sizeDpr.y]).uV(z("uScale"),k.fV()).uV(z("uDisp"),k.AV()).uV(z("uScaling"),[w.x,w.y]).uV(z("uTranslationAxis"),[0,0]).lV(P.vertexBuffer,void 0,{location:H("aPos"),size:2},{location:H("aTextureCoord"),size:2}).Ky(M.TRIANGLES,P.vertexCount,0),!0))})(s,m,F,A,(D,N,V,P)=>(s.cV(D("uTextureFirstGlowPass"),E.texture,1).AR(D("uGlowColor"),e.color),!0)),s.eV(l.x,l.y,l.width,l.height),s.Kz(d),s.nS(f),s.yV(A.vertexBuffer)};class jB{constructor(t){this.pV=[],this.RR=t}SV(t,e){$B(this.RR,this,e,t)}oV(){const t=this.RR.us.oi();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}}tV(...t){const e=this.pV,i=this.oV(),r={x:Math.ceil(i.x*this.RR.$z()),y:Math.ceil(i.y*this.RR.$z())},n=this.RR.gl,a=e.find(p=>!t.includes(p));if(a)return a.sizeDpr.x===r.x&&a.sizeDpr.y===r.y||(a.size=i,a.sizeDpr=r,n.bindTexture(n.TEXTURE_2D,a.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r.x,r.y,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindRenderbuffer(n.RENDERBUFFER,a.depthBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r.x,r.y),n.bindTexture(n.TEXTURE_2D,null),n.bindRenderbuffer(n.RENDERBUFFER,null),a.scale.q(i).Vi(0,i.x).Oi(0,i.y),a.uniforms.mV(a.scale)),a;const o=n.createTexture(),l=this.RR.vV(),u=this.RR.bV();n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r.x,r.y,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const d=this.RR.iV();this.RR.sV(n.FRAMEBUFFER,l),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0),n.bindRenderbuffer(n.RENDERBUFFER,u),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r.x,r.y),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,u),n.bindTexture(n.TEXTURE_2D,null),this.RR.sV(n.FRAMEBUFFER,d),n.bindRenderbuffer(n.RENDERBUFFER,null);const f=ws.d2({scaleXYConstructor:Me}).q(i).Vi(0,i.x).Oi(0,i.y),g=new kr;g.mV(f);const m={size:i,sizeDpr:r,texture:o,frameBuffer:l,depthBuffer:u,scale:f,uniforms:g};return e.push(m),m}W(){[this.pV].forEach(t=>{t.forEach(e=>{this.RR.xV(e.depthBuffer),this.RR.MV(e.frameBuffer),this.RR.OR(e.texture)}),t.length=0})}}class qB{constructor(t,e,i,r,n=!0){this._V=new XB,this.wV=new Map,this.CV=new Map,this.kV=[],this.jE=1,this.IS_MACHINE_LITTLE_ENDIAN=(()=>{const a=new Uint32Array([287454020]),o=new Uint8Array(a.buffer);return o[0]===68||o[0]!==17&&(ht.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)})(),this.iS=!1,this.uV=(a,[o,l])=>(a===void 0||this.gl.uniform2f(a,o,l),this),this.TV=(a,[o,l])=>(a===void 0||this.gl.uniform2i(a,o,l),this),this.FV=(a,[o,l,u,d])=>(a===void 0||this.gl.uniform4f(a,o,l,u,d),this),this.IV=(a,[o,l,u])=>(a===void 0||this.gl.uniform3f(a,o,l,u),this),this.PV=(a,o)=>(a===void 0||this.gl.uniformMatrix3fv(a,!1,o),this),this.DV=(a,o)=>(a===void 0||this.gl.uniformMatrix4fv(a,!1,o),this),this.AR=(a,o)=>(a===void 0||this.gl.uniform4f(a,o.r,o.g,o.b,o.a),this),this.dV=(a,o)=>(a===void 0||this.gl.uniform1f(a,o),this),this.BV=(a,o)=>(this.gl.uniform1i(a,o),this),this.cV=(a,o,l)=>{if(a===void 0)return this;if(o){const u=this.gl.TEXTURE0+l;return this.gl.activeTexture(u),this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.uniform1i(a,l),this}throw new zi("Could not bind a texture.")},this.LV=a=>(((o,l)=>{l===as.Tile?(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.REPEAT)):(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE))})(this.gl,a),this),this.nV=(a,o=!1,l,u=Float32Array)=>{const d=a.length,f=this.RV(d,l);if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,f),this.gl.bufferData(this.gl.ARRAY_BUFFER,a instanceof u?a:new u(a),o?this.gl.DYNAMIC_DRAW:this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),f)return f;throw new zi("Could not create vertex buffer")},this.EV=(a,o,l,u=Float32Array)=>{const d=l||this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,d),o&&o.length===a?this.gl.bufferData(this.gl.ARRAY_BUFFER,o instanceof u?o:new u(o),this.gl.STATIC_DRAW):(this.gl.bufferData(this.gl.ARRAY_BUFFER,new u(a),this.gl.STATIC_DRAW),o&&this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,o instanceof u?o:new u(o))),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),d)return d;throw new zi("Could not create vertex buffer")},this.zV=(a,o,l,u=Float32Array)=>{this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,o*u.BYTES_PER_ELEMENT,l instanceof u?l:new u(l)),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)},this.VV=(a,o,l=!1)=>{this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,l?this.gl.DYNAMIC_DRAW:this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)},this.OV=(a,o)=>{const l=a.length,u=this.RV(l,o);if(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,u),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,a,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),u)return u;throw new zi("Could not create index buffer")},this.NV=a=>{const o=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.bufferData(this.gl.ARRAY_BUFFER,a instanceof Float32Array?a:new Float32Array(a),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),o)return o;throw new zi("Could not create float buffer")},this.GV=(a,o)=>(a===void 0||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,2,this.gl.FLOAT,!1,0,0)),this),this.WV=(a,o)=>(a===void 0||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.vertexAttribPointer(a,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(a)),this),this.lV=(a,o,...l)=>{this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a);const u=l.length;let d=0;for(let g=0;g<u;g+=1)d+=l[g].size;for(let g=0;g<u;g+=1){const m=l[g].location;m!==void 0&&m>-1&&this.gl.enableVertexAttribArray(m)}let f=0;for(let g=0;g<u;g+=1){const m=l[g];m.location!==void 0&&m.location>-1&&this.gl.vertexAttribPointer(m.location,m.size,this.gl.FLOAT,!1,d*Float32Array.BYTES_PER_ELEMENT,f*Float32Array.BYTES_PER_ELEMENT),f+=m.size}if(o!==void 0)for(let g=0;g<u;g+=1){const m=l[g].location;m!==void 0&&m>-1&&this.UV(m,o)}return this},this.YV=(...a)=>{const o=a.length;for(let l=0;l<o;l+=1){const u=a[l];u!==0&&u>-1&&this.gl.disableVertexAttribArray(u)}return this},this.HV=(a,o)=>(a===void 0||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,4,this.gl.FLOAT,!1,0,0)),this),this.$V=(a,o,l)=>(a===void 0||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.vertexAttribPointer(a,1,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(a),l!==void 0&&this.UV(a,l)),this),this.XV=a=>(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a),this),this.jV=null,this.Ky=(a,o,l=0)=>(o>0&&this.gl.drawArrays(a,l,o),this),this.ZV=(a,o=this.gl.TRIANGLES,l=0,u=this.gl.UNSIGNED_SHORT)=>(a>0&&this.gl.drawElements(o,a,u,l),this),this.QV=(a,o,l,u)=>{if(u>0&&(this.gl2&&this.gl2.ctx.drawArraysInstanced(a,o,l,u),this.gl1)){if(!this.gl1.iz.ANGLE_instanced_arrays)return ht.console.warn(`The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.
This application will NOT work properly!`),this;this.gl1.iz.ANGLE_instanced_arrays.drawArraysInstancedANGLE(a,o,l,u)}return this},this.JV=(a,o,l,u,d=this.gl.UNSIGNED_SHORT)=>{if(u>0&&(this.gl2&&this.gl2.ctx.drawElementsInstanced(a,o,d,l,u),this.gl1)){if(!this.gl1.iz.ANGLE_instanced_arrays)return ht.console.warn(`The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.
This application will NOT work properly!`),this;this.gl1.iz.ANGLE_instanced_arrays.drawElementsInstancedANGLE(a,o,d,l,u)}return this},this.UV=(a,o)=>{if(a>-1&&(this.gl2&&this.gl2.ctx.vertexAttribDivisor(a,o),this.gl1)){if(!this.gl1.iz.ANGLE_instanced_arrays)return ht.console.warn(`The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.
This application will NOT work properly!`),this;this.gl1.iz.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(a,o)}return this},this.KV=(a,o,l,u=0)=>{const d=this.gl.TEXTURE0+u;this.gl.activeTexture(d);const f=this.iV();this.sV(this.gl.FRAMEBUFFER,o),this.gl.bindTexture(this.gl.TEXTURE_2D,l),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,l,0);const g=this.jz();g&&this.qz(!1),a(),g&&this.qz(!0),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.sV(this.gl.FRAMEBUFFER,f)},this.Nt=()=>(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this),this.qV=a=>(this.gl.clearColor(a.r,a.g,a.b,a.a),this),this.jR=a=>(this.gl.useProgram(a.cE),this),this.tO=!1,this.iO=[],this.us=t,this.cA=e,this.us=t,this.gl=i.ctx,this.sO=i.antialias,this.eO=!!this.us.Qr.xE&&i.lineAntialias,this.sz=this.us.Qr.sz,this.hO=new Map,this.gl1=this.us.Qr.gl1,this.gl2=this.us.Qr.gl2,n&&(this.gV(!0),this.rO()),this.iz=this.us.Qr.iz,this.zR=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.UR=this.nO(),this.oz=this.us.Qr.oz,this.oO=new QB(this),this.KR=this.us.Qr.KR,this.aO=new jB(this),this.bE=this.us.Qr.bE,this.lO=this.nV([0,0,1,0,1,1,0,1]),this.uO=this.nV([0,0,1,0,0,1,0,1,1,0,1,1])}Kz(t){return t!==this.cO&&(this.cO=t,t==="disabled"?this.gl.disable(this.gl.CULL_FACE):t==="cull-back"?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):t==="cull-front"&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this}Zz(){return this.cO||"disabled"}nS(t){return t!==this.iS&&(this.iS=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this}Qz(){return this.iS}dO(t){return this.jE=t,this}$z(){return this.jE}RV(t,e){let i;if(e){const r=this.hO.get(e);r&&r.size>=t&&r.size-t<1e6?i=e:this.yV(e)}return i||(i=this.gl.createBuffer(),this.hO.set(i,{size:t})),i}fO(t,e=this.gl.RGBA,i=!1,r,n,a=!1,o=this.gl.UNSIGNED_BYTE,l=e){const u=this.gl.createTexture();if(!u)throw new zi("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,u),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),t&&n===null?this.gl.texImage2D(this.gl.TEXTURE_2D,0,l,e,o,t):n&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,l,n.x,n.y,0,e,o,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),i?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),u}OR(t){this.gl.deleteTexture(t)}vV(){const t=this.gl.createFramebuffer();if(!t)throw new zi("Couldn't reserve Framebuffer.");return t}sV(t,e){this.jV=e,this.gl.bindFramebuffer(t,e)}iV(){return this.jV}MV(t){this.gl.deleteFramebuffer(t)}bV(){const t=this.gl.createRenderbuffer();if(!t)throw new zi("Couldn't reserve Render buffer.");return t}xV(t){this.gl.deleteRenderbuffer(t)}eV(t,e,i,r){return this.gl.viewport(t,e,i,r),this.AO&&t===this.AO.x&&e===this.AO.y&&i===this.AO.width&&r===this.AO.height||(this.AO={x:t,y:e,width:i,height:r}),this}Xz(){return this.AO||{x:0,y:0,width:0,height:0}}hV(t,e,i,r){return this.qz(!0),this.gl.scissor(Math.max(t,0),Math.max(e,0),Math.max(i,0),Math.max(r,0)),this}qz(t){return t===this.gO||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.gO=t),this}gV(t){return t!==this.tO&&(this.tO=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this}Jz(){return this.tO}rO(t,e,i,r){return t?(t!==void 0&&e!==void 0&&(i!==void 0&&r!==void 0?this.gl.blendFuncSeparate(t,e,i,r):this.gl.blendFunc(t,e)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)}jz(){return this.gO!==void 0&&this.gO}aV(t,e){const i=new KB(this,t),r=e(i.uniform,i.attribute,i,i.uniformOptional);i.finish(r)}yV(t){t&&(this.gl.deleteBuffer(t),this.hO.delete(t))}mO(t,e,i){this.uV(t.uniform("uCenter"),e.center).uV(t.uniform("uDistance"),e.distance).FV(t.uniform("uBounds"),e.bounds).dV(t.uniform("uAspect"),e.aspectRatio);const r=i.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(let n=0;n<r.length;n+=1)this.AR(t.uniform(`color_${n}`),r[n].color).dV(t.uniform(`stop_${n}`),r[n].offset);return this}yO(t,e,i){this.uV(t.uniform("uStartPoint"),e.startPoint).uV(t.uniform("uEndPoint"),e.endPoint).FV(t.uniform("uBounds"),e.bounds);const r=i.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(let n=0;n<r.length;n+=1)this.AR(t.uniform(`color_${n}`),r[n].color).dV(t.uniform(`stop_${n}`),r[n].offset);return this}Vh(t){const e=this.bE.get(t);if(!e){const i=new SB(this);return this.bE.set(t,i),i}return e}pO(t){const e=this.wV.get(t);if(!e){const i=new WB(this,t);return this.SO(t,i),i}return e}SO(t,e){this.wV.set(t,e)}nO(){const t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));const i=t.getError()===0;return i||this.cA.Hn!==!1&&ht.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(e),i}vO(t,e,i,r){if(i)this.lV(e,r,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{const n=t.attribute("aPos");this.GV(n,e),r!==void 0&&this.UV(n,r)}return this}bO(){this.iz.WEBGL_lose_context&&this.iz.WEBGL_lose_context.loseContext()}xO(t){if(this.MO&&this.MO.bufferIdsCount>=t)return this.MO.buffer;this.MO&&(this.yV(this.MO.buffer),this.MO=void 0);const e=t,i=new Float32Array(e);for(let n=0;n<e;n+=1)i[n]=n;const r=this.nV(i);return this.MO={buffer:r,bufferIdsCount:e},r}_O(){return this.gl2?void 0:"attribute"}wO(t,e){if(this._O()==="attribute"){const i=this.xO(e);this.lV(i,void 0,{location:t.attribute("aVertexID"),size:1})}return this}CO(){return this.gl2?void 0:"attribute"}kO(t,e){if(this.CO()==="attribute"){const i=this.xO(e);this.lV(i,1,{location:t.attribute("aInstanceID"),size:1})}return this}TO(t,e,i,r,n,a,o,l,u){const d=t.createBuffer();return this.iO.push(d),t.bindFramebuffer(t.FRAMEBUFFER,e),t.bindBuffer(t.PIXEL_PACK_BUFFER,d),t.bufferData(t.PIXEL_PACK_BUFFER,u.byteLength,t.STREAM_READ),t.readPixels(i,r,n,a,o,l,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),JB(t,t.PIXEL_PACK_BUFFER,d,0,u).then(()=>u).catch(f=>{throw f}).finally(()=>{t.deleteBuffer(d),this.iO.splice(this.iO.indexOf(d),1)})}FO(t,e,i,r,n,a,o,l){const u=this.gl,d=this.iV();this.sV(u.FRAMEBUFFER,t),u.readPixels(e,i,r,n,a,o,l),this.sV(this.gl.FRAMEBUFFER,d)}IO(t){const e=this.CV.get(t);if(!e){const r=this.gl.createTexture();if(!r)throw new zi("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,r);const n=[];let a=255;for(let u=0;u<t.length;u+=1){for(let d=0;d<t[u];d+=1)n.push(a);a=a===255?0:255}const o=n.length;if(!this.gl2&&((i=n.length)&i-1)!=0){const u=(d=>{d-=1;for(let f=1;f<32;f<<=1)d|=d>>1;return d+1})(n.length);for(let d=n.length;d<u;d+=1)n[d]=0}this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,n.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(n)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);const l={PO:r,DO:o,BO:n.length};return this.CV.set(t,l),l}var i;return e}LO(t,e,i){const{uniform:r}=t;this.AR(r("uFallbackColor"),e.getFallbackColor());for(let n=0;n<e.steps.length;n+=1)this.dV(r(`uLUTValue${n}`),e.steps[n].value),this.AR(r(`uLUTColor${n}`),e.steps[n].color);if(e.percentageValues){if(!i)return Qn(0,()=>{}),this;this.dV(r("uMinValue"),i.min),this.dV(r("uMaxValue"),i.max)}return this}RO(t,e,i,r,n,a){const o=i&&i.getSource()||r&&r.rc,l=i?i.getFitMode():as.Stretch,u=d=>{d.texCoordsBuffer=this.nV(a(d.texture.Fz,d.texture.Iz,l),!1,d.texCoordsBuffer)};if(o){let d=e;if((!e||o!==e.source)&&o){e&&(e.texture.ZR(t),this.yV(e.texCoordsBuffer));const f=this.pO(o);f.jR(t);const g=i?i.getSourceMissingColor():mC.color;d={texture:f,source:o,texCoordsBuffer:this.nV([]),sourceMissingTexture:this.fO(new Uint8Array([g.getR(),g.getG(),g.getB(),g.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:()=>{d&&o&&(u(d),this.us.Ss())}},f.Oz(d.textureReadyCallback),u(d)}return d&&d.texture.Dz&&d.texture.Pz&&d.texture.Tz&&(d.texture.Ps(),this.us.Ss()),n&&d&&d.texture.Dz&&u(d),d}e&&this.EO(t,e)}EO(t,e){e&&(e.texture.ZR(t),e.texture.Nz(e.textureReadyCallback),this.OR(e.sourceMissingTexture),this.yV(e.texCoordsBuffer))}zO(t,e,i,r){const{uniform:n,uniformOptional:a,attribute:o}=t,l=i.dt,u=this.$z();this.dV(n("uIsHighlighted"),e===1||e===2?0:i.zo).AR(n("uHighlightColorOffset"),e===1||e===2?ti:i.Go).dV(n("uRenderEffectMask"),e===2?1:0).uV(a("uRatioPxClip"),[2/this.us.oi().x,2/this.us.oi().y]).dV(a("uDevicePixelRatio"),u),l instanceof Me||l instanceof dr?this.uV(n("uScale"),r.uniforms.fV()).uV(n("uDisp"),r.uniforms.AV()).uV(a("uScaleStart_highpart"),r.uniforms.VO()).uV(a("uScaleStart_lowpart"),r.uniforms.OO()):l instanceof Pi&&this.uV(a("uScaleStart"),r.uniforms.MixedScaleXY.uScaleStart).uV(a("uScaleStartLog"),r.uniforms.MixedScaleXY.uScaleStartLog).uV(a("uScaleInterval"),r.uniforms.MixedScaleXY.uScaleInterval).uV(a("uScaleIntervalLog"),r.uniforms.MixedScaleXY.uScaleIntervalLog).uV(n("uViewportStart"),r.uniforms.MixedScaleXY.uViewportStart).uV(n("uViewportSize"),r.uniforms.MixedScaleXY.uViewportSize);const d=r.coordsHighPrecision===!0;if(r.coordsX)if(d){const f=o("aPos_highpartX"),g=o("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsX),this.gl.vertexAttribPointer(f,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(f),this.gl.vertexAttribPointer(g,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(g)}else this.$V(o("aPosX"),r.coordsX);if(r.coordsY)if(d){const f=o("aPos_highpartY"),g=o("aPos_lowpartY");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsY),this.gl.vertexAttribPointer(f,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(f),this.gl.vertexAttribPointer(g,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(g)}else this.$V(o("aPosY"),r.coordsY);if(e===1)this.AR(n("uColor"),r.mousePickingColor);else{if(r.fillStyleSolid&&this.AR(n("uColor"),r.fillStyleSolid.getColor()),r.fillStylePaletted){if(r.fillStylePaletted.getLookUpProperty()==="value"&&r.lookupValueBuffer!==null){if(!r.lookupValueBuffer)return!1;const f=o("aLookupValue");this.$V(f,r.lookupValueBuffer),r.lookupValueAttribDivisor!==void 0&&this.UV(f,r.lookupValueAttribDivisor)}this.LO(t,r.fillStylePaletted.lut,r.lookupValueRange)}if(r.fillStyleLinearGradient){if(!r.linearGradientInfo)return!1;this.yO(t,r.linearGradientInfo,r.fillStyleLinearGradient)}if(r.fillStyleRadialGradient){if(!r.radialGradientInfo)return!1;this.mO(t,r.radialGradientInfo,r.fillStyleRadialGradient)}if(r.fillStyleIndividual&&r.colorBuffer!==null){if(!r.colorBuffer)return!1;const f=o("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.colorBuffer),this.gl.vertexAttribPointer(f,4,this.gl.UNSIGNED_BYTE,!0,0,0),this.gl.enableVertexAttribArray(f),r.colorAttribDivisor!==void 0&&this.UV(f,r.colorAttribDivisor)}if(r.fillStyleImage){if(!r.texturedFillGLInfo)return!1;const f=r.texturedFillGLInfo&&r.texturedFillGLInfo.texture.Gz();this.AR(a("uColor"),r.fillStyleImage.getSurroundingColor()).cV(n("uColorTexture"),f||r.texturedFillGLInfo.sourceMissingTexture,0).lV(r.texturedFillGLInfo.texCoordsBuffer,r.texCoordAttribDivisor,{location:o("aTextureCoord"),size:2}).LV(r.fillStyleImage.fitMode)}if(r.maskTexture){const f=r.maskTexture&&r.maskTexture.texture.Gz();this.cV(n("uMaskTexture"),f||r.maskTexture.sourceMissingTexture,0).lV(r.maskTexture.texCoordsBuffer,r.maskTextureCoordsAttribDivisor,{location:o("aMaskTextureCoord"),size:2})}}return!0}NO(t,e,i){if(t)return Rr(i||e.Ho(),e.dt,t.getAngle(!0),this.$z())}GO(t,e,i){if(t)return Mr(i||e.Ho(),e.dt,t.getPosition(),t.getExtent(),t.getShape(),this.$z())}}const JB=async(s,t,e,i,r,n,a)=>{const o=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);return s.flush(),((l,u,d)=>{const f=d.flags!==void 0?d.flags:0,g=d.retryTimeout!==void 0?d.retryTimeout:10;return new Promise((m,p)=>{const x=()=>{const v=l.clientWaitSync(u,f,0);return v===l.WAIT_FAILED?p(new Error(`WebGL Sync WAIT_FAILED ${l.getError()}`)):v!==l.TIMEOUT_EXPIRED?m(void 0):void ht.setTimeout(x,g)};ht.setTimeout(x,0)})})(s,o,{retryTimeout:10}).then(()=>(s.deleteSync(o),s.bindBuffer(t,e),s.getBufferSubData(t,i,r,n,a),s.bindBuffer(t,null),r)).catch(l=>{throw l})};class kr{mV(t){if(t instanceof Me||t instanceof dr){const e=t.pi();this.WO=e.x.scaling,this.UO=-e.x.displacement,this.YO=e.y.scaling,this.HO=-e.y.displacement,this.$O=e.x.highPrecisionOffset,this.XO=e.x.highPrecisionOffset-Math.fround(e.x.highPrecisionOffset),this.jO=e.y.highPrecisionOffset,this.ZO=e.y.highPrecisionOffset-Math.fround(e.y.highPrecisionOffset)}else t instanceof Pi&&(this.MixedScaleXY=t.pi());return this}AV(){return[this.UO,this.HO]}fV(){return[this.WO,this.YO]}VO(){return[this.$O,this.jO]}OO(){return[this.XO,this.ZO]}}class ZB{constructor(){this.WO=0,this.YO=0,this.QO=0,this.UO=0,this.HO=0,this.JO=0}KO(t){return this.WO=t.et(),this.UO=t.getInnerStart()+.5*this.WO*t.ht(),this}qO(t){return this.YO=t.et(),this.HO=t.getInnerStart()+.5*this.YO*t.ht(),this}tN(t){return this.QO=t.et(),this.JO=t.getInnerStart()+.5*this.QO*t.ht(),this}fV(){return[this.WO,this.YO,this.QO]}AV(){return[this.UO,this.HO,this.JO]}iN(t,e,i,r,n){const a=Y(2*(t-i.x)/(i.width-i.x)-1,2*(e-i.y)/(i.height-i.y)-1),o=Pe.multiply(r,[a.x,a.y,n,1]);return It(o[0],o[1],o[2])}}class QB{constructor(t){this.RR=t}zL(t,e,i,r,n,a=0){const o=this.RR,l=r===void 0;if(!(r=r||o.vV()))throw new zi("Could not bind a framebuffer.");const u=o.Xz(),d=o.Jz();o.gV(!1),o.KV(()=>{o.eV(0,0,i.x,i.y),t()},r,e,a),l&&o.MV(r),this.RR.qV(n),this.RR.eV(u.x,u.y,u.width,u.height),o.gV(d)}}class KB{constructor(t,e){this.sN=[],this.eN=[],this.uniform=i=>{const r=this.shader.gE(i);return this.eN.push({name:i,optional:!1}),r},this.uniformOptional=i=>{const r=this.shader.mE(i);return this.eN.push({name:i,optional:!0}),r},this.attribute=i=>{const r=this.shader.yE(i);return this.sN.push({name:i,location:r}),r},this.glUtils=t,this.shader=e}finish(t){for(const e of this.sN)this.glUtils.YV(e.location),this.glUtils.UV(e.location,0)}}class tP extends Tg{constructor(t,e,i,r,n){super(t,e,i,r),this.hN=new Map,this.rN=t,this.nN=e,this.RR=t.oN(),this.aN=n,this.nN=e}lN(t){return!1}VR(){return this}zL(t){if(!this.aN||t!==0||this.hN.size===0)return this;const e=Array.from(this.hN.values()).map(r=>r.uN.filter(n=>n.cN).map(n=>n.ts).flat().filter(n=>n!==void 0).filter(n=>n.getVisible())).flat();if(e.length===0)return this;const i=this.aN;return this.RR.aO.SV(e,i),this}Ps(){return this}bt(){return 0}vt(){return 0}Mt(){return 0}xt(){return 0}vl(){return 0}bl(){return 0}hs(t,e){const i={uN:[]},r=(l,u)=>{const d={ts:l||[],cN:u===void 0||u};i.uN.push(d);const f={fs:g=>(d.ts=g,f),ps:g=>(d.cN=g,f),vs:()=>d.cN};return f},n={};Object.keys(e).forEach(l=>{const u=e[l],d=u.shapes||[],f=u.themeEffectEnabled===void 0||u.themeEffectEnabled,g=r(d,f);n[l]=g});const a={yg:r,...n};this.hN.set(t,i);const o=t.onDispose(()=>{this.hN.delete(t),t.offDispose(o)});return a}}const D5=(s,t,e)=>((i,r,n,a)=>{const o=[];let l=0;const u=Wt(r,n/2);let d,f,g,m,p=i[i.length-1],x=0;for(let v=0;v<i.length;v+=1){d=i[v],f=v===i.length-1?i[0]:i[v+1],v>0&&(p=i[v-1]),JM(d,p)&&(p=Bt(d,hr(Wt(be(f,d),-1)))),JM(d,f)&&(f=Bt(d,hr(Wt(be(p,d),-1))));const A=fd(p,r),E=fd(d,r),T=fd(f,r),F=hr(be(E,A)),D=hr(be(T,E)),N=Bt(F,D),V=Y(-N.y,N.x),P=Y(-F.y,F.x),b=1/uS(V,P),M=go(V),w=hr(be(F,D)),C=Math.sign(uS(V,w))||1,k=lr(V,Wt(u,b)),z=lr(V,Wt(u,-b));if(M<1||b===1/0){let H={x:0,y:0},B={x:0,y:0},U={x:0,y:0},O={x:0,y:0};const W=Y(-D.y,D.x),I=Math.sign(uS(F,V))||C,X=lr(P,Wt(u,I)),j=lr(W,Wt(u,I));C===1?(H=X,B=z,U=j,O=z):(H=k,B=X,U=k,O=j);const Q=4*Da(p,d),J=4*Da(d,f);(b>Q||b>J)&&(C===1?(H=X,B=j,U=j,O=X):(H=j,B=X,U=X,O=j));const st=Bt(d,H),nt=Bt(d,B),ct=Bt(d,U),dt=Bt(d,O);o[l]=st,l+=1,o[l]=nt,l+=1,o[l]=ct,l+=1,o[l]=dt,l+=1,x=4}else{const H=Bt(d,k),B=Bt(d,z);o[l]=H,l+=1,o[l]=B,l+=1,x=2}m=g,g=i[v]}return o[l]=o[0],l+=1,o[l]=o[1],l+=1,[o,x,[m,g]]})(s,t,e)[0];class eP extends L6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.dN=Ie,this.fN=Ie,this.AN=Hs({arcStyleSolid:()=>fe(this.be)&&this.be,arcStyleRadialGradient:()=>gi(this.be)&&this.be,arcStyleLinearGradient:()=>yi(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN()}yN(t,e){let i=0,r=Array(0),n=0;if(e!==void 0){const o=t.length,l=Array(o+e.length);let u=0,d=0;for(;u<o;)l[d]=t[u],l[d+1]=e[u],d+=2,u+=1;r=l,i=this.RR.gl.TRIANGLE_STRIP}else r=t,i=this.RR.gl.TRIANGLE_FAN;const a=Hr(r,this.dt._i());return n=r.length,[r,this.RR.nV(a),n,i]}pN(t,e,i,r){let n=Array(0);if(e===void 0)n=t;else{let o=0,l=0;const u=t.length;for(o=0,l=u,n=Array(u+e.length-2),e.reverse();o<u;)n[o]=t[o],n[l]=e[o],l+=1,o+=1}if(i===1||i===-1)return[Hr(n,this.dt._i()),n.length];const a=D5(n,r,i);return[Hr(a,this.dt._i()),a.length]}Ps(){const t=this.sa(),e=this.Bo.M();if(this.ea()){const i=Math.abs(this.Fi.M()-this.Gl.M());this.aE.mV(this.dt);const r=this.dt.Ni()||t,n=this.dt.Wi(),a=this.Wl.M(),o=this.Ul.M(),[l,u]=Bg(this.ua.M(),this.Gl.M(),this.Fi.M(),this.Wl.M(),this.Ul.M(),this.Hl.M()),d=this.Yl.M(),f=d>0?Bg(this.ua.M(),this.Gl.M(),this.Fi.M(),this.Wl.M()*d/100,this.Ul.M()*d/100,u)[0]:[this.ua.M()],g=l.length-1;if(g===2){const D=(l[g-1].x+l[1].x)/2,N=(l[g-1].y+l[1].y)/2;this.$l=Y(D,N)}else{const D=Math.floor(g/2);this.$l=Y(l[D].x,l[D].y)}this.Xl=l[1];const m=l.length-1;this.jl=l[m],this.Yl.M()&&(l.shift(),f.shift());let p=!1;(this.ua.i||this.Gl.i||this.Fi.i||this.Wl.i||this.Ul.i||this.Yl.i||this.Hl.i||r)&&(this.fN=se(Y(this.Fa().x-a,this.Fa().y-o),Y(this.Fa().x+a,this.Fa().y+o)),p=!0,this.ua.i=!1,this.Gl.i=!1,this.Fi.i=!1,this.Wl.i=!1,this.Ul.i=!1,this.Yl.i=!1,this.Hl.i=!1);const x=this.ta();(p||x)&&this.be!==Nt&&(this.Yl.M()?(this.SN&&this.RR.yV(this.SN),[this.vN,this.SN,this.bN,this.xN]=this.yN(l,f)):(this.SN&&this.RR.yV(this.SN),[this.vN,this.SN,this.bN,this.xN]=this.yN(l,void 0)),gi(this.be)?this.MN=Mr(this.fN,this.dt,this.be.getPosition(),this.be.getExtent(),this.be.getShape(),this.RR.$z()):yi(this.be)?this._N=Rr(this.fN,this.dt,this.be.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0));const v=this.AN.arcStyleSolid(x),A=this.AN.arcStyleLinearGradient(x),E=this.AN.arcStyleRadialGradient(x),T=v||A||E;x&&(this.wN=T?this.RR.oz(q["2D"],q.Color({dataType:gi(this.be)||yi(this.be)?["gradient",this.be]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.ha(this.be));const F=this.xe;if(zs(F)&&(p||this.oa(F.getThickness())||r)){this.Yl.M()?i===360?(l.pop(),f.pop(),[this.CN,this.kN]=this.pN(l,void 0,F.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0),[this.FN,this.IN]=this.pN(f,void 0,F.getThickness(),n),this.PN&&this.FN?this.RR.VV(this.PN,this.FN,!0):!this.PN&&this.FN?this.PN=this.RR.nV(this.FN,!0):this.PN&&!this.FN&&(this.RR.yV(this.PN),this.PN=void 0)):([this.CN,this.kN]=this.pN(l,f,F.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0),this.FN&&(this.PN&&this.RR.yV(this.PN),this.PN=void 0,this.IN=0)):(i===360&&(l.shift(),l.pop()),[this.CN,this.kN]=this.pN(l,void 0,F.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0));const D=F.getFillStyle();gi(D)?this.DN=Mr(this.fN,this.dt,D.getPosition(),D.getExtent(),D.getShape(),this.RR.$z()):yi(D)?this.LN=Rr(this.fN,this.dt,D.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.RN=D===Nt?void 0:this.RR.oz(q["2D"],q.Color({dataType:gi(D)||yi(D)?["gradient",D]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})),this.aa(F)}if(p){let D=1,N=1;zs(F)&&(D=F.getThickness()*n.x,N=F.getThickness()*n.y),this.dN=se(Y(this.fN.min.x-D,this.fN.min.y-N),Y(this.fN.max.x+D,this.fN.max.y+N))}this.EN=e&&T?this.EN||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.zN=e&&this.xe!==bt?this.zN||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0}return this}zL(t){if(this.ea()){const e=t===1?this.EN:this.wN,i=this.be,r=this.SN;e&&r&&this.RR.jR(e).aV(e,(a,o,l,u)=>{if(this.RR.uV(a("uScale"),this.aE.fV()).uV(a("uDisp"),this.aE.AV()).uV(u("uScaleStart_highpart"),this.aE.VO()).uV(u("uScaleStart_lowpart"),this.aE.OO()).vO(l,r,this.dt._i(),void 0).dV(a("uIsHighlighted"),t===1||t===2?0:this.zo).AR(a("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(a("uRenderEffectMask"),t===2?1:0),t===1)this.RR.AR(a("uColor"),this.mN);else if(fe(i))this.RR.AR(a("uColor"),i.getColor());else if(gi(i)){if(!this.MN)return!1;this.RR.mO(l,this.MN,i)}else if(yi(i)){if(!this._N)return!1;this.RR.yO(l,this._N,i)}return this.RR.Ky(this.xN,this.bN),!0});const n=this.xe;zs(n)&&(this.TN!==void 0&&this.VN(t,this.TN,this.kN,n),this.PN!==void 0&&this.VN(t,this.PN,this.IN,n))}return this}VN(t,e,i,r){const n=t===1?this.zN:this.RN,a=r.getFillStyle();n&&this.RR.jR(n).aV(n,(o,l,u,d)=>{if(this.RR.uV(o("uScale"),this.aE.fV()).uV(o("uDisp"),this.aE.AV()).vO(u,e,this.dt._i(),void 0).dV(o("uIsHighlighted"),t===1||t===2?0:this.zo).AR(o("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(o("uRenderEffectMask"),t===2?1:0),t===1)this.RR.AR(o("uColor"),this.mN);else if(fe(a))this.RR.AR(o("uColor"),a.getColor());else if(gi(a)){if(!this.DN)return!1;this.RR.mO(u,this.DN,a)}else if(yi(a)){if(!this.LN)return!1;this.RR.yO(u,this.LN,a)}const f=r.getThickness(),g=f===-1||f===1;return this.RR.Ky(g?this.RR.gl.LINE_LOOP:this.RR.gl.TRIANGLE_STRIP,i),!0})}lN(t){return this.gN===t&&{}}VR(){return this.ON&&(this.RR.yV(this.ON),this.ON=void 0),this.NN&&(this.RR.yV(this.NN),this.NN=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.PN&&(this.RR.yV(this.PN),this.PN=void 0),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this}bt(){return this.fN.max.x}vt(){return this.fN.min.x}Mt(){return this.fN.max.y}xt(){return this.fN.min.y}vl(){return Ks(this.xe)}bl(){return Ks(this.xe)}}class iP{constructor(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}GN(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this}WN(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this}UN(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this}YN(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.second,e[i+2]=this.third,i+=3,t.position=i,t.next&&this.WN(),this}HN(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.third,e[i+2]=this.second,e[i+3]=this.third,e[i+4]=this.fourth,e[i+5]=this.second,i+=6,t.position=i,t.next&&this.UN(),this}$N(t,e){e.next=!0,6*t>=e.buffer.length&&(e.buffer=Array(6*t));for(let i=0;i<t;i+=1)this.HN(e);return this}XN(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]}}const Ke=((s=0)=>new iP().GN(s))(),pE=(s,t,e,i,r,n,a,o,l,u)=>(o===void 0&&a===void 0||Ke.WN(),n.push(s,t),r.push(Ke.first,Ke.second,Ke.third),o=void 0,a=void 0,r.push(Ke.third,Ke.fourth,Ke.second),l=Ke.third,Ke.UN(),u&&n.push(e,i),[a,o,l]),SE=(s,t,e,i,r,n,a,o,l,u,d)=>{l===void 0&&o===void 0||Ke.WN(),a.push(s,t),r.push(Ke.first,Ke.second,Ke.third);const f=nx(s,e,t,i);return l=void 0,f!==void 0&&(l===void 0&&(l=f),a.push(l),n.push(Ke.third,Ke.fourth,Ke.fifth),u=Ke.fourth),Ke.UN(),d&&a.push(e,i),[o,l,u]},xE=(s,t,e,i,r,n,a,o,l,u)=>(a===void 0&&n===void 0||Ke.WN(),r.push(s,t),i.push(Ke.first,Ke.second,Ke.third),n=e,a=void 0,o=Ke.third,u?r.push(e):l=!0,[n,a,o,l]),AE=(s,t,e,i,r,n,a,o,l,u,d)=>(n.length!==0?(o===void 0&&a===void 0||Ke.WN(),Ke.WN()):l>0&&(Ke.WN(),d>0&&(d-=1)),n.push(s),r.push(Ke.first,Ke.second,Ke.third),l=Ke.second,a=s,o=void 0,u&&n.push(e,i),[a,o,l,d]),vE=(s,t=0)=>{Ke.GN(t);const[e,i]=s,r=e.length,n=[],a=[],o=[];let l,u,d=t,f=0,g=e[f],m=i[f],p=e[f],x=i[f],v=!1,A=d>0?p.y!==x.y?2:1:0;if(r>1)for(;f<r-1;){p=g,x=m,f+=1,g=e[f],m=i[f];const E=f===r-1;p.y>x.y?g.y>m.y?[l,u,d]=pE(p,x,g,m,n,o,l,u,d,E):g.y<m.y?[l,u,d]=SE(p,x,g,m,n,a,o,l,u,d,E):[l,u,d,v]=xE(p,x,g,n,o,l,u,d,v,E):p.y<x.y?g.y<m.y?[l,u,d]=pE(p,x,g,m,a,o,l,u,d,E):g.y>m.y?[l,u,d]=SE(p,x,g,m,a,n,o,l,u,d,E):[l,u,d,v]=xE(p,x,g,a,o,l,u,d,v,E):g.y===m.y?(l=p,v&&(o.push(p),v=!1,Ke.WN()),o.length===0&&d>0&&A>0&&(A-=1)):g.y>m.y?[l,u,d,A]=AE(p,0,g,m,n,o,l,u,d,E,A):[l,u,d,A]=AE(p,0,g,m,a,o,l,u,d,E,A)}return[o,new Uint16Array(n),new Uint16Array(a),d,A]};class sP extends P6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.jN=0,this.Oa=Array(),this.ZN=0,this.QN=new Uint16Array(0),this.JN=new Uint16Array(0),this.AN=Hs({hightFillSolid:()=>fe(this.be)&&this.be,hightFillRadialGradient:()=>gi(this.be)&&this.be,hightFillLinearGradient:()=>yi(this.be)&&this.be,hightFillPaletted:()=>Bi(this.be)&&this.be,lowFillSolid:()=>fe(this.Tl)&&this.Tl,lowFillRadialGradient:()=>gi(this.Tl)&&this.Tl,lowFillLinearGradient:()=>yi(this.Tl)&&this.Tl,lowFillPaletted:()=>Bi(this.Tl)&&this.Tl}),this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN()}Ps(){const t=this.sa(),e=this.Bo.M(),i=this.Qa;if(this.ea()){this.aE.mV(this.dt);const r=this.dt instanceof Pi==0,n=r?this.dt.Wi():void 0,a=this.Dl(),o=this.dt.Ni()||t,l=i||this._l.i||o&&a.type!=="disabled";if(l){if(this.jN=0,this.QN=new Uint16Array(0),this.JN=new Uint16Array(0),this.Oa.length=0,this.ZN=0,this.wl>1){const[V,P,b,M]=vE([r?a.packager(this.xl,n,.5):this.xl,r?a.packager(this.Ml,n,.5):this.Ml]);this.jN=M,this.QN=P,this.JN=b,this.Oa=V,this.ZN=V.length}this._l.i=!1}if(this.kl&&this.$a[0].length>1){const[V,P]=this.$a,b=V.length,[M,w,C,k,z]=vE([r?a.packager(V,n,.5):V,r?a.packager(P,n,.5):P],this.jN);this.jN=k;const H=M.length;for(let B=z;B<H;B+=1)this.Oa[this.ZN]=M[B],this.ZN+=1;this.QN=nR(this.QN,w),this.JN=nR(this.JN,C);for(let B=z>0||this.wl>0?1:z;B<b;B+=1)this.xl[this.wl]=V[B],this.Ml[this.wl]=P[B],this.wl+=1;this.Cl=!0,this.kl=!1,this.$a=[]}const u=this.be,d=this.ia!==u,f=this.AN.hightFillSolid(d),g=this.AN.hightFillRadialGradient(d),m=this.AN.hightFillLinearGradient(d),p=this.AN.hightFillPaletted(d),x=f||g||m||p&&["x","y"].includes(p.getLookUpProperty())&&p,v=this.Tl,A=this.Ol!==v,E=this.AN.lowFillSolid(A),T=this.AN.lowFillRadialGradient(A),F=this.AN.lowFillLinearGradient(A),D=this.AN.lowFillPaletted(A),N=E||T||F||D&&["x","y"].includes(D.getLookUpProperty())&&D;if((d||t)&&(this.KN=x?this.RR.oz(q["2D"],q.Color({dataType:m?["gradient",m]:g?["gradient",g]:p?["lookup",p.getLookUpProperty(),p.lut]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),g?this.MN=Mr(this.Eo||this.Ya,this.dt,g.getPosition(),g.getExtent(),g.getShape(),this.RR.$z()):m?this._N=Rr(this.Eo||this.Ya,this.dt,m.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),(A||t)&&(this.qN=N?this.RR.oz(q["2D"],q.Color({dataType:F?["gradient",F]:T?["gradient",T]:D?["lookup",D.getLookUpProperty(),D.lut]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),T?this.tG=Mr(this.Eo||this.Ya,this.dt,T.getPosition(),T.getExtent(),T.getShape(),this.RR.$z()):F?this.iG=Rr(this.Eo||this.Ya,this.dt,F.getAngle(!0),this.RR.$z()):(this.tG=void 0,this.iG=void 0),(t||this.Cl||l)&&this.Cl||l){const V=this.Oa,P=Hr(V,this.dt._i());this.sG=this.RR.nV(P,!1,this.sG),x&&(this.eG=this.RR.OV(this.QN,this.eG),this.hG=this.QN.length),N&&(this.rG=this.RR.OV(this.JN,this.rG),this.nG=this.JN.length),this.Cl=!1}this.EN=e&&(N||x)?this.EN||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.ha(this.be),this.Nl(this.Tl),this.Qa=!1}return this}zL(t){const e=this.be,i=this.Tl,r=t===1?this.EN:this.qN;if(r&&this.sG&&this.rG){const a=this.sG,o=this.rG;this.RR.jR(r).aV(r,(l,u,d,f)=>{if(this.RR.vO(d,a,this.dt._i(),void 0).XV(o).dV(l("uIsHighlighted"),t===1||t===2?0:this.zo).AR(l("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(l("uRenderEffectMask"),t===2?1:0),this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(l("uScale"),this.aE.fV()).uV(l("uDisp"),this.aE.AV()).uV(f("uScaleStart_highpart"),this.aE.VO()).uV(f("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(f("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(f("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(f("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(f("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(l("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(l("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(l("uColor"),this.mN);else if(fe(i))this.RR.AR(l("uColor"),i.getColor());else if(gi(i)){if(!this.tG)return!1;this.RR.mO(d,this.tG,i)}else if(yi(i)){if(!this.iG)return!1;this.RR.yO(d,this.iG,i)}else if(Bi(i)){const g=Ar(i,this,void 0);if(!g&&i.lut.percentageValues)return!1;this.RR.LO(d,i.lut,g)}return this.RR.ZV(this.nG),!0})}const n=t===1?this.EN:this.KN;if(n&&this.sG&&this.eG){const a=this.sG,o=this.eG;this.RR.jR(n).aV(n,(l,u,d,f)=>{if(this.RR.vO(d,a,this.dt._i(),void 0).XV(o).dV(l("uIsHighlighted"),t===1||t===2?0:this.zo).AR(l("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(l("uRenderEffectMask"),t===2?1:0),this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(l("uScale"),this.aE.fV()).uV(l("uDisp"),this.aE.AV()).uV(f("uScaleStart_highpart"),this.aE.VO()).uV(f("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(f("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(f("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(f("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(f("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(l("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(l("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(l("uColor"),this.mN);else if(fe(e))this.RR.AR(l("uColor"),e.getColor());else if(gi(e)){if(!this.MN)return!1;this.RR.mO(d,this.MN,e)}else if(yi(e)){if(!this._N)return!1;this.RR.yO(d,this._N,e)}else if(Bi(e)){const g=Ar(e,this,void 0);if(!g&&e.lut.percentageValues)return!1;this.RR.LO(d,e.lut,g)}return this.RR.ZV(this.hG),!0})}return this}lN(t){return this.gN===t&&{}}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}Ux(t){this.al()>0&&this.Ps();const[e,i]=this.tl(),r=e.length>2&&e[1].x<e[0].x,n=DA(e,t,ns.NearestX,this.Fl,this.Il,this.dt,this.us.dt,this.Ya,"x",r);if(n===void 0)return;const a=[e[n],i[n]];return Number.isNaN(a[0].y)||Number.isNaN(a[1].y)?void 0:a}sw(t){this.al()>0&&this.Ps();const[e,i]=this.tl(),r=e.length;if(r===0)return;const n=this.Fl?1:0,a=r-(this.Il?2:1),o=e.length>2&&e[1].x<e[0].x,l=MC(e,mt(t,this.us.dt,this.dt),"x",o,n,a);if(!l)return;const u=[fo(e[l.a],e[l.b],l.lerpAmount),fo(i[l.a],i[l.b],l.lerpAmount)];return Number.isNaN(u[0].y)||Number.isNaN(u[1].y)?void 0:u}dispose(){return super.dispose(),this.rG&&(this.RR.yV(this.rG),this.rG=void 0),this.eG&&(this.RR.yV(this.eG),this.eG=void 0),this.sG&&(this.RR.yV(this.sG),this.sG=void 0),this}VR(){return this.dispose(),this}}class rP extends $u{constructor(t,e){super(t),this.oG=e;const{vertices:i,indices:r,indicesCount:n,drawMode:a}=this.aG();this.lG=t.nV(i),this.uG=t.OV(r),this.cG=n,this.dG=a}jR(t,e){return this.RR.lV(this.lG,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:e?t.attribute("aSegmentInside"):void 0,size:1}),this.RR.XV(this.uG),this}Ky(t,e,i){return this.RR.JV(e!==void 0?e:this.dG,this.cG,i||0,t,this.RR.gl.UNSIGNED_BYTE),this}aG(){const t=[];[1,0].forEach(r=>{const n=r===1?.5*Math.PI:1.5*Math.PI;for(let a=0;a<=this.oG;a+=1){const o=n-a*Math.PI/this.oG;t.push(.5*Math.cos(o),.5*Math.sin(o),r,0)}}),t.push(0,0,1,1),t.push(0,0,0,1);const e=t.length/4,i=[];for(let r=0;r<this.oG;r+=1)i.push(r,r+1,e-2),i.push(r+e/2-1,r+e/2,e-1);return i.push(0,e-2,e-1),i.push(e-1,e-2,e/2-1),i.push(0,e-3,e-1),i.push(e/2-2,e-2,e/2-1),{vertices:new Float32Array(t),indices:new Uint8Array(i),indicesCount:i.length,verticesCount:e,drawMode:this.RR.gl.TRIANGLES}}kz(){this.RR.yV(this.lG),this.RR.yV(this.uG)}}const ju=(s,t,e=!0)=>((i,r)=>{let n=i._V.xz.get(r);return n||(n=new rP(i,r),i._V.xz.set(r,n),n)})(s,e?t>=50?8:t>=20?6:t>=7?4:t>=4?3:t===1?1:2:1),Un={fG:(s,t,e,i,r,n)=>{const{attribute:a}=i,o=t.gl;if(o.bindBuffer(o.ARRAY_BUFFER,e),s){const l=a("aLocationA_highpart"),u=a("aLocationA_lowpart"),d=a("aLocationB_highpart"),f=a("aLocationB_lowpart");o.vertexAttribPointer(l,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),t.UV(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(u,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(n+2)*Float32Array.BYTES_PER_ELEMENT),t.UV(u,1),o.enableVertexAttribArray(u),o.vertexAttribPointer(d,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(n+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(d,1),o.enableVertexAttribArray(d),o.vertexAttribPointer(f,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(n+r+2)*Float32Array.BYTES_PER_ELEMENT),t.UV(f,1),o.enableVertexAttribArray(f)}else{const l=a("aLocationA"),u=a("aLocationB");o.vertexAttribPointer(l,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),t.UV(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(u,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(n+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(u,1),o.enableVertexAttribArray(u)}},AG:(s,t,e,i,r,n,a)=>{const o=s.gl;o.bindBuffer(o.ARRAY_BUFFER,e),o.vertexAttribPointer(i,n,o.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,a*Float32Array.BYTES_PER_ELEMENT),s.UV(i,1),o.enableVertexAttribArray(i),o.vertexAttribPointer(r,n,o.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(a+n)*Float32Array.BYTES_PER_ELEMENT),s.UV(r,1),o.enableVertexAttribArray(r)},gG:(s,t,e,i,r,n)=>{const{attribute:a}=i,o=t.gl;if(o.bindBuffer(o.ARRAY_BUFFER,e),s){const l=a("aLocationA_highpart"),u=a("aLocationA_lowpart"),d=a("aLocationB_highpart"),f=a("aLocationB_lowpart");o.vertexAttribPointer(l,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),t.UV(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(u,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(n+2)*Float32Array.BYTES_PER_ELEMENT),t.UV(u,1),o.enableVertexAttribArray(u),o.vertexAttribPointer(d,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(n+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(d,1),o.enableVertexAttribArray(d),o.vertexAttribPointer(f,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(n+r+2)*Float32Array.BYTES_PER_ELEMENT),t.UV(f,1),o.enableVertexAttribArray(f)}else{const l=a("aLocationA"),u=a("aLocationB");o.vertexAttribPointer(l,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),t.UV(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(u,2,o.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(n+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(u,1),o.enableVertexAttribArray(u)}},mG:(s,t,e,i,r,n,a)=>{const o=s.gl;o.bindBuffer(o.ARRAY_BUFFER,e),o.vertexAttribPointer(i,n,o.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,a*Float32Array.BYTES_PER_ELEMENT),s.UV(i,1),o.enableVertexAttribArray(i),o.vertexAttribPointer(r,n,o.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,(a+n)*Float32Array.BYTES_PER_ELEMENT),s.UV(r,1),o.enableVertexAttribArray(r)},zL:(s,t,e,i,r,n,a)=>{const o=s.oN(),{uniform:l,uniformOptional:u}=e,d=1/s.Un.$n,f=(r?Math.max(n,d):Math.max(n,0))+1;o.dV(l("uThicknessPixels"),f).dV(u("uAALimit"),1-(f-1)/f).uV(l("uRatioPxClip"),[2/s.oi().x,2/s.oi().y]),t.jR(e,i).Ky(a)}},hu={fG:(s,t,e,i,r,n)=>{const{attribute:a}=i,o=t.gl;if(o.bindBuffer(o.ARRAY_BUFFER,e),s){const l=a("aPos_highpart");o.vertexAttribPointer(l,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(l);const u=a("aPos_lowpart");o.vertexAttribPointer(u,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(n+2)*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(u)}else{const l=a("aPos");o.vertexAttribPointer(l,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(l)}},AG:(s,t,e,i,r,n)=>{const a=s.gl;a.bindBuffer(a.ARRAY_BUFFER,e),a.vertexAttribPointer(i,r,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(i)},gG:(s,t,e,i,r,n)=>{const{attribute:a}=i,o=t.gl;if(o.bindBuffer(o.ARRAY_BUFFER,e),!s){const l=a("aPos");o.vertexAttribPointer(l,2,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,n*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(l)}},yG:(s,t)=>{const e=s.oN();e.Ky(e.gl.LINE_STRIP,t,0)},pG:(s,t)=>{const e=s.oN();e.Ky(e.gl.LINES,2*t,0)}};class nP extends H6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.Ya=Ie,this.AN=Hs({lineStyleSolid:()=>zs(this.lu)&&this.lu,lineStyleDashed:()=>dy(this.lu)&&this.lu,strokeFillSolid:()=>{const l=this.lu.getFillStyle();return fe(l)&&l},strokeFillLinearGradient:()=>{const l=this.lu.getFillStyle();return yi(l)&&l},strokeFillRadialGradient:()=>{const l=this.lu.getFillStyle();return gi(l)&&l},strokeFillPaletted:()=>{const l=this.lu.getFillStyle();return Bi(l)&&l}}),this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN(),this.SG=this.RR.eO}Ps(){const t=this.ra(),e=this.lu,i=this.AN.lineStyleSolid(t),r=this.AN.lineStyleDashed(t),n=i||r,a=this.AN.strokeFillSolid(t),o=this.AN.strokeFillLinearGradient(t),l=this.AN.strokeFillRadialGradient(t),u=this.AN.strokeFillPaletted(t),d=a||o||l||u&&["x","y"].includes(u.getLookUpProperty())&&u,f=this.Ii(),g=this.Ti(),m=this.Bo.M(),p=this.Bo.i,x=e.V();if(r&&this.dt instanceof Pi)return ht.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.aE.mV(this.dt),this.Au&&(this.vG=this.RR.nV(Hr([f,g],this.dt._i()),!1,this.vG),this.Ya=se(Y(f.x,f.y),Y(g.x,g.y))),t||p){const v=this.ea()&&n&&d&&x>0,A=o?["gradient",o]:l?["gradient",l]:u?["lookup",u.getLookUpProperty(),u.lut]:"uniform";this.bG=v?{type:"triangulated",shader:this.RR.oz(q["2D"],q.Color({dataType:A}),q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),this.SG?q.AliasedEdge:void 0,r&&q.StippleTextureInstanced),mousePickingShader:m?this.RR.oz(q["2D"],q.MousePicking,q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),r&&q.StippleTextureInstanced):void 0,geometry:ju(this.RR,x),thickness:x,lineStyleSolid:i,lineStyleDashed:r,fillStyleSolid:a,fillStyleLinearGradient:o,fillStyleRadialGradient:l,fillStylePaletted:u}:void 0}if(l?this.DN=Mr(th(this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,l.getPosition(),l.getExtent(),l.getShape(),this.RR.$z()):o?this.LN=Rr(th(this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,o.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),r){if(t||this.Au){const v=[0,0,Math.abs(g.x-f.x),Math.abs(g.y-f.y)];this.xG=this.RR.nV(v,!1,this.xG)}this.MG=this.RR.IO(r.getPattern())}else this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0;return this.fu(e),this.Au=!1,this.Bo.i=!1,this}zL(t){var e,i;const r=this.vG;if(!r)return this;const n=this.bG;if(!n)return this;const{fillStyleSolid:a,fillStyleLinearGradient:o,fillStyleRadialGradient:l,fillStylePaletted:u,lineStyleDashed:d,thickness:f}=n,g=t===1?(e=this.bG)===null||e===void 0?void 0:e.mousePickingShader:(i=this.bG)===null||i===void 0?void 0:i.shader;return g?(this.RR.jR(g).aV(g,(m,p,x,v)=>{if(this.RR.dV(m("uIsHighlighted"),t===1||t===2?0:this.zo).AR(m("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(m("uRenderEffectMask"),t===2?1:0),this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(m("uScale"),this.aE.fV()).uV(m("uDisp"),this.aE.AV()).uV(v("uScaleStart_highpart"),this.aE.VO()).uV(v("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(v("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(v("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(v("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(v("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(m("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(m("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(m("uColor"),this.mN);else if(a)this.RR.AR(m("uColor"),a.getColor());else if(l){if(!this.DN)return!1;this.RR.mO(x,this.DN,l)}else if(o){if(!this.LN)return!1;this.RR.yO(x,this.LN,o)}else if(u){const A=Ar(u,this,void 0);if(!A&&u.lut.percentageValues)return!1;this.RR.LO(x,u.lut,A)}if(d){if(!this.xG||!this.MG)return!1;Un.AG(this.RR,x,this.xG,p("aLengthSoFarA"),p("aLengthSoFarB"),2,0),this.RR.uV(m("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(v("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(m("uStippleScale"),d.getPatternScale()).cV(m("uStippleTexture"),this.MG.PO,1)}return Un.fG(this.dt._i(),this.RR,r,x,this.dt._i()?4:2,0),Un.zL(this.rN,n.geometry,x,this.SG&&t!==1,t===1,f,1),!0}),this):this}lN(t){return this.gN===t&&{}}dispose(){return super.dispose(),this.bG=void 0,this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0,this}VR(){return this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return Ks(this.lu)}bl(){return Ks(this.lu)}}class aP extends X6{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this._G=[],this.wG=!1,this.CG=!1,this.kG=!1,this.TG=!1,this.aE=new kr,this.Ya=Ie,this.AN=Hs({lineStyleSolid:()=>zs(this.lu)&&this.lu,lineStyleDashed:()=>dy(this.lu)&&this.lu,lineFillSolid:()=>{const u=this.lu.getFillStyle();return fe(u)&&u},lineFillRadialGradient:()=>{const u=this.lu.getFillStyle();return gi(u)&&u},lineFillLinearGradient:()=>{const u=this.lu.getFillStyle();return yi(u)&&u},lineIndividualPointFill:()=>{const u=this.lu.getFillStyle();return Gs(u)&&u}}),this.rN=t,this.nN=e,this.FG=a,this.RR=t.oN(),this.SG=this.RR.eO,this.IG=t.Un.jn;const{color:o,id:l}=this.FG();this.mN=o,this.gN=l}zr(){const t=this.mu?void 0:this.FG(),e={ys:i=>this.PG(e,i),cs:i=>this.DG(e,i),Eg:(i,r)=>this.BG(e,i,r),AR:i=>this.LG(e,i),Pi:{x:0,y:0},Fi:{x:0,y:0},zo:0,EG:void 0,gN:t==null?void 0:t.id,mN:t==null?void 0:t.color};return this._G.push(e),e}Nt(){var t;return this._G.length=0,this.wG=!0,this.ji&&this.Tn&&((t=this.us.Cn)===null||t===void 0?void 0:t.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember),this}zG(){return this._G.length}M(t){const e=this._G[t];return[e.Pi,e.Fi]}Ap(){return this._G}bd(t){var e;const i=this._G.indexOf(t);i>=0&&(this._G.splice(i,1),this.wG=!0,this.ji&&this.Tn&&((e=this.us.Cn)===null||e===void 0?void 0:e.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember))}PG(t,e){if(e&&!this._G.includes(t))this._G.push(t);else if(!e){const i=this._G.indexOf(t);this._G.splice(i,1)}return this.kG=!0,t}DG(t,e){return t.zo=e,this.CG=!0,t}BG(t,e,i){return t.Pi=e,t.Fi=i,this.wG=!0,t}LG(t,e){return t.EG=e,this.TG=!0,t}Ps(){const t=this.Bo.M(),e=this.Bo.i,i=this.ra(),r=this.lu,n=this._G,a=this.CG,o=this.wG,l=this.kG,u=this.TG,d=this.AN.lineStyleSolid(i),f=this.AN.lineStyleDashed(i),g=d||f,m=this.AN.lineFillSolid(i),p=this.AN.lineIndividualPointFill(i),x=this.AN.lineFillRadialGradient(i),v=this.AN.lineFillLinearGradient(i),A=m||p||v||x,E=r.V(),T=f?"triangulated":r.getThickness()<0?"primitive":"triangulated";if(f&&this.dt instanceof Pi)return ht.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.aE.mV(this.dt);const F=o||l;if(F){const D=[];for(let N=0;N<n.length;N+=1){const V=n[N];D.push(V.Pi),D.push(V.Fi)}this.vG=this.RR.nV(Hr(D,this.dt._i()),!1,this.vG),this.Ya=ei(D)}if(i||e){const D=m?"uniform":p?"attribute":v?["gradient",v]:x?["gradient",x]:void 0,N=g&&A&&E>0&&D;this.bG=N?T==="triangulated"?{type:"triangulated",shader:this.RR.oz(q["2D"],q.Color({dataType:D}),q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,snapToNearestPixel:this.IG,ensureMinimumSegmentLength:this.gu!==void 0}),this.SG?q.AliasedEdge:void 0,f&&q.StippleTextureInstanced,q.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(q["2D"],this.mu?q.MousePicking:q.MousePickingAttribute,q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,snapToNearestPixel:this.IG,ensureMinimumSegmentLength:this.gu!==void 0}),f&&q.StippleTextureInstanced,q.AttributeHighlight)}:void 0,geometry:ju(this.RR,E,!1),thickness:E,lineStyleSolid:d,lineStyleDashed:f,fillStyleSolid:m,fillStyleIndividual:p,fillStyleLinearGradient:v,fillStyleRadialGradient:x}:{type:"primitive",shader:this.RR.oz(q["2D"],q.Color({dataType:D}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0,snapToNearestPixel:this.IG}),q.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(q["2D"],this.mu?q.MousePicking:q.MousePickingAttribute,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0,snapToNearestPixel:this.IG}),q.AttributeHighlight)}:void 0,lineStyleSolid:d,lineStyleDashed:f,fillStyleSolid:m,fillStyleIndividual:p,fillStyleLinearGradient:v,fillStyleRadialGradient:x}:void 0}if(f){if(i||F){const D=new Float32Array(4*n.length);let N=0;for(let V=0;V<n.length;V+=1){const P=n[V].Pi,b=n[V].Fi;D[N]=0,D[N+1]=0,D[N+2]=Math.abs(b.x-P.x),D[N+3]=Math.abs(b.y-P.y),N+=4}this.xG=this.RR.nV(D,!1,this.xG)}this.MG=this.RR.IO(f.getPattern())}else this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0;if(F||a)if(T==="triangulated"){const D=new Float32Array(n.length);let N=0;n.forEach(V=>{D[N]=V.zo,N+=1}),this.VG=this.RR.nV(D,!0,this.VG)}else{const D=new Float32Array(2*n.length);let N=0;n.forEach(V=>{for(let P=N;P<N+2;P+=2)D[P]=V.zo,D[P+1]=V.zo;N+=2}),this.VG=this.RR.nV(D,!1,this.VG)}if(p)if(u||F||i)if(T==="triangulated"){const D=new Float32Array(4*n.length);let N=0;n.forEach(V=>{const P=V.EG||p.color;D[N]=P.r,D[N+1]=P.g,D[N+2]=P.b,D[N+3]=P.a,N+=4}),this.OG=this.RR.nV(D,!1,this.OG)}else{const D=new Float32Array(8*n.length);let N=0;n.forEach(V=>{const P=V.EG||p.color;for(let b=N;b<N+8;b+=4)D[b]=P.r,D[b+1]=P.g,D[b+2]=P.b,D[b+3]=P.a;N+=8}),this.OG=this.RR.nV(D,!1,this.OG)}else this.OG&&(this.RR.yV(this.OG),this.OG=void 0);if(t&&!this.mu){if(F)if(T==="triangulated"){const D=new Float32Array(4*n.length);let N=0;n.forEach(V=>{var P,b,M,w;D[N+0]=((P=V.mN)===null||P===void 0?void 0:P.r)||0,D[N+1]=((b=V.mN)===null||b===void 0?void 0:b.g)||0,D[N+2]=((M=V.mN)===null||M===void 0?void 0:M.b)||0,D[N+3]=((w=V.mN)===null||w===void 0?void 0:w.a)||0,N+=4}),this.NG=this.RR.nV(D,!0,this.NG)}else{const D=new Float32Array(8*n.length);let N=0;n.forEach(V=>{var P,b,M,w;for(let C=N;C<N+4;C+=4)D[N+0]=((P=V.mN)===null||P===void 0?void 0:P.r)||0,D[N+1]=((b=V.mN)===null||b===void 0?void 0:b.g)||0,D[N+2]=((M=V.mN)===null||M===void 0?void 0:M.b)||0,D[N+3]=((w=V.mN)===null||w===void 0?void 0:w.a)||0;N+=8}),this.NG=this.RR.nV(D,!1,this.NG)}}else this.NG&&(this.RR.yV(this.NG),this.NG=void 0);return x?this.MN=Mr(this.Eo||this.Ya,this.dt,x.getPosition(),x.getExtent(),x.getShape(),this.RR.$z()):v?this._N=Rr(this.Eo||this.Ya,this.dt,v.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.fu(r),this.CG=!1,this.kG=!1,this.wG=!1,this.TG=!1,this.Bo.i=!1,this}zL(t){var e;const i=this.vG,r=this.VG,n=this.NG;if(!i||!r)return this;const a=this.bG;if(!a)return this;const{type:o,fillStyleSolid:l,fillStyleIndividual:u,fillStyleLinearGradient:d,fillStyleRadialGradient:f,lineStyleDashed:g}=a,m=t===1?(e=a.mousePicking)===null||e===void 0?void 0:e.shader:a.shader;return m?(this.RR.jR(m).aV(m,(p,x,v,A)=>{if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(p("uScale"),this.aE.fV()).uV(p("uDisp"),this.aE.AV()).uV(A("uScaleStart_highpart"),this.aE.VO()).uV(A("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(A("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(A("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(A("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(A("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(p("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(p("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.IG&&this.RR.uV(A("uViewportSizePx"),[this.us.oi().x*this.RR.$z(),this.us.oi().y*this.RR.$z()]),this.gu!==void 0&&this.RR.uV(p("uMinSegmentPixelVector"),[this.gu.x,this.gu.y]),this.RR.AR(p("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(p("uRenderEffectMask"),t===2?1:0),t===1)if(this.mu)this.RR.AR(p("uColor"),this.mN);else{if(!n)return!1;o==="triangulated"?this.RR.lV(n,1,{location:x("aColor"),size:4}):this.RR.HV(x("aColor"),n)}else if(l)this.RR.AR(p("uColor"),l.getColor());else if(u){if(!this.OG)return!1;this.RR.lV(this.OG,o==="triangulated"?1:void 0,{location:x("aColor"),size:4})}else if(f){if(!this.MN)return!1;this.RR.mO(v,this.MN,f)}else if(d){if(!this._N)return!1;this.RR.yO(v,this._N,d)}if(g){if(!this.xG||!this.MG)return!1;Un.mG(this.RR,v,this.xG,x("aLengthSoFarA"),x("aLengthSoFarB"),2,0),this.RR.uV(p("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(A("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(p("uStippleScale"),g.getPatternScale()).cV(p("uStippleTexture"),this.MG.PO,0)}if(o==="triangulated"){const{geometry:E,thickness:T}=a;Un.gG(this.dt._i(),this.RR,i,v,this.dt._i()?4:2,0),this.RR.lV(r,1,{location:x("aIsHighlighted"),size:1}),Un.zL(this.rN,E,v,this.SG&&t!==1,t===1,T,this._G.length)}else hu.gG(this.dt._i(),this.RR,i,v,this.dt._i()?4:2,0),this.RR.$V(x("aIsHighlighted"),r),hu.pG(this.rN,this._G.length);return!0}),this):this}lN(t){if(t===this.gN)return{};const e=this._G.find(i=>i.gN===t);return!!e&&{collectionMember:e}}dispose(){return super.dispose(),this.bG=void 0,this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.VG&&(this.RR.yV(this.VG),this.VG=void 0),this.NG&&(this.RR.yV(this.NG),this.NG=void 0),this.OG&&(this.RR.yV(this.OG),this.OG=void 0),this.MG=void 0,this}VR(){return this}cs(t){super.cs(t);for(const e of this._G)e.cs(t);return this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return Ks(this.lu)}bl(){return Ks(this.lu)}}class Ey{constructor(t,e){this.GG=!1,this.WG=!1,this.UG=!1,this.dt=t,this.YG=e,this.YG.Uo("DataPattern",i=>{i.pattern!=="ProgressiveX"&&i.pattern!=="RegressiveX"||(this.GG="x"),i.pattern!=="ProgressiveY"&&i.pattern!=="RegressiveY"||(this.GG="y"),i.pattern!=="RegressiveX"&&i.pattern!=="RegressiveY"||(this.WG=!0),i.regularProgressiveStep===!0&&(this.UG=!0)})}calculateUserDataPointsProgressiveRange(t){if(t.length===0)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:this.GG==="x"?t[0].x:t[0].y,end:this.GG==="x"?t[t.length-1].x:t[t.length-1].y}}calculateUserDataPointsBoundaries(t){return this.GG?this.GG==="x"?function(e){const i=e.length;if(i>0){const r=Math.max(e[i-1].x,e[0].x),n=Math.min(e[i-1].x,e[0].x);let a=e[0].y,o=e[0].y;for(let l=0;l<i;l+=1){const u=e[l];u.y>a&&(a=u.y),u.y<o&&(o=u.y)}return se(Y(n,o),Y(r,a))}return Ie}(t):function(e){const i=e.length;if(i>0){const r=Math.max(e[i-1].y,e[0].y),n=Math.min(e[i-1].y,e[0].y);let a=e[0].x,o=e[0].x;for(let l=0;l<i;l+=1){const u=e[l];u.x>a&&(a=u.x),u.x<o&&(o=u.x)}return se(Y(o,n),Y(a,r))}return Ie}(t):ei(t)}calculateAvgStepBetweenDataPoints(t,e,i){return Math.abs(t-e)/(i-1)}}const oP=Math.min(1,1.5);class hP extends Ey{constructor(t,e,i){super(t,e),this.HG=!1,this.$G={enabled:!1,totalDataPointsAtTime:0},this.XG=[],this.Ss=i,this.jG=t instanceof Me?{type:"linear",scale:t}:t instanceof Pi?{type:"mixed",scale:t}:{type:"unknown"},this.YG.Uo("DataPattern",r=>{r.allowDataGrouping===!1&&(this.HG=!0)})}ZG(t,e=!1){if(this.HG||!this.GG||this.jG.type!=="linear")return!1;e===!1&&this.QG&&(clearTimeout(this.QG),this.QG=void 0);const i=this.GG==="x"?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!i)throw new Error("CP helper has no information about Axis state.");const r=t.length;if(r<2)return!1;const n=t[0],a=t[r-1],o=this.calculateAvgStepBetweenDataPoints(this.GG==="x"?n.x:n.y,this.GG==="x"?a.x:a.y,r),l=this.jG.scale,u=Math.abs(this.GG==="x"?l.Wi().x:l.Wi().y),d=u/o,f=Math.floor(d*oP),g=f*o,m=ht.performance.now(),p=!(m-i.ah<500)&&(i.ih?m-i.oh<1e3:m-i.sh<2e3||i.hh),x=r>2*this.$G.totalDataPointsAtTime;if(p&&!x)return this.QG=setTimeout(()=>this.JG(t),1e3),!1;const v=f>=10,A=this.$G.enabled?this.$G.columnWidthAxis/u<1.5:void 0,E=this.$G.enabled&&f>this.$G.dataPointsPerColumn?f/this.$G.dataPointsPerColumn>=2:void 0;let T;this.$G.enabled===!0?A?E&&(T={enabled:!0,columnWidthAxis:g,dataPointsPerColumn:f,totalDataPointsAtTime:r}):T=v?{enabled:!0,columnWidthAxis:g,dataPointsPerColumn:f,totalDataPointsAtTime:r}:{enabled:!1,totalDataPointsAtTime:r}:v&&(T={enabled:!0,columnWidthAxis:g,dataPointsPerColumn:f,totalDataPointsAtTime:r});const F=e===!1;return T?(F&&(this.$G=T),!0):(F&&(this.$G={...this.$G,totalDataPointsAtTime:r}),!1)}Qm(){this.KG=void 0,this.XG.length=0,this.QG&&(clearTimeout(this.QG),this.QG=void 0)}qG(t){if(t.length===0||this.HG||!this.GG||this.jG.type!=="linear"||!this.$G.enabled)return t;let e;e=this.XG.length>0?Es(this.XG,t,{canReturnB:!0}):t;const i=e.length,r=[];let n,a,o=this.KG===void 0,l=-1,u=-1,d=0,f=0;if(this.GG!=="x"||this.WG)if(this.GG==="x"&&this.WG){const m=this.$G.columnWidthAxis;let p=this.KG?this.KG.x:e[0].x,x=p-m;for(let v=0;v<i;v+=1){const A=e[v];A.x>=x?((!n||A.y>n.y)&&(n=A,l=v),(!a||A.y<a.y)&&(a=A,u=v),f=v):(n&&a&&(o&&r.push(e[0]),l<u?r.push(n,a):r.push(a,n)),o=!1,p=A.x,x=p-m,n=A,l=v,a=A,u=v,d=v,f=v)}}else if(this.GG!=="y"||this.WG){if(this.GG==="y"&&this.WG){const m=this.$G.columnWidthAxis;let p=this.KG?this.KG.y:e[0].y,x=p-m;for(let v=0;v<i;v+=1){const A=e[v];A.y>=x?((!n||A.x>n.x)&&(n=A,l=v),(!a||A.x<a.x)&&(a=A,u=v),f=v):(a&&n&&(o&&r.push(e[0]),l<u?r.push(n,a):r.push(a,n)),o=!1,p=A.y,x=p-m,n=A,l=v,a=A,u=v,d=v,f=v)}}}else{const m=this.$G.columnWidthAxis;let p=this.KG?this.KG.y:e[0].y,x=p+m;for(let v=0;v<i;v+=1){const A=e[v];A.y<=x?((!n||A.x>n.x)&&(n=A,l=v),(!a||A.x<a.x)&&(a=A,u=v),f=v):(a&&n&&(o&&r.push(e[0]),l<u?r.push(n,a):r.push(a,n)),o=!1,p=A.y,x=p+m,n=A,l=v,a=A,u=v,d=v,f=v)}}else{const m=this.$G.columnWidthAxis;let p=this.KG?this.KG.x:e[0].x,x=p+m;for(let v=0;v<i;v+=1){const A=e[v];A.x<=x?((!n||A.y>n.y)&&(n=A,l=v),(!a||A.y<a.y)&&(a=A,u=v),f=v):(n&&a&&(o&&r.push(e[0]),l<u?r.push(n,a):r.push(a,n)),o=!1,p=A.x,x=p+m,n=A,l=v,a=A,u=v,d=v,f=v)}}if(n||a){const m=e.slice(d,f+1);this.XG=m}else this.XG.length=0;const g=r.length;return g>0&&(this.KG=r[g-1]),r}tW(t){if(this.GG&&this.jG.type==="linear"){const e=this.GG==="x"?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.Je===Fa.progressive||e.Je===Fa.regressive){const i=Math.abs(this.GG==="x"?this.jG.scale.x.getInnerInterval():this.jG.scale.y.getInnerInterval());if(this.$G.enabled)return 2*i/this.$G.columnWidthAxis;const r=t.length,n=t[0],a=t[r-1];return i/this.calculateAvgStepBetweenDataPoints(this.GG==="x"?n.x:n.y,this.GG==="x"?a.x:a.y,r)}}}iW(t,e,i){if(!this.GG)return e;const r=i.length;let n=Cd(i,t.min,this.GG,this.WG,0,r-1);n===void 0&&(n=this.WG?r-1:0);let a=Cd(i,t.max,this.GG,this.WG,0,r-1);return a===void 0&&(a=this.WG?0:r-1),1+Math.abs(a-n)}sW(){this.QG&&(clearTimeout(this.QG),this.QG=void 0)}JG(t){this.ZG(t,!0)&&this.Ss()}}class lP extends Ey{renderVisibleOnly(t,e){const i=this.dt.x.getInnerStart(),r=this.dt.x.getInnerEnd(),n=Math.min(i,r),a=Math.max(i,r),o=this.dt.y.getInnerStart(),l=this.dt.y.getInnerEnd(),u=Math.min(o,l),d=Math.max(o,l);t.forEach((f,g)=>{f.existingCoordinatesCount<=1||f.boundaries.max.x<n||f.boundaries.min.x>a||f.boundaries.max.y<u||f.boundaries.min.y>d||e(f)})}}class ZA{constructor(t,e,i){this.eW=e,this.hW=i,this.rW=t,this.nW=[]}oW(t,e,i,r){const n=t.length;if(n===0)return;let a=t,o=n,l=this.rW[this.rW.length-1];do{const u=this.rW.length;let d;l||(l=this.aW(e,o)),l&&l.allocatedCoordinatesCount-l.existingCoordinatesCount==0&&(l=void 0);let f=0;if(this.hW&&u>0&&(l===void 0||l.existingCoordinatesCount===0)){const g=this.rW[u-1].lastDataPoint;g?(a.splice(0,0,g),f=1,o+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(l)d=Math.min(o,l.allocatedCoordinatesCount-l.existingCoordinatesCount),r(l,a.slice(0,d),d,f);else{const g=Math.ceil(e)+f;d=Math.min(g,o);const m={...i(g,a.slice(0,d),d,f),isDropped:!1};this.rW.push(m)}d>0&&(o>d?(a=a.slice(d),o=a.length):(a=[],o=0))}while(o>0);this.lW()}uW(t){const e=t,i=this.rW.indexOf(e);i>=0&&this.rW.splice(i,1),e.droppedTimestamp=ht.performance.now(),this.nW.push(e)}cW(){this.rW.slice().forEach(t=>this.uW(t))}dW(){this.rW.forEach(t=>this.eW(t)),this.nW.forEach(t=>this.eW(t)),this.rW.length=0,this.nW.length=0}aW(t,e){const i=2*t/3,r=4*t/3,n=this.nW.findIndex(a=>a.allocatedCoordinatesCount>=i&&a.allocatedCoordinatesCount<=r);if(n>=0){const a=this.nW[n];return this.nW.splice(n,1),this.rW.push(a),a}}lW(){if(this.nW.length>5){const t=ht.performance.now();for(let e=0;e<this.nW.length-5;e+=1){const i=this.nW[e];(i.droppedTimestamp===void 0||t-i.droppedTimestamp>=1e4)&&(this.eW(i),this.nW.splice(e,1),e-=1)}}}}class F5 extends Ey{fW(t,e){if(!e||typeof e!="object")return 0;const i=this.dt.x.getInnerStart(),r=this.dt.x.getInnerEnd(),n=Math.min(i,r),a=Math.max(i,r),o=this.dt.y.getInnerStart(),l=this.dt.y.getInnerEnd(),u=Math.min(o,l),d=Math.max(o,l);if("maxDataPointCount"in e)return this.AW(t,e.maxDataPointCount,n,a,u,d);if("minDataPointCount"in e)return this.gW(t,e.minDataPointCount,n,a,u,d);if("progressiveDataCleaningThreshold"in e)return this.mW(t,e.progressiveDataCleaningThreshold,n,a,u,d);throw new Error(`Unimplemented data cleaning configuration: ${JSON.stringify(e)}`)}AW(t,e,i,r,n,a){if(e===void 0||e<=0)return 0;const o=t.reduce((d,f)=>d+f.existingDataPointsCount,0);if(o<=e)return 0;let l=0,u=o;for(let d=0;d<t.length;d+=1){const f=t[d];u>e&&(l+=1,u-=f.existingDataPointsCount)}return l}mW(t,e,i,r,n,a){if(e===void 0||!this.GG)return 0;let o=0;for(let l=0;l<t.length;l+=1){const u=t[l],d=this.WG?this.GG==="x"?u.boundaries.min.x>r:u.boundaries.min.y>a:this.GG==="x"?u.boundaries.max.x<i:u.boundaries.max.y<n;if(!((this.WG?this.GG==="x"?u.boundaries.min.x>e:u.boundaries.min.y>e:this.GG==="x"?u.boundaries.max.x<e:u.boundaries.max.y<e)&&d&&u.existingCoordinatesCount>2))break;o+=1}return o}gW(t,e,i,r,n,a){if(e===void 0||e===0)return 0;let o=0,l=0;for(let u=t.length-1;u>=0;u-=1){const d=t[u];if(l>e)if(this.GG){if(this.WG?this.GG==="x"?d.boundaries.min.x>r:d.boundaries.min.y>a:this.GG==="x"?d.boundaries.max.x<i:d.boundaries.max.y<n){o=1+u;break}}else d.boundaries.max.x<i||d.boundaries.min.x>r||d.boundaries.max.y<n||d.boundaries.min.y>a?o+=1:o=0;l+=d.existingDataPointsCount}return o}yW(t,e){const i=t.reduce((r,n)=>ur(r,n.boundaries),Ie);if(e&&"progressiveDataCleaningThreshold"in e&&e.progressiveDataCleaningThreshold){const r=e.progressiveDataCleaningThreshold;this.GG!=="x"||this.WG?this.GG==="x"&&this.WG?i.max.x=Math.min(i.max.x,r):this.GG!=="y"||this.WG?this.GG==="y"&&this.WG&&(i.max.y=Math.min(i.max.y,r)):i.min.y=Math.max(i.min.y,r):i.min.x=Math.max(i.min.x,r)}return i}}class uP extends ax{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n),this.aE=new kr,this.QM=[],this.pW=new lP(this.dt,this),this.SW=new hP(this.dt,this,()=>this.us.Ss()),this.vW=new ZA(this.QM,v=>{v.coordsBuffer&&this.RR.yV(v.coordsBuffer),v.xG&&this.RR.yV(v.xG)},!0),this.bW=new F5(this.dt,this),this.xW=0,this.MW=0,this._W=!1,this.AN=Hs({lineStyleSolid:()=>zs(this.lu)&&this.lu,lineStyleDashed:()=>dy(this.lu)&&this.lu,strokeFillSolid:()=>{const v=this.lu.getFillStyle();return fe(v)&&v},strokeFillLinearGradient:()=>{const v=this.lu.getFillStyle();return yi(v)&&v},strokeFillRadialGradient:()=>{const v=this.lu.getFillStyle();return gi(v)&&v},strokeFillPaletted:()=>{const v=this.lu.getFillStyle();return Bi(v)&&v}}),this.nN=e,this.gN=a,this.mN=o,this.Un=l,this.bG={type:"none"},this.RR=t.oN(),this.rN=t,this.SG=this.RR.eO;const u=this.dt._i(),d=(l==null?void 0:l.individualLookupValuesEnabled)===!0;let f,g,m,p=0;u||(f=p,p+=2),u&&(g=p,p+=4),d&&(m=p,p+=1);const x=((v,A)=>A?(E,T)=>((F,D)=>{if(!D){const b=F.length,M=new Float32Array(3*b);for(let w=0,C=0;w<b;w+=1){const k=F[w];M[C+0]=k.x,M[C+1]=k.y,M[C+2]=k.value!==void 0?k.value:0,C+=3}return M}const N=F.length,V=new Float32Array(5*N);let P=0;for(let b=0;b<N;b+=1){const M=F[b],w=Math.fround(M.x),C=Math.fround(M.y);V[P+0]=w,V[P+1]=C,V[P+2]=M.x-w,V[P+3]=M.y-C,V[P+4]=M.value!==void 0?M.value:0,P+=5}return V})(E,v):(E,T)=>Hr(E,v))(u,d);this.wW={individualLookupValuesEnabled:d,attributesPerVertex:p,attributeOffsetCoordinateLowPrecision:f,attributeOffsetCoordinateHighPrecision:g,attributeOffsetLookUpValue:m,prepareRenderData:(v,A)=>x(v,this.lu.getFillStyle())}}kW(t,e,i){const r=new Float32Array(2*e);let n=0,a=i||t[0];for(let o=0;o<e;o+=1){const l=t[o];this.xW+=Math.abs(a.x-l.x),this.MW+=Math.abs(a.y-l.y),r[n]=this.xW,r[n+1]=this.MW,n+=2,a=l}return r}Ps(){const t=this.Qa,e=this.lu,i=this.ra(),r=this.$a,n=r.length,a=n>0,o=this.Bo.M(),l=this.Bo.i,u=this.AN.lineStyleSolid(i),d=this.AN.lineStyleDashed(i),f=u||d,g=f&&f.getThickness(),m=this.AN.strokeFillSolid(i),p=this.AN.strokeFillLinearGradient(i),x=this.AN.strokeFillRadialGradient(i),v=this.AN.strokeFillPaletted(i),A=m||p||x||v,E=this.wW.individualLookupValuesEnabled;if(d&&this.dt instanceof Pi)return ht.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;a&&(this.yu=Es(this.yu,r,{canReturnB:!0}),this.Ha+=n);let T=this.pu.i;const F=this.bW.fW(this.QM,this.pu.M());if(F>0){let b=0;for(let M=0;M<F;M+=1){const w=this.QM[0];b+=w.existingDataPointsCount,w.existingDataPointsCount=0,w.existingCoordinatesCount=0,w.jointPointsCount=0,w.boundaries=Ie,w.lastDataPoint=void 0,this.vW.uW(w)}this.yu=this.yu.slice(b),this.Ha=this.yu.length,T=!0}let D=r,N=!1;(this.SW.ZG(this.yu)||t)&&(N=!0),d&&!this._W?(N=!0,this._W=!0,this.vW.dW()):!d&&this._W&&(this.QM.forEach(b=>{b.xG&&(this.RR.yV(b.xG),b.xG=void 0)}),this._W=!1),N&&(this.SW.Qm(),this.QM.forEach(b=>{b.existingDataPointsCount=0,b.existingCoordinatesCount=0,b.jointPointsCount=0,b.boundaries=Ie,b.lastDataPoint=void 0}),this.vW.cW(),D=this.yu,this.xW=0,this.MW=0);const V=this.SW.qG(D),P=V.length;if(P>0){let b=this.SW.tW(this.yu)||(this.Uo("ApplicationType",M=>M.type==="InternalUI")?this.Ha:1e5);P/b>10&&(b=P/10),this.vW.oW(V,b,(M,w,C,k)=>{const z=this.pW.calculateUserDataPointsBoundaries(w),H=this.SW.iW(z,C,this.yu)-k;return this.TW=w[C-1],{allocatedCoordinatesCount:M,existingDataPointsCount:H,existingCoordinatesCount:C,jointPointsCount:k,boundaries:z,coordsBuffer:this.RR.EV(M*this.wW.attributesPerVertex,this.wW.prepareRenderData(w,C)),lastDataPoint:w[C-1],xG:this._W?this.RR.EV(2*M,this.kW(w,C,this.TW)):void 0}},(M,w,C,k)=>{const z=ur(M.boundaries,this.pW.calculateUserDataPointsBoundaries(w)),H=this.SW.iW(z,M.existingCoordinatesCount+C,this.yu)-(M.jointPointsCount+k);this.RR.zV(M.coordsBuffer,M.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(w,C)),this._W&&M.xG&&this.RR.zV(M.xG,2*M.existingCoordinatesCount,this.kW(w,C,this.TW)),this.TW=w[C-1],M.jointPointsCount+=k,M.lastDataPoint=w[C-1],M.existingDataPointsCount=H,M.existingCoordinatesCount+=C,M.boundaries=z})}if(T&&(this.Ya=this.bW.yW(this.QM,this.pu.M())),this.aE.mV(this.dt),x?this.DN=Mr(this.Eo||this.Ya,this.dt,x.getPosition(),x.getExtent(),x.getShape(),this.RR.$z()):p?this.LN=Rr(this.Eo||this.Ya,this.dt,p.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),i||l){if(v&&v.getLookUpProperty()==="value"&&!E){const b='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw ht.alert(b),new Error(b)}if(A&&f&&g!==!1){const b=g===-1?"primitive":"triangulated",M=p?["gradient",p]:x?["gradient",x]:v?["lookup",v.getLookUpProperty(),v.lut]:"uniform";this.bG=b==="primitive"?{type:b,shader:this.RR.oz(q["2D"],q.Color({dataType:M}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),d&&q.StippleTexture),mousePickingShader:o?this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),d&&q.StippleTexture):void 0,lineStyleSolid:u,lineStyleDashed:d,fillStyleSolid:m,fillStyleLinearGradient:p,fillStyleRadialGradient:x,fillStylePaletted:v}:b==="triangulated"?{type:b,shader:this.RR.oz(q["2D"],q.Color({dataType:M}),q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),this.SG?q.AliasedEdge:void 0,d&&q.StippleTextureInstanced),mousePickingShader:o?this.RR.oz(q["2D"],q.MousePicking,q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),d&&q.StippleTextureInstanced):void 0,geometry:ju(this.RR,g),thickness:g,lineStyleSolid:u,lineStyleDashed:d,fillStyleSolid:m,fillStyleLinearGradient:p,fillStyleRadialGradient:x,fillStylePaletted:v}:{type:"none"}}else this.bG={type:"none"}}return this.MG=d?this.RR.IO(d.getPattern()):void 0,this.fu(e),this.Qa=!1,this.$a=[],this.Bo.i=!1,this.pu.i=!1,this}zL(t){const e=this.RR.gl,i=this.bG;if(!i||i.type==="none")return this;const r=t===1?i.mousePickingShader:i.shader;if(!r)return this;const{lineStyleDashed:n,fillStyleSolid:a,fillStyleLinearGradient:o,fillStyleRadialGradient:l,fillStylePaletted:u}=i;return this.RR.jR(r).aV(r,(d,f,g,m)=>{let p=!1;if(this.RR.dV(d("uIsHighlighted"),t===1||t===2?0:this.zo).AR(d("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(d("uRenderEffectMask"),t===2?1:0),this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(d("uScale"),this.aE.fV()).uV(d("uDisp"),this.aE.AV()).uV(m("uScaleStart_highpart"),this.aE.VO()).uV(m("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(m("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(m("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(m("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(m("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(d("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(d("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(d("uColor"),this.mN);else if(a)this.RR.AR(d("uColor"),a.getColor());else if(l){if(!this.DN)return!1;this.RR.mO(g,this.DN,l)}else if(o){if(!this.LN)return!1;this.RR.yO(g,this.LN,o)}else if(u){const x=Ar(u,this,void 0);if(!x&&u.lut.percentageValues)return!1;this.RR.LO(g,u.lut,x)}return this.pW.renderVisibleOnly(this.QM,x=>{const{coordsBuffer:v}=x;if(!v)return;e.bindBuffer(e.ARRAY_BUFFER,v);const A=i.type==="triangulated"?Un.fG:hu.fG;if(this.dt._i()||this.wW.attributeOffsetCoordinateLowPrecision===void 0?this.dt._i()&&this.wW.attributeOffsetCoordinateHighPrecision!==void 0&&A(!0,this.RR,v,g,this.wW.attributesPerVertex,this.wW.attributeOffsetCoordinateHighPrecision):A(!1,this.RR,v,g,this.wW.attributesPerVertex,this.wW.attributeOffsetCoordinateLowPrecision),n){if(!x.xG||!this.MG)return;i.type==="triangulated"?Un.AG(this.RR,g,x.xG,f("aLengthSoFarA"),f("aLengthSoFarB"),2,0):hu.AG(this.RR,g,x.xG,f("aLengthSoFar"),2,0),this.RR.uV(d("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(m("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(d("uStippleScale"),n.getPatternScale()).cV(d("uStippleTexture"),this.MG.PO,1)}if(u&&u.lookUpProperty==="value"&&this.wW.attributeOffsetLookUpValue!==void 0&&t!==1)if(i.type==="triangulated"){const E=f("aLookupValueA");e.vertexAttribPointer(E,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(E,1),e.enableVertexAttribArray(E);const T=f("aLookupValueB");e.vertexAttribPointer(T,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(this.wW.attributeOffsetLookUpValue+this.wW.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(T,1),e.enableVertexAttribArray(T)}else{const E=f("aLookupValue");e.vertexAttribPointer(E,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.enableVertexAttribArray(E)}if(i.type==="triangulated"){const{thickness:E}=i;Un.zL(this.rN,i.geometry,g,this.SG&&t!==1,t===1,E,x.existingCoordinatesCount-1)}else hu.yG(this.rN,x.existingCoordinatesCount);p=!0}),e.bindBuffer(e.ARRAY_BUFFER,null),p}),this}lN(t){return this.gN===t&&{}}nl(t,e){return Array.isArray(t)||(t=[t]),this.$a=Es(this.$a,t,{canReturnB:!0}),this.Ya=ur(this.Ya,e||e||this.pW.calculateUserDataPointsBoundaries(t)),this}Nt(){return super.Nt(),this.xW=0,this.MW=0,this.TW=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.SW.sW(),this.bG={type:"none"},this.MG=void 0,this}VR(){return this}Ux(t){this.al()>0&&this.Ps();const e=this.tl(),i=DA(e,t,this.Za,this.Fl,this.Il,this.dt,this.engine.dt,this.Ya,this.pW.GG,this.pW.WG);return i!==void 0?e[i]:void 0}sw(t){this.al()>0&&this.Ps();const e=this.tl(),i=e.length;if(i===0)return;const r=this.Fl?1:0,n=i-(this.Il?2:1);if(this.Za===ns.Nearest){let a,o,l=Rt;for(let u=0;u<i;u+=1){const d=mt(e[u],this.dt,this.us.dt);if(o!==void 0){const f=I_(o,d,t),g=(f.x-t.x)**2+(f.y-t.y)**2;g<l&&(l=g,a=f)}o=d}return a!==void 0?mt(a,this.us.dt,this.dt):void 0}if(this.pW.GG==="x"&&this.Za===ns.NearestX||this.pW.GG==="y"&&this.Za===ns.NearestY){const a=MC(e,mt(t,this.us.dt,this.dt),this.pW.GG,this.pW.WG,r,n);return a?fo(e[a.a],e[a.b],a.lerpAmount):void 0}return this.Ux(t)}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return Ks(this.lu)}bl(){return Ks(this.lu)}}class Lh extends $u{constructor(t,e,i,r){super(t),this.dG=i,this.FW=e,this.IW=Hr(e,!1),this.PW=e.length,this.wR=t.nV(this.IW);const n=ei(this.FW);this.X=Y(n.max.x-n.min.x,n.max.y-n.min.y),this.DW=r}BW(t){return t>1}Ky(t,e,i,r,n){return typeof r=="object"?e?this.RR.$V(t.attribute("aOffsetScale"),e,1).uV(t.uniform("uSizePixels"),[r.width,r.height]):this.RR.dV(t.uniform("uOffsetScale"),r.scale).uV(t.uniform("uSizePixels"),[r.width,r.height]):n?e?this.RR.$V(t.attribute("aOffsetPixels"),e,1):this.RR.dV(t.uniform("uOffsetPixels"),r):this.RR.dV(t.uniform("uPointSize"),r),n?this.RR.lV(this.wR,0,{location:t.attribute("aInstanceGeo"),size:2}).QV(this.dG,0,this.PW,i):this.RR.Ky(this.RR.gl.POINTS,i),this}kz(){this.RR.yV(this.wR)}}const bE=(s,t=0)=>{const e=[Y(-.5,-.5),Y(.5,-.5),Y(.5,.5),Y(-.5,.5)];return new Lh(s,e,s.gl.TRIANGLE_FAN,t)},ME=(s,t=0)=>{const i=[Y(-.5,-.05),Y(.5,-.05),Y(.5,.05),Y(.5,.05),Y(-.5,.05),Y(-.5,-.05),Y(-.05,-.5),Y(.05,-.5),Y(.05,.5),Y(.05,.5),Y(-.05,.5),Y(-.05,-.5)];return new Lh(s,i,s.gl.TRIANGLES,t)},QA=(s,t,e)=>{if($h(s))return QA(Qe.Square,t,e);let i=t._V.vz.get(s);if(s===Qe.Circle){const r=e<=3?4:e<=5?8:e<=10?16:24;return i=t._V.bz.get(r)||((n,a,o=0)=>{const l=function(u=25){return Bg(Y(0,0),0,360,.5,.5,u)[0]}(a);return new Lh(n,l,n.gl.TRIANGLE_FAN,o)})(t,r),t._V.bz.set(r,i),i}if(!i){switch(s){case Qe.Triangle:i=((r,n=0)=>{const a=function(){const o=[],l=1.154700538378503;return o.push(Y(-l/2,.3333333333333333)),o.push(Y(0,-.6666666666666666)),o.push(Y(l/2,.3333333333333333)),o}();return new Lh(r,a,r.gl.TRIANGLES,n)})(t);break;case Qe.Square:i=bE(t);break;case Qe.Plus:i=ME(t);break;case Qe.Cross:i=ME(t,45);break;case Qe.Diamond:i=bE(t,45);break;case Qe.Arrow:i=((r,n=0)=>{const o=[Y(-.05,-.5),Y(.05,-.5),Y(.05,.45),Y(.05,.45),Y(-.05,.45),Y(-.05,-.5),Y(-.5,0),Y(-.4,0),Y(0,.4),Y(0,.4),Y(0,.5),Y(-.5,0),Y(.5,0),Y(.4,0),Y(0,.4),Y(0,.4),Y(0,.5),Y(.5,0)];return new Lh(r,o,r.gl.TRIANGLES,n)})(t);break;case Qe.Star:i=((r,n=0)=>new Lh(r,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],r.gl.TRIANGLE_FAN,n))(t);break;case Qe.Minus:i=((r,n=0)=>{const o=[Y(-.5,-.05),Y(.5,-.05),Y(.5,.05),Y(.5,.05),Y(-.5,.05),Y(-.5,-.05)];return new Lh(r,o,r.gl.TRIANGLES,n)})(t);break;default:return Lu(0,"LightningChart JS unidentified point shape")}t._V.vz.set(s,i)}return i};class cP extends FA{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.dN=se(wa(Ft,Ft),wa(Rt,Rt)),this.AN=Hs({pointStyleSolid:()=>fe(this.be)&&this.be,pointStyleRadialGradient:()=>gi(this.be)&&this.be,pointStyleLinearGradient:()=>yi(this.be)&&this.be,pointStylePaletted:()=>Bi(this.be)&&this.be,pointStyleIndividual:()=>Gs(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN()}Ps(){var t;const e=this.Bo.M(),i=this.Bo.i,r=this.$a,n=r.length,a=n>0,o=this.Na.M(),l=this.be,u=this.size.M(),d=this.Na.i||this.Aa.i,f=this.dt.Ni(),g=this.size.i||this.Na.i,m=this.Qa||r&&r.length>0,p=f||g,x=this.ta(),v=this.AN.pointStyleSolid(x),A=this.AN.pointStyleRadialGradient(x),E=this.AN.pointStyleLinearGradient(x),T=this.AN.pointStylePaletted(x),F=this.AN.pointStyleIndividual(x),D=v||A||E||T||F;if(a&&(this.Oa=Es(this.Oa,r,{canReturnB:!0}),this.Ha+=n),a||this.Qa){this.Ya=this.ja?ur(this.Ya,this.ja):ur(this.Ya,ei(this.Oa));const P=Hr(this.Oa,this.dt._i());this.LW=this.Ha,this.RW=this.RR.nV(P,!1,this.RW)}this.aE.mV(this.dt),l!==Nt?p&&(this.EW&&(this.EW=void 0),u>1||this.Ga.M()?u<=1&&!this.Ga.M()?this.dG=this.RR.gl.POINTS:(this.EW=QA(o,this.RR,this.Ga.M()?25:u),this.dG=this.EW.dG):this.dG=this.RR.gl.POINTS):this.EW&&(this.EW=void 0);const N=((t=this.EW)===null||t===void 0?void 0:t.DW)||0,V=this.Aa.M()+N;if(g||x||i||d){const P=this.Ga.M()?"attribute":"uniform",b=u<=1&&q.PointSize(P),M=q.VertexLocation({offset:u>1?{dataType:P,sizeUnit:"px",symmetric:!0,rotation:(this.Wa.M()||V%360!=0)&&{dataType:this.Wa.M()?"attribute":"uniform"}}:void 0,axisWorldTranslation:Ut(this.dt),normalSource:void 0});this.cE=D?this.RR.oz(q["2D"],b,M,v?q.Color({dataType:"uniform"}):F?q.Color({dataType:"attribute"}):T?q.Color({dataType:["lookup",T.getLookUpProperty(),T.lut]}):A?q.Color({dataType:["gradient",A]}):E?q.Color({dataType:["gradient",E]}):void 0):void 0,this.EN=e&&D?this.RR.oz(q["2D"],b,M,q.MousePicking):void 0}if(m||x){const P=this.Oa.length;if(Gs(l)&&this.LW&&this.LW>0){const b=l.getFallbackColor(),M=new Float32Array(4*P);for(let w=0;w<P;w+=1){const C=this.Oa[w];C.color?(M[4*w+0]=C.color.r,M[4*w+1]=C.color.g,M[4*w+2]=C.color.b,M[4*w+3]=C.color.a):(M[4*w+0]=b.r,M[4*w+1]=b.g,M[4*w+2]=b.b,M[4*w+3]=b.a)}this.zW=this.RR.nV(M,!0,this.zW)}else this.zW&&this.RR.yV(this.zW),this.zW=void 0;if(this.Ga.M()&&this.LW&&this.LW>0&&u>1){const b=new Float32Array(P);for(let M=0;M<P;M+=1){const w=this.Oa[M];w.size?b[M]=w.size:b[M]=u}this.VW=this.RR.nV(b,!0,this.VW)}else this.VW&&(this.RR.yV(this.VW),this.VW=void 0);if(this.Wa.M()&&this.LW&&this.LW>0&&u>1){const b=new Float32Array(2*P),M=Ur(V),w=Math.sin(M),C=Math.cos(M);for(let k=0;k<P;k+=1){const z=this.Oa[k];if(z.rotation){const H=Ur(z.rotation+N);b[2*k+0]=Math.sin(H),b[2*k+1]=Math.cos(H)}else b[2*k+0]=w,b[2*k+1]=C}this.OW=this.RR.nV(b,!0,this.OW)}else this.OW&&(this.RR.yV(this.OW),this.OW=void 0);if(this.Ua.M()&&this.LW&&this.LW>0){const b=new Float32Array(P);for(let M=0;M<P;M+=1){const w=this.Oa[M];"value"in w&&w.value!==void 0&&w.value!==null?b[M]=w.value:b[M]=-34028234663852886e22}this.NW=this.RR.nV(b,!0,this.NW)}else this.NW&&(this.RR.yV(this.NW),this.NW=void 0);this.ha(this.be)}if(gi(l)?this.MN=Mr(th(this.Eo||this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,l.getPosition(),l.getExtent(),l.getShape(),this.RR.$z()):yi(l)?this._N=Rr(th(this.Eo||this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,l.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),m&&(this.Ya&&m&&(this.dN=th(this.Ya,{x:u,y:u},this.dt)),this.$a=[],this.Xa=0,this.ja=Ie),this.Ja===void 0&&T&&T.lookUpProperty==="value"&&T.lut.percentageValues){let P=Ft,b=Rt;for(let M=0;M<this.Oa.length;M+=1){const w=this.Oa[M];w.value!==void 0&&w.value<b&&(b=w.value),w.value!==void 0&&w.value>P&&(P=w.value)}this.Ja={min:b,max:P}}return this.ia=l,this.Na.i=!1,this.size.i=!1,this.Aa.i=!1,this.Bo.i=!1,this.Qa=!1,this}zL(t){const e=t===1?this.EN:this.cE,i=this.RW,r=this.LW;return e&&i&&r&&(this.RR.jR(e),this.RR.aV(e,(n,a,o,l)=>{var u;if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(n("uScale"),this.aE.fV()).uV(n("uDisp"),this.aE.AV()).uV(l("uScaleStart_highpart"),this.aE.VO()).uV(l("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(l("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(l("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(l("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(l("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(n("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(n("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.vO(o,i,this.dt._i(),this.EW?1:void 0).dV(n("uIsHighlighted"),t===1||t===2?0:this.zo).AR(n("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(n("uRenderEffectMask"),t===2?1:0).dV(l("uDevicePixelRatio"),this.RR.$z()),this.EW){const g=a("aInstanceGeo");this.RR.GV(g,this.EW.wR).UV(g,0)}if(t===1)this.RR.AR(n("uColor"),this.mN);else if(fe(this.be))this.RR.AR(n("uColor"),this.be.getColor());else if(Gs(this.be)&&this.zW){const g=a("aColor");this.RR.HV(g,this.zW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(g,1)}else if(Bi(this.be)){if(this.be.getLookUpProperty()==="value"&&this.NW){const m=a("aLookupValue");this.RR.$V(m,this.NW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(m,1)}const g=Ar(this.be,this,this.Ja);if(!g&&this.be.lut.percentageValues)return!1;this.RR.LO(o,this.be.lut,g)}else if(gi(this.be)){if(!this.MN)return!1;this.RR.mO(o,this.MN,this.be)}else if(yi(this.be)){if(!this._N)return!1;this.RR.yO(o,this._N,this.be)}if(this.VW&&this.dG!==this.RR.gl.POINTS){const g=a("aOffsetPixels");this.RR.$V(g,this.VW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(g,1)}else if(this.dG!==this.RR.gl.POINTS){const g=n("uOffsetPixels");this.RR.dV(g,this.size.M())}const d=(((u=this.EW)===null||u===void 0?void 0:u.DW)||0)+this.Aa.M();if(this.OW&&this.dG!==this.RR.gl.POINTS){const g=a("aRot");this.RR.GV(g,this.OW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(g,1)}else if(this.dG!==this.RR.gl.POINTS&&d%360!=0){const g=Ur(d),m=Math.sin(g),p=Math.cos(g);this.RR.uV(n("uRot"),[m,p])}if(this.dG===this.RR.gl.POINTS)this.RR.dV(n("uPointSize"),this.size.M());else{const g={x:2/this.us.oi().x,y:2/this.us.oi().y};this.RR.uV(n("uRatioPxClip"),[g.x,g.y])}let f=!1;return this.dG===this.RR.gl.POINTS?(this.RR.Ky(this.dG,r),f=!0):this.EW&&(this.RR.QV(this.dG,0,this.EW.PW,r),f=!0),f})),this}lN(t){return this.gN===t&&{}}Hc(t){this.al()>0&&this.Ps();const e=this.tl(),i=DA(e,t,this.Za,!1,!1,this.dt,this.us.dt,this.Ya,void 0,void 0);return i!==void 0?e[i]:void 0}Ce(t){return super.Ce(t)}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return this.Ga.M()?25:this.size.M()}bl(){return this.Ga.M()?25:this.size.M()}VR(){return this.RW&&(this.RR.yV(this.RW),this.RW=void 0),this.EW&&(this.EW=void 0),this.zW&&(this.RR.yV(this.zW),this.zW=void 0),this.OW&&(this.RR.yV(this.OW),this.OW=void 0),this.NW&&(this.RR.yV(this.NW),this.NW=void 0),this}}class dP extends ly{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.bG={fill:void 0,border:void 0},this.aE=new kr,this.Ya=Ie,this.GW=!1,this.WW=!1,this.UW=!1,this.YW=!1,this.HW=!1,this.Sd=[],this.AN=Hs({polygonStyleSolid:()=>fe(this.be)&&this.be,polygonStyleImage:()=>Yu(this.be)&&this.be,polygonStyleRadialGradient:()=>gi(this.be)&&this.be,polygonStyleLinearGradient:()=>yi(this.be)&&this.be,polygonStylePaletted:()=>Bi(this.be)&&this.be,polygonStyleIndividual:()=>Gs(this.be)&&this.be,lineStyleSolid:()=>zs(this.xe)&&this.xe,lineStyleFilled:()=>{const o=this.xe&&this.xe.getFillStyle();return fe(o)&&o}}),this.rN=t,this.nN=e,this.FG=a,this.RR=t.oN(),this.SG=this.RR.eO}zr(){const t=this.FG(),e={ys:i=>this.PG(e,i),cs:i=>this.DG(e,i),pl:i=>this.$W(e,i),Yb:i=>this.XW(e,i),AR:i=>this.LG(e,i),Oa:[],u:void 0,jW:void 0,zo:0,ZW:!0,gN:t.id,mN:t.color};return this.Sd.push(e),e}Nt(){var t;return this.Sd.length=0,this.GW=!0,this.ji&&this.Tn&&((t=this.us.Cn)===null||t===void 0?void 0:t.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember),this}Ap(){return this.Sd}bd(t){var e;const i=this.Sd.indexOf(t);i>=0&&(this.Sd.splice(i,1),this.HW=!0,this.ji&&this.Tn&&((e=this.us.Cn)===null||e===void 0?void 0:e.entity)===this&&this.us.Cn.collectionMember===t&&this.Tn(this,void 0,this.us.Cn.collectionMember))}PG(t,e){var i;return t.ZW=e,this.HW=!0,this.ji&&this.Tn&&((i=this.us.Cn)===null||i===void 0?void 0:i.entity)===this&&this.us.Cn.collectionMember===t&&this.Tn(this,void 0,this.us.Cn.collectionMember),t}DG(t,e){return t.zo=e,this.YW=!0,t}$W(t,e){return t.Oa=e,this.GW=!0,t}XW(t,e){return t.u=e,this.WW=!0,t}LG(t,e){return t.jW=e==null?void 0:e.toUint32(),this.UW=!0,t}Ps(){const t=this.Bo.M(),e=this.Bo.i,i=this.ta(),r=this.YW,n=this.GW,a=this.WW,o=this.UW,l=this.HW,u=this.xe,d=this.ra(),f=this.Sd.filter(V=>V.ZW&&V.Oa.length>0);if(this.aE.mV(this.dt),(n||l)&&(this.Ya=ur(...f.map(V=>ei(V.Oa)))),n||l){const V=Hr(f.map(w=>[...w.Oa,w.Oa[0],{x:Number.NaN,y:Number.NaN}]).flat(),this.dt._i()),P=this.dt._i()?4:2;this.vG=this.RR.nV(V,!1,this.vG);let b=[];f.reduce((w,C)=>{const k=w,z=(C.Oa.length+1)*P,H=new Float32Array(V.buffer,k,z),B=Lw(H,void 0,P),U=w/(Float32Array.BYTES_PER_ELEMENT*P);for(let O=0;O<B.length;O+=1)B[O]+=U;return b=Es(b,B,{canReturnB:!0}),k+(z+1*P)*Float32Array.BYTES_PER_ELEMENT},0);const M=new Uint32Array(b);this.QW=this.RR.OV(M,this.QW),this.JW=M.length,this.KW=V.length/P-1}const g=this.AN.polygonStyleSolid(i),m=this.AN.polygonStylePaletted(i),p=this.AN.polygonStyleIndividual(i),x=this.AN.polygonStyleRadialGradient(i),v=this.AN.polygonStyleLinearGradient(i),A=this.AN.polygonStyleImage(i),E=g||m||v||x||A||p,T=this.AN.lineStyleSolid(d),F=this.AN.lineStyleFilled(d),D=F,N=T&&Math.max(T.getThickness(),0);if((i||d||e)&&(this.bG.fill=E?{shader:this.RR.oz(q["2D"],g&&q.Color({dataType:"uniform"}),v&&q.Color({dataType:["gradient",v]}),x&&q.Color({dataType:["gradient",x]}),m&&q.Color({dataType:["lookup",m.getLookUpProperty(),m.lut]}),p&&q.Color({dataType:"attribute"}),A&&q.Color({dataType:["image",A]}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(q["2D"],q.MousePickingAttribute,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.AttributeHighlight)}:void 0,fillStyleSolid:g,fillStyleLinearGradient:v,fillStyleRadialGradient:x,fillStylePaletted:m,fillStyleImage:A,fillStyleIndividual:p}:void 0,this.bG.border=T&&D&&typeof N=="number"&&N!==0?{shader:this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),this.SG?q.AliasedEdge:void 0,q.AttributeHighlight),geometry:ju(this.RR,N),mousePicking:t?{shader:this.RR.oz(q["2D"],q.MousePickingAttribute,q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.AttributeHighlight)}:void 0,fillStyleSolid:F,thickness:N}:void 0),r||n){const V=f.reduce((M,w)=>M+w.Oa.length+2,0),P=new Float32Array(V);let b=0;f.forEach(M=>{const w=M.Oa.length+2;for(let C=b;C<b+w;C+=1)P[C]=M.zo;b+=w}),this.qW=this.RR.nV(P,!0,this.qW)}if(t){if(n){const V=f.reduce((M,w)=>M+w.Oa.length+2,0),P=new Float32Array(4*V);let b=0;f.forEach(M=>{const w=M.Oa.length+2;for(let C=b;C<b+4*w;C+=4)P[C]=M.mN.r,P[C+1]=M.mN.g,P[C+2]=M.mN.b,P[C+3]=M.mN.a;b+=4*w}),this.tU=this.RR.nV(P,!1,this.tU)}}else this.tU&&(this.RR.yV(this.tU),this.tU=void 0);if(a||n&&m&&m.getLookUpProperty()==="value"){const V=f.reduce((w,C)=>w+C.Oa.length+2,0),P=new Float32Array(V);let b=0;const M={min:Rt,max:Ft};f.forEach(w=>{const C=w.u!==void 0?w.u:-34028234663852886e22,k=w.Oa.length+2;for(let z=b;z<b+k;z+=1)P[z]=C;b+=k,M.min=Math.min(M.min,C),M.max=Math.max(M.max,C)}),this.iU=M,this.sU=this.RR.nV(P,!1,this.sU)}if(o||n&&p){const V=f.reduce((w,C)=>w+C.Oa.length+2,0),P=new Uint32Array(V);let b=0;const M=p?p.getFallbackColor().toUint32():Hh.toUint32();f.forEach(w=>{const C=w.jW!==void 0?w.jW:M,k=w.Oa.length+2;for(let z=b;z<b+k;z+=1)P[z]=C;b+=k}),this.eU=this.RR.nV(P,!1,this.eU,Uint32Array)}return x?this.MN=Mr(this.Eo||this.Ya,this.dt,x.getPosition(),x.getExtent(),x.getShape(),this.RR.$z()):v?this._N=Rr(this.Eo||this.Ya,this.dt,v.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,A,void 0,n||l||this.dt.Ni(),(V,P,b)=>this.rU(V,P,b,f)),this.YW=!1,this.HW=!1,this.GW=!1,this.WW=!1,this.UW=!1,this.Bo.i=!1,this.ha(this.be),this.aa(u),this}zL(t){var e,i;const{fill:r,border:n}=this.bG,a=this.vG,o=this.qW,l=this.tU;if(!a||!o)return this;if(r){const{fillStyleSolid:u,fillStyleLinearGradient:d,fillStyleRadialGradient:f,fillStylePaletted:g,fillStyleImage:m,fillStyleIndividual:p}=r,x=this.QW,v=this.JW,A=t===1?(e=r.mousePicking)===null||e===void 0?void 0:e.shader:r.shader;if(!A||!a||!x||v===void 0)return this;this.RR.jR(A).aV(A,(E,T,F,D)=>{if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(E("uScale"),this.aE.fV()).uV(E("uDisp"),this.aE.AV()).uV(D("uScaleStart_highpart"),this.aE.VO()).uV(D("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(D("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(D("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(D("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(D("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(E("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(E("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.vO(F,a,this.dt._i(),void 0).XV(x).$V(T("aIsHighlighted"),o).AR(E("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(E("uRenderEffectMask"),t===2?1:0),t===1){if(!l)return!1;this.RR.HV(T("aColor"),l)}else if(u)this.RR.AR(E("uColor"),u.getColor());else if(f){if(!this.MN)return!1;this.RR.mO(F,this.MN,f)}else if(d){if(!this._N)return!1;this.RR.yO(F,this._N,d)}else if(g){const N=Ar(g,this,this.iU);if(!N&&g.lut.percentageValues)return!1;if(this.RR.LO(F,g.lut,N),g.getLookUpProperty()==="value"){if(!this.sU)return!1;this.RR.$V(T("aLookupValue"),this.sU)}}else if(m){if(!this.hU)return!1;this.RR.AR(D("uColor"),m.getSurroundingColor()).cV(E("uColorTexture"),this.hU.texture.Gz()||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:T("aTextureCoord"),size:2}).LV(m.fitMode)}else if(p){if(!this.eU)return!1;const N=T("aColor");this.RR.gl.bindBuffer(this.RR.gl.ARRAY_BUFFER,this.eU),this.RR.gl.vertexAttribPointer(N,4,this.RR.gl.UNSIGNED_BYTE,!0,0,0),this.RR.gl.enableVertexAttribArray(N)}return this.RR.ZV(v,void 0,void 0,this.RR.gl.UNSIGNED_INT),!0})}if(n){const{geometry:u,fillStyleSolid:d,thickness:f}=n,g=this.KW,m=t===1?(i=n.mousePicking)===null||i===void 0?void 0:i.shader:n.shader;if(!m||!a||!g)return this;this.RR.jR(m).aV(m,(p,x,v,A)=>{if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(p("uScale"),this.aE.fV()).uV(p("uDisp"),this.aE.AV()).uV(A("uScaleStart_highpart"),this.aE.VO()).uV(A("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(A("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(A("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(A("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(A("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(p("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(p("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.lV(o,1,{location:x("aIsHighlighted"),size:1}).AR(p("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(p("uRenderEffectMask"),t===2?1:0),t===1){if(!l)return!1;this.RR.lV(l,1,{location:x("aColor"),size:4})}else d&&this.RR.AR(p("uColor"),d.getColor());return Un.fG(this.dt._i(),this.RR,a,v,this.dt._i()?4:2,0),Un.zL(this.rN,u,v,this.SG&&t!==1,t===1,f,g),!0})}return this}rU(t,e,i,r){const n=mt({x:this.Ya.min.x,y:this.Ya.min.y},this.dt,this.us.dt),a=mt({x:this.Ya.max.x,y:this.Ya.max.y},this.dt,this.us.dt),o={x:Math.abs(n.x-a.x),y:Math.abs(n.y-a.y)},l=Ry(t,e,o.x,o.y,i),u=l[1],d=l[4],f=l[6],g=l[7],m=r.reduce((F,D)=>F+D.Oa.length+2,0),p=new Float32Array(2*m),x=this.Ya.max.x-this.Ya.min.x,v=this.Ya.max.y-this.Ya.min.y,A=d-f,E=g-u;let T=0;for(const F of r){for(const V of F.Oa){const P=f+A*((V.x-this.Ya.min.x)/x),b=u+E*((V.y-this.Ya.min.y)/v);p[T]=P,p[T+1]=b,T+=2}const D=f+A*((F.Oa[0].x-this.Ya.min.x)/x),N=u+E*((F.Oa[0].y-this.Ya.min.y)/v);p[T]=D,p[T+1]=N,T+=2,p[T]=Number.NaN,p[T+1]=Number.NaN,T+=2}return p}lN(t){const e=this.Sd.find(i=>i.gN===t);return!!e&&{collectionMember:e}}VR(){return this.QW&&(this.RR.yV(this.QW),this.QW=void 0),this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.qW&&(this.RR.yV(this.qW),this.qW=void 0),this.tU&&(this.RR.yV(this.tU),this.tU=void 0),this.sU&&(this.RR.yV(this.sU),this.sU=void 0),this.eU&&(this.RR.yV(this.eU),this.eU=void 0),this.bG={fill:void 0,border:void 0},this.hU=this.RR.EO(this,this.hU),this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return Ks(this.xe)}bl(){return Ks(this.xe)}}class fP extends z6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.nU=Ie,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStyleRadialGradient:()=>gi(this.be)&&this.be,fillStyleLinearGradient:()=>yi(this.be)&&this.be,fillStyleImage:()=>Yu(this.be)&&this.be,strokeStyleSolid:()=>zs(this.xe)&&this.xe,strokeFillSolid:()=>{const l=this.xe.getFillStyle();return fe(l)&&l},strokeFillLinearGradient:()=>{const l=this.xe.getFillStyle();return yi(l)&&l},strokeFillRadialGradient:()=>{const l=this.xe.getFillStyle();return gi(l)&&l}}),this.rU=(l,u,d)=>{const f=mt(this.Fa(),this.dt,this.us.dt),g=be(mt(Bt(this.Fa(),this.oi()),this.dt,this.us.dt),f);return Ry(l,u,g.x,g.y,d)},this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN(),this.nN=e}Ps(){super.Ps();const t=this.Bo.M(),e=this.ta(),i=this.ua.i||this.X.i||this.Aa.i||this.ma.i,r=this.xe,n=this.ra(),a=r.getThickness(),o=this.Aa.M();this.aE.mV(this.dt);const l=this.dt.Ni();if(i){const F=this.X.M();this.Oa=function(N,V,P,b,M){const w=((C,k,z)=>[C,Y(C.x+k,C.y),Y(C.x+k,C.y+z),Y(C.x,C.y+z)])(N,V,P);if(b!==0||b%360!=0){const C=b*Math.PI/180;w[0]=va(w[0],M,C),w[1]=va(w[1],M,C),w[2]=va(w[2],M,C),w[3]=va(w[3],M,C)}return w}(this.ua.M(),F.x,F.y,o,this.ma.M());const D=Hr(this.Oa,this.dt._i());this.SN=this.RR.nV(D,!1,this.SN),this.bN=this.Oa.length,this.nU=ei(this.Oa)}const u=this.AN.fillStyleSolid(e),d=this.AN.fillStyleRadialGradient(e),f=this.AN.fillStyleLinearGradient(e),g=this.AN.fillStyleImage(e),m=u||d||f||g;e&&(this.wN=m?this.RR.oz(q["2D"],u&&q.Color({dataType:"uniform"}),f&&q.Color({dataType:["gradient",f]}),d&&q.Color({dataType:["gradient",d]}),g&&q.Color({dataType:["image",g]}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),d?this.MN=Mr(this.Eo||this.nU,this.dt,d.getPosition(),d.getExtent(),d.getShape(),this.RR.$z()):f?this._N=Rr(this.Eo||this.nU,this.dt,f.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,g,void 0,l||i,this.rU);const p=this.AN.strokeStyleSolid(n),x=this.AN.strokeFillSolid(n),v=this.AN.strokeFillLinearGradient(n),A=this.AN.strokeFillRadialGradient(n),E=p,T=x||v||A;if(E&&(i||n||l&&a!==1)){if(a===1||a===-1)[this.CN,this.oU]=[this.Oa,void 0];else{const F=this.dt;[this.CN,this.oU]=F instanceof Pi?((D,N,V)=>{const P=D[0],b=D[1],M=D[2],w=D[3],C=N/2;return[[V.Ui(P,b,C,-C),V.Ui(b,P,-C,-C),V.Ui(w,M,-C,-C),V.Ui(M,w,C,-C),V.Ui(P,b,-C,C),V.Ui(b,P,C,C),V.Ui(w,M,C,C),V.Ui(M,w,-C,C)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.Oa,a,F):((D,N,V)=>{const P=D[0],b=D[1],M=D[2],w=D[3],C=Y(N.x*V*.5,N.y*V*.5),k=hr(iR(b,P)),z=hr(iR(w,P)),H=sR(k),B=sR(z);return[[Bt(P,Bt(Wt(H,C.x),Wt(B,C.y))),Bt(b,Bt(Wt(k,C.x),Wt(B,C.y))),Bt(w,Bt(Wt(H,C.x),Wt(z,C.y))),Bt(M,Bt(Wt(k,C.x),Wt(z,C.y))),Bt(P,Bt(Wt(k,C.x),Wt(z,C.y))),Bt(b,Bt(Wt(H,C.x),Wt(z,C.y))),Bt(w,Bt(Wt(k,C.x),Wt(B,C.y))),Bt(M,Bt(Wt(H,C.x),Wt(B,C.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.Oa,F.Wi(),a)}this.TN=this.RR.nV(Hr(this.CN,this.dt._i()),!1,this.TN),this.oU?(this.uG=this.RR.OV(new Uint16Array(this.oU),this.uG),this.kN=this.oU.length):(this.uG&&this.RR.yV(this.uG),this.uG=void 0,this.kN=this.CN.length)}return n&&(this.RN=E&&T?this.RR.oz(q["2D"],q.Color({dataType:A?["gradient",A]:v?["gradient",v]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),A?this.DN=Mr(this.nU,this.dt,A.getPosition(),A.getExtent(),A.getShape(),this.RR.$z()):v?this.LN=Rr(this.nU,this.dt,v.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.EN=t&&m?this.EN||this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.zN=t&&this.xe!==bt?this.zN||this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.ha(this.be),this.aa(r),this.ua.i=!1,this.Aa.i=!1,this.X.i=!1,this.ma.i=!1,this}lN(t){return this.gN===t&&{}}zL(t){const e=t===1?this.EN:this.wN,i=this.SN,r=this.bN,n=this.AN.fillStyleSolid(!1),a=this.AN.fillStyleRadialGradient(!1),o=this.AN.fillStyleLinearGradient(!1),l=this.AN.fillStyleImage(!1);e&&i&&r&&this.be!==Nt&&(this.RR.jR(e),this.RR.aV(e,(x,v,A,E)=>{if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(x("uScale"),this.aE.fV()).uV(x("uDisp"),this.aE.AV()).uV(E("uScaleStart_highpart"),this.aE.VO()).uV(E("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(E("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(E("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(E("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(E("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(x("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(x("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(x("uColor"),this.mN);else if(n)this.RR.AR(x("uColor"),n.getColor());else if(a){if(!this.MN)return!1;this.RR.mO(A,this.MN,a)}else if(o){if(!this._N)return!1;this.RR.yO(A,this._N,o)}else if(l){if(!this.hU)return!1;const T=this.hU&&this.hU.texture.Gz();this.RR.AR(E("uColor"),l.getSurroundingColor()).cV(x("uColorTexture"),T||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:v("aTextureCoord"),size:2}).LV(l.fitMode)}return this.RR.dV(x("uIsHighlighted"),t===1||t===2?0:this.zo).AR(x("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(x("uRenderEffectMask"),t===2?1:0).vO(A,i,this.dt._i(),void 0).Ky(this.RR.gl.TRIANGLE_FAN,r),!0}));const u=t===1?this.zN:this.RN,d=this.AN.strokeStyleSolid(!1),f=this.AN.strokeFillSolid(!1),g=this.AN.strokeFillLinearGradient(!1),m=this.AN.strokeFillRadialGradient(!1),p=this.TN;return u&&p&&d&&(this.RR.jR(u),this.RR.aV(u,(x,v,A,E)=>{if(this.dt instanceof Me||this.dt instanceof dr?this.RR.uV(x("uScale"),this.aE.fV()).uV(x("uDisp"),this.aE.AV()).uV(E("uScaleStart_highpart"),this.aE.VO()).uV(E("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof Pi&&this.RR.uV(E("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(E("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(E("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(E("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(x("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(x("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),t===1)this.RR.AR(x("uColor"),this.mN);else if(f)this.RR.AR(x("uColor"),f.getColor());else if(m){if(!this.DN)return!1;this.RR.mO(A,this.DN,m)}else if(g){if(!this.LN)return!1;this.RR.yO(A,this.LN,g)}return this.RR.dV(x("uIsHighlighted"),t===1||t===2?0:this.zo).AR(x("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(x("uRenderEffectMask"),t===2?1:0).vO(A,p,this.dt._i(),void 0),this.uG?this.RR.XV(this.uG).ZV(this.kN):this.RR.Ky(this.RR.gl.LINE_LOOP,this.kN),!0})),this}VR(){return this.uG&&(this.RR.yV(this.uG),this.uG=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.hU=this.RR.EO(this,this.hU),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this}bt(){return Math.max(this.ua.M().x,this.ua.M().x+this.X.M().x)}vt(){return Math.min(this.ua.M().x,this.ua.M().x+this.X.M().x)}Mt(){return Math.max(this.ua.M().y,this.ua.M().y+this.X.M().y)}xt(){return Math.min(this.ua.M().y,this.ua.M().y+this.X.M().y)}vl(){return Ks(this.xe)}bl(){return Ks(this.xe)}}class gP extends B6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.aE=new kr,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStylePaletted:()=>Bi(this.be)&&this.be,fillStyleRadialGradient:()=>gi(this.be)&&this.be,fillStyleLinearGradient:()=>yi(this.be)&&this.be,fillStyleImage:()=>Yu(this.be)&&this.be,strokeLineStyleSolid:()=>zs(this.xe)&&this.xe,strokeLineSolidFill:()=>{const l=this.xe.getFillStyle();return fe(l)&&l},strokeLinearGradientFill:()=>{const l=this.xe.getFillStyle();return yi(l)&&l},strokeRadialGradientFill:()=>{const l=this.xe.getFillStyle();return gi(l)&&l}}),this.rU=(l,u,d)=>{const f=mt({x:this.Ya.min.x,y:this.Ya.min.y},this.dt,this.us.dt),g=mt({x:this.Ya.max.x,y:this.Ya.max.y},this.dt,this.us.dt),m={x:Math.abs(f.x-g.x),y:Math.abs(f.y-g.y)},p=Ry(l,u,m.x,m.y,d),x=p[1],v=p[4],A=p[6],E=p[7],T=new Float32Array(2*this.Oa.length),F=this.Ya.max.x-this.Ya.min.x,D=this.Ya.max.y-this.Ya.min.y,N=v-A,V=E-x;let P=0;for(const b of this.Oa){const M=A+N*((b.x-this.Ya.min.x)/F),w=x+V*((b.y-this.Ya.min.y)/D);T[P]=M,T[P+1]=w,P+=2}return T},this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN(),this.nN=e}Hc(t){let e,i=Number.MAX_VALUE;for(const r of this.Oa){const n=Da(mt(r,this.dt,this.us.dt),t);n<i&&(i=n,e=r)}return e}Ps(){const t=this.Bo.M(),e=this.ta(),i=this.yl,r=this.Oa.length>=3,n=this.xe,a=this.ra(),o=n.getThickness(),l=this.oa(o);this.aE.mV(this.dt),this.FT=this.dt.Wi();const u=this.dt.Ni();if(i&&(this.Ya=ei(this.Oa)),i&&r){const N=Hr(this.Oa,this.dt._i());this.SN=this.RR.nV(N,!1,this.SN),this.aU=new Uint16Array(Lw(N)),this.lU=this.RR.OV(this.aU,this.lU),this.bN=this.aU.length}const d=this.AN.fillStyleSolid(e),f=this.AN.fillStylePaletted(e),g=this.AN.fillStyleRadialGradient(e),m=this.AN.fillStyleLinearGradient(e),p=this.AN.fillStyleImage(e),x=d||f&&f.getLookUpProperty()!=="value"&&f||m||g||p;if(e&&(this.wN=x?this.RR.oz(q["2D"],d&&q.Color({dataType:"uniform"}),m&&q.Color({dataType:["gradient",m]}),g&&q.Color({dataType:["gradient",g]}),f&&q.Color({dataType:["lookup",f.getLookUpProperty(),f.lut]}),p&&q.Color({dataType:["image",p]}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),g?this.MN=Mr(this.Eo||this.Ya,this.dt,g.getPosition(),g.getExtent(),g.getShape(),this.RR.$z()):m?this._N=Rr(this.Eo||this.Ya,this.dt,m.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,p,void 0,u||i,this.rU),(i||l||u&&o!==1)&&r){const N=o===1||o===-1?this.Oa:D5(this.Oa,this.FT,o);this.CN=Hr(N,this.dt._i()),this.TN=this.RR.nV(this.CN,!0,this.TN),this.kN=N.length}const v=this.AN.strokeLineStyleSolid(a),A=this.AN.strokeLineSolidFill(a),E=this.AN.strokeLinearGradientFill(a),T=this.AN.strokeRadialGradientFill(a),F=v,D=A||E||T;return a&&(this.RN=F&&D?this.RR.oz(q["2D"],q.Color({dataType:T?["gradient",T]:E?["gradient",E]:"uniform"}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0),T?this.DN=Mr(this.Eo||this.Ya,this.dt,T.getPosition(),T.getExtent(),T.getShape(),this.RR.$z()):E?this.LN=Rr(this.Eo||this.Ya,this.dt,E.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.EN=t&&x?this.EN||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.zN=t&&this.xe!==bt?this.EN||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})):void 0,this.yl=!1,this.ha(this.be),this.aa(n),this}zL(t){const e=t===1?this.EN:this.wN,i=this.SN,r=this.bN,n=this.AN.fillStyleSolid(!1),a=this.AN.fillStyleRadialGradient(!1),o=this.AN.fillStyleLinearGradient(!1),l=this.AN.fillStylePaletted(!1),u=this.AN.fillStyleImage(!1);e&&i&&r&&this.RR.jR(e).aV(e,(p,x,v,A)=>{if(this.RR.uV(p("uScale"),this.aE.fV()).uV(p("uDisp"),this.aE.AV()).uV(A("uScaleStart_highpart"),this.aE.VO()).uV(A("uScaleStart_lowpart"),this.aE.OO()).vO(v,i,this.dt._i(),void 0).XV(this.lU).dV(p("uIsHighlighted"),t===1||t===2?0:this.zo).AR(p("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(p("uRenderEffectMask"),t===2?1:0),t===1)this.RR.AR(p("uColor"),this.mN);else if(n)this.RR.AR(p("uColor"),n.getColor());else if(a){if(!this.MN)return!1;this.RR.mO(v,this.MN,a)}else if(o){if(!this._N)return!1;this.RR.yO(v,this._N,o)}else if(l){const E=Ar(l,this,void 0);if(!E&&l.lut.percentageValues)return!1;this.RR.LO(v,l.lut,E)}else if(u){if(!this.hU)return!1;this.RR.AR(A("uColor"),u.getSurroundingColor()).cV(p("uColorTexture"),this.hU.texture.Gz()||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:x("aTextureCoord"),size:2}).LV(u.fitMode)}return this.RR.ZV(this.bN),!0});const d=t===1?this.zN:this.RN,f=this.xe,g=this.TN,m=this.kN;return d&&g&&m&&this.RR.jR(d).aV(d,(p,x,v,A)=>{this.RR.dV(p("uIsHighlighted"),t===1||t===2?0:this.zo).AR(p("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(p("uRenderEffectMask"),t===2?1:0).uV(p("uScale"),this.aE.fV()).uV(p("uDisp"),this.aE.AV()).vO(v,g,this.dt._i(),void 0);const E=f.getFillStyle();if(t===1)this.RR.AR(p("uColor"),this.mN);else if(fe(E))this.RR.AR(p("uColor"),E.getColor());else if(gi(E)){if(!this.DN)return!1;this.RR.mO(v,this.DN,E)}else if(yi(E)){if(!this.LN)return!1;this.RR.yO(v,this.LN,E)}const T=f.getThickness(),F=T===-1||T===1;return this.RR.Ky(F?this.RR.gl.LINE_LOOP:this.RR.gl.TRIANGLE_STRIP,this.kN),!0}),this}lN(t){return this.gN===t&&{}}VR(){return this.lU&&(this.RR.yV(this.lU),this.lU=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this.hU=this.RR.EO(this,this.hU),this}}const yP=(s,t)=>{let e=0;const i=[];for(;e<s;){const r=e;let n=t;const a=e>0;n-=a?1:0,n-=e+n<s?1:0;const o=Math.min(n,s-r),l=e-(a?1:0),u={start:l,startUnique:r,sizeData:Math.min(t,s-l),sizeUniqueData:o};i.push(u),e+=o}return i},mP=(s,t)=>{let e=0;const i=[];for(;e<s;){const r=e;let n=t;const a=e>0;n-=a?1:0,n-=0;const o=Math.min(n,s-r),l=e-(a?1:0),u={start:l,startUnique:r,sizeData:Math.min(t,s-l),sizeUniqueData:o};i.push(u),e+=o}return i},_5=(s,t,e,i)=>{if(e){const n=new Map;return t.gridTiles.forEach(a=>{n.set(a,{type:e,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:a.sizeHeatmapDataVectors}]})}),n}const r=new Map;for(let n=0;n<s.length;n+=1){const a=s[n],o={x:a.startPrimary,y:a.startSecondary},l={x:o.x+a.lengthPrimary-1,y:o.y+a.lengthSecondary-1},u=[o,{x:l.x,y:o.y},l,{x:o.x,y:l.y}];t.gridTiles.forEach(d=>{const f=d.iFirstVector,g=i(d),m={x:f.primary+g.primary-1,y:f.secondary+g.secondary-1},p=[{x:f.primary,y:f.secondary},{x:m.x,y:f.secondary},m,{x:f.primary,y:m.y}];if(!bg(u,p))return;let x=r.get(d);x||(x={type:a.type,dataInvalidationRanges:[]},r.set(d,x));const v=hC(u,p),A={primary:v.min.x-f.primary,secondary:v.min.y-f.secondary},E={primary:1+v.max.x-v.min.x,secondary:1+v.max.y-v.min.y};let T=!1;const F=[{x:A.primary,y:A.secondary},{x:A.primary+E.primary,y:A.secondary},{x:A.primary+E.primary,y:A.secondary+E.secondary},{x:A.primary,y:A.secondary+E.secondary}];for(let V=0;V<x.dataInvalidationRanges.length;V+=1)if(!T){const P=x.dataInvalidationRanges[V],b=[{x:P.tileInvalidationOffset.primary,y:P.tileInvalidationOffset.secondary},{x:P.tileInvalidationOffset.primary+P.tileInvalidationLength.primary,y:P.tileInvalidationOffset.secondary},{x:P.tileInvalidationOffset.primary+P.tileInvalidationLength.primary,y:P.tileInvalidationOffset.secondary+P.tileInvalidationLength.secondary},{x:P.tileInvalidationOffset.primary,y:P.tileInvalidationOffset.secondary+P.tileInvalidationLength.secondary}];if(bg(F,b)){const M=(D=F,N=b,{min:{x:Math.min(D[0].x,N[0].x),y:Math.min(D[0].y,N[0].y)},max:{x:Math.max(D[2].x,N[2].x),y:Math.max(D[2].y,N[2].y)}});P.tileInvalidationOffset.primary=M.min.x,P.tileInvalidationOffset.secondary=M.min.y,P.tileInvalidationLength.primary=M.max.x-M.min.x,P.tileInvalidationLength.secondary=M.max.y-M.min.y,T=!0}}var D,N;T||x.dataInvalidationRanges.push({tileInvalidationLength:E,tileInvalidationOffset:A})})}return r},V5=(s,t,e)=>{if(s.length!==1||t.startPrimary!==0||t.startSecondary!==0||t.lengthPrimary!==s[0].sizeHeatmapDataVectors.primary||t.lengthSecondary!==s[0].sizeHeatmapDataVectors.secondary)s.forEach(i=>{const r=e(i),n=Math.max(t.startPrimary,i.iFirstVector.primary),a=Math.min(t.startPrimary+t.lengthPrimary-1,i.iFirstVector.primary+i.sizeHeatmapDataVectors.primary-1),o=Math.max(t.startSecondary,i.iFirstVector.secondary),l=Math.min(t.startSecondary+t.lengthSecondary-1,i.iFirstVector.secondary+i.sizeHeatmapDataVectors.secondary-1);for(let u=n;u<=a;u+=1){const d=u-t.startPrimary,f=t.values[d],g=(u-i.iFirstVector.primary)*i.sizeHeatmapDataVectors.secondary;for(let m=o;m<=l;m+=1){const p=m-t.startSecondary,x=m-i.iFirstVector.secondary,v=f[p];r[g+x]=v}}});else{const i=s[0],r=e(i);for(let n=0;n<t.lengthPrimary;n+=1){const a=n*i.sizeHeatmapDataVectors.secondary;r.set(t.values[n],a)}}},z5=(s,t,e)=>{var i,r;const n=(i=s.gl2)===null||i===void 0?void 0:i.ctx;if(n)return s.fO(null,n.RED,!1,!0,{x:t,y:e},!1,n.FLOAT,n.R32F);const a=s.gl;return!((r=s.gl1)===null||r===void 0)&&r.optional.OES_texture_float?s.fO(null,a.LUMINANCE,!1,!0,{x:t,y:e},!1,a.FLOAT):s.fO(null,a.RGBA,!1,!0,{x:t,y:e},!1,a.UNSIGNED_BYTE)},N5=(s,t,e,i)=>{t.forEach((r,n)=>{var a,o;const l=e(n),u=i(n),d=s.gl;d.bindTexture(d.TEXTURE_2D,u),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const f=(a=s.gl2)===null||a===void 0?void 0:a.ctx,g=r.dataInvalidationRanges.length,m=r.dataInvalidationRanges.reduce((p,x)=>p+x.tileInvalidationLength.primary,0)/n.sizeHeatmapDataVectors.primary;g===1&&m<1||m<.5&&g<10?r.dataInvalidationRanges.forEach(p=>{var x;const v=p.tileInvalidationOffset.primary*n.sizeHeatmapDataVectors.secondary,A=v+p.tileInvalidationLength.primary*n.sizeHeatmapDataVectors.secondary;if(f)f.texSubImage2D(d.TEXTURE_2D,0,0,p.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,p.tileInvalidationLength.primary,f.RED,f.FLOAT,l.subarray(v,A));else if(!((x=s.gl1)===null||x===void 0)&&x.optional.OES_texture_float)d.texSubImage2D(d.TEXTURE_2D,0,0,p.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,p.tileInvalidationLength.primary,d.LUMINANCE,d.FLOAT,l.subarray(v,A));else{const E=new Uint8Array(l.buffer).subarray(4*v,4*A);d.texSubImage2D(d.TEXTURE_2D,0,0,p.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,p.tileInvalidationLength.primary,d.RGBA,d.UNSIGNED_BYTE,E)}}):f?f.texImage2D(d.TEXTURE_2D,0,f.R32F,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,f.RED,f.FLOAT,l):!((o=s.gl1)===null||o===void 0)&&o.optional.OES_texture_float?d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,d.LUMINANCE,d.FLOAT,l):d.texImage2D(d.TEXTURE_2D,0,d.RGBA,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(l.buffer)),d.bindTexture(d.TEXTURE_2D,null)})};class pP extends rl{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.uU=qt("bilinear"),this.Pi={x:0,y:0},this.$w={x:1,y:1},this.gv=Ns.lineStyle,this.engine=t;const o=a.dataOrder==="columns"?a.columns:a.rows,l=a.dataOrder==="columns"?a.rows:a.columns;this.Un={...a,primaryDimensionVectorsCount:o,secondaryDimensionVectorsCount:l}}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}Sv(t,e){return this.Pi=t,this.$w=e,this}vv(){return{start:this.Pi,step:this.$w,end:{x:this.Pi.x+this.$w.x*this.Un.columns,y:this.Pi.y+this.$w.y*this.Un.rows}}}mv(t){return this.gv=typeof t=="function"?t(this.gv):t,this}bv(){return this.gv}}class Ty extends pP{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n,a),this.aE=new kr,this.bG={},this.cU=[],this.dU=!1,this.Qa=!1,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStylePaletted:()=>Bi(this.be)&&this.be,wireframeStyleLine:()=>zs(this.gv)&&this.gv,wireframeStyleFill:()=>{const p=this.gv&&this.gv.getFillStyle();return fe(p)&&p}}),this.fU=yP,this.rN=t,this.nN=e,this.gN=o,this.mN=l,this.RR=t.oN(),this.nN=e;const u=Math.min(this.RR.zR,a.AU!==void 0?a.AU:2048),d={x:Math.min(u,this.Un.primaryDimensionVectorsCount),y:Math.min(u,this.Un.secondaryDimensionVectorsCount)},f=((p,x,v,A)=>{const E=[],T=v(p.primaryDimensionVectorsCount,x.x),F=v(p.secondaryDimensionVectorsCount,x.y);let D;return T.forEach(N=>F.forEach(V=>{const P={iFirstVector:{primary:N.start,secondary:V.start},iFirstUniqueVector:{primary:N.startUnique,secondary:V.startUnique},sizeHeatmapDataVectors:{primary:N.sizeData,secondary:V.sizeData},sizeUniqueHeatmapDataVectors:{primary:N.sizeUniqueData,secondary:V.sizeUniqueData}};E.push(P)})),D=[],E.forEach(N=>{let V=D.find(P=>P.sizeHeatmapData.primary===N.sizeHeatmapDataVectors.primary&&P.sizeHeatmapData.secondary===N.sizeHeatmapDataVectors.secondary);V||(V={sizeHeatmapData:N.sizeHeatmapDataVectors,tiles:[]},D.push(V)),V.tiles.push(N)}),{gridTiles:E,gridTileSizes:D}})(this.Un,d,this.fU),g=f.gridTiles.map(p=>{const x=new Float32Array(p.sizeHeatmapDataVectors.primary*p.sizeHeatmapDataVectors.secondary);return{...p,intensityData:x,hasIntensityData:!1}}),m=f.gridTileSizes.map(p=>({...p,tiles:g.filter(x=>x.sizeHeatmapDataVectors.primary===p.sizeHeatmapData.primary&&x.sizeHeatmapDataVectors.secondary===p.sizeHeatmapData.secondary)}));this.gU={gridTiles:g,gridTileSizes:m},this.Sv(this.Pi,this.$w)}Ps(){const t=this.cU,e=this.be,i=this.ta(),r=this.gv,n=r!==this.mU,a=this.AN.fillStylePaletted(i),o=this.AN.fillStyleSolid(i),l=this.uU.i,u=this.uU.M(),d=this.Qa,f=this.Bo.M();this.yU=this.yU||this.pU();const g=this.yU,m=_5(t,g,d?"intensity":void 0,x=>x.sizeHeatmapDataVectors);m.size>0&&(N5(this.RR,m,x=>x.intensityData,x=>x.intensityDataTexture),this.dU=!0),this.aE.mV(this.dt);const p=this.bG;if((i||l)&&(p.tile=a?{renderMode:"paletted",fillStylePaletted:a,shader:this.RR.oz(q["2D"],q.ColorGrid2D({heatmapType:"intensity",interpolation:u==="bilinear"&&"bilinear",flipXY:this.Un.dataOrder==="rows",intensityTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN,lut:a.lut}),q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ut(this.dt),flipXY:this.Un.dataOrder==="rows",normalSource:void 0}))}:o?{renderMode:"solid",fillStyleSolid:o,shader:this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ut(this.dt),flipXY:this.Un.dataOrder==="rows",normalSource:void 0}))}:void 0),n){const x=this.AN.wireframeStyleLine(n),v=this.AN.wireframeStyleFill(n);p.wireframe=x&&v?x.getThickness()===-1?{renderMode:"primitive",shader:this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:this.Un.dataOrder==="rows",axisWorldTranslation:Ut(this.dt),normalSource:void 0})),fillStyleSolid:v}:{renderMode:"triangulated",shader:this.RR.oz(q["2D"],q.Color({dataType:"uniform"}),q.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:this.Un.dataOrder==="rows",axisWorldTranslation:Ut(this.dt),normalSource:void 0})),geometry:ju(this.RR,1),solidLine:x,fillStyleSolid:v}:void 0,p.wireframe?this.SU=this.SU||this.vU():this.SU&&(this.RR.yV(this.SU.wireframeCoordinatesBuffer),this.SU=void 0)}if(p.mousePicking=f?this.bG.mousePicking||{shader:this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ut(this.dt),flipXY:this.Un.dataOrder==="rows",normalSource:void 0}))}:void 0,this.bG=p,this.Ja===void 0&&a&&a.lookUpProperty==="value"&&a.lut.percentageValues){let x=Rt,v=Ft;this.yU.gridTiles.forEach(A=>{for(let E=0;E<A.intensityData.length;E+=1){const T=A.intensityData[E];T<x&&(x=T),T>v&&(v=T)}}),this.Ja={min:x,max:v}}return this.Qa=!1,this.cU.length=0,this.ha(e),this.mU=r,this.uU.i=!1,this}pU(){const t=this.gU.gridTiles.map(n=>{const a=z5(this.RR,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary);return{...n,intensityDataTexture:a,tileData:n}}),e=this.gU.gridTileSizes.map(n=>({...n,tiles:t.filter(a=>a.sizeHeatmapDataVectors.primary===n.sizeHeatmapData.primary&&a.sizeHeatmapDataVectors.secondary===n.sizeHeatmapData.secondary)})),i=this.RR.nV([0,0,1,0,0,1,1,1]),r=this.RR.gl.TRIANGLE_STRIP;return{gridTiles:t,gridTileSizes:e,rectangleLocationsBuffer:i,rectangleLocationsDrawMode:r,rectangleLocationsDrawLength:4}}vU(){const t=this.Un.primaryDimensionVectorsCount+1+this.Un.secondaryDimensionVectorsCount+1,e=new Float32Array(4*t);let i=0;for(let r=0;r<this.Un.primaryDimensionVectorsCount+1;r+=1)e[i+0]=r,e[i+1]=0,e[i+2]=r,e[i+3]=this.Un.secondaryDimensionVectorsCount,i+=4;for(let r=0;r<this.Un.secondaryDimensionVectorsCount+1;r+=1)e[i+0]=0,e[i+1]=r,e[i+2]=this.Un.primaryDimensionVectorsCount,e[i+3]=r,i+=4;return{wireframeCoordinatesBuffer:this.RR.nV(e),wireframeSegmentsLength:t}}Sv(t,e){super.Sv(t,e);const i=this.Un,r=se({x:Math.min(this.Pi.x,this.Pi.x+i.columns*this.$w.x),y:Math.min(this.Pi.y,this.Pi.y+i.rows*this.$w.y)},{x:Math.max(this.Pi.x,this.Pi.x+i.columns*this.$w.x),y:Math.max(this.Pi.y,this.Pi.y+i.rows*this.$w.y)}),n=new Map;return this.gU.gridTiles.forEach(a=>{const o=this.Un.dataOrder==="columns"?{x:this.Pi.x+this.$w.x*a.iFirstVector.primary,y:this.Pi.y+this.$w.y*a.iFirstVector.secondary}:{x:this.Pi.x+this.$w.x*a.iFirstVector.secondary,y:this.Pi.y+this.$w.y*a.iFirstVector.primary},l=this.Un.dataOrder==="columns"?{x:this.$w.x*a.sizeHeatmapDataVectors.primary,y:this.$w.y*a.sizeHeatmapDataVectors.secondary}:{x:this.$w.x*a.sizeHeatmapDataVectors.secondary,y:this.$w.y*a.sizeHeatmapDataVectors.primary},u=this.Un.dataOrder==="columns"?{x:this.Pi.x+this.$w.x*a.iFirstUniqueVector.primary,y:this.Pi.y+this.$w.y*a.iFirstUniqueVector.secondary}:{x:this.Pi.x+this.$w.x*a.iFirstUniqueVector.secondary,y:this.Pi.y+this.$w.y*a.iFirstUniqueVector.primary},d=this.Un.dataOrder==="columns"?{x:this.$w.x*a.sizeUniqueHeatmapDataVectors.primary,y:this.$w.y*a.sizeUniqueHeatmapDataVectors.secondary}:{x:this.$w.x*a.sizeUniqueHeatmapDataVectors.secondary,y:this.$w.y*a.sizeUniqueHeatmapDataVectors.primary};n.set(a,{startLocationAxis:o,sizeAxis:l,startRenderLocationAxis:u,renderSizeAxis:d})}),this.bU={boundaries:r,tilesInfo:n},this}zL(t){var e,i;const r=this.yU,n=this.bU,a=t===1?(e=this.bG.mousePicking)===null||e===void 0?void 0:e.shader:(i=this.bG.tile)===null||i===void 0?void 0:i.shader;if(this.bG.tile&&a&&r&&n){const d=a,f=this.bG.tile,g={x:(n.boundaries.max.x-n.boundaries.min.x)*Math.sign(this.$w.x),y:(n.boundaries.max.y-n.boundaries.min.y)*Math.sign(this.$w.y)},m={x:g.x/this.Un.columns,y:g.y/this.Un.rows},p=this.dt.Wi(),x={x:m.x/p.x,y:m.y/p.y};if(f.renderMode==="solid"||t===1)this.RR.jR(d).aV(d,(v,A,E)=>{if(t===1)this.RR.AR(v("uColor"),this.mN);else if(f.renderMode==="solid"){const{fillStyleSolid:T}=f;this.RR.AR(v("uColor"),T.getColor())}return this.RR.dV(v("uIsHighlighted"),t===1||t===2?0:this.zo).AR(v("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(v("uRenderEffectMask"),t===2?1:0).uV(v("uScale"),this.aE.fV()).uV(v("uDisp"),this.aE.AV()).lV(r.rectangleLocationsBuffer,void 0,{location:A("aPos"),size:2}).uV(v("uScaling"),[this.$w.x*this.Un.columns,this.$w.y*this.Un.rows]).uV(v("uTranslationAxis"),[this.Pi.x,this.Pi.y]).Ky(r.rectangleLocationsDrawMode,r.rectangleLocationsDrawLength),!0});else if(f.renderMode==="paletted"){const{fillStylePaletted:v}=f,A=this.Ja;this.RR.aV(d,(E,T,F)=>{let D=!1;var N,V;return this.RR.jR(d).uV(E("uScale"),this.aE.fV()).uV(E("uDisp"),this.aE.AV()).LO(F,v.lut,A).lV(r.rectangleLocationsBuffer,void 0,{location:T("aPos"),size:2}).dV(E("uIsHighlighted"),this.zo).AR(E("uHighlightColorOffset"),t===2?ti:this.Go).dV(E("uRenderEffectMask"),t===2?1:0),N=P=>{this.RR.uV(E("uTileDimensions"),[this.Un.dataOrder==="columns"?P.sizeHeatmapData.primary:P.sizeHeatmapData.secondary,this.Un.dataOrder==="columns"?P.sizeHeatmapData.secondary:P.sizeHeatmapData.primary])},V=(P,b)=>{const M=n.tilesInfo.get(P.tileData);if(!M)return;let w;const C=this.RR.$z();if(this.uU.M()==="bilinear"){const k=(this.dt.x.ct(M.startLocationAxis.x)+x.x/2)*C,z=(this.dt.y.ct(M.startLocationAxis.y)+x.y/2)*C;w=[k,z,(this.dt.x.ct(M.startLocationAxis.x+M.sizeAxis.x)-x.x/2)*C-k,(this.dt.y.ct(M.startLocationAxis.y+M.sizeAxis.y)-x.y/2)*C-z]}else{const k=this.dt.x.ct(M.startLocationAxis.x)*C,z=this.dt.y.ct(M.startLocationAxis.y)*C;w=[k,z,this.dt.x.ct(M.startLocationAxis.x+M.sizeAxis.x)*C-k,this.dt.y.ct(M.startLocationAxis.y+M.sizeAxis.y)*C-z]}this.RR.FV(E("uTileBounds"),w).uV(E("uScaling"),[M.renderSizeAxis.x,M.renderSizeAxis.y]).uV(E("uTranslationAxis"),[M.startRenderLocationAxis.x,M.startRenderLocationAxis.y]).cV(E("uTileIntensityValues"),P.intensityDataTexture,1).Ky(r.rectangleLocationsDrawMode,r.rectangleLocationsDrawLength),D=!0},r.gridTileSizes.forEach(P=>{N(P),P.tiles.forEach(b=>{V(b)})}),D})}}const o=this.SU,l=this.bG.wireframe,u=t===1||l==null?void 0:l.shader;if(o&&l&&u&&l.renderMode==="primitive"){const{fillStyleSolid:d}=l;this.RR.jR(u).aV(u,(f,g,m)=>((this.dt instanceof Me||this.dt instanceof dr)&&this.RR.uV(f("uScale"),this.aE.fV()).uV(f("uDisp"),this.aE.AV()),this.RR.dV(f("uIsHighlighted"),t===1||t===2?0:this.zo).AR(f("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(f("uRenderEffectMask"),t===2?1:0).AR(f("uColor"),d.getColor()).lV(o.wireframeCoordinatesBuffer,void 0,{location:g("aPos"),size:2}).uV(f("uScaling"),[this.$w.x,this.$w.y]).uV(f("uTranslationAxis"),[this.Pi.x,this.Pi.y]).Ky(this.RR.gl.LINES,2*o.wireframeSegmentsLength),!0))}else if(o&&l&&u&&l.renderMode==="triangulated"){const{geometry:d,solidLine:f,fillStyleSolid:g}=l;this.RR.jR(u).aV(u,(m,p,x)=>((this.dt instanceof Me||this.dt instanceof dr)&&this.RR.uV(m("uScale"),this.aE.fV()).uV(m("uDisp"),this.aE.AV()),this.RR.dV(m("uIsHighlighted"),t===1||t===2?0:this.zo).AR(m("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(m("uRenderEffectMask"),t===2?1:0).AR(m("uColor"),g.getColor()).dV(m("uThicknessPixels"),f.getThickness()).uV(m("uRatioPxClip"),[2/this.us.oi().x,2/this.us.oi().y]).lV(o.wireframeCoordinatesBuffer,1,{location:p("aLocationA"),size:2},{location:p("aLocationB"),size:2}).uV(m("uScaling"),[this.$w.x,this.$w.y]).uV(m("uTranslationAxis"),[this.Pi.x,this.Pi.y]),d.jR(x,!1).Ky(o.wireframeSegmentsLength),!0))}return this}_v(t){return this.cU.push(t),V5(this.gU.gridTiles,t,e=>(e.hasIntensityData=!0,e.intensityData)),this.Ja=void 0,this}Nt(){return this.dU&&(this.gU.gridTiles.forEach(t=>{t.intensityData.fill(0),t.hasIntensityData=!1}),this.Qa=!0,this.dU=!1,this.Ja=void 0),this}dispose(){super.dispose();const t=this.yU;t&&(t.gridTiles.forEach(i=>{this.RR.OR(i.intensityDataTexture)}),t.gridTiles.length=0,t.gridTileSizes.forEach(i=>{}),t.gridTileSizes.length=0,this.RR.yV(t.rectangleLocationsBuffer)),this.yU=void 0;const e=this.SU;return e&&this.RR.yV(e.wireframeCoordinatesBuffer),this.SU=void 0,this.bG={},this}VR(){return this.dispose(),this}lN(t){return this.gN===t&&{}}Hc(t){const e=t,i=this.Un.dataOrder==="columns"?e.x:e.y,r=this.Un.dataOrder==="columns"?e.y:e.x,n=this.Un.dataOrder==="columns"?this.Pi.x:this.Pi.y,a=this.Un.dataOrder==="columns"?this.Pi.y:this.Pi.x;let o=(i-n)/(this.Un.dataOrder==="columns"?this.$w.x:this.$w.y),l=(r-a)/(this.Un.dataOrder==="columns"?this.$w.y:this.$w.x);o=Math.floor(ee(o,0,this.Un.primaryDimensionVectorsCount-1)),l=Math.floor(ee(l,0,this.Un.secondaryDimensionVectorsCount-1));const u=this.xU(o,l),d=this.Un.dataOrder==="columns"?{x:this.Pi.x+(o+.5)*this.$w.x,y:this.Pi.y+(l+.5)*this.$w.y}:{x:this.Pi.x+(l+.5)*this.$w.x,y:this.Pi.y+(o+.5)*this.$w.y},f=this.Un.dataOrder==="columns"?o:l,g=this.Un.dataOrder==="columns"?l:o;return{x:d.x,y:d.y,column:f,row:g,cellValue:u}}zx(t){const e=this.bU;if(!e||t.x<e.boundaries.min.x||t.x>e.boundaries.max.x||t.y<e.boundaries.min.y||t.y>e.boundaries.max.y)return;const i=t,r=this.Un.dataOrder==="columns"?i.x:i.y,n=this.Un.dataOrder==="columns"?i.y:i.x,a=this.Un.dataOrder==="columns"?this.Pi.x:this.Pi.y,o=this.Un.dataOrder==="columns"?this.Pi.y:this.Pi.x,l=this.Un.dataOrder==="columns"?this.$w.x:this.$w.y,u=this.Un.dataOrder==="columns"?this.$w.y:this.$w.x,d=ee((r-a)/l-.5,0,this.Un.primaryDimensionVectorsCount-1),f=ee((n-o)/u-.5,0,this.Un.secondaryDimensionVectorsCount-1),g=ee(Math.ceil(d)-1,0,this.Un.primaryDimensionVectorsCount-1),m=ee(Math.ceil(f)-1,0,this.Un.secondaryDimensionVectorsCount-1),p={point:{x:g,y:m},value:this.xU(g,m)},x={point:{x:g,y:m+1},value:this.xU(g,m+1)},v={point:{x:g+1,y:m},value:this.xU(g+1,m)},A={point:{x:g+1,y:m+1},value:this.xU(g+1,m+1)},E=kC({x:d,y:f},p,x,v,A);if(E===void 0)return;const T=ee(Math.floor(d+.5),0,this.Un.primaryDimensionVectorsCount-1),F=ee(Math.floor(f+.5),0,this.Un.secondaryDimensionVectorsCount-1),D=this.Un.dataOrder==="columns"?T:F,N=this.Un.dataOrder==="columns"?F:T,V=t;return{x:V.x,y:V.y,column:D,row:N,cellValue:E}}xU(t,e){for(let i=0;i<this.gU.gridTiles.length;i+=1){const r=this.gU.gridTiles[i];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&e>=r.iFirstVector.secondary&&e<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){const n=t-r.iFirstVector.primary,a=e-r.iFirstVector.secondary,o=n*r.sizeHeatmapDataVectors.secondary+a;return r.intensityData[o]}}return 0}bt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.boundaries.max.x)||0}vt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.boundaries.min.x)||0}Mt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.boundaries.max.y)||0}xt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.boundaries.min.y)||0}vl(){return 0}bl(){return 0}D_(){const t=[];return this.gU.gridTiles.forEach(e=>{if(!e.hasIntensityData)return;const i=new Array(e.sizeUniqueHeatmapDataVectors.primary).fill(0).map(r=>new Array(e.sizeUniqueHeatmapDataVectors.secondary).fill(0));for(let r=0;r<e.sizeUniqueHeatmapDataVectors.primary;r+=1){const n=r*e.sizeHeatmapDataVectors.secondary,a=i[r];for(let o=0;o<e.sizeUniqueHeatmapDataVectors.secondary;o+=1){const l=e.intensityData[n+o];a[o]=l}}t.push({type:"intensity",startPrimary:e.iFirstUniqueVector.primary,startSecondary:e.iFirstUniqueVector.secondary,lengthPrimary:e.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:e.sizeUniqueHeatmapDataVectors.secondary,values:i})}),t}}class SP extends rl{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.Pi={x:0,y:0},this.$w={x:1,y:1},this.gv=Ns.lineStyle,this.pu=qt(void 0),this.uU=qt("bilinear"),this.engine=t,this.Un=a}Sv(t,e){return this.Pi=t,this.$w=e,this}vv(){return{start:this.Pi,step:this.$w}}mv(t){return this.gv=typeof t=="function"?t(this.gv):t,this}bv(){return this.gv}Su(t){return this.pu.S(t),this}vu(){return this.pu.M()}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}}class xP extends SP{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n,l),this.MU=0,this.QM=[],this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN(),this.nN=e,this.Ya=l.scrollDimension==="columns"?se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+l.resolution*this.$w.y}):se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+l.resolution*this.$w.x,y:this.Pi.y}),this._U={dataPerSegment:2048}}Ps(){this.bW||(this.Oo.push({type:"DataPattern",args:{pattern:this.Un.scrollDimension==="columns"?this.$w.x>0?"ProgressiveX":"RegressiveX":this.$w.y>0?"ProgressiveY":"RegressiveY",regularProgressiveStep:!0}}),this.bW=new F5(this.dt,this));const t=this.bW.fW(this.QM,this.pu.M());if(t>0){for(let i=0;i<t;i+=1)this.QM[0].shape.dispose().VR(),this.QM.shift();this.Un.scrollDimension==="columns"?this.Ya.min.x=this.QM.length>0?this.QM[0].boundaries.min.x:Rt:this.Ya.min.y=this.QM.length>0?this.QM[0].boundaries.min.y:Rt}this.QM.forEach(i=>i.shape.Ps());const e=this.QM.reduce((i,r)=>{var n,a;return i.min=Math.min(i.min,Ne((n=r.shape.Ja)===null||n===void 0?void 0:n.min,Rt)),i.max=Math.max(i.max,Ne((a=r.shape.Ja)===null||a===void 0?void 0:a.max,Ft)),i},{min:Rt,max:Ft});return this.QM.forEach(i=>{i.shape.Ja=e}),this.pu.i=!1,this}zL(t){return this.QM.forEach(e=>e.shape.zL(t)),this}Fv(t){if(t.length===0)return this;let e=0;const i=this._U.dataPerSegment,r=t.length;do{let n=this.QM[this.QM.length-1],a=n?i-(n.existingDataPointsCount+(n.hasJoint?1:0)):0,o=!1;if(!n||a===0){const g={columns:this.Un.scrollDimension==="columns"?i:this.Un.resolution,rows:this.Un.scrollDimension==="rows"?i:this.Un.resolution,heatmapDataType:this.Un.heatmapDataType,dataOrder:this.Un.scrollDimension};let m=this.Un.scrollDimension==="columns"?{x:this.Pi.x+this.$w.x*this.MU,y:this.Pi.y}:{x:this.Pi.x,y:this.Pi.y+this.$w.y*this.MU};this.QM.length>0&&(m=this.Un.scrollDimension==="columns"?{x:m.x-1*this.$w.x,y:m.y}:{x:m.x,y:m.y-1*this.$w.y},o=!0);const p=new Ty(this.rN,this.nN,this.dt,ae,[],g,this.gN,this.mN).xv(this.uU.M()).Ce(this.be).mv(this.gv).Sv(m,this.$w);n={shape:p,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:i,dataStartIndex:this.MU,hasJoint:!1,boundaries:{min:{x:p.vt(),y:p.xt()},max:{x:p.bt(),y:p.Mt()}}},this.QM.push(n),a=i-(o?1:0)}const l=r-e,u=Math.min(a,l),d=t.slice(e,e+u),f={type:"intensity",values:d,startPrimary:n.existingDataPointsCount+(n.hasJoint?1:0),startSecondary:0,lengthPrimary:u,lengthSecondary:this.Un.resolution};o&&(f.values.unshift(this.wU),f.lengthPrimary+=1,n.hasJoint=!0),n.shape._v(f),n.existingDataPointsCount+=u,n.existingCoordinatesCount+=u+(o?1:0),this.wU=d[d.length-1],this.MU+=u,e+=u}while(e<r);return this.Ya.max=this.Un.scrollDimension==="columns"?{...this.Ya.max,x:this.Pi.x+this.MU*this.$w.x}:{...this.Ya.max,y:this.Pi.y+this.MU*this.$w.y},this}_v(t,e){const i=t,r=t+e.length-1,n=e[0].length;this.QM.forEach(o=>{const l=o.dataStartIndex,u=o.dataStartIndex+o.existingDataPointsCount-1;if(r<l||i>u)return;const d=i-l,f=Math.min(r,u),g=f-d+1,m=e.slice(d-i,f-i+1),p={type:"intensity",startSecondary:0,lengthSecondary:n,startPrimary:d,lengthPrimary:g,values:m};o.shape._v(p)});const a=this.MU-1;if(r>a){const o=r-a,l=e.slice(-o);if(l.length<o){const u=this.wU||new Array(n).fill(0);for(let d=l.length;d<o;d+=1)l.unshift(u)}this.Fv(l)}return this}O_(){return this.MU}Nt(){return this.QM.forEach(t=>{t.shape.dispose().VR()}),this.QM.length=0,this.Ya=this.Un.scrollDimension==="columns"?se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+this.Un.resolution*this.$w.y}):se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+this.Un.resolution*this.$w.x,y:this.Pi.y}),this.MU=0,this.wU=void 0,this}Sv(t,e){return super.Sv(t,e),this.QM.forEach((i,r)=>{const n={x:t.x+i.dataStartIndex*e.x,y:t.y+i.dataStartIndex*e.y};i.shape.Sv(n,e),i.boundaries={min:{x:i.shape.vt(),y:i.shape.xt()},max:{x:i.shape.bt(),y:i.shape.Mt()}}}),this.QM.length>0?this.Ya=ur(...this.QM.map(i=>i.boundaries)):this.Ya=this.Un.scrollDimension==="columns"?se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+this.Un.resolution*this.$w.y}):se({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+this.Un.resolution*this.$w.x,y:this.Pi.y}),this}Ce(t){return super.Ce(t),this.QM.forEach(e=>e.shape.Ce(this.be)),this}mv(t){return super.mv(t),this.QM.forEach(e=>e.shape.mv(this.gv)),this}xv(t){return super.xv(t),this.QM.forEach(e=>e.shape.xv(t)),this}dispose(){return super.dispose(),this.QM.forEach(t=>t.shape.dispose()),this}setVisible(t){return super.setVisible(t),this.QM.forEach(e=>e.shape.setVisible(t)),this}VR(){return this.QM.forEach(t=>t.shape.VR()),this}lN(t){return this.gN===t&&{}}Hc(t){const e=mt(t,this.dt,this.engine.dt),i=this.QM.reduce((r,n)=>{const a=n.shape.Hc(t);if(a){const o=eR(mt(a,this.dt,this.engine.dt),e);if(r===void 0||o<r.distance)return{result:a,distance:o,segment:n}}return r},void 0);if(i&&i.result){const r=this.Un.scrollDimension==="columns"?i.result.column+i.segment.dataStartIndex:i.result.column,n=this.Un.scrollDimension==="rows"?i.result.row+i.segment.dataStartIndex:i.result.row;return this.Un.scrollDimension==="columns"&&r>=this.MU||this.Un.scrollDimension==="rows"&&n>=this.MU?void 0:{x:i.result.x,y:i.result.y,column:r,row:n,cellValue:i.result.cellValue}}}zx(t){const e=mt(t,this.dt,this.engine.dt),i=this.QM.reduce((r,n)=>{const a=n.shape.zx(t);if(a){const o=eR(mt(a,this.dt,this.engine.dt),e);if(r===void 0||o<r.distance)return{result:a,distance:o,segment:n}}return r},void 0);if(i&&i.result){const r=this.Un.scrollDimension==="columns"?i.result.column+i.segment.dataStartIndex:i.result.column,n=this.Un.scrollDimension==="rows"?i.result.row+i.segment.dataStartIndex:i.result.row;return this.Un.scrollDimension==="columns"&&r>=this.MU||this.Un.scrollDimension==="rows"&&n>=this.MU?void 0:{x:i.result.x,y:i.result.y,column:r,row:n,cellValue:i.result.cellValue}}}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}cs(t){return super.cs(t),this.QM.forEach(e=>e.shape.cs(t)),this}}class AP extends rl{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.uU=qt("bilinear"),this.gv=Ns.lineStyle,this.Un=a}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}mv(t){return this.gv=typeof t=="function"?t(this.gv):t,this}bv(){return this.gv}}class vP extends AP{constructor(t,e,i,r,n,a,o,l){super(t,e,i,r,n,a),this.aE=new kr,this.bG={},this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStylePaletted:()=>Bi(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=o,this.mN=l,this.RR=t.oN(),this.nN=e,this.I_=new Ty(this.rN,t.CU,t.dt,ae,[],{columns:a.sectors,rows:a.annuli,heatmapDataType:"intensity",dataOrder:a.dataOrder==="annuli"?"rows":"columns",AU:this.RR.zR},-1,Hh).mv(bt);const u=2*Math.PI/360,d=new Float32Array(724);let f=0;d[f+0]=0,d[f+1]=0,f+=2;for(let g=0;g<=360;g+=1){const m=g*u,p=Math.cos(m),x=Math.sin(m);d[f+0]=p,d[f+1]=x,f+=2}this.kU={vertexBuffer:this.RR.nV(d),drawMode:this.RR.gl.TRIANGLE_FAN,drawLength:362}}Ps(){const t=this.ta(),e=this.be,i=this.AN.fillStyleSolid(t),r=this.AN.fillStylePaletted(t),n=i||r,a=this.uU.M(),o=this.uU.i,l=this.Bo.M(),u=this.Bo.i;return this.aE.mV(this.dt),this.I_.Ps(),this.I_.yU?((t||o)&&(this.bG.fill=n?{shader:this.RR.oz(q["2D"],q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ut(this.dt),normalSource:void 0}),r&&q.PolarHeatmap({interpolation:a==="bilinear"&&"bilinear",intensityTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN,flipXY:this.Un.dataOrder==="sectors",lut:r.lut}),i&&q.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:r,fillStyleSolid:i}:void 0),u&&(this.bG.mousePicking=l?{shader:this.RR.oz(q["2D"],q.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.Color({dataType:"uniform"}))}:void 0),this.ha(e),this.uU.i=!1,this.Bo.i=!1,this):this}zL(t){var e;const{vertexBuffer:i,drawLength:r,drawMode:n}=this.kU,a=this.I_.yU;if(!this.bG.fill||!a)return this;const{fillStylePaletted:o,fillStyleSolid:l}=this.bG.fill,u=t===1?(e=this.bG.mousePicking)===null||e===void 0?void 0:e.shader:this.bG.fill.shader;if(!u)return this;const d=this.dt.mx(),f=Math.min(d.start,d.end),g=Math.max(d.start,d.end),m=Math.min(this.Un.amplitudeStart,this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep),p=Math.max(this.Un.amplitudeStart,this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep);let x;return x=d.end>d.start?Math.min(p,g)-d.start:Math.max(m,f)-d.start,this.RR.jR(u).aV(u,(v,A,E,T)=>{if(this.RR.uV(v("uScale"),this.aE.fV()).uV(v("uDisp"),this.aE.AV()).dV(v("uIsHighlighted"),t===1||t===2?0:this.zo).AR(v("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(v("uRenderEffectMask"),t===2?1:0).uV(T("uViewportSize"),[this.rN.oi().x*this.RR.$z(),this.rN.oi().y*this.RR.$z()]).uV(v("uScaling"),[x,x]).uV(v("uTranslationAxis"),[0,0]).lV(i,void 0,{location:A("aPos"),size:2}).dV(T("uAngleOffset"),this.dt.xx()%(2*Math.PI)).dV(T("uAngleDirection"),this.dt.kx()?1:-1).dV(T("uSectors"),this.Un.sectors).dV(T("uAnnuli"),this.Un.annuli),t===1)this.RR.AR(v("uColor"),this.mN);else{if(this.RR.dV(v("uAmplitudeStart"),this.Un.amplitudeStart).dV(v("uAmplitudeStep"),this.Un.amplitudeStep).dV(v("uAmplitudeAxisStart"),this.dt.mx().start).dV(v("uAmplitudeAxisEnd"),this.dt.mx().end),o){const F=this.I_.Ja;this.RR.LO(E,o.lut,F).cV(v("uTileIntensityValues"),a.gridTiles[0].intensityDataTexture,0)}l&&this.RR.AR(v("uColor"),l.getColor())}return this.RR.Ky(n,r),!0}),this}_v(t){return this.I_._v(t),this}Nt(){return this.I_.Nt(),this}dispose(){return super.dispose(),this.I_.dispose(),this.bG={},this.RR.yV(this.kU.vertexBuffer),this}VR(){return this.dispose(),this}Ce(t){return super.Ce(t),this.I_.Ce(this.be),this}lN(t){return this.gN===t&&{}}Hc(t){const e=this.Un.amplitudeStart,i=this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep,r=Math.min(e,i),n=Math.max(e,i);if(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>n)return;let a=Math.round((t.angle-0)/360*this.Un.sectors);a>=this.Un.sectors&&(a=0);const o=Math.round((t.amplitude-e)/(i-e)*(this.Un.annuli-1));return{iAnnulus:o,iSector:a,cellValue:this.xU(o,a),angle:a*(360/this.Un.sectors),amplitude:e+o*(i-e)/(this.Un.annuli-1)}}zx(t){const e=this.Un.amplitudeStart,i=this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep,r=Math.min(e,i),n=Math.max(e,i);if(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>n)return;const a=(t.angle-0)/360*this.Un.sectors,o=(t.amplitude-e)/(i-e)*(this.Un.annuli-1),l=Math.floor(a),u=Math.floor(o),d={point:{x:u,y:l},value:this.xU(u,l)},f={point:{x:u,y:l+1},value:this.xU(u,l+1)},g={point:{x:u+1,y:l},value:this.xU(u+1,l)},m={point:{x:u+1,y:l+1},value:this.xU(u+1,l+1)},p=kC({x:o,y:a},d,f,g,m);return p!==void 0?{iAnnulus:u,iSector:l,cellValue:p,angle:t.angle,amplitude:t.amplitude}:void 0}xU(t,e){const i=this.Un.dataOrder==="annuli"?t:e,r=this.Un.dataOrder==="annuli"?e:t;for(let n=0;n<this.I_.gU.gridTiles.length;n+=1){const a=this.I_.gU.gridTiles[n];if(i>=a.iFirstVector.primary&&i<=a.iFirstVector.primary+a.sizeHeatmapDataVectors.primary-1&&r>=a.iFirstVector.secondary&&r<=a.iFirstVector.secondary+a.sizeHeatmapDataVectors.secondary-1){const o=i-a.iFirstVector.primary,l=r-a.iFirstVector.secondary,u=o*a.sizeHeatmapDataVectors.secondary+l;return a.intensityData[u]}}return 0}bt(){return 0}vt(){return 0}Mt(){return 0}xt(){return 0}vl(){return 0}bl(){return 0}}class bP extends $u{constructor(t){super(t);const{vertices:e,drawMode:i,drawSize:r}=this.aG();this.lG=t.nV(e),this.cG=r,this.dG=i}jR(t){return this.RR.lV(this.lG,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this}Ky(t,e,i){return this.RR.QV(e!==void 0?e:this.dG,i||0,this.cG,t),this}aG(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.RR.gl.TRIANGLES,drawSize:6}}kz(){this.RR.yV(this.lG)}}const MP=s=>{let t=s._V.Mz.get(void 0);return t||(t=new bP(s),s._V.Mz.set(void 0,t),t)};class RP extends uy{constructor(t,e,i,r){super(t,e,i,r,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}]),this.TU=Ns.fillStyle,this.FU=Ns.fillStyle,this.IU=qt(Qe.Circle),this.PU=qt(5),this.DU=qt(0),this.BU=qt(void 0),this.XC=!0,this.LU={x:0,y:0}}ud(t){return this.TU=vu(this.TU,t),this}ZC(){return this.TU}RU(){return bu(this.EU,this.TU)}zU(){return bu(this.VU,this.FU)}ld(t){return this.FU=vu(this.FU,t),Yu(this.FU)&&(this.fd(Qe.Square),this.pd(1)),this}yd(){return this.FU}fd(t){return this.IU.S(t),$h(this.IU.M())&&this.pd(1),this}Ad(){return this.IU.M()}pd(t){return this.PU.S(t),this}QC(){return this.PU.M()}gd(t){return this.DU.S(t),this}md(){return this.DU.M()}JC(t){return this.LU=t,this}KC(){return this.LU}$C(t){return this.BU.S(t),this}qC(){return this.BU.M()}}class EP extends Ey{constructor(t,e){super(t,e),this.HG=!1,this.$G={enabled:!1,totalDataPointsAtTime:0},this.jG=t instanceof Me?{type:"linear",scale:t}:{type:"unknown"},this.YG.Uo("DataPattern",i=>{i.allowDataGrouping===!1&&(this.HG=!0)})}OU(t,e){var i,r;const n=t==null?void 0:t.Cc,a=t==null?void 0:t.kc,o=t==null?void 0:t.lc,l=t==null?void 0:t.ac;if(!t||this.HG||!this.GG||this.jG.type!=="linear"||!n||!a||o===void 0||l===void 0||!e)return{cpStateChanged:!1,cpActive:!1};const u=(i=t.wc())===null||i===void 0?void 0:i.x,d=(r=t.Yc())===null||r===void 0?void 0:r.x;if(o<2||u===void 0||d===void 0)return{cpStateChanged:!1,cpActive:!1};const f=this.calculateAvgStepBetweenDataPoints(d,u,o),g=this.jG.scale,m=Math.abs(this.GG==="x"?g.Wi().x:g.Wi().y),p=m/f,x=Math.floor(.8*p),v=x*f,A=x>=4,E=this.$G.enabled?this.$G.columnWidthAxis/m<1.5:void 0,T=this.$G.enabled&&x>this.$G.dataPointsPerColumn?x/this.$G.dataPointsPerColumn>=2:void 0;let F;return this.$G.enabled===!0?E?T&&(F={enabled:!0,columnWidthAxis:v,dataPointsPerColumn:x,totalDataPointsAtTime:o}):F=A?{enabled:!0,columnWidthAxis:v,dataPointsPerColumn:x,totalDataPointsAtTime:o}:{enabled:!1,totalDataPointsAtTime:o}:A&&(F={enabled:!0,columnWidthAxis:v,dataPointsPerColumn:x,totalDataPointsAtTime:o}),this.$G=F||{...this.$G,totalDataPointsAtTime:o},F&&this.Qm(),{cpStateChanged:!!F,cpActive:this.$G.enabled}}NU(t,e){var i,r,n;const a=t.Cc,o=t.kc,l=t.uc,u=t.lc,d=t.ac;if(this.HG||!this.$G.enabled||!a||!o||e===void 0)return;const f=a.length,g=this.$G.columnWidthAxis,m=this.dt.x.getInnerStart(),p=this.dt.x.getInnerEnd(),x=BA(m,p,a,l,u,d,e,1);if(!x)return;const v=a[x.iFirstSampleDataArray];if(this.GU){if(this.GU.iFirstPackedSample<x.iFirstSample){const b=Math.min(Math.floor((v-this.GU.origin)/g),this.GU.packedColumnsCount);if(b>0)if(this.GU.packedColumnsCount-=b,this.GU.packedColumnsCount>0){this.GU.packedDataX.splice(0,2*b),this.GU.packedDataY.splice(0,2*b),this.GU.packedDataColors&&this.GU.packedDataColors.splice(0,2*b),this.GU.packedDataLookupValues&&this.GU.packedDataLookupValues.splice(0,2*b),this.GU.origin+=b*g;const M=ih(this.GU.origin,Math.max(l-1-f+1,0),l-1,C=>a[Vi(C,l,f)]),w=Vi(M,l,f);this.GU.iFirstPackedSample=a[w]>=this.GU.origin?M:M+1}else this.GU=void 0}if(((i=this.GU)===null||i===void 0?void 0:i.iLastPackedSample)!==void 0&&this.GU.iLastPackedSample>x.iLastSample){const b=a[x.iLastSampleDataArray],M=Math.min(Math.floor((this.GU.origin+this.GU.packedColumnsCount*g-b)/g),this.GU.packedColumnsCount);if(M>0)if(this.GU.packedColumnsCount-=M,this.GU.packedColumnsCount>0){for(let k=0;k<2*M;k+=1)this.GU.packedDataX.pop(),this.GU.packedDataY.pop(),this.GU.packedDataColors&&this.GU.packedDataColors.pop(),this.GU.packedDataLookupValues&&this.GU.packedDataLookupValues.pop();const w=ih(this.GU.origin+this.GU.packedColumnsCount*g,Math.max(l-1-f+1,0),l-1,k=>a[Vi(k,l,f)]),C=Vi(w,l,f);this.GU.iLastPackedSample=a[C]<=this.GU.origin+this.GU.packedColumnsCount*g?w:w-1}else this.GU=void 0}}const A=this.GU||{origin:v,packedColumnsCount:0,packedDataX:[],packedDataY:[],packedDataColors:t.Rc?[]:void 0,packedDataLookupValues:t.Lc?[]:void 0,packedDataSize:t.Ec?[]:void 0,packedDataRotation:t.zc?[]:void 0,iFirstPackedSample:x.iFirstSample,iLastPackedSample:void 0},E=(b,M,w)=>{let C=Math.min(b,b+M*g),k=Math.max(b,b+M*g),z=w;const H=[];let B=Ft,U=Ft,O=-1,W=Rt,I=Rt,X=-1,j=0;for(;z<=x.iLastSample&&z>=x.iFirstSample;){const Q=z%f,J=a[Q],st=o[Q];if(C<=J&&J<=k)j+=1,Number.isNaN(st)||(st>U&&(B=J,U=st,O=z),st<I&&(W=J,I=st,X=z)),z+=M;else{if(j>0)B=B===Ft?Number.NaN:B,U=U===Ft?Number.NaN:U,W=W===Rt?Number.NaN:W,I=I===Rt?Number.NaN:I,O<X?(H.push({iFirst:O,iSecond:X}),M>0?(A.packedDataX.push(B),A.packedDataY.push(U),A.packedDataX.push(W),A.packedDataY.push(I)):(A.packedDataX.unshift(W),A.packedDataY.unshift(I),A.packedDataX.unshift(B),A.packedDataY.unshift(U))):(H.push({iFirst:X,iSecond:O}),M>0?(A.packedDataX.push(W),A.packedDataY.push(I),A.packedDataX.push(B),A.packedDataY.push(U)):(A.packedDataX.unshift(B),A.packedDataY.unshift(U),A.packedDataX.unshift(W),A.packedDataY.unshift(I)));else{const nt=M>0?A.iLastPackedSample:A.iFirstPackedSample;if(nt===void 0)H.push({iFirst:0,iSecond:0}),M>0?(A.packedDataX.push(Number.NaN),A.packedDataY.push(Number.NaN),A.packedDataX.push(Number.NaN),A.packedDataY.push(Number.NaN)):(A.packedDataX.unshift(Number.NaN),A.packedDataY.unshift(Number.NaN),A.packedDataX.unshift(Number.NaN),A.packedDataY.unshift(Number.NaN));else{const ct=Vi(nt,l,f),dt=a[ct],Tt=o[ct],At=(C+k)/2,Vt=At-M*g/6,Pt=Tt+(Vt-dt)/(J-dt)*(st-Tt),jt=At+M*g/6,Jt=Tt+(jt-dt)/(J-dt)*(st-Tt);H.push({iFirst:nt,iSecond:nt}),M>0?(A.packedDataX.push(Vt),A.packedDataY.push(Pt),A.packedDataX.push(jt),A.packedDataY.push(Jt)):(A.packedDataX.unshift(Vt),A.packedDataY.unshift(Pt),A.packedDataX.unshift(jt),A.packedDataY.unshift(Jt))}}if(A.packedColumnsCount+=1,M>0?A.iLastPackedSample=z-1:(A.iFirstPackedSample=z+1,A.origin=C),C=Math.min(b+H.length*M*g,b+(H.length+1)*M*g),k=Math.max(b+H.length*M*g,b+(H.length+1)*M*g),j=0,B=Ft,U=Ft,O=-1,W=Rt,I=Rt,X=-1,C<m||k>p)break}}return H},T=E(A.origin+A.packedColumnsCount*g,1,((r=this.GU)===null||r===void 0?void 0:r.iLastPackedSample)!==void 0?this.GU.iLastPackedSample+1:x.iFirstSample),F=E(A.origin,-1,((n=this.GU)===null||n===void 0?void 0:n.iFirstPackedSample)!==void 0?this.GU.iFirstPackedSample-1:x.iFirstSample),D=t.Rc&&A.packedDataColors?[t.Rc,A.packedDataColors]:void 0,N=t.Lc&&A.packedDataLookupValues?[t.Lc,A.packedDataLookupValues]:void 0,V=t.Ec&&A.packedDataSize?[t.Ec,A.packedDataSize]:void 0,P=t.zc&&A.packedDataRotation?[t.zc,A.packedDataRotation]:void 0;if(D||N||V||P){for(const b of T){const M=Vi(b.iFirst,l,f),w=Vi(b.iSecond,l,f);D&&D[1].push(D[0][M],D[0][w]),N&&N[1].push(N[0][M],N[0][w]),V&&V[1].push(V[0][M],V[0][w]),P&&P[1].push(P[0][M],P[0][w])}for(const b of F){const M=Vi(b.iFirst,l,f),w=Vi(b.iSecond,l,f);D&&D[1].unshift(D[0][w],D[0][M]),N&&N[1].unshift(N[0][w],N[0][M]),V&&V[1].unshift(V[0][w],V[0][M]),P&&P[1].unshift(P[0][w],P[0][M])}}return this.GU=A.packedColumnsCount>0?A:void 0,{x:A.packedDataX,y:A.packedDataY,color:A.packedDataColors,lookup:A.packedDataLookupValues,size:A.packedDataSize,rotation:A.packedDataRotation}}Qm(){this.GU=void 0}tW(t){if(this.GG&&this.jG.type==="linear"){const e=this.GG==="x"?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.Je===Fa.progressive||e.Je===Fa.regressive){const i=Math.abs(this.GG==="x"?this.jG.scale.x.getInnerInterval():this.jG.scale.y.getInnerInterval());if(this.$G.enabled)return 2*i/this.$G.columnWidthAxis;const r=t.length,n=t[0],a=t[r-1];return i/this.calculateAvgStepBetweenDataPoints(this.GG==="x"?n.x:n.y,this.GG==="x"?a.x:a.y,r)}}}iW(t,e,i){if(!this.GG)return e;const r=i.length;let n=Cd(i,t.min,this.GG,this.WG,0,r-1);n===void 0&&(n=this.WG?r-1:0);let a=Cd(i,t.max,this.GG,this.WG,0,r-1);return a===void 0&&(a=this.WG?0:r-1),1+Math.abs(a-n)}sW(){}}class TP extends RP{constructor(t,e,i,r,n,a){super(t,e,i,r),this.aE=new kr,this.SW=new EP(this.dt,this),this.AN=Hs({lineStyleSolid:()=>zs(this.lu)&&this.lu,lineStyleDashed:()=>dy(this.lu)&&this.lu,strokeFillSolid:()=>{const o=this.lu.getFillStyle();return fe(o)&&o},strokeFillLinearGradient:()=>{const o=this.lu.getFillStyle();return yi(o)&&o},strokeFillRadialGradient:()=>{const o=this.lu.getFillStyle();return gi(o)&&o},strokeFillIndividual:()=>{const o=this.lu.getFillStyle();return Gs(o)&&o},strokeFillPaletted:()=>{const o=this.lu.getFillStyle();return Bi(o)&&o},areaFillSolid:()=>fe(this.TU)&&this.TU,areaFillLinearGradient:()=>yi(this.TU)&&this.TU,areaFillRadialGradient:()=>gi(this.TU)&&this.TU,areaFillIndividual:()=>Gs(this.TU)&&this.TU,areaFillPaletted:()=>Bi(this.TU)&&this.TU,markerFillSolid:()=>fe(this.FU)&&this.FU,markerFillLinearGradient:()=>yi(this.FU)&&this.FU,markerFillRadialGradient:()=>gi(this.FU)&&this.FU,markerFillPaletted:()=>Bi(this.FU)&&this.FU,markerFillIndividual:()=>Gs(this.FU)&&this.FU,markerFillImage:()=>Yu(this.FU)&&this.FU,markerShapeIcon:()=>{const o=this.IU.M();return $h(o)&&o}}),this.od=qt(void 0),this.WU=[],this.Qa=!1,this.UU=[],this.YU=void 0,this.rU=(o,l,u)=>{var d;const f=(d=this.HU)===null||d===void 0?void 0:d.shapeIcon;let g=o,m=l;return f&&(g=f.oi().x,m=f.oi().y),Ry(o,l,g*this.PU.M(),m*this.PU.M(),u)},this.nN=e,this.bG={type:"none"},this.RR=t.oN(),this.rN=t,this.SG=this.RR.eO,this.gN=n,this.mN=a}ad(t){return this.od.S(ix(t,this.od.M(),()=>[t.$c((e,i)=>{this.WU.push({min:e,max:i}),t.Gc()===void 0&&this.$U&&this.UU.push({min:e,max:i})}),t.Xc(()=>{this.Qa=!0,this.$U=void 0,this.YU=void 0,this.SW.Qm()})])),this.YU=void 0,this}Ps(){var t,e,i,r,n,a,o,l,u,d,f,g,m,p,x;const v=(t=this.od.M())===null||t===void 0?void 0:t.Wt,A=this.od.i,E=v==null?void 0:v.Cc,T=v==null?void 0:v.kc;if(!v||!E||!T)return this;const F=v.Lc,D=v.Rc,N=v.Ec,V=v.zc,P=v.uc,b=v.lc,M=v.ac,w=this.lu,C=this.TU,k=A||this.ra()||this.RU()||this.zU(),z=this.AN.lineStyleSolid(k),H=this.AN.lineStyleDashed(k),B=z||H,U=B&&B.getThickness(),O=this.AN.strokeFillSolid(k),W=this.AN.strokeFillLinearGradient(k),I=this.AN.strokeFillRadialGradient(k),X=this.AN.strokeFillIndividual(k),j=this.AN.strokeFillPaletted(k),Q=O||W||I||X||j,J=this.AN.areaFillSolid(k),st=this.AN.areaFillLinearGradient(k),nt=this.AN.areaFillRadialGradient(k),ct=this.AN.areaFillIndividual(k),dt=this.AN.areaFillPaletted(k),Tt=J||st||nt||ct||dt,At=this.AN.markerFillSolid(k),Vt=this.AN.markerFillLinearGradient(k),Pt=this.AN.markerFillRadialGradient(k),jt=this.AN.markerFillPaletted(k),Jt=this.AN.markerFillIndividual(k),_t=this.AN.markerFillImage(k),Ct=At||Vt||Pt||jt||Jt||_t,bi=this.IU.M(),Ee=this.IU.i,pe=this.AN.markerShapeIcon(Ee),gr=this.PU.M(),Ge=this.PU.i,zt=this.BU.i,Dr=this.WU.length>0||zt,ge=this.Qa,ii=ge?[v.Wc()]:(wt=>{const le=[];for(const kt of wt){let Ht=!1;for(const ue of le)if(kt.min>=ue.min&&kt.min<=ue.max||kt.max>=ue.min&&kt.max<=ue.max){ue.min=Math.min(ue.min,kt.min),ue.max=Math.min(ue.max,kt.max),Ht=!0;break}Ht||le.push(kt)}return le})(this.WU),Di=this.dt.x.Yt,Se=this.dt.x.getInnerStart(),Ye=this.dt.x.getInnerEnd(),Mi=v.Gc(),je=!!H,He=this.Bo.M(),Ao=this.Bo.i,{cpStateChanged:Xe,cpActive:qe}=this.SW.OU(v,this.XC);if(Mi&&qe&&(Xe||ge||Dr||Di||k)){const wt=this.SW.NU(v,Mi);if(wt){const le=!Xe&&!ge&&!k;this.XU=ES(this.RR,[wt.x,wt.y],wt.color,wt.lookup,wt.size,wt.rotation,je,this.XU,le,Mi,1e3,this.dt._i(),Ht=>Ch(Ht,this.dt._i())),this.jU={min:Rt,max:Ft};const kt=wt.y.length;for(let Ht=0;Ht<kt;Ht+=1){const ue=wt.y[Ht];Number.isNaN(ue)||(this.jU.min=Math.min(this.jU.min,ue),this.jU.max=Math.max(this.jU.max,ue))}(e=this.dt.y.ig)===null||e===void 0||e.uh()}}if(Mi&&!qe&&(Xe||ge||Dr||Di||zt||k)){const wt=BA(Se,Ye,E,P,b,M,Mi,1);if(!this.ZU||(wt==null?void 0:wt.iFirstSample)!==this.ZU.iFirstSample||wt.iLastSample!==this.ZU.iLastSample||ge){this.jU={min:Rt,max:Ft};for(const le of(wt==null?void 0:wt.dataRanges)||[])for(let kt=le.offset;kt<le.offset+le.count;kt+=1){const Ht=T[kt];Number.isNaN(Ht)||(this.jU.min=Math.min(this.jU.min,Ht),this.jU.max=Math.max(this.jU.max,Ht))}(i=this.dt.y.ig)===null||i===void 0||i.uh()}if(this.ZU=wt,wt===void 0)this.RR.yV((r=this.XU)===null||r===void 0?void 0:r.bufferX),this.RR.yV((n=this.XU)===null||n===void 0?void 0:n.bufferY),this.XU=void 0,this.RR.yV((a=this.QU)===null||a===void 0?void 0:a.bufferX),this.RR.yV((o=this.QU)===null||o===void 0?void 0:o.bufferY),this.QU=void 0,this.JU=wt;else if(Xe||ge||!this.JU||wt.iFirstSample<this.JU.iFirstSample||wt.iLastSample>this.JU.iLastSample||k){let le,kt,Ht,ue,ye,De;if(wt.dataRanges.length===1){const Gt=wt.dataRanges[0];le=E.subarray(Gt.offset,Gt.offset+Gt.count),kt=T.subarray(Gt.offset,Gt.offset+Gt.count),Ht=D?D.subarray(Gt.offset,Gt.offset+Gt.count):void 0,ue=F?F.subarray(Gt.offset,Gt.offset+Gt.count):void 0,ye=N?N.subarray(Gt.offset,Gt.offset+Gt.count):void 0,De=V?V.subarray(Gt.offset,Gt.offset+Gt.count):void 0}else{const Gt=wt.dataRanges[0],Ot=wt.dataRanges[1],ie=Gt.count+Ot.count;le=new Float32Array(ie),le.set(E.subarray(Gt.offset),0),le.set(E.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count),kt=new Float32Array(ie),kt.set(T.subarray(Gt.offset),0),kt.set(T.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count),D&&(Ht=new Uint32Array(ie),Ht.set(D.subarray(Gt.offset),0),Ht.set(D.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count)),F&&(ue=new Float32Array(ie),ue.set(F.subarray(Gt.offset),0),ue.set(F.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count)),N&&(ye=new Float32Array(ie),ye.set(N.subarray(Gt.offset),0),ye.set(N.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count)),V&&(De=new Float32Array(ie),De.set(V.subarray(Gt.offset),0),De.set(V.subarray(Ot.offset,Ot.offset+Ot.count),Gt.count))}const sa=!Xe&&!ge&&!k;this.QU=ES(this.RR,[le,kt],Ht,ue,ye,De,je,this.QU,sa,Mi,1e3,this.dt._i(),Gt=>Ch(Gt,this.dt._i()));let hi=le,Fe=kt,ra=Ht,Ri=ue;const li=this.BU.M();if(li){const Gt=li.type==="spline"?((Ot,ie)=>{const{xValues:Xs,yValues:ui,lookupValues:xe,colors:hs}=Ot;if(Xs.length<=2)return{xValues:Array.from(Xs),yValues:Array.from(ui),lookupValues:xe?Array.from(xe):void 0,colors:hs?Array.from(hs):void 0};const We=((Mt,$t)=>{const Hi=Mt.length-1,Xi=Array(Hi);if(Hi>1){let Wi=Y(0,0),ls=Y(0,0),Qr=Y(0,0),Kr=hr(be({x:Mt[1],y:$t[1]},{x:Mt[0],y:$t[0]}));const vo=3;let vn=0,bn=0;for(let Te=0;Te<Hi;Te+=1){const Ws=Array(4);if(Ws[0]={x:Mt[Te],y:$t[Te]},Ws[1]={x:Mt[Te],y:$t[Te]},Ws[3]={x:Mt[Te+1],y:$t[Te+1]},Ws[2]={x:Mt[Te+1],y:$t[Te+1]},Qr=Kr,Wi=ls,Te+1<Hi?(Kr=Mt[Te+2]===Mt[Te+1]&&$t[Te+2]===$t[Te+1]?Y(0,0):hr(be({x:Mt[Te+2],y:$t[Te+2]},{x:Mt[Te+1],y:$t[Te+1]})),ls=hr(Bt(Qr,Kr))):ls=Y(0,0),$t[Te+1]===$t[Te])vn=0,bn=0;else{const Pa=Mt[Te+1]-Mt[Te];vn=Math.abs(Wi.x)>1e-5?Math.abs(Pa/(vo*Wi.x)):1,bn=Math.abs(ls.x)>1e-5?Math.abs(Pa/(vo*ls.x)):1}Ws[1]=Bt(Wt(Wi,vn),Ws[1]),Ws[2]=be(Ws[2],Wt(ls,bn)),Xi[Te]=Ws}}return Xi.length>0?Xi:[]})(Xs,ui),Be=We.length,Zi=[],Yi=[],ps=[],Qi=[];for(let Mt=0;Mt<Be;Mt+=1){const $t=We[Mt];for(let yr=0;yr<ie;yr+=1){const Hi=yr/(ie-1),Xi=Hi*Hi,Wi=Xi*Hi,ls=1-Hi,Qr=ls*ls,Kr=Qr*ls;Zi.push(Kr*$t[0].x+3*Hi*Qr*$t[1].x+3*Xi*ls*$t[2].x+Wi*$t[3].x),Yi.push(Kr*$t[0].y+3*Hi*Qr*$t[1].y+3*Xi*ls*$t[2].y+Wi*$t[3].y)}}if(xe)for(let Mt=0;Mt<Zi.length;Mt+=1){const $t=xe[Math.round(Mt/ie)];Qi[Mt]=$t}if(hs)for(let Mt=0;Mt<Zi.length;Mt+=1){const $t=hs[Math.round(Mt/ie)];ps[Mt]=$t}return{xValues:Zi,yValues:Yi,lookupValues:xe?Qi:void 0,colors:hs?ps:void 0}})({xValues:le,yValues:kt,lookupValues:ue,colors:Ht},li.resolution||20):li.type==="step"?((Ot,ie)=>{const{xValues:Xs,yValues:ui,lookupValues:xe,colors:hs}=Ot,We=[],Be=[],Zi=[],Yi=[],ps=Xs.length,Qi=ie;if(ps>0){let Mt=0,$t=Xs[0],yr=ui[0];We[Mt]=$t,Be[Mt]=yr,Mt+=1;for(let Hi=1;Hi<ps;Hi+=1){const Xi=Xs[Hi],Wi=ui[Hi];if(Qi<=0)We[Mt]=$t,Be[Mt]=Wi,Mt+=1;else{const ls=$t*(1-Qi)+Xi*Qi;We[Mt]=ls,Be[Mt]=yr,Mt+=1,We[Mt]=ls,Be[Mt]=Wi,Mt+=1}We[Mt]=Xi,Be[Mt]=Wi,Mt+=1,$t=Xi,yr=Wi}}if(xe){if(Qi===to.before){Yi[0]=xe[0];for(let Mt=1;Mt<ps;Mt+=1)Yi[2*Mt-1]=xe[Mt],Yi[2*Mt]=xe[Mt]}else if(Qi===to.middle||Qi===to.after){Yi[0]=xe[0],Yi[1]=xe[0];for(let Mt=1;Mt<ps;Mt+=1)Yi[3*Mt-1]=xe[Mt],Yi[3*Mt]=xe[Mt],Yi[3*Mt+1]=xe[Mt]}}if(hs){if(Qi===to.before){Zi[0]=hs[0];for(let Mt=1;Mt<ps;Mt+=1)Zi[2*Mt-1]=hs[Mt],Zi[2*Mt]=hs[Mt]}else if(Qi===to.middle||Qi===to.after){Zi[0]=hs[0],Zi[1]=hs[0];for(let Mt=1;Mt<ps;Mt+=1)Zi[3*Mt-1]=hs[Mt],Zi[3*Mt]=hs[Mt],Zi[3*Mt+1]=hs[Mt]}}return{xValues:We,yValues:Be,lookupValues:xe?Yi:void 0,colors:hs?Zi:void 0}})({xValues:le,yValues:kt,lookupValues:ue,colors:Ht},li.step==="before"?0:li.step==="after"?1:.5):void 0;hi=Gt?Gt.xValues:hi,Fe=Gt?Gt.yValues:Fe,ra=Gt!=null&&Gt.colors?Gt.colors:ra,Ri=Gt!=null&&Gt.lookupValues?Gt.lookupValues:Ri}this.XU=hi===le&&Fe===kt?this.QU:ES(this.RR,[hi,Fe],ra,Ri,void 0,void 0,je,((l=this.XU)===null||l===void 0?void 0:l.bufferX)===this.QU.bufferX?void 0:this.XU,!(!sa||zt||li),Mi,1e3,this.dt._i(),Gt=>Ch(Gt,this.dt._i())),this.JU=wt}}if(!Mi&&(ge||Dr||k)){if(!this.XU||this.XU.bufferSize<v.lc||je){const wt=v.Vc!==void 0?v.Vc:v.lc;let le,kt=0,Ht=0;if(je){const ue=mx(E,T,E[0],T[0],0,0);le=this.RR.EV(2*wt,ue[0],(u=this.XU)===null||u===void 0?void 0:u.bufferLengthSoFar,Float32Array),kt=ue[1],Ht=ue[2]}this.XU={bufferX:this.RR.EV(wt*(this.dt._i()?2:1),Ch(E,this.dt._i()),(d=this.XU)===null||d===void 0?void 0:d.bufferX),bufferY:this.RR.EV(wt*(this.dt._i()?2:1),Ch(T,this.dt._i()),(f=this.XU)===null||f===void 0?void 0:f.bufferY),bufferColors:D?this.RR.EV(wt,D,(g=this.XU)===null||g===void 0?void 0:g.bufferColors,Uint32Array):void 0,bufferLookupValues:F?this.RR.EV(wt,F,(m=this.XU)===null||m===void 0?void 0:m.bufferLookupValues,Float32Array):void 0,bufferSizes:N?this.RR.EV(wt,N,(p=this.XU)===null||p===void 0?void 0:p.bufferSizes,Float32Array):void 0,bufferRotations:V?this.RR.EV(wt,V,(x=this.XU)===null||x===void 0?void 0:x.bufferRotations,Float32Array):void 0,bufferLengthSoFar:le,lengthSoFarX:kt,lengthSoFarY:Ht,bufferSize:wt,valueCount:v.lc}}else{const wt=this.XU.bufferX,le=this.XU.bufferY;ii.forEach(kt=>{var Ht,ue,ye,De;const sa=E.subarray(kt.min,kt.max+1),hi=T.subarray(kt.min,kt.max+1);if(this.RR.zV(wt,kt.min*(this.dt._i()?2:1),Ch(sa,this.dt._i())),this.RR.zV(le,kt.min*(this.dt._i()?2:1),Ch(hi,this.dt._i())),D&&((Ht=this.XU)===null||Ht===void 0?void 0:Ht.bufferColors)){const Fe=D.subarray(kt.min,kt.max+1);this.RR.zV(this.XU.bufferColors,kt.min,Fe,Uint32Array)}if(F&&(!((ue=this.XU)===null||ue===void 0)&&ue.bufferLookupValues)){const Fe=F.subarray(kt.min,kt.max+1);this.RR.zV(this.XU.bufferLookupValues,kt.min,Fe,Float32Array)}if(V&&(!((ye=this.XU)===null||ye===void 0)&&ye.bufferRotations)){const Fe=V.subarray(kt.min,kt.max+1);this.RR.zV(this.XU.bufferRotations,kt.min,Fe,Float32Array)}if(N&&(!((De=this.XU)===null||De===void 0)&&De.bufferSizes)){const Fe=N.subarray(kt.min,kt.max+1);this.RR.zV(this.XU.bufferSizes,kt.min,Fe,Float32Array)}}),this.XU.valueCount=v.lc}this.QU=this.XU}if(this.aE.mV(this.dt),k||Ge||Ee||Ao){if(Q&&B&&U!==!1){const wt=U===-1?"primitive":"triangulated",le=j?["lookup",j.lookUpProperty,j.lut]:X?"attribute":W?["gradient",W]:I?["gradient",I]:"uniform";this.bG=wt==="primitive"?{type:wt,shader:this.RR.oz(q["2D"],q.Color({dataType:le}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0}),H&&q.StippleTexture),lineStyleSolid:z,lineStyleDashed:H,fillStyleSolid:O,fillStyleLinearGradient:W,fillStyleRadialGradient:I,fillStyleIndividual:X,fillStylePaletted:j,mousePickingShader:He&&this.RR.oz(q["2D"],q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0}),H&&q.StippleTexture,q.MousePicking)}:wt==="triangulated"?{type:wt,shader:this.RR.oz(q["2D"],q.Color({dataType:le}),q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0}),this.SG?q.AliasedEdge:void 0,H&&q.StippleTextureInstanced),geometry:ju(this.RR,U),thickness:U,lineStyleSolid:z,lineStyleDashed:H,fillStyleSolid:O,fillStyleLinearGradient:W,fillStyleRadialGradient:I,fillStyleIndividual:X,fillStylePaletted:j,mousePickingShader:He&&this.RR.oz(q["2D"],q.LineInstanced2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0}),H&&q.StippleTextureInstanced,q.MousePicking)}:{type:"none"}}else this.bG={type:"none"};if(this.KU=Tt?{shader:this.RR.oz(q["2D"],dt&&q.Color({dataType:["lookup",dt.lookUpProperty,dt.lut]}),ct&&q.Color({dataType:"attribute"}),J&&q.Color({dataType:"uniform"}),st&&q.Color({dataType:["gradient",st]}),nt&&q.Color({dataType:["gradient",nt]}),q.Area2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0})),geometry:MP(this.RR),fillStyleSolid:J,fillStyleLinearGradient:st,fillStyleRadialGradient:nt,fillStyleIndividual:ct,fillStylePaletted:dt,mousePickingShader:He&&this.RR.oz(q["2D"],q.Area2D({axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0}),q.MousePicking)}:void 0,Ct){const wt=!(!_t&&!pe),le=gr>1||wt,kt=N?"attribute":"uniform",Ht=!le&&q.PointSize("uniform"),ue=q.VertexLocation({offset:le&&!wt?{dataType:kt,sizeUnit:"px",symmetric:!0,rotation:{dataType:V?"attribute-deg":"uniform"},useAlignment:!0}:le&&wt?{dataType:kt,sizeUnit:"scale",rotation:{dataType:V?"attribute-deg":"uniform"},useAlignment:!0}:void 0,axisWorldTranslation:Ut(this.dt),normalSource:void 0,splitPosAttribute:!0});this.HU={shader:this.RR.oz(q["2D"],Ht,ue,At&&q.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!pe}),Vt&&q.Color({dataType:["gradient",Vt],overrideOpacity:!0,maskTexture:!!pe}),Pt&&q.Color({dataType:["gradient",Pt],overrideOpacity:!0,maskTexture:!!pe}),jt&&q.Color({dataType:["lookup",jt.getLookUpProperty(),jt.getPalette()],overrideOpacity:!0,maskTexture:!!pe}),Jt&&q.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!pe}),_t&&q.Color({dataType:["image",_t],overrideOpacity:!0,maskTexture:!!pe})),geometry:QA(bi,this.RR,kt==="uniform"?gr:25),fillStyleSolid:At,fillStyleLinearGradient:Vt,fillStyleRadialGradient:Pt,fillStylePaletted:jt,fillStyleIndividual:Jt,fillStyleImage:_t,mousePickingShader:He&&this.RR.oz(q["2D"],Ht,ue,q.MousePicking),shapeIcon:pe,pointSizeAsScale:wt,instancedRendering:le}}else this.HU=void 0}const Yt=th({min:{x:this.vt(),y:this.dt.y.getInnerStart()},max:{x:this.bt(),y:this.Mt()}},{x:this.vl(),y:this.bl()},this.dt),oe=th({min:{x:this.vt(),y:this.xt()},max:{x:this.bt(),y:this.Mt()}},{x:this.vl(),y:this.bl()},this.dt);if(this.qU=this.RR.NO(W,this,oe),this.tY=this.RR.GO(I,this,oe),this.iY=this.RR.NO(st,this,Yt),this.sY=this.RR.GO(nt,this,Yt),this.eY=this.RR.NO(Vt,this,oe),this.hY=this.RR.GO(Pt,this,oe),(this.YU===void 0||Dr)&&F&&(RS(j)||RS(dt)||RS(jt))){const wt=this.YU?ii:[v.Wc()];let le=this.YU?this.YU.max:Ft,kt=this.YU?this.YU.min:Rt;const Ht=F;wt.forEach(ue=>{for(let ye=ue.min;ye<=ue.max;ye+=1){const De=Ht[ye];kt=De<kt?De:kt,le=De>le?De:le}}),this.YU={min:kt,max:le}}return this.MG=H?this.RR.IO(H.getPattern()):void 0,this.hU=this.RR.RO(this,this.hU,_t,pe,Ge,this.rU),this.fu(w),this.EU=C,this.VU=this.FU,this.IU.i=!1,this.PU.i=!1,this.WU.length=0,this.Qa=!1,this.BU.i=!1,this.od.i=!1,this.Bo.i=!1,this}zL(t){var e,i,r,n,a,o,l,u,d,f,g,m,p,x,v,A,E;const T=this.RR.gl,F=(e=this.XU)===null||e===void 0?void 0:e.bufferX,D=(i=this.XU)===null||i===void 0?void 0:i.bufferY,N=(r=this.XU)===null||r===void 0?void 0:r.bufferColors,V=(n=this.XU)===null||n===void 0?void 0:n.bufferLookupValues,P=(a=this.XU)===null||a===void 0?void 0:a.valueCount,b=(o=this.QU)===null||o===void 0?void 0:o.valueCount,M=(l=this.od.M())===null||l===void 0?void 0:l.Wt,w=M==null?void 0:M.Gc();if(!F||!D||!M)return this;const C=(J,st,nt)=>{if(ed(this.RR,J,this.dt._i(),F,"aLocation","X",1,!1,T.FLOAT,Float32Array.BYTES_PER_ELEMENT),ed(this.RR,J,this.dt._i(),D,"aLocation","Y",1,!1,T.FLOAT,Float32Array.BYTES_PER_ELEMENT),st&&t!==1){if(!N)return!1;ed(this.RR,J,!1,N,"aColor","",4,!0,T.UNSIGNED_BYTE,1)}if(nt&&nt.lookUpProperty==="value"&&t!==1){if(!V)return!1;ed(this.RR,J,!1,V,"aLookupValue","",1,!1,T.FLOAT,Float32Array.BYTES_PER_ELEMENT)}return!0},k=t===1?(u=this.KU)===null||u===void 0?void 0:u.mousePickingShader:(d=this.KU)===null||d===void 0?void 0:d.shader;if(this.KU&&k&&P!==void 0&&P>0&&w){const J=this.KU;this.RR.jR(k).aV(k,(st,nt,ct,dt)=>!!this.RR.zO(ct,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:J.fillStyleSolid,fillStyleLinearGradient:J.fillStyleLinearGradient,fillStyleRadialGradient:J.fillStyleRadialGradient,fillStylePaletted:J.fillStylePaletted,linearGradientInfo:this.iY,radialGradientInfo:this.sY,lookupValueRange:J.fillStylePaletted?Ar(J.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:null})&&!!C(ct,J.fillStyleIndividual,J.fillStylePaletted)&&(J==null||J.geometry.jR(ct).Ky(P-1),!0))}const z=this.bG.type==="none"?void 0:t===1?this.bG.mousePickingShader:this.bG.shader;if(this.bG.type!=="none"&&z&&P!==void 0&&P>0){const J=this.bG;this.RR.jR(z).aV(z,(st,nt,ct,dt)=>{var Tt,At;if(!this.RR.zO(ct,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:J.fillStyleSolid,fillStylePaletted:J.fillStylePaletted,fillStyleLinearGradient:J.fillStyleLinearGradient,fillStyleRadialGradient:J.fillStyleRadialGradient,fillStyleIndividual:J.fillStyleIndividual,linearGradientInfo:this.qU,radialGradientInfo:this.tY,lookupValueRange:J.fillStylePaletted?Ar(J.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:J.type==="primitive"?V:null,colorBuffer:J.type==="primitive"?N:null,coordsX:J.type==="primitive"?F:void 0,coordsY:J.type==="primitive"?D:void 0,coordsHighPrecision:this.dt._i()}))return!1;if(J.lineStyleDashed){if(!this.MG)return!1;this.RR.uV(st("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(dt("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(st("uStippleScale"),J.lineStyleDashed.getPatternScale()).cV(st("uStippleTexture"),this.MG.PO,1)}if(J.type==="primitive"){if(J.lineStyleDashed){if(!(!((Tt=this.XU)===null||Tt===void 0)&&Tt.bufferLengthSoFar))return!1;this.RR.GV(nt("aLengthSoFar"),this.XU.bufferLengthSoFar)}hu.yG(this.rN,P)}else{if(!C(ct,J.fillStyleIndividual,J.fillStylePaletted))return!1;if(J.lineStyleDashed){if(!(!((At=this.XU)===null||At===void 0)&&At.bufferLengthSoFar))return!1;ed(this.RR,ct,!1,this.XU.bufferLengthSoFar,"aLengthSoFar","",2,!1,T.FLOAT,Float32Array.BYTES_PER_ELEMENT)}Un.zL(this.rN,J.geometry,ct,this.SG&&t!==1,t===1,J.thickness,P-1)}return!0})}const H=(f=this.QU)===null||f===void 0?void 0:f.bufferX,B=(g=this.QU)===null||g===void 0?void 0:g.bufferY,U=(m=this.QU)===null||m===void 0?void 0:m.bufferColors,O=(p=this.QU)===null||p===void 0?void 0:p.bufferLookupValues,W=(x=this.QU)===null||x===void 0?void 0:x.bufferSizes,I=(v=this.QU)===null||v===void 0?void 0:v.bufferRotations,X=t===1?(A=this.HU)===null||A===void 0?void 0:A.mousePickingShader:(E=this.HU)===null||E===void 0?void 0:E.shader,j=this.HU;let Q=1;if(w){const J=this.od?Math.abs((this.bt()-this.vt())/M.getSampleCount()):0,st=this.dt.x.getInnerInterval()/J,nt=this.PU.M(),ct=this.dt.x.ri()/nt/1,dt=2*ct;Q=st<=ct?1:Math.max(1-(st-ct)/(dt-ct),0)}if(X&&j&&H&&B&&Q>0&&b!==void 0&&b>0){const J=j,st=J.instancedRendering?1:0;this.RR.jR(X).aV(X,(nt,ct,dt,Tt)=>{if(!this.RR.zO(dt,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:J.fillStyleSolid,fillStyleLinearGradient:J.fillStyleLinearGradient,fillStyleRadialGradient:J.fillStyleRadialGradient,linearGradientInfo:this.eY,radialGradientInfo:this.hY,fillStylePaletted:J.fillStylePaletted,fillStyleIndividual:J.fillStyleIndividual,lookupValueRange:J.fillStylePaletted?Ar(J.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:O,lookupValueAttribDivisor:st,colorBuffer:U,colorAttribDivisor:st,fillStyleImage:J.fillStyleImage,texturedFillGLInfo:this.hU,texCoordAttribDivisor:0,maskTexture:J.shapeIcon&&this.hU,maskTextureCoordsAttribDivisor:0}))return!1;if(this.dt._i()?this.RR.lV(H,st,{location:ct("aPos_highpartX"),size:1},{location:ct("aPos_lowpartX"),size:1}).lV(B,st,{location:ct("aPos_highpartY"),size:1},{location:ct("aPos_lowpartY"),size:1}):this.RR.$V(ct("aPosX"),H,st).$V(ct("aPosY"),B,st),t!==1&&this.RR.dV(nt("uOpacity"),Q),J.instancedRendering)if(I)this.RR.$V(ct("aRotDeg"),I,st).dV(nt("uBaseRotDeg"),J.geometry.DW);else{const At=Ur(this.DU.M()+J.geometry.DW),Vt=Math.sin(At),Pt=Math.cos(At);this.RR.uV(nt("uRot"),[Vt,Pt])}return this.RR.uV(Tt("uOffsetAlignment"),[-this.LU.x/2,-this.LU.y/2]),J.geometry.Ky(dt,W,b,J.pointSizeAsScale&&this.hU?{scale:this.PU.M(),width:J.shapeIcon?J.shapeIcon.oi().x:this.hU.texture.Fz,height:J.shapeIcon?J.shapeIcon.oi().y:this.hU.texture.Iz}:this.PU.M(),J.instancedRendering),!0})}return this}lN(t){return this.gN===t&&{}}dispose(){var t,e,i,r,n,a,o,l,u;return super.dispose(),this.RR.yV((t=this.XU)===null||t===void 0?void 0:t.bufferX),this.RR.yV((e=this.XU)===null||e===void 0?void 0:e.bufferY),this.RR.yV((i=this.XU)===null||i===void 0?void 0:i.bufferColors),this.RR.yV((r=this.XU)===null||r===void 0?void 0:r.bufferLookupValues),this.RR.yV((n=this.QU)===null||n===void 0?void 0:n.bufferX),this.RR.yV((a=this.QU)===null||a===void 0?void 0:a.bufferY),this.RR.yV((o=this.QU)===null||o===void 0?void 0:o.bufferColors),this.RR.yV((l=this.QU)===null||l===void 0?void 0:l.bufferLookupValues),this.bG={type:"none"},this.KU=void 0,this.HU=void 0,this.SW.Qm(),(u=this.od.M())===null||u===void 0||u.Gt(),this.XU=void 0,this.QU=void 0,this.qU=void 0,this.tY=void 0,this.iY=void 0,this.sY=void 0,this.eY=void 0,this.hY=void 0,this.RR.EO(this,this.hU),this}VR(){return this.dispose(),this}rY(t){if(!this.$U){const{xValues:r,yValues:n}=t.readBack();this.$U={min:{x:Rt,y:Rt},max:{x:Ft,y:Ft}};const a=r.length;for(let o=0;o<a;o+=1){const l=r[o],u=n[o];this.$U.min.x=l<this.$U.min.x?l:this.$U.min.x,this.$U.min.y=u<this.$U.min.y?u:this.$U.min.y,this.$U.max.x=l>this.$U.max.x?l:this.$U.max.x,this.$U.max.y=u>this.$U.max.y?u:this.$U.max.y}return this.UU.length=0,this.$U}const e=t.Cc,i=t.kc;if(this.UU.length>0&&e&&i){for(const r of this.UU){for(let n=r.min;n<=r.max;n+=1){const a=e[n],o=i[n];this.$U.min.x=a<this.$U.min.x?a:this.$U.min.x,this.$U.min.y=o<this.$U.min.y?o:this.$U.min.y,this.$U.max.x=a>this.$U.max.x?a:this.$U.max.x,this.$U.max.y=o>this.$U.max.y?o:this.$U.max.y}this.UU.length=0}return this.$U}return this.$U}bt(){var t,e,i,r,n;const a=(t=this.od.M())===null||t===void 0?void 0:t.Wt;if(!a)return 0;const o=a.Gc();return o==="ProgressiveX"?((e=a.wc())===null||e===void 0?void 0:e.x)||0:o==="RegressiveX"?((i=a.Yc())===null||i===void 0?void 0:i.x)||0:o==="ProgressiveY"?((r=this.jU)===null||r===void 0?void 0:r.max)||0:o==="RegressiveY"?((n=this.jU)===null||n===void 0?void 0:n.max)||0:this.rY(a).max.x}vt(){var t,e,i,r,n;const a=(t=this.od.M())===null||t===void 0?void 0:t.Wt;if(!a)return 0;const o=a.Gc();return o==="ProgressiveX"?((e=a.Yc())===null||e===void 0?void 0:e.x)||0:o==="RegressiveX"?((i=a.wc())===null||i===void 0?void 0:i.x)||0:o==="ProgressiveY"?((r=this.jU)===null||r===void 0?void 0:r.min)||0:o==="RegressiveY"?((n=this.jU)===null||n===void 0?void 0:n.min)||0:this.rY(a).min.x}Mt(){var t,e,i,r,n;const a=(t=this.od.M())===null||t===void 0?void 0:t.Wt;if(!a)return 0;const o=a.Gc();return o==="ProgressiveX"?Ne((e=this.jU)===null||e===void 0?void 0:e.max,0):o==="RegressiveX"?Ne((i=this.jU)===null||i===void 0?void 0:i.max,0):o==="ProgressiveY"?Ne((r=a.wc())===null||r===void 0?void 0:r.y,0):o==="RegressiveY"?Ne((n=a.Yc())===null||n===void 0?void 0:n.y,0):this.rY(a).max.y}xt(){var t,e,i,r,n;const a=(t=this.od.M())===null||t===void 0?void 0:t.Wt;if(!a)return 0;const o=a.Gc();return o==="ProgressiveX"?Ne((e=this.jU)===null||e===void 0?void 0:e.min,0):o==="RegressiveX"?Ne((i=this.jU)===null||i===void 0?void 0:i.min,0):o==="ProgressiveY"?Ne((r=a.Yc())===null||r===void 0?void 0:r.y,0):o==="RegressiveY"?Ne((n=a.wc())===null||n===void 0?void 0:n.y,0):this.rY(a).min.y}vl(){var t,e;let i=this.PU.M();this.hU&&(i=Math.max(this.hU.texture.Fz,this.hU.texture.Iz)*this.PU.M());const r=Math.max(Ks(this.lu),!((t=this.od.M())===null||t===void 0)&&t.Wt.vc?25:i),n=(e=this.od.M())===null||e===void 0?void 0:e.Wt.Gc();return!n||n!=="ProgressiveX"&&n!=="RegressiveX"?r:0}bl(){var t,e;let i=this.PU.M();this.hU&&(i=Math.max(this.hU.texture.Fz,this.hU.texture.Iz)*this.PU.M());const r=Math.max(Ks(this.lu),!((t=this.od.M())===null||t===void 0)&&t.Wt.vc?25:i),n=(e=this.od.M())===null||e===void 0?void 0:e.Wt.Gc();return!n||n!=="ProgressiveY"&&n!=="RegressiveY"?r:0}}const ES=(s,t,e,i,r,n,a,o,l,u,d,f,g)=>{if(u!=="ProgressiveX")throw new Error("Unimplemented data pattern");const m=t[0],p=t[1],x=m.length,v=m[0],A=m[x-1],E=p[0],T=p[x-1],F=f?2:1;if(o&&l&&o.firstX&&o.lastX&&v>=o.firstX){const H=ih(o.lastX,0,x-1,B=>m[B]);if(m[H]===o.lastX){const B=o.bufferSize-o.valueCount,U=H+1,O=x-U;if(O===0)return o;if(B>=O){const W=ar(m,U,void 0),I=ar(p,U,void 0);if(s.zV(o.bufferX,o.valueCount*F,g(W)),s.zV(o.bufferY,o.valueCount*F,g(I)),e&&o.bufferColors){const X=e.slice(U);s.zV(o.bufferColors,o.valueCount,X,Uint32Array)}if(i&&o.bufferLookupValues){const X=i.slice(U);s.zV(o.bufferLookupValues,o.valueCount,X,Float32Array)}if(r&&o.bufferSizes){const X=r.slice(U);s.zV(o.bufferSizes,o.valueCount,X,Float32Array)}if(n&&o.bufferRotations){const X=n.slice(U);s.zV(o.bufferRotations,o.valueCount,X,Float32Array)}if(a&&o.bufferLengthSoFar){const[X,j,Q]=mx(W,I,o.lastX||0,o.lastY||0,o.lengthSoFarX,o.lengthSoFarY);s.zV(o.bufferLengthSoFar,2*o.valueCount,X,Float32Array),o.lengthSoFarX=j,o.lengthSoFarY=Q}return o.valueCount+=O,o.lastX=A,o.lastY=T,o}}}const D=x+d,N=s.EV(D*F,g(m),o==null?void 0:o.bufferX),V=s.EV(D*F,g(p),o==null?void 0:o.bufferY),P=e?s.EV(D,e,o==null?void 0:o.bufferColors,Uint32Array):void 0,b=i?s.EV(D,i,o==null?void 0:o.bufferLookupValues,Float32Array):void 0,M=r?s.EV(D,r,o==null?void 0:o.bufferSizes,Float32Array):void 0,w=n?s.EV(D,n,o==null?void 0:o.bufferRotations,Float32Array):void 0;let C,k=0,z=0;if(a){const H=mx(m,p,m[0],p[0],0,0);C=s.EV(2*D,H[0],o==null?void 0:o.bufferLengthSoFar,Float32Array),k=H[1],z=H[2]}return{bufferX:N,bufferY:V,bufferColors:P,bufferLookupValues:b,bufferSizes:M,bufferRotations:w,bufferSize:D,bufferLengthSoFar:C,valueCount:x,firstX:v,lastX:A,firstY:E,lastY:T,lengthSoFarX:k,lengthSoFarY:z}},mx=(s,t,e,i,r,n)=>{const a=s.length,o=new Float32Array(2*a);if(a===0)return[o,0,0];let l=0,u=e,d=i,f=r,g=n;for(let m=0;m<a;m+=1){const p=s[m],x=t[m];f+=Math.abs(u-p),g+=Math.abs(d-x),o[l]=f,o[l+1]=g,l+=2,u=p,d=x}return[o,f,g]},ed=(s,t,e,i,r,n,a,o,l,u)=>{const d=s.gl;if(e){const f=t.attribute(`${r}A_highpart${n}`),g=t.attribute(`${r}A_lowpart${n}`),m=t.attribute(`${r}B_highpart${n}`),p=t.attribute(`${r}B_lowpart${n}`);d.bindBuffer(d.ARRAY_BUFFER,i),d.vertexAttribPointer(f,a,l,o,2*a*u,0*u),d.vertexAttribPointer(g,a,l,o,2*a*u,a*u),s.UV(f,1),s.UV(g,1),d.enableVertexAttribArray(f),d.enableVertexAttribArray(g),d.vertexAttribPointer(m,a,l,o,2*a*u,2*a*u),d.vertexAttribPointer(p,a,l,o,2*a*u,3*a*u),s.UV(m,1),s.UV(p,1),d.enableVertexAttribArray(m),d.enableVertexAttribArray(p),d.bindBuffer(d.ARRAY_BUFFER,null)}else{const f=t.attribute(`${r}A${n}`),g=t.attribute(`${r}B${n}`);d.bindBuffer(d.ARRAY_BUFFER,i),d.vertexAttribPointer(f,a,l,o,a*u,0*u),d.vertexAttribPointer(g,a,l,o,a*u,a*u),s.UV(f,1),s.UV(g,1),d.enableVertexAttribArray(f),d.enableVertexAttribArray(g),d.bindBuffer(d.ARRAY_BUFFER,null)}},Pr={translation:(s,t)=>[1,0,0,0,1,0,s,t,1],rotation(s){const t=Math.cos(s),e=Math.sin(s);return[t,-e,0,e,t,0,0,0,1]},scaling:(s,t)=>[s,0,0,0,t,0,0,0,1],translate:(s,t,e)=>Pr.multiply(s,Pr.translation(t,e)),rotate:(s,t)=>Pr.multiply(s,Pr.rotation(t)),scale:(s,t,e)=>Pr.multiply(s,Pr.scaling(t,e)),multiply(s,t){const e=s[0],i=s[1],r=s[2],n=s[3],a=s[4],o=s[5],l=s[6],u=s[7],d=s[8],f=t[0],g=t[1],m=t[2],p=t[3],x=t[4],v=t[5],A=t[6],E=t[7],T=t[8];return[f*e+g*n+m*l,f*i+g*a+m*u,f*r+g*o+m*d,p*e+x*n+v*l,p*i+x*a+v*u,p*r+x*o+v*d,A*e+E*n+T*l,A*i+E*a+T*u,A*r+E*o+T*d]},projection:(s,t,e)=>[2/s,0,0,0,-2*e/t,0,-1,1*e,1]};class wP extends V6{constructor(t,e,i,r,n,a,o){super(t,e,i,r,n),this.nY=[],this.aE=new kr,this.oY=[Y(0,0),Y(0,0),Y(0,0),Y(0,0)],this.aY=se(Y(0,0),Y(0,0)),this.lY=se(Y(0,0),Y(0,0)),this.uY=Y(0,0),this.cY=Y(0,0),this.FT=Y(0,0),this.dY=Y(0,0),this.fY=0,this.AY=0,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStyleRadialGradient:()=>gi(this.be)&&this.be,fillStyleLinearGradient:()=>yi(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=a,this.mN=o,this.RR=t.oN(),this.nN=e,this.IG=t.Un.jn}Ps(){const t=this.ea(),e=this.sa(),i=this.Bo.M();if(t){const r=this.ta(),n=this.AN.fillStyleSolid(r),a=this.AN.fillStyleRadialGradient(r),o=this.AN.fillStyleLinearGradient(r),l=n||a||o,u=this.RR,d=this.RR.$z(),f=d!==this.AY;if(this.AY=d,this.aE.mV(this.dt),this.ga.i||f){this.gY&&this.gY.ZR(this),this.font.S(kA(this.ga.M(),d));const E=this.font.M();this.gY=this.RR.Vh(E.properties.family),this.gY.jR(this)}const g=this.font.i,m=g||this.la.i;if(m&&this.gY){const E=this.font.M();[this.mY,this.lY]=this.gY.JR(this.la.M(),E,this.rN.qi.isDark),this.nY.forEach(T=>{T.texCoordBuff&&u.yV(T.texCoordBuff),T.vertexBuff&&u.yV(T.vertexBuff)}),this.nY=this.mY.map(T=>({texCoordBuff:u.nV(T.texCoords,!1),texture:T.texture,info:T})),this.ga.i=!1,this.font.i=!1,this.la.i=!1}const p=this.dt.Ni()||e,x=this.ua.i||this.da.i||this.ca.i||this.fa.i||this.ya.i||this.Xt.i||m||p,v=this.ya.M(),A=Wt(Y(this.da.M()+1,this.ca.M()+1),.5);if(x&&this.mY&&(this.uY=Y(-(v.left*d+this.lY.max.x-this.lY.min.x+v.right*d)*A.x-this.lY.min.x+v.right*d,-(v.bottom*d+this.lY.max.y-this.lY.min.y+v.top*d)*A.y-this.lY.min.y+v.top*d)),(x||p||this.Aa.i||this.ta())&&this.be!==Nt){if(this.mY){const E=Bt(this.ua.M(),this.fa.M()),T=mt(E,this.dt,this.us.dt),F=Wt(T,d);this.dY=F;const D=Ur(this.Aa.M());this.fY=D,m&&this.nY.forEach(C=>{const k=C.info;k&&(C.vertexBuffLen=k.vertices.length/2,C.vertexBuff=u.nV(k.vertices,!0,C.vertexBuff))});const N=this.Xt.M(),V=[Bt(va(Y((this.lY.min.x+(-N.left-v.left)*d+this.uY.x)/d,(this.lY.max.y+(N.top+v.top)*d+this.uY.y)/d),this.ma,D),T),Bt(va(Y((this.lY.max.x+(N.right+v.right)*d+this.uY.x)/d,(this.lY.max.y+(N.top+v.top)*d+this.uY.y)/d),this.ma,D),T),Bt(va(Y((this.lY.max.x+(N.right+v.right)*d+this.uY.x)/d,(this.lY.min.y+(-N.bottom-v.bottom)*d+this.uY.y)/d),this.ma,D),T),Bt(va(Y((this.lY.min.x+(-N.left-v.left)*d+this.uY.x)/d,(this.lY.min.y+(-N.bottom-v.bottom)*d+this.uY.y)/d),this.ma,D),T)];this.oY=[mt(V[0],this.us.dt,this.dt),mt(V[1],this.us.dt,this.dt),mt(V[2],this.us.dt,this.dt),mt(V[3],this.us.dt,this.dt)];const P=ei(V);this.cY=Y(-(P.max.x-P.min.x)*d*A.x-P.min.x*d+this.dY.x,-(P.max.y-P.min.y)*d*A.y-P.min.y*d+this.dY.y),this.Fg=be(P.max,P.min);const b=ei(this.oY),M=this.dt.mi(b.min,this.cY),w=this.dt.mi(b.max,this.cY);this.aY=ei([M,w])}a?this.MN=Mr(this.aY,this.dt,a.getPosition(),a.getExtent(),a.getShape(),this.RR.$z()):o?this._N=Rr(this.aY,this.dt,o.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0)}(this.ta()||g)&&(this.cE=l?this.RR.oz(q["2D"],q.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.IG}),q.Color({dataType:a?["gradient",a]:o?["gradient",o]:"uniform",maskTextureText:!0})):void 0),this.yY=i&&l?this.yY||this.RR.oz(q["2D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.IG})):void 0,this.ua.i=!1,this.da.i=!1,this.ca.i=!1,this.fa.i=!1,this.Aa.i=!1,this.ha(this.be)}return this.pa=t,this}zL(t){if(this.ea()){const e=t===1?this.yY:this.cE;if(!e||this.nY.length===0)return this;const i=this.AN.fillStyleSolid(!1),r=this.AN.fillStyleRadialGradient(!1),n=this.AN.fillStyleLinearGradient(!1),a=this.us.OE(),o=a.x,l=a.y;let u=Pr.projection(o,l,-1);const d=Pr.translation(this.uY.x,this.uY.y),f=Pr.translation(this.cY.x,this.cY.y);u=Pr.translate(u,this.dY.x,this.dY.y),u=Pr.multiply(u,f),u=Pr.rotate(u,this.fY),u=Pr.multiply(u,d),t===1&&(u=Pr.scale(u,this.lY.max.x,this.lY.max.y)),this.RR.jR(e).aV(e,(g,m,p,x)=>{if(this.RR.PV(g("uMatrix"),u).dV(g("uIsHighlighted"),t===1||t===2?0:this.zo).AR(g("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(g("uRenderEffectMask"),t===2?1:0),this.IG&&this.RR.uV(x("uViewportSizePx"),[a.x*this.RR.$z(),a.y*this.RR.$z()]),t===1)this.RR.AR(g("uColor"),this.mN);else if(i)this.RR.AR(g("uColor"),i.getColor());else if(r&&this.MN){this.RR.uV(g("uCenter"),this.MN.center).uV(g("uDistance"),this.MN.distance).FV(g("uBounds"),this.MN.bounds).dV(g("uAspect"),this.MN.aspectRatio);const v=r.getColorStops();for(let A=0;A<v.length;A+=1)this.RR.AR(g(`color_${A}`),v[A].color).dV(g(`stop_${A}`),v[A].offset)}else if(n&&this._N){this.RR.uV(g("uStartPoint"),this._N.startPoint).uV(g("uEndPoint"),this._N.endPoint).FV(g("uBounds"),this._N.bounds);const v=n.getColorStops();for(let A=0;A<v.length;A+=1)this.RR.AR(g(`color_${A}`),v[A].color).dV(g(`stop_${A}`),v[A].offset)}return t===1&&this.RR.GV(m("aPos"),this.RR.uO).Ky(this.RR.gl.TRIANGLES,6),t!==1&&this.nY.forEach(v=>{this.RR.GV(m("aPos"),v.vertexBuff).GV(m("aMaskTextureCoord"),v.texCoordBuff).cV(g("uMaskTexture"),v.texture,0).Ky(this.RR.gl.TRIANGLES,v.vertexBuffLen)}),!0})}return this}lN(t){return this.gN===t&&{}}We(){return this.ea()?this.oY:[]}jc(){return this.ea()&&this.Fg?this.Fg:Y(0,0)}oi(){if(this.ea()&&this.aY){const t=this.aY;return Y(t.max.x-t.min.x,t.max.y-t.min.y)}return Y(0,0)}VR(){return this.nY.forEach(t=>{t.texCoordBuff&&this.RR.yV(t.texCoordBuff),t.vertexBuff&&this.RR.yV(t.vertexBuff)}),this.nY=[],this.gY&&this.gY.ZR(this),this}bt(){return this.aY.max.x}vt(){return this.aY.min.x}Mt(){return this.aY.max.y}xt(){return this.aY.min.y}vl(){return 0}bl(){return 0}}class B5{constructor(t,e,i){this.pY=new Set,this.SY=r=>(this.pY.add(r),r),this.vY=r=>(this.pY.delete(r),r.VR(),this),this.us=t,this.Zo=e,this.bY=i}EL(t){this.pY.delete(t)&&this.pY.add(t)}W(){for(const t of this.pY)t.VR().dispose();this.us.xn(this.Zo)}Ss(){return this.us.Ss(),this}bn(){return this.Zo}}class CP extends B5{constructor(){super(...arguments),this.xY=qt(void 0),this.Qo=!1}qv(t){return this.xY.S(t),this}km(){return this.xY.M()}}class RE extends CP{constructor(t,e,i){super(t,e,i),this.rN=t,this.gl=t.oN(),this.MY=this.pY}rV(t){const e=t instanceof hy&&t;if(!e)return Ie;const i=e.vt(),r=e.bt(),n=e.xt(),a=e.Mt();if(i===Rt||r===Ft||n===Rt||a===Ft)return Ie;const o=e.vl(),l=e.bl(),u=th({min:{x:i,y:n},max:{x:r,y:a}},{x:o,y:l},e.dt),d={min:mt(u.min,e.dt,t.us.dt),max:mt(u.max,e.dt,t.us.dt)},f=this.xY.M();let g;if(f){if(g={min:{x:Math.max(d.min.x,f.x),y:Math.max(d.min.y,f.y)},max:{x:Math.min(d.max.x,f.x+f.width),y:Math.min(d.max.y,f.y+f.height)}},g.max.x<g.min.x||g.max.y<g.min.y)return Ie}else g=d;return g}_Y(t){const e=Array.from(this.MY.values());for(let i=0;i<e.length;i+=1){const r=e[i],n=r.lN(t);if(n)return{entity:r,index:i,collectionMember:n.collectionMember}}}Ee(t){const e=this.rN.wY();return this.SY(new nP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}Lg(t){return this.SY(new aP(this.rN,this,t,this.vY,[],()=>{const e=this.rN.wY();return{id:e,color:this.rN.CY(e)}}))}rp(t,e,i){const r=this.rN.wY();return this.SY(new uP(this.rN,this,t,this.vY,i,r,this.rN.CY(r),e))}dd(t){const e=this.rN.wY();return this.SY(new TP(this.rN,this,t,this.vY,e,this.rN.CY(e)))}Pr(t){const e=this.rN.wY();return this.SY(new wP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}bS(t){const e=this.rN.wY();return this.SY(new cP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}ic(t,e=jr.Simple){const i=this.rN.wY();if(e===jr.Simple)return this.SY(new gP(this.rN,this,t,this.vY,[],i,this.rN.CY(i)));throw new Error("GlEngine.addPolygon | No such polygon type!")}Ob(t){return this.SY(new dP(this.rN,this,t,this.vY,[],()=>{const e=this.rN.wY();return{id:e,color:this.rN.CY(e)}}))}ke(t){const e=this.rN.wY();return this.SY(new fP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}lw(t){const e=this.rN.wY();return this.SY(new sP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}Jc(t){const e=this.rN.wY();return this.SY(new eP(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}V_(t,e,i){if(i.heatmapDataType==="intensity"){const r=this.rN.wY();return this.SY(new xP(this.rN,this,t,this.vY,e,r,this.rN.CY(r),i))}throw new zi("Unimplemented Heatmap Grid Static type")}P_(t,e,i){const r=this.rN.wY();return this.SY(new Ty(this.rN,this,t,this.vY,e,i,r,this.rN.CY(r)))}Ex(t,e,i){const r=this.rN.wY();return this.SY(new vP(this.rN,this,t,this.vY,e,i,r,this.rN.CY(r)))}kY(t){return this.SY(new tP(this.rN,this,this.vY,[],t))}Ps(){if(this.Qo){this.Qo=!1;const t=Array.from(this.pY).sort((e,i)=>e.Ko()-i.Ko());this.pY.clear();for(const e of t)this.pY.add(e)}for(const t of this.pY)t.Ps();return this}zL(t,e){const i=this.xY.M();if(i&&this.gl.hV(i.x*this.gl.$z()*e,i.y*this.gl.$z()*e,i.width*this.gl.$z()*e,i.height*this.gl.$z()*e),t!==1)for(const r of this.pY)r.getVisible()&&r.zL(t);else for(const r of this.pY)r.getMouseInteractions()&&r.getVisible()&&r.zL(t);return this.gl.qz(!1),this}}class P5 extends $u{constructor(t){super(t)}}class kP extends P5{constructor(t){super(t),this.TY="attribute";const{vertices:e,drawSize:i,drawMode:r}=DP(t.gl);this.wR=t.nV(e),this.cG=i,this.dG=r}Ky(t,e,i,r){return this.RR.lV(this.wR,0,{location:t.attribute("aInstanceGeo"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).QV(this.dG,0,this.cG,e),this}kz(){this.RR.yV(this.wR)}}const DP=s=>{const t=new Float32Array(324);let e=0;return t[e+0]=-1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=-1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=-1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=-1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=1,t[e+3]=-1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=-1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=-1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=-1,t[e+3]=1,t[e+4]=0,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=1,t[e+3]=0,t[e+4]=0,t[e+5]=1,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=1,t[e+2]=-1,t[e+3]=0,t[e+4]=0,t[e+5]=-1,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=1,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=0,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=-1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=0,t[e+7]=1,t[e+8]=0,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=-1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=1,e+=9,t[e+0]=1,t[e+1]=-1,t[e+2]=1,t[e+3]=0,t[e+4]=-1,t[e+5]=0,t[e+6]=1,t[e+7]=0,t[e+8]=0,e+=9,{vertices:t,drawSize:e/9,drawMode:s.TRIANGLES}};class FP extends P5{constructor(t,e){super(t),this.TY="attribute",this.FY=e;const{vertices:i,indices:r}=_P();this.wR=t.nV(i),this.uG=t.OV(r),this.cG=r.length,this.dG=t.gl.TRIANGLES}Ky(t,e,i,r){return this.RR.lV(this.wR,0,{location:t.attribute("aEdge"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).XV(this.uG).dV(t.uniform("uEdgeRoundness"),this.FY/2).JV(this.dG,this.cG,0,e),this}kz(){this.RR.yV(this.wR),this.RR.yV(this.uG)}IY(t){return this.FY=t,this}PY(){return this.FY}}const _P=()=>{const s=[{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}],t=[];let e=0;const i=[];let r=0;for(const f of s){const{normal:g,perpendA:m,perpendB:p}=f,x=gt.multiply(m,-1),v=gt.multiply(p,-1),A=e;t[e]={thicknessDirection:gt.addVec(g,m,p),edge:gt.addVec(x,v),normal:g},e+=1;const E=e;t[e]={thicknessDirection:gt.addVec(g,x,p),edge:gt.addVec(m,v),normal:g},e+=1;const T=e;t[e]={thicknessDirection:gt.addVec(g,x,v),edge:gt.addVec(m,p),normal:g},e+=1;const F=e;t[e]={thicknessDirection:gt.addVec(g,m,v),edge:gt.addVec(x,p),normal:g},e+=1,i[r+0]=T,i[r+1]=A,i[r+2]=F,i[r+3]=T,i[r+4]=E,i[r+5]=A,r+=6;const D=[{A:m,B:p},{A:x,B:p},{A:x,B:v},{A:m,B:v}];for(const N of D){N.thicknessDirection=gt.addVec(g,N.A,N.B),N.stripVerticesA=[],N.stripVerticesB=[];const V=[{direction:N.A,other:N.B,vertices:N.stripVerticesA},{direction:N.B,other:N.A,vertices:N.stripVerticesB}];for(const P of V)for(let b=0;b<8;b+=1){const M=.5*b/7,w=gt.normalize(gt.lerp(g,P.direction,M)),C=Math.PI/2-gt.angle(w,g),k=gt.addVec(gt.multiply(gt.multiply(P.direction,-1),1-Math.cos(C)),gt.multiply(gt.multiply(g,-1),1-Math.sin(C)),gt.multiply(P.other,-1)),z=e;t[e]={thicknessDirection:N.thicknessDirection,normal:w,edge:k};const H=t[e];e+=1,P.vertices.push({index:z,vertex:H})}}for(let N=0;N<D.length;N+=1){const V=D[N],P=D[N<D.length-1?N+1:0],b=N%2==0?V.stripVerticesB:V.stripVerticesA,M=N%2==0?P.stripVerticesB:P.stripVerticesA;for(let w=1;w<b.length;w+=1){const C=b[w-1],k=M[w-1],z=b[w],H=M[w];i[r+0]=C.index,i[r+1]=k.index,i[r+2]=H.index,i[r+3]=z.index,i[r+4]=C.index,i[r+5]=H.index,r+=6}}}const n=[{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}],a=Math.PI/15,o=2*Math.PI/15;let l=e;for(const f of n){let g=0;t[e]={thicknessDirection:f,normal:{x:0,y:f.y,z:0},edge:{x:-f.x,y:0,z:-f.z}},e+=1,g+=1;for(let v=1;v<8.5;v+=1){const A=v===15?Math.PI:v*a,E=1*Math.cos(A)*f.y,T=Math.sin(A);for(let F=0;F<Math.ceil(3.75)+1;F+=1){const D=F===15?0:F*o,N=T*Math.cos(D)*1*f.x,V=T*Math.sin(D)*1*f.z,P={x:N,y:E,z:V},b=gt.normalize({x:N,y:E,z:V});t[e]={thicknessDirection:f,normal:b,edge:{x:P.x-f.x,y:P.y-f.y,z:P.z-f.z}},e+=1,g+=1}}const m=[];for(let v=1;v<=Math.ceil(3.75);v+=1)m.push(l),v===15?m.push(l+1):m.push(l+v+1),m.push(l+v);const p=l+1,x=Math.ceil(3.75)+1;for(let v=0;v<6.5;v+=1)for(let A=0;A<Math.ceil(3.75);A+=1){let E=0;const T=p+(v+1)*x+A;let F=0;A===14?(E=p+v*x,F=p+(v+1)*x):(E=p+v*x+A+1,F=p+(v+1)*x+A+1),m.push(p+v*x+A),m.push(E),m.push(T),m.push(T),m.push(E),m.push(F)}i.push.apply(i,f.flipVertexOrder?m.reverse():m),l+=g}const u=new Float32Array(9*t.length);let d=0;for(const f of t)u[d+0]=f.edge.x,u[d+1]=f.edge.y,u[d+2]=f.edge.z,u[d+3]=f.normal.x,u[d+4]=f.normal.y,u[d+5]=f.normal.z,u[d+6]=f.thicknessDirection.x,u[d+7]=f.thicknessDirection.y,u[d+8]=f.thicknessDirection.z,d+=9;return{vertices:u,indices:new Uint16Array(i)}},KA=(s,t)=>{let e=s._V.Cz.get(t);return e||(e=t!==void 0&&t>0?new FP(s,ee(t,0,1)):new kP(s),s._V.Cz.set(t,e),e)};class VP extends yx{rS(t){return this.Uz=this.qp.M(),this.qp.S(t),this}Cv(t){return this.DY=t,this}kv(){return this.DY}}class al extends VP{constructor(t,e,i,r,n){super(t,e,i),this.BY=t,this.gN=r,this.mN=n,this.rN=t.rN,this.RR=this.rN.oN()}lN(t){return t===this.gN&&{}}}class zP extends al{constructor(t,e,i,r,n){super(t,e,i,r,n),this.DY="cull-back",this.Ya=Ir,this.LY={},this.RY=[],this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStyleIndividual:()=>Gs(this.be)&&this.be,fillStylePaletted:()=>Bi(this.be)&&this.be}),this.be=Ns.fillStyle,this.qp.S(Gu)}Ps(t){const e=this.RY,i=this.be,r=i!==Nt,n=this.EY,a=this.ta()||this.zY!==n,o=this.Wz(),l=this.Bo.M(),u=this.Bo.i;if(r){for(const A of e)A.id=A.id!==void 0?String(A.id):void 0,A.xSize=A.xSize!==void 0&&A.xSize<0?-A.xSize:A.xSize,A.ySize=A.ySize!==void 0&&A.ySize<0?-A.ySize:A.ySize,A.zSize=A.zSize!==void 0&&A.zSize<0?-A.zSize:A.zSize;const d=11,f=this.VY||0;let g=f;for(const A of e){const E=A.id;E!==void 0&&this.LY[E]!==void 0||(g+=1)}let m,p=!1,x=!1;if(p=g!==f,x=p,m=!x&&(e.length<100?"chunks":"all"),p){const A=g*d,E=new Float32Array(A);this.IW&&E.set(this.IW),this.IW=E,this.OY=A,this.NY=f*d}const v=Gs(i)?i.getFallbackColor():void 0;for(const A of e){const E=A.id,T=E!==void 0&&this.LY[E],F=[A.xCenter,A.yCenter,A.zCenter,A.xSize,A.ySize,A.zSize,A.color?A.color.r:v?v.r:void 0,A.color?A.color.g:v?v.g:void 0,A.color?A.color.b:v?v.b:void 0,A.color?A.color.a:v?v.a:void 0,A.value];if(T){for(let D=0;D<d;D+=1)F[D]=F[D]!==void 0?F[D]:T.buffer[D];T.buffer.set(F)}else{const D=this.NY,N=new Float32Array(this.IW.buffer,D*Float32Array.BYTES_PER_ELEMENT,d);N.set(F),E!==void 0&&(this.LY[E]={location:D,buffer:N}),this.NY+=d}}if(x&&(this.lG=this.RR.nV(this.IW,!0)),m==="all")this.RR.zV(this.lG,0,this.IW);else if(m==="chunks")for(const A of e){const E=A.id;if(E!==void 0){const T=this.LY[E];this.RR.zV(this.lG,T.location,T.buffer)}}if(a||o||u){const A=this.AN.fillStyleSolid(a),E=this.AN.fillStyleIndividual(a),T=this.AN.fillStylePaletted(a);A||E||T?(this.GY=KA(this.RR,this.WY()),this.cE=this.RR.oz(q["3D"],q.ColorShaded3D({dataType:E?"attribute":T?["lookup",T.getLookUpProperty(),T.lut]:"uniform",shadingStyle:this.qp.M().type}),q.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:Ut(this.dt),normalSource:this.GY.TY}),this.EY!==void 0&&q.RoundedEdges3D),this.yY=l?this.RR.oz(q["3D"],q.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.MousePicking,this.EY!==void 0&&q.RoundedEdges3D):void 0):(this.GY=void 0,this.cE=void 0,this.yY=void 0)}if(e.length>0){const A=se({x:Rt,y:Rt,z:Rt},{x:Ft,y:Ft,z:Ft});for(let E=0;E<this.NY;E+=d){const T=this.IW[E+0],F=this.IW[E+3]/2,D=T-F,N=T+F,V=this.IW[E+1],P=this.IW[E+4]/2,b=V-P,M=V+P,w=this.IW[E+2],C=this.IW[E+5]/2,k=w-C,z=w+C;A.min.x=A.min.x<D?A.min.x:D,A.min.y=A.min.y<b?A.min.y:b,A.min.z=A.min.z<k?A.min.z:k,A.max.x=A.max.x>N?A.max.x:N,A.max.y=A.max.y>M?A.max.y:M,A.max.z=A.max.z>z?A.max.z:z}this.Ya=A}this.VY=g,this.RY.length=0}return this.ha(i),this.zY=n,this.qp.i=!1,this.Bo.i=!1,this}zL(t){const e=t===1?this.yY:this.cE,i=this.GY,r=this.lG,n=this.be,a=this.VY,o=this.qp.M();return e&&r&&a!==void 0&&this.RR.aV(e,(l,u,d)=>{let f=!1;const g=u("aPos"),m=u("aOffsetAxis");this.RR.jR(e).IV(l("uScale"),this.BY.aE.fV()).IV(l("uDisp"),this.BY.aE.AV()).DV(l("uViewProjectionMatrix"),this.UY).dV(l("uIsHighlighted"),t===1||t===2?0:this.zo).AR(l("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(l("uRenderEffectMask"),t===2?1:0);const p={location:g,size:3},x={location:m,size:3},v={location:void 0,size:4};if(t!==1&&o.type==="phong"&&this.RR.IV(l("uCameraLoc"),this.YY).IV(l("uLightLoc"),this.HY).dV(l("uAmbientReflection"),o.ambientReflection).dV(l("uSpecularReflection"),o.specularReflection).dV(l("uDiffuseReflection"),o.diffuseReflection).dV(l("uShininess"),o.shininess).AR(l("uLightColor"),o.specularColor).AR(l("uAmbientColor"),o.ambientColor),t===1)this.RR.AR(l("uColor"),this.mN);else if(fe(n))this.RR.AR(l("uColorDiffuse"),n.getColor());else if(Gs(n)){const A=u("aColor");v.location=A}else if(Bi(n)){const A=Ar(n,this,void 0);if(!A&&n.lut.percentageValues)return!1;this.RR.LO(d,n.lut,A)}return r&&(this.RR.lV(r,1,p,x,v,{location:void 0,size:1}),i.Ky(d,a,o.type==="phong"&&t!==1,!1),f=!0),f}),this}dispose(){return super.dispose(),this.lG&&(this.RR.yV(this.lG),this.lG=void 0),this.cE=void 0,this}VR(){return this.dispose(),this}gS(t){this.RY=Es(this.RY,t,{canReturnB:!0})}Ce(t){return this.be=vu(this.be,t),this}Eh(){return this.be}fS(t){return this.EY=t!==void 0&&t>0?ee(t,0,1):void 0,this}WY(){return this.EY}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}aS(){return this.Ya.max.z}lS(){return this.Ya.min.z}vl(){return 0}bl(){return 0}uS(){return 0}ta(){return bu(this.ia,this.be)}ha(t){this.ia=t}}class NP extends $u{constructor(t,e){super(t),this.TY="custom",this.oG=e;const{vertices:i,drawSize:r}=this.aG();this.lG=t.nV(i),this.cG=r}jR(t){return this.RR.lV(this.lG,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this}Ky(t){return this.RR.QV(this.RR.gl.TRIANGLE_STRIP,0,this.cG,t),this}aG(){const t=this.oG,e=new Float32Array(2*(t+1)*3);let i=0;for(let r=0;r<=t;r+=1){const n=2*Math.PI*r/t,a=Math.cos(n),o=Math.sin(n);for(const l of[0,1])e[i+0]=l,e[i+1]=a,e[i+2]=o,i+=3}return{vertices:e,drawSize:i/3}}kz(){this.RR.yV(this.lG)}}const L5=(s,t=16)=>{let e=s._V._z.get(t);return e||(e=new NP(s,t),s._V._z.set(t,e),e)};class BP extends al{constructor(t,e,i,r,n){super(t,e,i,r,n),this.DY="cull-back",this.$Y=Ir,this.jY=[],this.ZY=!1,this.lu=Ns.lineStyle,this.qp.S(Ou)}Ps(t){const e=this.ZY,i=this.lu,r=this.cu!==i,n=this.Wz(),a=e;if(e){const o=vA(this.jY);this.QY=this.RR.nV(o,!1,this.QY)}if(a&&(this.$Y=RA(this.jY)),r||n){const l=zs(i)&&i.getFillStyle(),u=i.getThickness()===1?"primitive":"instanced";this.bG=void 0,fe(l)&&(u==="primitive"?this.bG={type:u,shader:this.RR.oz(q["3D"],q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}),q.Color({dataType:"uniform"})),fillStyle:l}:u==="instanced"&&(this.bG={type:u,shader:this.RR.oz(q["3D"],q.ColorShaded3D({dataType:"uniform",shadingStyle:this.qp.M().type}),q.LineInstanced3D({axisWorldTranslation:Ut(this.dt)})),geometry:L5(this.RR,8),fillStyle:l}))}return this.ZY=!1,this.cu=i,this.qp.i=!1,this}zL(t){if(t===1)return this;const e=this.RR.gl,i=this.bG,r=this.QY,n=this.lu,a=this.qp.M();if(i&&r&&zs(n))switch(i.type){case"instanced":{const o=.5*this.ks.Op(n.thickness),l=i.fillStyle.getColor(),u=i.shader,d=i.geometry;this.RR.aV(u,(f,g,m)=>{this.RR.jR(u).IV(f("uScale"),this.BY.aE.fV()).IV(f("uDisp"),this.BY.aE.AV()).DV(f("uViewProjectionMatrix"),this.UY).AR(f("uColorDiffuse"),l).dV(f("uOffsetWU"),o).dV(f("uIsHighlighted"),this.zo).AR(f("uHighlightColorOffset"),t===2?ti:this.Go).dV(f("uRenderEffectMask"),t===2?1:0),a.type==="phong"&&this.RR.IV(f("uCameraLoc"),this.YY).IV(f("uLightLoc"),this.HY).dV(f("uAmbientReflection"),a.ambientReflection).dV(f("uSpecularReflection"),a.specularReflection).dV(f("uDiffuseReflection"),a.diffuseReflection).dV(f("uShininess"),a.shininess).AR(f("uLightColor"),a.specularColor).AR(f("uAmbientColor"),a.ambientColor),e.bindBuffer(e.ARRAY_BUFFER,r);const p=g("aLocationA"),x=g("aLocationB");return e.vertexAttribPointer(p,3,e.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(p,1),e.enableVertexAttribArray(p),e.vertexAttribPointer(x,3,e.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(x,1),e.enableVertexAttribArray(x),d.jR(m).Ky(this.jY.length/2),!0});break}case"primitive":{const o=zs(n)?n.getFillStyle():void 0,l=o&&fe(o)?o.getColor():void 0;if(l){const u=i.shader;this.RR.aV(u,(d,f)=>(this.RR.jR(u).IV(d("uScale"),this.BY.aE.fV()).IV(d("uDisp"),this.BY.aE.AV()).DV(d("uViewProjectionMatrix"),this.UY).AR(d("uColor"),l).dV(d("uIsHighlighted"),this.zo).AR(d("uHighlightColorOffset"),t===2?ti:this.Go).dV(d("uRenderEffectMask"),t===2?1:0).lV(r,void 0,{location:f("aPos"),size:3}).Ky(e.LINES,this.jY.length),!0))}break}}return this}nl(t){for(let e=0;e<t.length-1;e+=1){const i=t[e],r=t[e+1];this.jY.push(i),this.jY.push(r)}return this.ZY=!0,{cs(){return this},ys(){return this}}}Nt(){return this.jY.length=0,this.ZY=!0,this}Ap(){return[]}bd(t){}Re(t){return this.lu=typeof t=="function"?t(this.lu):t,this}uu(){return this.lu}VR(){return this.QY&&(this.RR.yV(this.QY),this.QY=void 0),this}bt(){return this.$Y.max.x}vt(){return this.$Y.min.x}Mt(){return this.$Y.max.y}xt(){return this.$Y.min.y}aS(){return this.$Y.max.z}lS(){return this.$Y.min.z}vl(){const t=this.lu;return t===bt?0:t.getThickness()}bl(){const t=this.lu;return t===bt?0:t.getThickness()}uS(){const t=this.lu;return t===bt?0:t.getThickness()}}class PP extends $u{constructor(t,e,i){super(t),this.TY="gpu-calculate",this.JY=e,this.KY=i;const{vertices:r,drawSize:n}=this.aG();this.lG=t.nV(r),this.cG=n}Ky(t,e,i,r){return this.RR.lV(this.lG,0,{location:t.attribute("aInstanceGeo"),size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).QV(this.RR.gl.TRIANGLES,0,this.cG,e),this}aG(){const t=this.KY,e=this.JY,i=new Float32Array(6*(6*e+6*(t-2)*e));let r=0;const n=2*Math.PI/e,a=Math.PI/t,o=(l,u,d,f,g)=>{const m=u*n,p=Math.PI/2-l*a,x=Math.cos(p),v=x*Math.cos(m),A=x*Math.sin(m),E=Math.sin(p);i[r]=v,i[r+1]=E,i[r+2]=A,i[r+3]=d,i[r+4]=f,i[r+5]=g,r+=6};for(let l=0;l<t;l+=1)for(let u=0;u<e;u+=1)l>0&&(o(l,u,1,0,0),o(l,u+1,1,1,0),o(l+1,u,0,0,1)),l<t-1&&(o(l,u+1,1,1,0),o(l+1,u+1,0,1,0),o(l+1,u,0,0,1));return r!==i.length&&Qn(0,()=>{this.RR.cA.Hn&&r>i.length&&ht.console.warn(`LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.
A point series 3D component might have missing points.

This warning can be omitted with LightningChartOptions.warnings`)}),{vertices:i,drawSize:r/6}}kz(){this.RR.yV(this.lG)}}const I5=(s,t)=>{const e=Math.round(t);e<3&&Qn(0,ae);const i=e;let r=s._V.wz.get(Array.from(s._V.wz.keys()).find(n=>n.sectors===e&&n.stacks===i));return r||(r=new PP(s,e,i),s._V.wz.set({sectors:e,stacks:i},r),r)};class LP extends al{constructor(t,e,i,r,n){super(t,e,i,r,n),this.DY="cull-back",this.QM=[],this.bG={},this.vW=new ZA(this.QM,a=>a.vertexBuffer&&this.RR.yV(a.vertexBuffer),!0),this.yu=[],this.Ha=0,this.$a=[],this.Xa=0,this.Ya=Ir,this.ja=Ir,this.AN=Hs({lineStyleSolid:()=>{const a=this.lu;return zs(a)&&a},lineFillSolid:()=>{const a=this.lu.getFillStyle();return fe(a)&&a},lineFillPaletted:()=>{const a=this.lu.getFillStyle();return Bi(a)&&a},jointStyleTriangulatedPoints:()=>so(this.mS)&&this.mS,jointSizeTriangulated:()=>{const a=this.mS;return so(a)&&a.getSize()},jointFillSolid:()=>{const a=this.mS.getFillStyle();return fe(a)&&a},jointFillPaletted:()=>{const a=this.mS.getFillStyle();return Bi(a)&&a},wireframeLineStyleSolid:()=>{const a=so(this.mS)&&this.mS.getWireframeStyle();return zs(a)&&a},wireframeFillSolid:()=>{const a=so(this.mS)&&this.mS.getWireframeStyle(),o=a&&a.getFillStyle();return fe(o)&&o}}),this.Qa=!1,this.lu=Ns.lineStyle,this.mS=Ns.pointStyle3D,this.qp.S(Gu),this.wW={attributesPerVertex:3,prepareRenderData:(a,o)=>vA(a)}}Ps(t){const e=this.Qa,i=this.$a,r=this.Xa,n=r>0,a=this.lu,o=a!==this.cu,l=this.mS,u=l!==this.qY,d=this.Wz(),f=this.Bo.i,g=this.Bo.M();this.ja&&(this.Ya=Mg(this.Ya,this.ja),this.ja=void 0),n&&(this.yu=Es(this.yu,i,{canReturnB:!0}),this.Ha+=r);let m=i,p=r;if(e&&(this.QM.forEach(x=>{x.existingCoordinatesCount=0,x.existingDataPointsCount=0,x.boundaries=Ir}),this.vW.cW(),m=this.yu,p=this.Ha),p>0){const v=Math.floor(this.rN.tH/(this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),A=this.Uo("ApplicationType",T=>T.type==="UserSeries")?p:1e3,E=ee(A,1e5,v);this.vW.oW(m,E,(T,F,D,N)=>({existingDataPointsCount:D-N,existingCoordinatesCount:D,allocatedCoordinatesCount:T,jointPointsCount:N,lastDataPoint:F[D-1],boundaries:Ir,vertexBuffer:this.RR.EV(T*this.wW.attributesPerVertex,this.wW.prepareRenderData(F,D))}),(T,F,D,N)=>{this.RR.zV(T.vertexBuffer,T.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(F,D)),T.existingDataPointsCount+=D-N,T.existingCoordinatesCount+=D,T.jointPointsCount+=N,T.lastDataPoint=F[D-1]})}if(o||u||d||f){const x={},v=this.AN.lineStyleSolid(o),A=this.AN.lineFillSolid(o),E=this.AN.lineFillPaletted(o),T=A||E,F=this.AN.jointStyleTriangulatedPoints(u),D=this.AN.jointSizeTriangulated(u),N=this.AN.jointFillSolid(u),V=this.AN.jointFillPaletted(u),P=N||V,b=this.AN.wireframeLineStyleSolid(u),M=this.AN.wireframeFillSolid(u),w=a.getThickness()<0||a.getThickness()===1&&this.Uo("ApplicationType",k=>k.type==="InternalUI")?"primitive":"instanced",C=E?["lookup",E.getLookUpProperty(),E.lut]:"uniform";if(w==="primitive"&&T?x.lines={type:"primitive",fillStyleSolid:A,fillStylePaletted:E,shader:this.RR.oz(q["3D"],q.Color({dataType:C}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})),mousePicking:g?{shader:this.RR.oz(q["3D"],q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}))}:void 0}:w==="instanced"&&v&&T&&(x.lines={type:"instanced",lineStyleSolid:v,fillStyleSolid:A,fillStylePaletted:E,shader:this.RR.oz(q["3D"],q.ColorShaded3D({dataType:C,shadingStyle:this.qp.M().type}),q.LineInstanced3D({axisWorldTranslation:Ut(this.dt)})),geometry:IP(this.RR,v.getThickness()),mousePicking:g?{shader:this.RR.oz(q["3D"],q.MousePicking,q.LineInstanced3D({axisWorldTranslation:Ut(this.dt)}))}:void 0}),x.markers=void 0,P&&F){const k=iC(F.getShape(),{cube:()=>KA(this.RR),sphere:()=>UP(this.RR,F)});x.markers={geometry:k,pointStyle:F,pointSizeNWU:typeof D=="number"&&D,pointSizeAxis:typeof D=="object"&&D,fillStyleSolid:N,fillStylePaletted:V,shader:this.RR.oz(q["3D"],q.ColorShaded3D({dataType:V?["lookup",V.getLookUpProperty(),V.lut]:"uniform",shadingStyle:this.qp.M().type,wireframe:M!==!1}),q.VertexLocation({offset:{dataType:"uniform",sizeUnit:typeof D=="number"?"nwu":"axis",symmetric:typeof D=="number",halved:!0},axisWorldTranslation:Ut(this.dt),normalSource:k.TY})),mousePicking:g?{shader:this.RR.oz(q["3D"],q.MousePicking,q.VertexLocation({offset:{dataType:"uniform",sizeUnit:typeof D=="number"?"nwu":"axis",symmetric:typeof D=="number",halved:!0},axisWorldTranslation:Ut(this.dt),normalSource:void 0}))}:void 0,wireframe:b&&M&&{thickness:b.getThickness(),fillStyleSolid:M}}}this.bG=x}return this.Qa=!1,this.$a=[],this.Xa=0,this.cu=a,this.qY=l,this.qp.i=!1,this.Bo.i=!1,this}zL(t){var e,i;const r=this.RR.gl,{lines:n,markers:a}=this.bG,o=this.qp.M(),l=t===1?(e=n==null?void 0:n.mousePicking)===null||e===void 0?void 0:e.shader:n==null?void 0:n.shader;if(n&&l&&n.type==="instanced"){const d=l,{geometry:f,lineStyleSolid:g,fillStyleSolid:m,fillStylePaletted:p}=n;this.RR.aV(d,(x,v,A)=>{let E=!1;if(this.RR.jR(d).IV(x("uScale"),this.BY.aE.fV()).IV(x("uDisp"),this.BY.aE.AV()).DV(x("uViewProjectionMatrix"),this.UY).dV(x("uOffsetWU"),this.ks.Op(g.getThickness())).dV(x("uIsHighlighted"),t===1||t===2?0:this.zo).AR(x("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(x("uRenderEffectMask"),t===2?1:0),t!==1&&o.type==="phong"&&this.RR.IV(x("uCameraLoc"),this.YY).IV(x("uLightLoc"),this.HY).dV(x("uAmbientReflection"),o.ambientReflection).dV(x("uSpecularReflection"),o.specularReflection).dV(x("uDiffuseReflection"),o.diffuseReflection).dV(x("uShininess"),o.shininess).AR(x("uLightColor"),o.specularColor).AR(x("uAmbientColor"),o.ambientColor),t===1)this.RR.AR(x("uColor"),this.mN);else if(m)this.RR.AR(x("uColorDiffuse"),m.getColor());else if(p){const T=Ar(p,this,void 0);if(!T&&p.lut.percentageValues)return!1;this.RR.LO(A,p.lut,T)}return this.QM.forEach(T=>{r.bindBuffer(r.ARRAY_BUFFER,T.vertexBuffer);const F=v("aLocationA"),D=v("aLocationB");r.vertexAttribPointer(F,3,r.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(F,1),r.enableVertexAttribArray(F),r.vertexAttribPointer(D,3,r.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(D,1),r.enableVertexAttribArray(D),f.jR(A).Ky(T.existingCoordinatesCount-1),E=!0}),E})}if(n&&l&&n.type==="primitive"){const d=l,{fillStyleSolid:f,fillStylePaletted:g}=n;this.RR.aV(d,(m,p,x)=>{let v=!1;if(this.RR.jR(d).IV(m("uScale"),this.BY.aE.fV()).IV(m("uDisp"),this.BY.aE.AV()).DV(m("uViewProjectionMatrix"),this.UY).dV(m("uIsHighlighted"),t===1||t===2?0:this.zo).AR(m("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(m("uRenderEffectMask"),t===2?1:0),t===1)this.RR.AR(m("uColor"),this.mN);else if(f)this.RR.AR(m("uColor"),f.getColor());else if(g){const A=Ar(g,this,void 0);if(!A&&g.lut.percentageValues)return!1;this.RR.LO(x,g.lut,A)}return this.QM.forEach(A=>{this.RR.lV(A.vertexBuffer,void 0,{location:p("aPos"),size:3}).Ky(r.LINE_STRIP,A.existingCoordinatesCount),v=!0}),v})}const u=t===1?(i=a==null?void 0:a.mousePicking)===null||i===void 0?void 0:i.shader:a==null?void 0:a.shader;if(a&&u){const d=u,{geometry:f,fillStyleSolid:g,fillStylePaletted:m,pointSizeAxis:p,pointSizeNWU:x,wireframe:v}=a;this.RR.aV(d,(A,E,T,F)=>{let D=!1;if(this.RR.jR(d).IV(A("uScale"),this.BY.aE.fV()).IV(A("uDisp"),this.BY.aE.AV()).DV(A("uViewProjectionMatrix"),this.UY).dV(F("uRatioNwuWu"),this.BY.iH()).dV(A("uIsHighlighted"),t===1||t===2?0:this.zo).AR(A("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(A("uRenderEffectMask"),t===2?1:0),t!==1&&o.type==="phong"&&this.RR.IV(A("uCameraLoc"),this.YY).IV(A("uLightLoc"),this.HY).dV(A("uAmbientReflection"),o.ambientReflection).dV(A("uSpecularReflection"),o.specularReflection).dV(A("uDiffuseReflection"),o.diffuseReflection).dV(A("uShininess"),o.shininess).AR(A("uLightColor"),o.specularColor).AR(A("uAmbientColor"),o.ambientColor),t===1)this.RR.AR(A("uColor"),this.mN);else if(g)this.RR.AR(A("uColorDiffuse"),g.getColor());else if(m){const N=Ar(m,this,void 0);if(!N&&m.lut.percentageValues)return!1;this.RR.LO(T,m.lut,N)}return v&&t!==1&&this.RR.dV(A("uWireframeThickness"),v.thickness).AR(A("uWireframeColor"),v.fillStyleSolid.getColor()),p!==!1&&this.RR.IV(A("uOffsetAxis"),[p.x,p.y,p.z]),x!==!1&&this.RR.dV(A("uOffsetNWU"),x),this.QM.forEach(N=>{this.RR.lV(N.vertexBuffer,1,{location:E("aPos"),size:3}),f.Ky(T,N.existingCoordinatesCount,o.type==="phong"&&t!==1,!!v&&t!==1),D=!0}),D})}return this}nl(t,e){Array.isArray(t)||(t=[t]),this.$a=Es(this.$a,t,{canReturnB:!0}),this.Xa+=t.length;const i=e||RA(t);return this.ja=this.ja?Mg(this.ja,i):i,this}Re(t){return this.lu=typeof t=="function"?t(this.lu):t,this}uu(){return this.lu}Rp(t){return this.mS=typeof t=="function"?t(this.mS):t,this}sH(){return this.mS}bt(){return this.ja?Math.max(this.ja.max.x,this.Ya.max.x):this.Ya.max.x}vt(){return this.ja?Math.min(this.ja.min.x,this.Ya.min.x):this.Ya.min.x}Mt(){return this.ja?Math.max(this.ja.max.y,this.Ya.max.y):this.Ya.max.y}xt(){return this.ja?Math.min(this.ja.min.y,this.Ya.min.y):this.Ya.min.y}aS(){return this.ja?Math.max(this.ja.max.z,this.Ya.max.z):this.Ya.max.z}lS(){return this.ja?Math.min(this.ja.min.z,this.Ya.min.z):this.Ya.min.z}vl(){return Ks(this.lu)}bl(){return Ks(this.lu)}uS(){return Ks(this.lu)}tl(){return this.yu}qa(){return this.$a}ol(){return this.Ha}al(){return this.Xa}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Xa=0,this.Ya=Ir,this.ja=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.bG={},this}VR(){return this.dispose(),this}}const IP=(s,t)=>L5(s,t>50?20:t>20?16:t>10?12:t>5?8:6),UP=(s,t)=>{const e=t.getSize();return I5(s,typeof e=="number"?e>50?20:e>20?16:e>10?12:e>5?8:6:20)};class OP extends al{constructor(t,e,i,r,n){super(t,e,i,r,n),this.DY="disabled",this.eH=!1,this.hH=!1,this.rH={x:1,y:1,z:1},this.Dv={x:0,y:0,z:0},this.Pv={x:0,y:0,z:0},this.Bv={x:0,y:0,z:0},this.Lv={x:1,y:1,z:1},this.nH=Pe.projectionOrthographic(-1,1,-1,1,1,-1),this.oH=Pe.projectionOrthographic(-1,1,-1,1,1,-1),this.aH=!1,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStyleValuePalette:()=>Bi(this.be)&&this.be.lookUpProperty==="value"&&this.be}),this.be=Ns.fillStyle,this.qp.S(Gu)}Ps(t){var e;const i=this.Wz(),r=this.Bo.M(),n=this.Bo.i,a=this.ta();this.AN.fillStyleSolid(a);const o=this.AN.fillStyleValuePalette(a),l=this.Bv,u=this.Lv;if(this.eH&&this.lH&&(this.lG=this.RR.nV(this.lH.vertices,void 0,this.lG),this.uG=this.RR.OV(this.lH.indices,this.uG),this.uH=this.lH.indices.length),this.qp.M().type==="phong"&&(i||this.eH)&&(!((e=this.lH)===null||e===void 0)&&e.normals)&&(this.cH=this.RR.nV(this.lH.normals,void 0,this.cH)),!this.dH&&o&&o.lookUpProperty==="value"&&this.lH&&(this.dH=new Float32Array(this.lH.vertices.length/3),this.hH=!0),this.dH&&this.hH&&(this.fH=this.RR.nV(this.dH,void 0,this.fH)),i||a||n){if(o&&o.lookUpProperty!=="value")throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this.cE=this.RR.oz(q["3D"],q.ColorShaded3D({dataType:o?["lookup","value",o.lut]:"uniform",shadingStyle:this.qp.M().type,wireframe:!1}),q.Model3D({normalSource:this.qp.M().type==="phong"?"attribute":void 0})),this.yY=r?this.RR.oz(q["3D"],q.MousePicking,q.Model3D({normalSource:void 0})):void 0}if(this.aH){const d=Pe.projectionOrthographic(-1,1,-1,1,1,-1);this.oH=Pe.rotateXYZ(d,l),this.nH=Pe.translate(d,u.x/2,u.y/2,u.z/2),this.nH=Pe.rotateXYZ(this.nH,l),this.nH=Pe.translate(this.nH,-u.x/2,-u.y/2,-u.z/2),this.aH=!1}return this.qp.i=!1,this.ha(this.be),this.Bo.i=!1,this.eH=!1,this.hH=!1,this}zL(t){const e=t===1?this.yY:this.cE,i=t===1,r=this.uG,n=this.uH,a=this.lG,o=this.cH,l=this.fH,u=this.Dv,d=this.Pv,f=this.rH,g=this.Lv,m=this.nH,p=this.oH,x=this.AN.fillStyleValuePalette(!1),v=this.AN.fillStyleSolid(!1),A=this.qp.M(),E={location:void 0,size:1};return e&&a&&r&&n?(this.RR.aV(e,(T,F,D,N)=>{if(this.RR.jR(e).IV(T("uScale"),this.BY.aE.fV()).IV(T("uDisp"),this.BY.aE.AV()).DV(T("uViewProjectionMatrix"),this.UY).dV(T("uIsHighlighted"),t===1||t===2?0:this.zo).AR(T("uHighlightColorOffset"),this.Go).dV(T("uRenderEffectMask"),t===2?1:0),i)this.RR.AR(T("uColor"),this.mN);else{if(this.be===Nt)return!1;if(v)this.RR.AR(T("uColorDiffuse"),v.getColor());else if(x){if(!l)return!1;const V=x.getPalette();E.location=F("aLookupValue"),this.RR.LO(D,V,void 0).lV(l,void 0,E)}}return A.type!=="phong"||i||(this.RR.IV(T("uCameraLoc"),this.YY).IV(T("uLightLoc"),this.HY).dV(T("uAmbientReflection"),A.ambientReflection).dV(T("uSpecularReflection"),A.specularReflection).dV(T("uDiffuseReflection"),A.diffuseReflection).dV(T("uShininess"),A.shininess).AR(T("uLightColor"),A.specularColor).AR(T("uAmbientColor"),A.ambientColor).DV(T("uModelRotationNormals"),p),o&&this.RR.lV(o,void 0,{location:D.attribute("aNormal"),size:3})),this.RR.DV(T("uModelRotation"),m).IV(T("uModelScale"),[f.x,f.y,f.z]).IV(T("uLocationAxis"),[u.x,u.y,u.z]).IV(T("uModelAlignment"),[d.x,d.y,d.z]).IV(T("uModelSize"),[g.x,g.y,g.z]),this.RR.lV(a,0,{location:D.attribute("aGeoPos"),size:3}).XV(r).ZV(n,this.RR.gl.TRIANGLES),!0}),this):this}dispose(){return super.dispose(),this.lG&&(this.RR.yV(this.lG),this.lG=void 0),this.uG&&(this.RR.yV(this.uG),this.uG=void 0),this.cH&&(this.RR.yV(this.cH),this.cH=void 0),this.fH&&(this.RR.yV(this.fH),this.fH=void 0),this.cE=void 0,this.yY=void 0,this.lH=void 0,this.dH=void 0,this}VR(){return this.dispose(),this}Ev(t){return this.lH=t,this.eH=!0,this.Lv=t.modelSize,this}Vv(t){return this.dH=t,this.hH=!0,this}Ce(t){return this.be=vu(this.be,t),this}Eh(){return this.be}Ov(t){return this.rH=t,this}fV(){return this.rH}Nv(t){return this.Dv=t,this}Gv(t){return this.Pv=t,this}Wv(t){return this.Bv=t,this.aH=!0,this}Uv(t){return this.DY=t,this}Yv(){return this.DY}bt(){return Ft}vt(){return Rt}Mt(){return Ft}xt(){return Rt}aS(){return Ft}lS(){return Rt}vl(){return 0}bl(){return 0}uS(){return 0}ta(){return bu(this.ia,this.be)}ha(t){this.ia=t}}class GP extends al{constructor(t,e,i,r,n,a){super(t,e,i,r,n),this.DY="cull-back",this.QM=[],this.vW=new ZA(this.QM,A=>A.vertexBuffer&&this.RR.yV(A.vertexBuffer),!1),this.yu=[],this.Ha=0,this.$a=[],this.Xa=0,this.Ya=Ir,this.ja=Ir,this.Qa=!1,this.AN=Hs({fillStyleSolid:()=>{const A=this.SS.getFillStyle();return fe(A)&&A},fillStyleIndividual:()=>{const A=this.SS.getFillStyle();return Gs(A)&&A},fillStylePalette:()=>{const A=this.SS.getFillStyle();return Bi(A)&&A},triangulatedPointStyle:()=>{const A=this.SS;return so(A)&&A},wireframeLineStyleSolid:()=>{const A=so(this.SS)&&this.SS,E=A&&A.getWireframeStyle();return zs(E)&&E},wireframeFillStyleSolid:()=>{const A=so(this.SS)&&this.SS,E=A&&A.getWireframeStyle(),T=E&&E.getFillStyle();return fe(T)&&T}}),this.Ja=void 0,this.Un=a,this.SS=Ns.pointStyle3D,this.qp.S(Gu);const o=(a==null?void 0:a.individualPointColorEnabled)===!0,l=(a==null?void 0:a.individualPointSizeEnabled)===!0,u=(a==null?void 0:a.individualLookupValuesEnabled)===!0,d=(a==null?void 0:a.individualPointSizeAxisEnabled)===!0;let f,g,m,p,x=0;x+=3,o&&(f=x,x+=4),l&&(g=x,x+=1),u&&(m=x,x+=1),d&&(p=x,x+=3);const v=((A,E,T,F)=>A||E||T||F?!A||E||T||F?A||!E||T||F?A||E||!T||F?A||E||T||!F?(D,N,V)=>{const P=3+(A?4:0)+(E?1:0)+(T?1:0)+(F?3:0),b=D.length,M=new Float32Array(b*P);let w=0,C=w;for(let k=0;k<b;k+=1){const z=D[k];M[C+0]=z.x,M[C+1]=z.y,M[C+2]=z.z,C+=P}if(w+=3,A){const k=V&&Gs(V)&&V.getFallbackColor()||Hh;C=w;for(let z=0;z<b;z+=1){const H=D[z].color||k;M[C+0]=H.r,M[C+1]=H.g,M[C+2]=H.b,M[C+3]=H.a,C+=P}w+=4}if(E){const k=N&&N.getSize();let z=1;typeof k=="number"&&(z=k),C=w;for(let H=0;H<b;H+=1){const B=D[H],U=B.size!==void 0?B.size:z;M[C+0]=U,C+=P}w+=1}if(T){C=w;for(let k=0;k<b;k+=1){const z=D[k];M[C+0]=z.value!==void 0?z.value:-34028234663852886e22,C+=P}w+=1}if(F){const k=N&&N.getSize();let z={x:1,y:1,z:1};typeof k=="object"&&(z=k),C=w;for(let H=0;H<b;H+=1){const B=D[H],U=B.sizeAxisX!==void 0?B.sizeAxisX:z.x,O=B.sizeAxisY!==void 0?B.sizeAxisY:z.y,W=B.sizeAxisZ!==void 0?B.sizeAxisZ:z.z;M[C+0]=U,M[C+1]=O,M[C+2]=W,C+=P}w+=3}return M}:(D,N,V)=>((P,b)=>{const M=b&&b.getSize();let w={x:1,y:1,z:1};typeof M=="object"&&(w=M);const C=P.length,k=new Float32Array(6*C);let z=0;for(let H=0;H<C;H+=1){const B=P[H];k[z+0]=B.x,k[z+1]=B.y,k[z+2]=B.z;const U=B.sizeAxisX!==void 0?B.sizeAxisX:w.x,O=B.sizeAxisY!==void 0?B.sizeAxisY:w.y,W=B.sizeAxisZ!==void 0?B.sizeAxisZ:w.z;k[z+3]=U,k[z+4]=O,k[z+5]=W,z+=6}return k})(D,N):(D,N,V)=>(P=>{const b=P.length,M=new Float32Array(4*b);for(let w=0,C=0;w<b;w+=1){const k=P[w];M[C+0]=k.x,M[C+1]=k.y,M[C+2]=k.z,M[C+3]=k.value!==void 0?k.value:-34028234663852886e22,C+=4}return M})(D):(D,N,V)=>((P,b)=>{const M=b&&b.getSize();let w=1;typeof M=="number"&&(w=M);const C=P.length,k=new Float32Array(4*C);for(let z=0,H=0;z<C;z+=1){const B=P[z];k[H+0]=B.x,k[H+1]=B.y,k[H+2]=B.z;const U=B.size!==void 0?B.size:w;k[H+3]=U,H+=4}return k})(D,N):(D,N,V)=>((P,b)=>{const M=b&&Gs(b)&&b.getFallbackColor()||Hh,w=P.length,C=new Float32Array(7*w);for(let k=0,z=0;k<w;k+=1){const H=P[k];C[z+0]=H.x,C[z+1]=H.y,C[z+2]=H.z;const B=H.color||M;C[z+3]=B.r,C[z+4]=B.g,C[z+5]=B.b,C[z+6]=B.a,z+=7}return C})(D,V):(D,N,V)=>vA(D))(o,l,u,d);this.wW={individualPointColorEnabled:o,individualPointSizeEnabled:l,individualLookupValuesEnabled:u,individualPointSizeAxisEnabled:d,attributesPerVertex:x,attributeOffsetCoordinate:0,attributeOffsetColor:f,attributeOffsetSize:g,attributeOffsetLookUpValue:m,attributeOffsetPointSize3D:p,prepareRenderData:(A,E)=>v(A,this.SS,this.SS.fillStyle)}}Ps(t){const e=this.Qa,i=this.$a,r=this.Xa,n=r>0,a=this.SS,o=this.SS!==this.AH,l=this.Bo.M(),u=this.Bo.i,d=this.Wz();this.ja&&(this.Ya=Mg(this.Ya,this.ja),this.ja=void 0),n&&(this.yu=Es(this.yu,i,{canReturnB:!0}),this.Ha+=r);let f=i,g=r;if(e&&(this.QM.forEach(E=>{E.existingDataPointsCount=0,E.existingCoordinatesCount=0,E.boundaries=Ir}),this.vW.cW(),f=this.yu,g=this.Ha),g>0){const E=Math.floor(this.rN.tH/(this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),T=ee(g,1e5,E);this.vW.oW(f,T,(F,D,N)=>({existingDataPointsCount:N,existingCoordinatesCount:N,allocatedCoordinatesCount:F,boundaries:Ir,vertexBuffer:this.RR.EV(F*this.wW.attributesPerVertex,this.wW.prepareRenderData(D,N))}),(F,D,N)=>{this.RR.zV(F.vertexBuffer,F.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(D,N)),F.existingDataPointsCount+=N,F.existingCoordinatesCount=F.existingDataPointsCount})}const m=a.getFillStyle(),p=this.AN.fillStyleSolid(o),x=this.AN.fillStyleIndividual(o),v=this.AN.fillStylePalette(o),A=m===Nt&&Nt;if(o||d||u){let E;const T=a.getSize(),F=this.wW.individualPointColorEnabled,D=this.wW.individualPointSizeEnabled,N=this.wW.individualPointSizeAxisEnabled,V=this.wW.individualLookupValuesEnabled;if(x&&!F){const M="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw ht.alert(M),new Error(M)}if(v&&v.getLookUpProperty()==="value"&&!V){const M='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw ht.alert(M),new Error(M)}const P=this.AN.wireframeLineStyleSolid(o),b=this.AN.wireframeFillStyleSolid(o);if(p||x||v||b){const M=x?"attribute":v?["lookup",v.getLookUpProperty(),v.lut]:"uniform",w=D&&typeof T=="number",C=N&&typeof T=="object",k=w||C?"attribute":"uniform";if(so(a)){const z=iC(a.getShape(),{cube:()=>KA(this.RR),sphere:()=>YP(this.RR,a,D)});E={type:"instanced",shader:this.RR.oz(q["3D"],q.ColorShaded3D({dataType:M,shadingStyle:this.qp.M().type,wireframe:b!==!1}),q.VertexLocation({offset:{dataType:k,sizeUnit:typeof T=="number"?"nwu":"axis",halved:!0,symmetric:typeof T=="number"},axisWorldTranslation:Ut(this.dt),normalSource:z.TY})),pointStyle:a,useIndividualPointSize:w,useIndividualPointSize3D:C,pointSizeNWU:typeof T=="number"&&T,pointSizeAxis:typeof T=="object"&&T,fillStyleSolid:p,fillStyleIndividual:x,fillStylePaletted:v,fillStyleEmpty:A,mousePickingShader:l&&this.RR.oz(q["3D"],q.MousePicking,q.VertexLocation({offset:{dataType:k,sizeUnit:typeof T=="number"?"nwu":"axis",halved:!0,symmetric:typeof T=="number"},axisWorldTranslation:Ut(this.dt),normalSource:void 0})),geometry:z,wireframe:P&&b&&{thickness:P.getThickness()<0?1:P.getThickness(),fillStyleSolid:b}}}else fR(a)&&typeof T=="number"&&(E={type:"primitive",shader:this.RR.oz(q["3D"],q.PointSize(k),q.Color({dataType:M}),q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0})),pointStyle:a,pointSizePixels:T,useIndividualPointSize:w,fillStyleSolid:p,fillStyleIndividual:x,fillStylePaletted:v,mousePickingShader:l&&this.RR.oz(q["3D"],q.PointSize(k),q.MousePicking,q.VertexLocation({axisWorldTranslation:Ut(this.dt),normalSource:void 0}))})}this.bG=E}if(this.Ja===void 0&&v&&v.lookUpProperty==="value"&&v.lut.percentageValues){let E=Ft,T=Rt;for(let F=0;F<this.yu.length;F+=1){const D=this.yu[F];D.value!==void 0&&D.value<T&&(T=D.value),D.value!==void 0&&D.value>E&&(E=D.value)}this.Ja={min:T,max:E}}return this.Qa=!1,this.$a=[],this.Xa=0,this.AH=a,this.qp.i=!1,this}zL(t){const e=this.RR.gl,i=this.bG;if(!i)return this;const r=t===1?i.mousePickingShader:i.shader;if(!r)return this;const n=this.qp.M(),{fillStyleSolid:a,fillStylePaletted:o,useIndividualPointSize:l}=i,u=i.type==="instanced"&&i.useIndividualPointSize3D,d=i.type==="instanced"&&i.wireframe;return this.RR.aV(r,(f,g,m,p)=>{let x=!1;if(this.RR.jR(r).IV(f("uScale"),this.BY.aE.fV()).IV(f("uDisp"),this.BY.aE.AV()).DV(f("uViewProjectionMatrix"),this.UY).dV(f("uIsHighlighted"),t===1||t===2?0:this.zo).AR(f("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(f("uRenderEffectMask"),t===2?1:0),i.type==="instanced"){const{pointSizeAxis:v,pointSizeNWU:A}=i;v!==!1&&u===!1&&this.RR.IV(f("uOffsetAxis"),[v.x,v.y,v.z]),A!==!1&&l===!1&&this.RR.dV(f("uOffsetNWU"),A).dV(p("uRatioNwuWu"),this.BY.iH())}else if(i.type==="primitive"){const{pointSizePixels:v}=i;l||this.RR.dV(f("uPointSize"),v).dV(f("uDevicePixelRatio"),this.RR.$z())}if(t===1)this.RR.AR(f("uColor"),this.mN);else if(i.type==="instanced"?(n.type==="phong"&&this.RR.IV(f("uCameraLoc"),this.YY).IV(f("uLightLoc"),this.HY).dV(f("uAmbientReflection"),n.ambientReflection).dV(f("uSpecularReflection"),n.specularReflection).dV(f("uDiffuseReflection"),n.diffuseReflection).dV(f("uShininess"),n.shininess).AR(f("uLightColor"),n.specularColor).AR(f("uAmbientColor"),n.ambientColor),d&&this.RR.dV(f("uWireframeThickness"),d.thickness).AR(f("uWireframeColor"),d.fillStyleSolid.getColor()),a&&this.RR.AR(f("uColorDiffuse"),a.getColor()),i.fillStyleEmpty&&this.RR.AR(f("uColorDiffuse"),ti)):i.type==="primitive"&&a&&this.RR.AR(f("uColor"),a.getColor()),o){const v=Ar(o,this,this.Ja);if(!v&&o.lut.percentageValues)return!1;this.RR.LO(m,o.lut,v)}return this.QM.forEach((v,A)=>{e.bindBuffer(e.ARRAY_BUFFER,v.vertexBuffer);const E=g("aPos");if(e.vertexAttribPointer(E,3,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),i.type==="instanced"&&this.RR.UV(E,1),e.enableVertexAttribArray(E),i.fillStyleIndividual&&this.wW.attributeOffsetColor!==void 0&&t!==1){const T=g("aColor");e.vertexAttribPointer(T,4,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),i.type==="instanced"&&this.RR.UV(T,1),e.enableVertexAttribArray(T)}if(l&&this.wW.attributeOffsetSize!==void 0){i.type==="instanced"?this.RR.dV(p("uRatioNwuWu"),this.BY.iH()):i.type==="primitive"&&this.RR.dV(f("uDevicePixelRatio"),this.RR.$z());const T=g(i.type==="instanced"?"aOffsetNWU":"aPointSize");e.vertexAttribPointer(T,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),i.type==="instanced"&&this.RR.UV(T,1),e.enableVertexAttribArray(T)}if(u&&this.wW.attributeOffsetPointSize3D!==void 0&&i.type==="instanced"){const T=g("aOffsetAxis");e.vertexAttribPointer(T,3,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),i.type==="instanced"&&this.RR.UV(T,1),e.enableVertexAttribArray(T)}if(i.fillStylePaletted&&i.fillStylePaletted.getLookUpProperty()==="value"&&this.wW.attributeOffsetLookUpValue!==void 0&&t!==1){const T=g("aLookupValue");e.vertexAttribPointer(T,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),i.type==="instanced"&&this.RR.UV(T,1),e.enableVertexAttribArray(T)}i.type==="instanced"?(i.geometry.Ky(m,v.existingCoordinatesCount,n.type==="phong"&&t!==1,!!d&&t!==1),x=!0):i.type==="primitive"&&(this.RR.Ky(e.POINTS,v.existingCoordinatesCount),x=!0)}),x}),this}nl(t,e){Array.isArray(t)||(t=[t]),this.$a=Es(this.$a,t,{canReturnB:!0}),this.Xa+=t.length;const i=e||RA(t);return this.ja=this.ja?Mg(this.ja,i):i,this.Ja=void 0,this}vS(t){return this.SS=typeof t=="function"?t(this.SS):t,this}gH(){return this.SS}bt(){return this.ja?Math.max(this.ja.max.x,this.Ya.max.x):this.Ya.max.x}vt(){return this.ja?Math.min(this.ja.min.x,this.Ya.min.x):this.Ya.min.x}Mt(){return this.ja?Math.max(this.ja.max.y,this.Ya.max.y):this.Ya.max.y}xt(){return this.ja?Math.min(this.ja.min.y,this.Ya.min.y):this.Ya.min.y}aS(){return this.ja?Math.max(this.ja.max.z,this.Ya.max.z):this.Ya.max.z}lS(){return this.ja?Math.min(this.ja.min.z,this.Ya.min.z):this.Ya.min.z}vl(){const t=this.SS,e=t.getSize();return typeof e=="number"?so(t)?e/2:fR(t)?5:0:0}bl(){return this.vl()}uS(){return this.vl()}tl(){return this.yu}qa(){return this.$a}ol(){return this.Ha}al(){return this.Xa}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Xa=0,this.Ya=Ir,this.ja=void 0,this.Ja=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.bG=void 0,this}VR(){return this.dispose(),this}}const YP=(s,t,e)=>{const i=t.getSize();return I5(s,typeof i=="number"?e||i>=50?20:i>=10?10:i>=3?5:3:32)};class U5 extends al{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.DY="disabled",this.be=Ns.fillStyle,this.gv=Ns.lineStyle,this.uU=qt("bilinear"),this.mH=[],this.yH=void 0,this.bG={},this.pH=!1,this.AN=Hs({fillStyleSolid:()=>fe(this.be)&&this.be,fillStylePaletted:()=>Bi(this.be)&&this.be,wireframeStyleLine:()=>zs(this.gv)&&this.gv,wireframeStyleFill:()=>{const g=this.gv&&this.gv.getFillStyle();return fe(g)&&g}}),this.Pi={x:0,z:0},this.$w={x:1,z:1},this.qp.S(Ou);const o=r.dataOrder==="columns"?r.columns:r.rows,l=r.dataOrder==="columns"?r.rows:r.columns;this.Un={...r,primaryDimensionVectorsCount:o,secondaryDimensionVectorsCount:l},this.SH=new Array(this.Un.primaryDimensionVectorsCount).fill(void 0),this.I_=new Ty(this.rN,t.rN.CU,t.us.dt,ae,[],this.Un,-1,Hh).mv(bt),this.I_.fU=mP;const u=this.I_.gU.gridTiles.map(g=>{const m=g.sizeHeatmapDataVectors,p=g.sizeUniqueHeatmapDataVectors,x=g.iFirstVector,v=g.iFirstUniqueVector,A=new Float32Array(g.sizeHeatmapDataVectors.primary*g.sizeHeatmapDataVectors.secondary),E={primary:g.sizeHeatmapDataVectors.primary-1,secondary:g.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:g.iFirstVector,iFirstUniqueVector:g.iFirstUniqueVector,sizeHeatmapDataVectors:g.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:g.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:x,iFirstGeometryUniqueVector:v,sizeGeometryDataVectors:m,sizeUniqueGeometryDataVectors:p,heightmapData:A,normalmapSize:E}}),d=this.I_.gU.gridTileSizes.map(g=>{const m=u.filter(x=>x.sizeHeatmapDataVectors.primary===g.sizeHeatmapData.primary&&x.sizeHeatmapDataVectors.secondary===g.sizeHeatmapData.secondary),p=m[0].sizeGeometryDataVectors;return{...g,tiles:m,sizeGeometryData:p}}),f=u.reduce((g,m)=>{const p=m.sizeHeatmapDataVectors.primary,x=m.sizeHeatmapDataVectors.secondary,v=p*x;return v>g.cells?{primary:p,secondary:x,cells:v}:g},{primary:0,secondary:0,cells:0});this.vH={gridTiles:u,gridTileSizes:d,largestGridTileSize:f},this.Sv(this.Pi,this.$w)}bH(t){this.xH=t,this.yH=void 0}Sv(t,e){this.Pi=t,this.$w=e;const i=this.Un,r={min:{x:Math.min(this.Pi.x,this.Pi.x+(i.columns-1)*this.$w.x),z:Math.min(this.Pi.z,this.Pi.z+(i.rows-1)*this.$w.z)},max:{x:Math.max(this.Pi.x,this.Pi.x+(i.columns-1)*this.$w.x),z:Math.max(this.Pi.z,this.Pi.z+(i.rows-1)*this.$w.z)}},n=new Map;return this.vH.gridTiles.forEach(a=>{const o=this.Un.dataOrder==="columns"?{x:this.$w.x*(a.sizeHeatmapDataVectors.primary-1),z:this.$w.z*(a.sizeHeatmapDataVectors.secondary-1)}:{x:this.$w.x*(a.sizeHeatmapDataVectors.secondary-1),z:this.$w.z*(a.sizeHeatmapDataVectors.primary-1)},l=this.Un.dataOrder==="columns"?{x:this.Pi.x+this.$w.x*a.iFirstVector.primary,z:this.Pi.z+this.$w.z*a.iFirstVector.secondary}:{x:this.Pi.x+this.$w.x*a.iFirstVector.secondary,z:this.Pi.z+this.$w.z*a.iFirstVector.primary};n.set(a,{sizeAxis:o,startLocationAxis:l})}),this.bU={MH:r,tilesInfo:n},this}vv(){return{start:this.Pi,step:this.$w,end:{x:this.Pi.x+this.$w.x*this.Un.columns,z:this.Pi.z+this.$w.z*this.Un.rows}}}Ps(t){const e=this.mH,i=bu(this.ia,this.be),r=this.AN.fillStyleSolid(i),n=this.AN.fillStylePaletted(i),a=this.gv,o=this.gv!==this.mU,l=this.AN.wireframeStyleLine(o),u=this.AN.wireframeStyleFill(o),d=u!==!1,f=this.uU.i,g=this.uU.M(),m=this.qp.M(),p=this.Wz(),x=this.Bo.M();this.I_.Ps();const v=this.I_.yU;if(!v)return this;this._H=this._H||this.wH(v);const A=this._H;this.CH(A);const E=_5(e,A,void 0,F=>F.sizeGeometryDataVectors);if(E.size>0&&(N5(this.RR,E,F=>F.heightmapData,F=>F.heightmapDataTexture),this.pH=!0),m.type==="phong"&&(E.size>0||p)){const F=this.RR.gl,D=this.RR.oz(q["2D"],q.DrawToNormalTexture({flipXZ:this.Un.dataOrder==="rows",vertexIdSource:this.RR._O(),normalTextureType:this.RR.gl2?"uint":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN}));A.gridTileSizes.forEach(N=>{N.tiles.forEach(V=>{var P;const b=V.normalmapTexture,M=(P=this.bU)===null||P===void 0?void 0:P.tilesInfo.get(V.tileData);if(!b||!M)return;const w={x:V.normalmapSize.secondary,y:V.normalmapSize.primary},C=w.x*w.y;this.RR.oO.zL(()=>{this.RR.aV(D,(k,z,H,B)=>(this.RR.jR(D).wO(H,C).uV(k("uTileDimensionsXZ"),[this.Un.dataOrder==="columns"?N.sizeHeatmapData.primary:N.sizeHeatmapData.secondary,this.Un.dataOrder==="columns"?N.sizeHeatmapData.secondary:N.sizeHeatmapData.primary]).TV(k("uTileDimensions"),[N.sizeHeatmapData.primary,N.sizeHeatmapData.secondary]).uV(k("uTileStartLocationAxisXZ"),[M.startLocationAxis.x,M.startLocationAxis.z]).uV(k("uTileSizeAxisXZ"),[M.sizeAxis.x,M.sizeAxis.z]).cV(k("uHeightmapTexture"),V.heightmapDataTexture,1).Ky(F.POINTS,C),!0))},b,w,void 0,this.us.mn(),0)})})}const T=this.bG;if(i||o||f){const F=l&&u?{wireframeSolid:l,wireframeFillSolid:u}:void 0;r?T.surface={shader:this.RR.oz(q["3D"],q.SurfaceGrid({axisWorldTranslation:Ut(this.dt),fillColor:"uniform",interpolation:g==="bilinear"&&"bilinear",flipXZ:this.Un.dataOrder==="rows",shadingStyle:m.type,wireframe:d,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:r},wireframe:F}:n&&n.getLookUpProperty()==="value"?T.surface={shader:this.RR.oz(q["3D"],q.SurfaceGrid({axisWorldTranslation:Ut(this.dt),fillColor:["lookup","value",n.lut],interpolation:g==="bilinear"&&"bilinear",flipXZ:this.Un.dataOrder==="rows",shadingStyle:m.type,wireframe:d,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:n},wireframe:F}:n?T.surface={shader:this.RR.oz(q["3D"],q.SurfaceGrid({axisWorldTranslation:Ut(this.dt),fillColor:["lookup",n.getLookUpProperty(),n.lut],interpolation:g==="bilinear"&&"bilinear",flipXZ:this.Un.dataOrder==="rows",shadingStyle:m.type,wireframe:d,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:n},wireframe:F}:d&&(T.surface={shader:this.RR.oz(q["3D"],q.SurfaceGrid({axisWorldTranslation:Ut(this.dt),fillColor:void 0,interpolation:g==="bilinear"&&"bilinear",flipXZ:this.Un.dataOrder==="rows",shadingStyle:m.type,wireframe:d,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:F})}return T.mousePicking=x?this.bG.mousePicking||{shader:this.RR.oz(q["3D"],q.SurfaceGrid({axisWorldTranslation:Ut(this.dt),fillColor:"uniform",interpolation:g==="bilinear"&&"bilinear",flipXZ:this.Un.dataOrder==="rows",shadingStyle:"simple",wireframe:!1,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.bG=T,this.mH.length=0,this.ia=this.be,this.mU=a,this.qp.i=!1,this}wH(t){const e=this.vH.gridTiles.map(a=>{const o=z5(this.RR,a.sizeHeatmapDataVectors.secondary,a.sizeHeatmapDataVectors.primary),l=t.gridTiles.find(u=>u.iFirstUniqueVector.primary===a.iFirstUniqueVector.primary&&u.iFirstUniqueVector.secondary===a.iFirstUniqueVector.secondary);if(!l)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return{...a,intensityDataTexture:l.intensityDataTexture,heightmapDataTexture:o,normalmap:void 0,tileData:a}}),i=this.vH.gridTileSizes.map(a=>{const o=e.filter(l=>l.sizeHeatmapDataVectors.primary===a.sizeHeatmapData.primary&&l.sizeHeatmapDataVectors.secondary===a.sizeHeatmapData.secondary);return{...a,tiles:o}}),r=this.RR.nV([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),n=this.RR.gl.TRIANGLES;return{gridTiles:e,gridTileSizes:i,rectangleLocationsBuffer:r,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:n}}CH(t){var e;if(this.qp.M().type==="phong")for(let i=0;i<t.gridTiles.length;i+=1){const r=t.gridTiles[i];if(r.normalmapTexture)return;let n;const a=(e=this.RR.gl2)===null||e===void 0?void 0:e.ctx;if(a)n=this.RR.fO(null,a.RGBA_INTEGER,!1,!0,{x:r.normalmapSize.secondary,y:r.normalmapSize.primary},!1,a.UNSIGNED_INT,a.RGBA32UI);else{const o=this.RR.gl;n=this.RR.fO(null,o.RGBA,!1,!0,{x:r.normalmapSize.secondary,y:r.normalmapSize.primary},!1,o.UNSIGNED_BYTE)}r.normalmapTexture=n}else t.gridTiles.forEach(i=>{i.normalmapTexture&&(this.RR.OR(i.normalmapTexture),i.normalmapTexture=void 0)})}zL(t){var e,i,r,n;const a=this.RR.gl,o=this._H;if(!o)return this;const l=this.qp.M(),u=this.bG,d=t===1?(e=u.mousePicking)===null||e===void 0?void 0:e.shader:(i=u.surface)===null||i===void 0?void 0:i.shader;if(!d)return this;const f=t!==1?(r=u.surface)===null||r===void 0?void 0:r.wireframe:void 0,g=t!==1?(n=u.surface)===null||n===void 0?void 0:n.fill:void 0;return this.RR.aV(d,(m,p,x,v)=>{let A=!1;if(this.RR.jR(d).kO(x,this.vH.largestGridTileSize.cells).IV(m("uScale"),this.BY.aE.fV()).IV(m("uDisp"),this.BY.aE.AV()).DV(m("uViewProjectionMatrix"),this.UY).dV(m("uIsHighlighted"),t===1||t===2?0:this.zo).AR(m("uHighlightColorOffset"),t===1||t===2?ti:this.Go).dV(m("uRenderEffectMask"),t===2?1:0),t!==1&&(l.type==="phong"&&this.RR.IV(m("uCameraLoc"),this.YY).IV(m("uLightLoc"),this.HY).dV(m("uAmbientReflection"),l.ambientReflection).dV(m("uSpecularReflection"),l.specularReflection).dV(m("uDiffuseReflection"),l.diffuseReflection).dV(m("uShininess"),l.shininess).AR(m("uLightColor"),l.specularColor).AR(m("uAmbientColor"),l.ambientColor),f)){const{wireframeFillSolid:E,wireframeSolid:T}=f,F=T.getThickness()<0?1:T.getThickness();this.RR.AR(m("uWireframeColor"),E.getColor()).dV(m("uWireframeThickness"),F)}return t===1?this.RR.AR(m("uColorDiffuse"),this.mN):(g==null?void 0:g.fillMode)==="solid"&&this.RR.AR(m("uColorDiffuse"),g.fillStyleSolid.getColor()),o.gridTileSizes.forEach(E=>{this.RR.uV(m("uTileDimensionsXZ"),[this.Un.dataOrder==="columns"?E.sizeHeatmapData.primary:E.sizeHeatmapData.secondary,this.Un.dataOrder==="columns"?E.sizeHeatmapData.secondary:E.sizeHeatmapData.primary]).TV(m("uTileDimensions"),[E.sizeHeatmapData.primary,E.sizeHeatmapData.secondary]),E.tiles.forEach(T=>{var F;const D=(F=this.bU)===null||F===void 0?void 0:F.tilesInfo.get(T.tileData);if(!D)return;let N=0,V=(T.sizeHeatmapDataVectors.primary-1)*(T.sizeHeatmapDataVectors.secondary-1);if(this.xH){const P=this.xH.fill.iFirstPrimary,b=this.xH.fill.iFirstPrimary+this.xH.fill.amountPrimary-1,M=T.iFirstVector.primary,w=T.iFirstVector.primary+T.sizeHeatmapDataVectors.primary-1;if(M>b||w<P)return;const C=((k,z,H,B)=>se(Math.max(k,H),Math.min(z,B)))(P,b,M,w);N=(C.min-T.iFirstVector.primary)*(E.sizeGeometryData.secondary-1),V=(C.max-C.min)*(E.sizeGeometryData.secondary-1)}if(!(N<0||V<=0)){if((g==null?void 0:g.fillMode)==="intensity"){const{fillStylePaletted:P}=g,b=this.I_.Ja;this.RR.LO(x,P.lut,b).cV(m("uTileIntensityValues"),T.intensityDataTexture,2).FV(m("uTileBoundsAxisXZ"),[D.startLocationAxis.x,D.startLocationAxis.z,D.sizeAxis.x,D.sizeAxis.z])}if((g==null?void 0:g.fillMode)==="xyz"){const{fillStylePaletted:P}=g,b=P.getLookUpProperty()==="x"?{min:this.vt(),max:this.bt()}:P.getLookUpProperty()==="y"?{min:this.xt(),max:this.Mt()}:P.getLookUpProperty()==="z"?{min:this.lS(),max:this.aS()}:void 0;if(!b&&P.lut.percentageValues)return;this.RR.LO(x,P.lut,b)}t!==1&&this.qp.M().type==="phong"&&T.normalmapTexture&&this.RR.cV(m("uNormalmapTexture"),T.normalmapTexture,3),this.RR.lV(o.rectangleLocationsBuffer,0,{location:p("aGeoCellOffset"),size:2},{location:f?p("aTriangleBary"):void 0,size:3}).BV(m("uBaseInstance"),N).uV(m("uTileStartLocationAxisXZ"),[D.startLocationAxis.x,D.startLocationAxis.z]).uV(m("uTileSizeAxisXZ"),[D.sizeAxis.x,D.sizeAxis.z]).cV(m("uHeightmapTexture"),T.heightmapDataTexture,0).QV(o.rectangleLocationsDrawMode,0,o.rectangleLocationsDrawLength,V),A=!0,a.bindBuffer(a.ARRAY_BUFFER,null)}})}),A}),this}dispose(){return super.dispose(),this.I_.dispose(),this._H&&(this._H.gridTileSizes.forEach(t=>{}),this._H.gridTiles.forEach(t=>{this.RR.OR(t.heightmapDataTexture),t.normalmapTexture&&this.RR.OR(t.normalmapTexture)}),this.RR.yV(this._H.rectangleLocationsBuffer),this._H=void 0),this.bG={},this}VR(){return this.dispose(),this.I_.VR(),this}_v(t){return this.I_._v(t),this}wv(t){this.mH.push(t),V5(this.vH.gridTiles,t,e=>e.heightmapData);for(let e=t.startPrimary;e<t.startPrimary+t.lengthPrimary;e+=1)this.SH[e]=void 0;return this.yH=void 0,this}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}Ce(t){return this.be=vu(this.be,t),this.I_.Ce(this.be),this}Eh(){return this.be}mv(t){return this.gv=typeof t=="function"?t(this.gv):t,this}bv(){return this.gv}bt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.MH.max.x)||0}vt(){var t;return((t=this.bU)===null||t===void 0?void 0:t.MH.min.x)||0}Mt(){const t=this.yH||this.kH();return this.yH=t,t.max}xt(){const t=this.yH||this.kH();return this.yH=t,t.min}aS(){var t;return((t=this.bU)===null||t===void 0?void 0:t.MH.max.z)||0}lS(){var t;return((t=this.bU)===null||t===void 0?void 0:t.MH.min.z)||0}vl(){return 0}bl(){return 0}uS(){return 0}kH(){if(this.yH)return this.yH;const t=this.xH?this.xH.fill.iFirstPrimary:0,e=this.xH?t+this.xH.fill.amountPrimary-1:this.Un.primaryDimensionVectorsCount-1;let i=Rt,r=Ft;return this.vH.gridTiles.forEach(n=>{for(let a=Math.max(t,n.iFirstUniqueVector.primary);a<=Math.min(e,n.iFirstUniqueVector.primary+n.sizeUniqueHeatmapDataVectors.primary-1);a+=1){const o=(a-n.iFirstUniqueVector.primary)*n.sizeHeatmapDataVectors.secondary;let l=this.SH[a];if(l)i=i<l.min?i:l.min,r=r>l.max?r:l.max;else{l={min:Rt,max:Ft},this.SH[a]=l;for(let u=0;u<n.sizeHeatmapDataVectors.secondary;u+=1){const d=n.heightmapData[o+u];i=i<d?i:d,r=r>d?r:d,l.min=Math.min(l.min,d),l.max=Math.max(l.max,d)}}}}),this.yH={min:i,max:r},this.yH}}class HP extends al{constructor(t,e,i,r,n,a){super(t,e,i,n,a),this.DY="disabled",this.MU=0,this.wU={},this.Pi={x:0,z:0},this.$w={x:1,z:1},this.Un={...r,scrollDimensionSize:r.scrollDimension==="columns"?r.columns:r.rows,staticDimensionSize:r.scrollDimension==="columns"?r.rows:r.columns},this.MH={min:{x:this.Pi.x,z:this.Pi.z},max:{x:r.scrollDimension==="rows"?this.Pi.x+(r.columns-1)*this.$w.x:this.Pi.x,z:r.scrollDimension==="columns"?this.Pi.z+(r.rows-1)*this.$w.z:this.Pi.z}};const o=()=>({shape:new U5(this.BY,ae,this.Oo,{columns:r.columns+(r.scrollDimension==="columns"?1:0),rows:r.rows+(r.scrollDimension==="rows"?1:0),dataOrder:r.scrollDimension,heatmapDataType:"intensity"},this.gN,this.mN).setVisible(!1),hasData:!1});this.QM=[o(),o()]}Ps(t){this.QM.forEach(r=>{r.shape.Ps(t)});const e=this.QM.reduce((r,n)=>{var a,o;return r.min=Math.min(r.min,Ne((a=n.shape.I_.Ja)===null||a===void 0?void 0:a.min,Rt)),r.max=Math.max(r.max,Ne((o=n.shape.I_.Ja)===null||o===void 0?void 0:o.max,Ft)),r},{min:Rt,max:Ft}),i=this.QM.reduce((r,n)=>{var a,o;return r.min=Math.min(r.min,Ne((a=n.shape.yH)===null||a===void 0?void 0:a.min,Rt)),r.max=Math.max(r.max,Ne((o=n.shape.yH)===null||o===void 0?void 0:o.max,Ft)),r},{min:Rt,max:Ft});return this.QM.forEach(r=>{r.shape.I_.Ja=e,r.shape.yH=i}),this}zL(t){return this.QM.forEach(e=>{e.hasData&&(e.shape.UY=this.UY,e.shape.YY=this.YY,e.shape.HY=this.HY,e.shape.zL(t))}),this}Sv(t,e){return this.Pi=t,this.$w=e,this.QM.forEach(i=>{i.shape.Sv(this.Un.scrollDimension==="columns"?{x:i.shape.vv().start.x,z:this.Pi.z}:{x:this.Pi.x,z:i.shape.vv().start.z},this.$w)}),this.Un.scrollDimension==="columns"?(this.MH.min.z=t.z,this.MH.max.z=this.Pi.z+(this.Un.rows-1)*this.$w.z):(this.MH.min.x=t.x,this.MH.max.x=this.Pi.x+(this.Un.columns-1)*this.$w.x),this}vv(){return{start:this.Pi,step:this.$w}}Nt(){return this.MU=0,this.wU={},this.MH={min:{x:this.Pi.x,z:this.Pi.z},max:{x:this.Un.scrollDimension==="rows"?this.Pi.x+(this.Un.columns-1)*this.$w.x:this.Pi.x,z:this.Un.scrollDimension==="columns"?this.Pi.z+(this.Un.rows-1)*this.$w.z:this.Pi.z}},this.QM.forEach(t=>{t.shape.setVisible(!1),t.shape.pH=!1,t.hasData=!1}),this}Fv(t){var e;const i=this.QM[0],r=this.QM[1],n=t.heightMapValues?t.heightMapValues.length:(e=t.intensityValues)===null||e===void 0?void 0:e.length;let a=0;if(!n)return this;do{const o=Math.floor(this.MU/this.Un.scrollDimensionSize)%this.QM.length,l=this.QM[o],u=this.MU%this.Un.scrollDimensionSize,d=this.Un.scrollDimensionSize-u,f=u===0,g=Math.min(d,n),m=u+g,p=u,x=p+1,v=a,A=a+g,E=this.MU>=this.Un.scrollDimensionSize&&m<=this.Un.scrollDimensionSize-1,T=f;f&&(l.shape.Sv(this.Un.scrollDimension==="columns"?{x:this.Pi.x+(this.MU-1)*this.$w.x,z:this.Pi.z}:{x:this.Pi.x,z:this.Pi.z+(this.MU-1)*this.$w.z},this.$w),l.shape.setVisible(!0));const F=E?0:1,D=m+(E?1:0);l.shape.bH({fill:{iFirstPrimary:F,amountPrimary:D},wireframe:{iFirstPrimary:F,amountPrimary:D,connectNext:!1}});const N=l===i?r:i,V=m+1,P=1+this.Un.scrollDimensionSize-V;N.shape.bH({fill:{iFirstPrimary:V,amountPrimary:P},wireframe:{iFirstPrimary:V,amountPrimary:P-1,connectNext:!0}});const b={};if(t.heightMapValues){const M=t.heightMapValues.slice(v,A);let w=!1;T&&this.wU.yValues&&(w=!0,M.splice(0,0,this.wU.yValues));const C={startPrimary:w?p:x,startSecondary:0,lengthPrimary:M.length,lengthSecondary:this.Un.staticDimensionSize,values:M,type:"y"};l.shape.wv(C),l.hasData=!0,b.yValues=M[g-1]}if(t.intensityValues){const M=t.intensityValues.slice(v,A);let w=!1;T&&this.wU.intensityValues&&(w=!0,M.splice(0,0,this.wU.intensityValues));const C={startPrimary:w?p:x,startSecondary:0,lengthPrimary:M.length,lengthSecondary:this.Un.staticDimensionSize,values:M,type:"intensity"};l.shape._v(C),l.hasData=!0,b.intensityValues=M[g-1]}this.MU+=g,a+=g,this.wU=b}while(a<n);return this.Un.scrollDimension==="columns"?(this.MH.min.x=this.Pi.x+Math.max(this.MU-this.Un.scrollDimensionSize,0)*this.$w.x,this.MH.max.x=this.Pi.x+(this.MU-1)*this.$w.x):(this.MH.min.z=this.Pi.z+Math.max(this.MU-this.Un.scrollDimensionSize,0)*this.$w.z,this.MH.max.z=this.Pi.z+(this.MU-1)*this.$w.z),this}xv(t){return this.QM.forEach(e=>e.shape.xv(t)),this}Mv(){return this.QM[0].shape.Mv()}Ce(t){return this.QM.forEach(e=>e.shape.Ce(t)),this}Eh(){return this.QM[0].shape.Eh()}mv(t){return this.QM.forEach(e=>e.shape.mv(t)),this}bv(){return this.QM[0].shape.bv()}VR(){return this.dispose(),this.QM.forEach(t=>t.shape.VR()),this}dispose(){return super.dispose(),this.QM.forEach(t=>t.shape.dispose()),this}setVisible(t){return super.setVisible(t),this.QM.forEach(e=>e.shape.setVisible(t&&e.hasData)),this}rS(t){return super.rS(t),this.QM.forEach(e=>e.shape.rS(t)),this}bt(){return this.MH.max.x}vt(){return this.MH.min.x}Mt(){return Math.max(this.QM[0].shape.Mt(),this.QM[1].shape.Mt())}xt(){return Math.min(this.QM[0].shape.xt(),this.QM[1].shape.xt())}aS(){return this.MH.max.z}lS(){return this.MH.min.z}vl(){return 0}bl(){return 0}uS(){return 0}cs(t){return super.cs(t),this.QM.forEach(e=>e.shape.cs(t)),this}}class XP extends B5{constructor(t,e,i,r){super(t,e,i),this.TH=45,this.FH=.1,this.IH=100,this.YY=It(0,0,1),this.PH=It(0,0,-1),this.DH=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],this.qp=new zA,this.dt=r}Kv(){const{cellIndex:t,cellSpan:e,cellsAmount:i}=this.dt,r=e.x/i.x,n=e.y/i.y,a=t.x/i.x,o=t.y/i.y,l=this.us.oi();return{x:a*l.x,y:o*l.y,width:r*l.x,height:n*l.y}}setCameraLocation(t){return this.YY=t,this}getCameraLocation(){return this.YY}setCameraDirection(t){return this.PH=gt.normalize(t),this}getCameraDirection(){return this.PH}setLightLocation(t){return this.HY=t,this}getLightLocation(){return this.HY}BH(){return It(this.DH[0],this.DH[1],this.DH[2])}LH(){return It(this.DH[4],this.DH[5],this.DH[6])}}class EE extends XP{constructor(t,e,i,r){super(t,e,i,r),this.aE=new ZB,this.RH=!0,this.rN=t,this.gl=t.oN(),this.MY=this.pY,this.EH=this.us.Co(()=>{this.RH=!0}),this.zH=r.U(()=>{this.RH=!0})}rV(t){const e=t.vt(),i=t.xt(),r=t.lS(),n=t.bt(),a=t.Mt(),o=t.aS();if(e===Rt||n===Ft||i===Rt||a===Ft||r===Rt||o===Ft)return Ie;const l=t.vl(),u=t.bl(),d=t.uS(),f=Math.abs(t.ks.Op(l)*t.dt.x.et()),g=Math.abs(t.ks.Op(u)*t.dt.y.et()),m=Math.abs(t.ks.Op(d)*t.dt.z.et()),p=e-f,x=n+f,v=i-g,A=a+g,E=r-m,T=o+m;let F;return[{x:p,y:v,z:E},{x,y:v,z:E},{x:p,y:A,z:E},{x,y:A,z:E},{x:p,y:v,z:T},{x,y:v,z:T},{x:p,y:A,z:T},{x,y:A,z:T}].map(D=>t.ks.Gp(D)).forEach(D=>{if(!D)return;F=F?ur(F,{min:D,max:D}):{min:D,max:D}}),F||Ie}_Y(t){const e=Array.from(this.MY.values());for(let i=0;i<e.length;i+=1){const r=e[i],n=r.lN(t);if(n)return{entity:r,index:i,collectionMember:n.collectionMember}}}Gp(t){if(this.VH(),this.OH(),!this.UY)return;const e=this.aE.AV(),i=It(e[0],e[1],e[2]),r=this.aE.fV(),n=It(r[0],r[1],r[2]),a=gt.divideVec(gt.subtractVec(t,i),n),o=this.UY,l=Pe.multiply(o,[a.x,a.y,a.z,1]),u=Y(l[0]/l[3],l[1]/l[3]),d=this.us.oi();return{x:.5*(1+u.x)*d.x,y:.5*(1+u.y)*d.y}}ft(t){const e=this.aE.AV(),i=this.aE.fV(),r=gt.divideVec(gt.subtractVec(t,{x:e[0],y:e[1],z:e[2]}),{x:i[0],y:i[1],z:i[2]});return{...t,x:r.x,y:r.y,z:r.z}}yt(t){const e=this.aE.AV(),i=this.aE.fV(),r=gt.addVec(gt.multiplyVec(t,{x:i[0],y:i[1],z:i[2]}),{x:e[0],y:e[1],z:e[2]});return{...t,x:r.x,y:r.y,z:r.z}}Op(t){return t/1e3}iH(){return .001}Ps(){const t=this.YY,e=this.HY,i=this.dt.x.i||this.dt.y.i||this.dt.z.i;if(!e)throw Qn(0,()=>sC());const{viewProjectionMatrix:r}=this.VH();this.OH();const n=[t.x,t.y,t.z],a=[e.x,e.y,e.z];return this.pY.forEach(o=>{o.UY=r,o.YY=n,o.HY=a,o.Ps(i)}),this}VH(){if(!this.RH&&this.UY)return{viewProjectionMatrix:this.UY};const t=this.Kv(),e=t.width/t.height;this.NH=Pe.projectionPerspective(this.TH,e,this.FH,this.IH);const i=this.YY;this.DH[12]=i.x,this.DH[13]=i.y,this.DH[14]=i.z;const r=this.PH,n=It(0,1,0),a=gt.multiply(r,-1),o=gt.normalize(gt.cross(n,a)),l=gt.normalize(gt.cross(a,o));this.DH[0]=o.x,this.DH[1]=o.y,this.DH[2]=o.z,this.DH[4]=l.x,this.DH[5]=l.y,this.DH[6]=l.z,this.DH[8]=a.x,this.DH[9]=a.y,this.DH[10]=a.z,this.GH=Pe.inverse(this.DH);const{cellIndex:u,cellSpan:d,cellsAmount:f}=this.dt,g=d.x/f.x,m=d.y/f.y,p=(u.x+d.x/2)/f.x,x=(u.y+d.y/2)/f.y,v=Pe.multiply(Pe.translation(eh(-1,1,p),eh(-1,1,x),0),Pe.scaling(g,m,1));return this.UY=Pe.multiply(v,Pe.multiply(this.NH,this.GH)),this.WH=Pe.inverse(this.UY),this.RH=!1,{viewProjectionMatrix:this.UY}}OH(){this.aE.KO(this.dt.x),this.aE.qO(this.dt.y),this.aE.tN(this.dt.z)}zL(t,e){const i=this.gl.$z(),r=this.Kv(),n={x:r.x*i*e,y:r.y*i*e,width:r.width*i*e,height:r.height*i*e};return this.gl.hV(n.x,n.y,n.width,n.height),this.pY.forEach(a=>{a.getVisible()&&(this.gl.Kz(a.DY),t!==1&&this.gl.nS(a.iS),(t!==1||a.getMouseInteractions())&&a.zL(t))}),this.gl.Kz("disabled"),this.gl.nS(!1),this.gl.qz(!1),this}setCameraLocation(t){return this.YY.x===t.x&&this.YY.y===t.y&&this.YY.z===t.z||(this.RH=!0),super.setCameraLocation(t),this}setCameraDirection(t){return this.PH.x===t.x&&this.PH.y===t.y&&this.PH.z===t.z||(this.RH=!0),super.setCameraDirection(t),this}W(){super.W(),this.us.ko(this.EH),this.dt.Y(this.zH)}bS(t){const e=this.rN.wY();return this.SY(new GP(this,this.vY,[],e,this.rN.CY(e),t))}rp(t){const e=this.rN.wY();return this.SY(new LP(this,this.vY,t,e,this.rN.CY(e)))}AS(){const t=this.rN.wY();return this.SY(new zP(this,this.vY,[],t,this.rN.CY(t)))}Rv(){const t=this.rN.wY();return this.SY(new OP(this,this.vY,[],t,this.rN.CY(t)))}Lg(){const t=this.rN.wY();return this.SY(new BP(this,this.vY,[],t,this.rN.CY(t)))}yv(t){const e=this.rN.wY();return this.SY(new U5(this,this.vY,[],t,e,this.rN.CY(e)))}Tv(t){const e=this.rN.wY();return this.SY(new HP(this,this.vY,[],t,e,this.rN.CY(e)))}}class WP extends T6{constructor(t,e,i,r=qB){if(super(t,e,i),this.X=wa(1,1),this.UH=!1,this.YH=0,this.HH=!0,this.$H=0,this.tH=8388608,this.$E=[null,null],this.XH=null,this.jH=null,this.ZH=0,this.Qg=!1,this.QH=0,this.Ss=(A=!1)=>(this.$i||this.dn||this.JH()||(A&&(this.UH=!0),this.hn=!0,this.KH||this.Qr.nz(A)),this),this.KH=!1,this.cz=A=>{if(this.$i||this.dn)return;const E=A-this.YH;if(E>=this.Qn||this.Qn===-1){this.KH=!0,this.YH=A,this.UH=!1;const T=E>50?1e3/60:E;this.rn&&this.rn(T),this.hn=!1,this.Qn!==-1&&this.UH&&(this.Qr.nz(this.UH),this.hn=!0),this.ls.Ps(E),this.pn(),this.Sn(),this.nn&&this.nn(),this.KH=!1,this.D.emit("render"),this.hn&&this.Ss(this.UH)}else this.hn=!0,this.Qr.nz()},this.qH=new Map,this.oN=()=>this.RR,this.t$=()=>{var A,E,T;const F=this.On(),D=this.HH,N=ht.performance.now(),V=(A=this.i$)===null||A===void 0?void 0:A.s$.reduce((w,C)=>w?C.e$&&w.e$&&C.e$>w.e$?C:w:C,void 0),P=V==null?void 0:V.e$,b=(E=this.Dn)===null||E===void 0?void 0:E.timeStamp,M=(T=this.xo)===null||T===void 0?void 0:T.timeStamp;return D?(this.Ss(!0),!1):V===void 0||(V===void 0||!V.h$)&&(M!==void 0&&P!==void 0&&M>P||(P!==void 0&&F===void 0?N-P>=1e3:!(P!==void 0&&b!==void 0&&N-b>=2e3)||N-P>=1e3))},this.r$=()=>{var A,E;this.n$=void 0;const T=(E=(A=this.i$)===null||A===void 0?void 0:A.o$)===null||E===void 0?void 0:E.a$;T===void 0||T>=this.$H||this.l$()},this.Sn=()=>{if(this.$i||this.dn)return this;const A=this.RR.gl,E=ht.performance.now();this.RR.sV(A.FRAMEBUFFER,this.Qr.tz?this.$E[0]:null);const T=this.X,F=T.x>0&&T.y>0;if(this.gn.i&&this.RR.qV(this.gn.M()),A.resize&&F&&A.resize(T.x*this.RR.$z(),T.y*this.RR.$z()),this.RR.eV(0,0,T.x*this.RR.$z(),T.y*this.RR.$z()),this.RR.hV(0,0,T.x*this.RR.$z(),T.y*this.RR.$z()),this.RR.Nt(),F)for(const D of this.tn.values())D.zL(0,1);if(this.Un.Xn&&F&&(this.n$&&(ht.clearTimeout(this.n$),this.n$=void 0),this.t$()?(this.l$(),this.RR.sV(A.FRAMEBUFFER,this.Qr.tz?this.$E[0]:null)):this.n$=ht.setTimeout(this.r$,500)),this.j(),this.jr(),this._n&&this.Mn(this._n),this.Qr.tz){const D=this.RR.gl2.ctx;D.bindFramebuffer(D.READ_FRAMEBUFFER,this.$E[0]),D.bindFramebuffer(D.DRAW_FRAMEBUFFER,this.$E[1]),D.clearBufferfv(D.COLOR,0,[1,1,1,1]),D.blitFramebuffer(0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),A.COLOR_BUFFER_BIT,A.LINEAR)}else A.bindTexture(A.TEXTURE_2D,this.NE),A.copyTexImage2D(A.TEXTURE_2D,0,A.RGBA,0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),0),A.bindTexture(A.TEXTURE_2D,null);return this.RR.sV(A.FRAMEBUFFER,null),this.Qr.nz(),this.HH=!1,this.$H=E,this},this.pn=()=>{if(this.u$.mode==="use-window"){const E=ht.devicePixelRatio||1;this.RR.dO(E)}const A=this.X;if(A.x===0||A.y===0)return this;this.oo.q(A);for(const E of this.tn.values())E.Ps();return this.j(),this},this.c$=1,this.Qr=t,this.Qr.KE){this.d$=ht.document.createElement("canvas"),this.d$.style.width="100%",this.d$.style.height="100%",this.d$.style.display="block",this.d$.style.boxSizing="content-box",this.d$.style.position="absolute";const A=this.d$.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!A)throw new zi("No Canvas context available.");this.GE=A,this.Gr.appendChild(this.d$)}this.Qr.Az(this);const n={antialias:e?e.antialias:void 0,lineAntialias:!e||(e.lineAntiAlias===!0||e.lineAntiAlias===!1?e.lineAntiAlias:e.antialias!==!1)};let a;if(this.Qr.tz&&t.gl2&&(a=new r(this,this.Un,{type:"webgl2",ctx:t.gl2.ctx,antialias:n.antialias,lineAntialias:n.lineAntialias},this.qi.isDark)),a||this.Qr.tz||(a=new r(this,this.Un,{type:"webgl1",ctx:t.gl,antialias:n.antialias,lineAntialias:n.lineAntialias},this.qi.isDark)),!a)throw new zi("No WebGL context available");if(this.RR=a,typeof(e==null?void 0:e.devicePixelRatio)=="number")this.u$={mode:"fixed",value:e.devicePixelRatio},this.RR.dO(e.devicePixelRatio);else{const A=ht.document.head.querySelector('meta[name="viewport"]'),E=e.devicePixelRatio===!0||(A==null?void 0:A.content.includes("width=device-width")),T=ht.devicePixelRatio||1;this.u$=E?{mode:"use-window"}:{mode:"fixed",value:T},this.RR.dO(T)}const o=e?e.width:void 0,l=e?e.height:void 0;this.ho=this.f$(o),this.no=this.f$(l),this.A$(this.ho,this.no),this.CU=this.FI("engine offscreen",1e6),this.g$=this.FI("engine bg",0);const u=typeof this.qi.lcjsBackgroundFillStyle=="function"?this.qi.lcjsBackgroundFillStyle(this.Un.$s):this.qi.lcjsBackgroundFillStyle;this.oo=this.g$.ke(this.dt).Ce(u).we(this.qi.lcjsBackgroundStrokeStyle).setMouseInteractions(!1).Fe({x:0,y:0});const d=this.FI("engine effects",200001).kY(this.qi.effect);this.es=d;const f=this.Qr.tz,g=this.oi();f&&(this.$E=[a.vV(),a.vV()]);const m=this.RR.gl;f&&(this.XH=m.createRenderbuffer(),this.jH=m.createRenderbuffer()),this.NE=m.createTexture();const p=g.x*this.RR.$z(),x=g.y*this.RR.$z();if(f){m.bindRenderbuffer(m.RENDERBUFFER,this.XH);const A=this.RR.gl2.ctx;this.ZH=this.Qr.PE&&e.antialias!==!1?A.getParameter(A.MAX_SAMPLES):0,A.renderbufferStorageMultisample(A.RENDERBUFFER,this.ZH,A.RGBA8,p,x),m.bindRenderbuffer(m.RENDERBUFFER,this.jH),m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,p,x),A.renderbufferStorageMultisample(A.RENDERBUFFER,this.ZH,A.DEPTH_COMPONENT16,p,x)}f&&(this.RR.sV(m.FRAMEBUFFER,this.$E[0]),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,this.XH),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,this.jH)),m.bindTexture(m.TEXTURE_2D,this.NE),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,p,x,0,m.RGBA,m.UNSIGNED_BYTE,null),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),f&&(this.RR.sV(m.FRAMEBUFFER,this.$E[1]),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,this.NE,0)),this.RR.sV(m.FRAMEBUFFER,null),this.fn(),this.jr(),this.hm=E6(this),this.rm={qi:this.qi,ls:this.ls,dt:this.dt,Ss:A=>this.Ss(A),On:()=>this.On(),cB:A=>this.cB(A),Un:this.Un,Nn:A=>this.Nn(A),es:this.es,Po:A=>this.Po(A),Do:A=>this.Do(A),Ig:{Fg:(A,E,T)=>this.RR.Vh(E.family).QR(A,E,T,this.qi.isDark)}};const v=()=>{this.W()};ht.addEventListener("unload",v),this.an.push(()=>{ht.removeEventListener("unload",v)})}get m$(){return this.tn}Jr(t,e){let i=this.qH.get(t);if(!i){const n=this.RR.pO(t),a=new Set,o=d=>{a.add(d)},l=d=>{a.delete(d)&&a.size===0&&(n.unbindResources(),this.qH.delete(t))},u=[];i={imageTexture:n,instances:a,handleNewInstance:o,handleInstanceDisposed:l,sharedEngineReference:{dB:()=>n.Dz,fB:d=>{n.Dz?d():u.push(d)}}},this.qH.set(t,i),n.jR(this),n.Oz(()=>{u.forEach(d=>{d()}),u.length=0})}const r=new oV(t,i.handleNewInstance,i.handleInstanceDisposed,e);return i.handleNewInstance(r),r}cB(t){const e=Array.from(this.qH.values()).find(i=>i.instances.has(t));if(!e)throw Qn(0,()=>new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!"));return e.sharedEngineReference}wn(t,e){var i;const r=(i=this.i$)===null||i===void 0?void 0:i.o$;if(!r)return;const n=this.Pe(e.x,e.y),a=Math.round(n.x*this.RR.$z()),o=Math.round(n.y*this.RR.$z());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map(l=>this.y$(r,a+l[0]/r.p$,o+l[1]/r.p$)).reduce((l,u)=>{if(u===void 0)return l||void 0;const d=1e6*u.layerIndex+u.entityIndex;return!l||d>l.zIndexForComparison?{zIndexForComparison:d,entity:u.entity,collectionMember:u.collectionMember}:l},void 0)}y$(t,e,i){const r=Math.round(e*t.p$),n=Math.round(i*t.p$);if(r<0||r>=t.X.x||n<0||n>=t.X.y)return;const a=4*(r+n*t.X.x),o=t.S$[a+0],l=t.S$[a+1],u=t.S$[a+2],d=t.S$[a+3];return o!==void 0&&l!==void 0&&u!==void 0&&d!==void 0?this.v$(o,l,u,d):void 0}Hr(t,e,i){const r=this.RR.gl;this.Qr.tz?(this.RR.sV(r.FRAMEBUFFER,this.$E[1]),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.NE,0)):this.RR.sV(r.FRAMEBUFFER,null);const n=this.OE(),a=n.x,o=n.y,l=new Uint8Array(a*o*4);this.Qr.tz||this.Sn(),r.readPixels(0,0,a,o,r.RGBA,r.UNSIGNED_BYTE,l);const u=new ImageData(new Uint8ClampedArray(l),a,o),d=document.createElement("canvas"),f=d.getContext("2d");if(!f)throw new Error("Failed to create 2D context for saving image.");d.width=a,d.height=o,f.putImageData(u,0,0),f.translate(0,o),f.scale(1,-1),f.drawImage(d,0,0),this.Qr.tz&&(this.RR.sV(r.FRAMEBUFFER,this.$E[0]),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this.XH),this.RR.sV(r.FRAMEBUFFER,this.$E[1]),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.NE,0)),this.RR.sV(r.FRAMEBUFFER,null);const g=d.toDataURL(t,e);return i?g:(m=>{const p=m.split(",")[0].split(":")[1].split(";")[0],x=ht.atob(m.split(",")[1]),v=new Uint8Array(x.length);for(let A=0;A<x.length;A+=1)v[A]=x.charCodeAt(A);return new ht.Blob([v.buffer],{type:p})})(g)}$r(t,e,i=!1){this.fn(Y(Math.round(t),Math.round(e))),this.yn();const r=this.RR.gl.drawingBufferWidth,n=this.RR.gl.drawingBufferHeight,a=new Uint8Array(r*n*4);if(this.RR.gl.readPixels(0,0,r,n,this.RR.gl.RGBA,this.RR.gl.UNSIGNED_BYTE,a),!i){const o=n/2|0,l=4*r,u=new Uint8Array(4*r);for(let d=0;d<o;d+=1){const f=d*l,g=(n-d-1)*l;u.set(a.subarray(f,f+l)),a.copyWithin(f,g,g+l),a.set(u,g)}}return this.en={x:0,y:e},a}mL(t){return this.ho!==void 0?this.ho[0]=t:this.ho=[t,void 0],this.Gr.style.minWidth=`${this.ho[0]}px`,this.fn(),this}pL(t){return this.ho!==void 0?this.ho[1]=t:this.ho=[void 0,t],this.Gr.style.maxWidth=`${this.ho[1]}px`,this.fn(),this}vL(t){return this.no!==void 0?this.no[0]=t:this.no=[t,void 0],this.Gr.style.minHeight=`${this.no[0]}px`,this.fn(),this}xL(t){return this.no!==void 0?this.no[1]=t:this.no=[void 0,t],this.Gr.style.maxHeight=`${this.no[1]}px`,this.fn(),this}A$(t,e){return this.ho=t,this.no=e,this.Gr.style.minWidth=`${this.ho[0]}px`,this.Gr.style.maxWidth=`${this.ho[1]}px`,this.Gr.style.minHeight=`${this.no[0]}px`,this.Gr.style.maxHeight=`${this.no[1]}px`,this.fn(),this}zE(t){return this.Qg!==t&&(this.D.emit("inViewChange",t),this.Qg=t),this}EE(){return this.Qg}gz(t){this.QH=t}fz(){return this.QH}FI(t,e=this.do()){const i=this.co(e);if(i){if(Qn(0,()=>{}),!(i instanceof RE))throw new Error("Unexpected Engine Layer error");return i}return this.vn(new RE(this,e,t))}BI(t,e,i){const r=this.co(e);if(r){if(Qn(0,()=>{}),!(r instanceof EE))throw new Error("Unexpected Engine Layer error");return r}return this.vn(new EE(this,e,t,i))}oi(){return this.X}OE(){const t=this.RR.$z();return{x:Math.round(this.X.x*t),y:Math.round(this.X.y*t)}}f$(t){return t instanceof Array||(t=[t,t]),t}b$(){return this.Qr.WE}JH(){const t=this.RR.gl;return t&&"resize"in t}l$(){var t;const e=this.RR.gl,i=ht.performance.now(),r=this.On(),n=this.Un.$n,a={x:Math.ceil(this.X.x*this.RR.$z()*n),y:Math.ceil(this.X.y*this.RR.$z()*n)};this.i$||(this.i$={p$:n,x$:a,s$:[],o$:void 0});let o=this.i$.s$.find(g=>!g.h$),l=!1;o||(l=!0,o={h$:!1,X:a,PO:e.createTexture(),M$:this.RR.vV(),jH:this.RR.bV(),_$:new Uint8Array,e$:void 0},this.i$.s$.push(o));const u=o;(l||u.X.x!==a.x||u.X.y!==a.y)&&(e.bindTexture(e.TEXTURE_2D,u.PO),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a.x,a.y,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.RR.sV(e.FRAMEBUFFER,u.M$),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,u.PO,0),e.bindRenderbuffer(e.RENDERBUFFER,u.jH),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,a.x,a.y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,u.jH),u._$=new Uint8Array(a.x*a.y*4),u.X=a),u.h$=!0,u.e$=i,this.RR.sV(e.FRAMEBUFFER,u.M$),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.disable(e.BLEND),e.resize&&e.resize(a.x,a.y),this.RR.eV(0,0,a.x,a.y);for(const g of this.tn.values())g.zL(1,n);this.RR.sV(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.enable(e.BLEND);const d=(t=this.RR.gl2)===null||t===void 0?void 0:t.ctx,f=()=>{if(this.i$){const g=this.i$.o$;if(g&&g.a$>i)return;this.i$.o$={a$:i,p$:n,X:a,S$:u._$,w$:r}}};d?this.RR.TO(d,u.M$,0,0,a.x,a.y,e.RGBA,e.UNSIGNED_BYTE,u._$).then(()=>{this.$i||(u.h$=!1,f())}).catch(g=>{this.$i||(u.h$=!1,ht.console.warn(`LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.
Please report this issue to https://lightningchart.com/js-charts/docs/contact`))}):(this.RR.FO(u.M$,0,0,a.x,a.y,e.RGBA,e.UNSIGNED_BYTE,u._$),u.h$=!1,f())}fn(t){if(this.u$.mode==="use-window"){const n=ht.devicePixelRatio||1;this.RR.dO(n)}const e=this.X.x,i=this.X.y,r=t||{x:this.Gr.offsetWidth,y:this.Gr.offsetHeight};if(r.x!==0&&r.y!==0&&(r.x!==e||r.y!==i)){this.X=r,this.dt.x.J(0,r.x).q(r.x),this.dt.y.J(0,r.y).q(r.y);const n=r.x*this.RR.$z(),a=r.y*this.RR.$z(),o=this.RR.gl;this.Qr.KE&&this.GE&&(this.GE.canvas.width=n,this.GE.canvas.height=a);const l=this.Qr.tz;if(this.NE&&(o.bindTexture(o.TEXTURE_2D,this.NE),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n,a,0,o.RGBA,o.UNSIGNED_BYTE,null)),l){const u=this.RR.gl2.ctx;this.XH&&(o.bindRenderbuffer(o.RENDERBUFFER,this.XH),u.renderbufferStorageMultisample(u.RENDERBUFFER,this.ZH,u.RGBA8,n,a)),this.jH&&(o.bindRenderbuffer(o.RENDERBUFFER,this.jH),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,n,a),u.renderbufferStorageMultisample(u.RENDERBUFFER,this.ZH,u.DEPTH_COMPONENT16,n,a))}o.bindRenderbuffer(o.RENDERBUFFER,null),this.D.emit("resize",[this.X.x,this.X.y])}}W(){var t;this.$i||(super.W(),this.n$&&(ht.clearTimeout(this.n$),this.n$=void 0),Array.from(this.RR.bE.entries()).forEach(([e,i])=>{i.VR(!1),this.RR.bE.delete(e)}),Array.from(this.RR.wV.values()).forEach(e=>{e.unbindResources()}),this.RR.wV.clear(),this.RR._V.kz(),this.RR.aO.W(),this.RR.yV(this.RR.lO),this.RR.yV(this.RR.uO),this.RR.hO.forEach((e,i)=>{this.RR.gl.deleteBuffer(i)}),this.RR.hO.clear(),this.RR.MO&&(this.RR.yV(this.RR.MO.buffer),this.RR.MO=void 0),this.RR.MV(this.$E[0]),this.RR.MV(this.$E[1]),this.RR.xV(this.XH),this.RR.OR(this.NE),this.RR.xV(this.jH),this.i$&&(this.i$.s$.forEach(e=>{this.RR.xV(e.jH),this.RR.MV(e.M$),this.RR.OR(e.PO)}),this.i$=void 0),this.RR.iO.forEach(e=>this.RR.yV(e)),this.qH.clear(),this.Qr.mz(this),this.d$&&((t=this.d$.parentElement)===null||t===void 0||t.removeChild(this.d$),this.d$=void 0),this.GE&&(this.GE=void 0),this.RR.gl=void 0)}wY(){const t=this.c$;return t>4294967295&&(console.warn(`LightningChart JS picking ID overflow.
This is an unexpected error that could compromise user interactions on the chart.
Please report the issue to https://lightningchart.com/js-charts/docs/contact!`),this.c$=1),this.c$+=1,t}CY(t){let e=t;const i=Math.floor(e/16777216);e-=16777216*i;const r=Math.floor(e/65536);e-=65536*r;const n=Math.floor(e/256);return e-=256*n,L(i,r,n,e)}v$(t,e,i,r){if(t===0&&e===0&&i===0&&r===0)return;const n=16777216*t+65536*e+256*i+r;for(const a of this.m$.values()){const o=a._Y(n);if(o)return{entity:o.entity,collectionMember:o.collectionMember,entityIndex:o.index,layerIndex:a.bn()}}}}var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},px={exports:{}};(function(s,t){function e(b,M){if(!b)throw new Error(M||"Assertion failed")}function i(b,M){b.super_=M;var w=function(){};w.prototype=M.prototype,b.prototype=new w,b.prototype.constructor=b}function r(b,M,w){if(r.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&(M!=="le"&&M!=="be"||(w=M,M=10),this.Vz(b||0,M||10,w||"be"))}var n;typeof px=="object"?px.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{n=(void 0).Buffer}catch{}function a(b,M,w){for(var C=0,k=Math.min(b.length,w),z=0,H=M;H<k;H++){var B,U=b.charCodeAt(H)-48;C<<=4,C|=B=U>=49&&U<=54?U-49+10:U>=17&&U<=22?U-17+10:U,z|=B}return e(!(240&z),"Invalid character in "+b),C}function o(b,M,w,C){for(var k=0,z=0,H=Math.min(b.length,w),B=M;B<H;B++){var U=b.charCodeAt(B)-48;k*=C,z=U>=49?U-49+10:U>=17?U-17+10:U,e(U>=0&&z<C,"Invalid character"),k+=z}return k}function l(b,M){b.words=M.words,b.length=M.length,b.negative=M.negative,b.red=M.red}if(r.isBN=function(b){return b instanceof r||b!==null&&typeof b=="object"&&b.constructor.wordSize===r.wordSize&&Array.isArray(b.words)},r.max=function(b,M){return b.cmp(M)>0?b:M},r.min=function(b,M){return b.cmp(M)<0?b:M},r.prototype.Vz=function(b,M,w){if(typeof b=="number")return this.C$(b,M,w);if(typeof b=="object")return this.k$(b,M,w);M==="hex"&&(M=16),e(M===(0|M)&&M>=2&&M<=36);var C=0;(b=b.toString().replace(/\s+/g,""))[0]==="-"&&C++,M===16?this.T$(b,C):this.F$(b,M,C),b[0]==="-"&&(this.negative=1),this.I$(),w==="le"&&this.k$(this.toArray(),M,w)},r.prototype.C$=function(b,M,w){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[67108863&b],this.length=1):b<4503599627370496?(this.words=[67108863&b,b/67108864&67108863],this.length=2):(e(b<9007199254740992),this.words=[67108863&b,b/67108864&67108863,1],this.length=3),w==="le"&&this.k$(this.toArray(),M,w)},r.prototype.k$=function(b,M,w){if(e(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k,z,H=0;if(w==="be")for(C=b.length-1,k=0;C>=0;C-=3)z=b[C]|b[C-1]<<8|b[C-2]<<16,this.words[k]|=z<<H&67108863,this.words[k+1]=z>>>26-H&67108863,(H+=24)>=26&&(H-=26,k++);else if(w==="le")for(C=0,k=0;C<b.length;C+=3)z=b[C]|b[C+1]<<8|b[C+2]<<16,this.words[k]|=z<<H&67108863,this.words[k+1]=z>>>26-H&67108863,(H+=24)>=26&&(H-=26,k++);return this.I$()},r.prototype.T$=function(b,M){this.length=Math.ceil((b.length-M)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,k,z=0;for(w=b.length-6,C=0;w>=M;w-=6)k=a(b,w,w+6),this.words[C]|=k<<z&67108863,this.words[C+1]|=k>>>26-z&4194303,(z+=24)>=26&&(z-=26,C++);w+6!==M&&(k=a(b,M,w+6),this.words[C]|=k<<z&67108863,this.words[C+1]|=k>>>26-z&4194303),this.I$()},r.prototype.F$=function(b,M,w){this.words=[0],this.length=1;for(var C=0,k=1;k<=67108863;k*=M)C++;C--,k=k/M|0;for(var z=b.length-w,H=z%C,B=Math.min(z,z-H)+w,U=0,O=w;O<B;O+=C)U=o(b,O,O+C,M),this.imuln(k),this.words[0]+U<67108864?this.words[0]+=U:this.P$(U);if(H!==0){var W=1;for(U=o(b,O,b.length,M),O=0;O<H;O++)W*=M;this.imuln(W),this.words[0]+U<67108864?this.words[0]+=U:this.P$(U)}},r.prototype.copy=function(b){b.words=new Array(this.length);for(var M=0;M<this.length;M++)b.words[M]=this.words[M];b.length=this.length,b.negative=this.negative,b.red=this.red},r.prototype.D$=function(b){l(b,this)},r.prototype.clone=function(){var b=new r(null);return this.copy(b),b},r.prototype.B$=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},r.prototype.I$=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this.L$()},r.prototype.L$=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{r.prototype.inspect=u}else r.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(b,M,w){w.negative=M.negative^b.negative;var C=b.length+M.length|0;w.length=C,C=C-1|0;var k=0|b.words[0],z=0|M.words[0],H=k*z,B=67108863&H,U=H/67108864|0;w.words[0]=B;for(var O=1;O<C;O++){for(var W=U>>>26,I=67108863&U,X=Math.min(O,M.length-1),j=Math.max(0,O-b.length+1);j<=X;j++){var Q=O-j|0;W+=(H=(k=0|b.words[Q])*(z=0|M.words[j])+I)/67108864|0,I=67108863&H}w.words[O]=0|I,U=0|W}return U!==0?w.words[O]=0|U:w.length--,w.I$()}r.prototype.toString=function(b,M){var w;if(M=0|M||1,(b=b||10)===16||b==="hex"){w="";for(var C=0,k=0,z=0;z<this.length;z++){var H=this.words[z],B=(16777215&(H<<C|k)).toString(16);w=(k=H>>>24-C&16777215)!=0||z!==this.length-1?d[6-B.length]+B+w:B+w,(C+=2)>=26&&(C-=26,z--)}for(k!==0&&(w=k.toString(16)+w);w.length%M!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(b===(0|b)&&b>=2&&b<=36){var U=f[b],O=g[b];w="";var W=this.clone();for(W.negative=0;!W.isZero();){var I=W.modrn(O).toString(b);w=(W=W.idivn(O)).isZero()?I+w:d[U-I.length]+I+w}for(this.isZero()&&(w="0"+w);w.length%M!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}e(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=67108864*this.words[1]:this.length===3&&this.words[2]===1?b+=4503599627370496+67108864*this.words[1]:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},r.prototype.toJSON=function(){return this.toString(16,2)},n&&(r.prototype.toBuffer=function(b,M){return this.toArrayLike(n,b,M)}),r.prototype.toArray=function(b,M){return this.toArrayLike(Array,b,M)},r.prototype.toArrayLike=function(b,M,w){this.I$();var C=this.byteLength(),k=w||Math.max(1,C);e(C<=k,"byte array longer than desired length"),e(k>0,"Requested array length <= 0");var z=function(H,B){return H.allocUnsafe?H.allocUnsafe(B):new H(B)}(b,k);return this["_toArrayLike"+(M==="le"?"LE":"BE")](z,C),z},r.prototype.R$=function(b,M){for(var w=0,C=0,k=0,z=0;k<this.length;k++){var H=this.words[k]<<z|C;b[w++]=255&H,w<b.length&&(b[w++]=H>>8&255),w<b.length&&(b[w++]=H>>16&255),z===6?(w<b.length&&(b[w++]=H>>24&255),C=0,z=0):(C=H>>>24,z+=2)}if(w<b.length)for(b[w++]=C;w<b.length;)b[w++]=0},r.prototype.E$=function(b,M){for(var w=b.length-1,C=0,k=0,z=0;k<this.length;k++){var H=this.words[k]<<z|C;b[w--]=255&H,w>=0&&(b[w--]=H>>8&255),w>=0&&(b[w--]=H>>16&255),z===6?(w>=0&&(b[w--]=H>>24&255),C=0,z=0):(C=H>>>24,z+=2)}if(w>=0)for(b[w--]=C;w>=0;)b[w--]=0},Math.clz32?r.prototype.z$=function(b){return 32-Math.clz32(b)}:r.prototype.z$=function(b){var M=b,w=0;return M>=4096&&(w+=13,M>>>=13),M>=64&&(w+=7,M>>>=7),M>=8&&(w+=4,M>>>=4),M>=2&&(w+=2,M>>>=2),w+M},r.prototype.V$=function(b){if(b===0)return 26;var M=b,w=0;return(8191&M)==0&&(w+=13,M>>>=13),(127&M)==0&&(w+=7,M>>>=7),(15&M)==0&&(w+=4,M>>>=4),(3&M)==0&&(w+=2,M>>>=2),(1&M)==0&&w++,w},r.prototype.bitLength=function(){var b=this.words[this.length-1],M=this.z$(b);return 26*(this.length-1)+M},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,M=0;M<this.length;M++){var w=this.V$(this.words[M]);if(b+=w,w!==26)break}return b},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},r.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var M=0;M<b.length;M++)this.words[M]=this.words[M]|b.words[M];return this.I$()},r.prototype.ior=function(b){return e((this.negative|b.negative)==0),this.iuor(b)},r.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},r.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},r.prototype.iuand=function(b){var M;M=this.length>b.length?b:this;for(var w=0;w<M.length;w++)this.words[w]=this.words[w]&b.words[w];return this.length=M.length,this.I$()},r.prototype.iand=function(b){return e((this.negative|b.negative)==0),this.iuand(b)},r.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},r.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},r.prototype.iuxor=function(b){var M,w;this.length>b.length?(M=this,w=b):(M=b,w=this);for(var C=0;C<w.length;C++)this.words[C]=M.words[C]^w.words[C];if(this!==M)for(;C<M.length;C++)this.words[C]=M.words[C];return this.length=M.length,this.I$()},r.prototype.ixor=function(b){return e((this.negative|b.negative)==0),this.iuxor(b)},r.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},r.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},r.prototype.inotn=function(b){e(typeof b=="number"&&b>=0);var M=0|Math.ceil(b/26),w=b%26;this.B$(M),w>0&&M--;for(var C=0;C<M;C++)this.words[C]=67108863&~this.words[C];return w>0&&(this.words[C]=~this.words[C]&67108863>>26-w),this.I$()},r.prototype.notn=function(b){return this.clone().inotn(b)},r.prototype.setn=function(b,M){e(typeof b=="number"&&b>=0);var w=b/26|0,C=b%26;return this.B$(w+1),this.words[w]=M?this.words[w]|1<<C:this.words[w]&~(1<<C),this.I$()},r.prototype.iadd=function(b){var M,w,C;if(this.negative!==0&&b.negative===0)return this.negative=0,M=this.isub(b),this.negative^=1,this.L$();if(this.negative===0&&b.negative!==0)return b.negative=0,M=this.isub(b),b.negative=1,M.L$();this.length>b.length?(w=this,C=b):(w=b,C=this);for(var k=0,z=0;z<C.length;z++)M=(0|w.words[z])+(0|C.words[z])+k,this.words[z]=67108863&M,k=M>>>26;for(;k!==0&&z<w.length;z++)M=(0|w.words[z])+k,this.words[z]=67108863&M,k=M>>>26;if(this.length=w.length,k!==0)this.words[this.length]=k,this.length++;else if(w!==this)for(;z<w.length;z++)this.words[z]=w.words[z];return this},r.prototype.add=function(b){var M;return b.negative!==0&&this.negative===0?(b.negative=0,M=this.sub(b),b.negative^=1,M):b.negative===0&&this.negative!==0?(this.negative=0,M=b.sub(this),this.negative=1,M):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},r.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var M=this.iadd(b);return b.negative=1,M.L$()}if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this.L$();var w,C,k=this.cmp(b);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(w=this,C=b):(w=b,C=this);for(var z=0,H=0;H<C.length;H++)z=(M=(0|w.words[H])-(0|C.words[H])+z)>>26,this.words[H]=67108863&M;for(;z!==0&&H<w.length;H++)z=(M=(0|w.words[H])+z)>>26,this.words[H]=67108863&M;if(z===0&&H<w.length&&w!==this)for(;H<w.length;H++)this.words[H]=w.words[H];return this.length=Math.max(this.length,H),w!==this&&(this.negative=1),this.I$()},r.prototype.sub=function(b){return this.clone().isub(b)};var p=function(b,M,w){var C,k,z,H=b.words,B=M.words,U=w.words,O=0,W=0|H[0],I=8191&W,X=W>>>13,j=0|H[1],Q=8191&j,J=j>>>13,st=0|H[2],nt=8191&st,ct=st>>>13,dt=0|H[3],Tt=8191&dt,At=dt>>>13,Vt=0|H[4],Pt=8191&Vt,jt=Vt>>>13,Jt=0|H[5],_t=8191&Jt,Ct=Jt>>>13,bi=0|H[6],Ee=8191&bi,pe=bi>>>13,gr=0|H[7],Ge=8191&gr,zt=gr>>>13,Dr=0|H[8],ge=8191&Dr,ii=Dr>>>13,Di=0|H[9],Se=8191&Di,Ye=Di>>>13,Mi=0|B[0],je=8191&Mi,He=Mi>>>13,Ao=0|B[1],Xe=8191&Ao,qe=Ao>>>13,Yt=0|B[2],oe=8191&Yt,wt=Yt>>>13,le=0|B[3],kt=8191&le,Ht=le>>>13,ue=0|B[4],ye=8191&ue,De=ue>>>13,sa=0|B[5],hi=8191&sa,Fe=sa>>>13,ra=0|B[6],Ri=8191&ra,li=ra>>>13,Gt=0|B[7],Ot=8191&Gt,ie=Gt>>>13,Xs=0|B[8],ui=8191&Xs,xe=Xs>>>13,hs=0|B[9],We=8191&hs,Be=hs>>>13;w.negative=b.negative^M.negative,w.length=19;var Zi=(O+(C=Math.imul(I,je))|0)+((8191&(k=(k=Math.imul(I,He))+Math.imul(X,je)|0))<<13)|0;O=((z=Math.imul(X,He))+(k>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,C=Math.imul(Q,je),k=(k=Math.imul(Q,He))+Math.imul(J,je)|0,z=Math.imul(J,He);var Yi=(O+(C=C+Math.imul(I,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(I,qe)|0)+Math.imul(X,Xe)|0))<<13)|0;O=((z=z+Math.imul(X,qe)|0)+(k>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,C=Math.imul(nt,je),k=(k=Math.imul(nt,He))+Math.imul(ct,je)|0,z=Math.imul(ct,He),C=C+Math.imul(Q,Xe)|0,k=(k=k+Math.imul(Q,qe)|0)+Math.imul(J,Xe)|0,z=z+Math.imul(J,qe)|0;var ps=(O+(C=C+Math.imul(I,oe)|0)|0)+((8191&(k=(k=k+Math.imul(I,wt)|0)+Math.imul(X,oe)|0))<<13)|0;O=((z=z+Math.imul(X,wt)|0)+(k>>>13)|0)+(ps>>>26)|0,ps&=67108863,C=Math.imul(Tt,je),k=(k=Math.imul(Tt,He))+Math.imul(At,je)|0,z=Math.imul(At,He),C=C+Math.imul(nt,Xe)|0,k=(k=k+Math.imul(nt,qe)|0)+Math.imul(ct,Xe)|0,z=z+Math.imul(ct,qe)|0,C=C+Math.imul(Q,oe)|0,k=(k=k+Math.imul(Q,wt)|0)+Math.imul(J,oe)|0,z=z+Math.imul(J,wt)|0;var Qi=(O+(C=C+Math.imul(I,kt)|0)|0)+((8191&(k=(k=k+Math.imul(I,Ht)|0)+Math.imul(X,kt)|0))<<13)|0;O=((z=z+Math.imul(X,Ht)|0)+(k>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,C=Math.imul(Pt,je),k=(k=Math.imul(Pt,He))+Math.imul(jt,je)|0,z=Math.imul(jt,He),C=C+Math.imul(Tt,Xe)|0,k=(k=k+Math.imul(Tt,qe)|0)+Math.imul(At,Xe)|0,z=z+Math.imul(At,qe)|0,C=C+Math.imul(nt,oe)|0,k=(k=k+Math.imul(nt,wt)|0)+Math.imul(ct,oe)|0,z=z+Math.imul(ct,wt)|0,C=C+Math.imul(Q,kt)|0,k=(k=k+Math.imul(Q,Ht)|0)+Math.imul(J,kt)|0,z=z+Math.imul(J,Ht)|0;var Mt=(O+(C=C+Math.imul(I,ye)|0)|0)+((8191&(k=(k=k+Math.imul(I,De)|0)+Math.imul(X,ye)|0))<<13)|0;O=((z=z+Math.imul(X,De)|0)+(k>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,C=Math.imul(_t,je),k=(k=Math.imul(_t,He))+Math.imul(Ct,je)|0,z=Math.imul(Ct,He),C=C+Math.imul(Pt,Xe)|0,k=(k=k+Math.imul(Pt,qe)|0)+Math.imul(jt,Xe)|0,z=z+Math.imul(jt,qe)|0,C=C+Math.imul(Tt,oe)|0,k=(k=k+Math.imul(Tt,wt)|0)+Math.imul(At,oe)|0,z=z+Math.imul(At,wt)|0,C=C+Math.imul(nt,kt)|0,k=(k=k+Math.imul(nt,Ht)|0)+Math.imul(ct,kt)|0,z=z+Math.imul(ct,Ht)|0,C=C+Math.imul(Q,ye)|0,k=(k=k+Math.imul(Q,De)|0)+Math.imul(J,ye)|0,z=z+Math.imul(J,De)|0;var $t=(O+(C=C+Math.imul(I,hi)|0)|0)+((8191&(k=(k=k+Math.imul(I,Fe)|0)+Math.imul(X,hi)|0))<<13)|0;O=((z=z+Math.imul(X,Fe)|0)+(k>>>13)|0)+($t>>>26)|0,$t&=67108863,C=Math.imul(Ee,je),k=(k=Math.imul(Ee,He))+Math.imul(pe,je)|0,z=Math.imul(pe,He),C=C+Math.imul(_t,Xe)|0,k=(k=k+Math.imul(_t,qe)|0)+Math.imul(Ct,Xe)|0,z=z+Math.imul(Ct,qe)|0,C=C+Math.imul(Pt,oe)|0,k=(k=k+Math.imul(Pt,wt)|0)+Math.imul(jt,oe)|0,z=z+Math.imul(jt,wt)|0,C=C+Math.imul(Tt,kt)|0,k=(k=k+Math.imul(Tt,Ht)|0)+Math.imul(At,kt)|0,z=z+Math.imul(At,Ht)|0,C=C+Math.imul(nt,ye)|0,k=(k=k+Math.imul(nt,De)|0)+Math.imul(ct,ye)|0,z=z+Math.imul(ct,De)|0,C=C+Math.imul(Q,hi)|0,k=(k=k+Math.imul(Q,Fe)|0)+Math.imul(J,hi)|0,z=z+Math.imul(J,Fe)|0;var yr=(O+(C=C+Math.imul(I,Ri)|0)|0)+((8191&(k=(k=k+Math.imul(I,li)|0)+Math.imul(X,Ri)|0))<<13)|0;O=((z=z+Math.imul(X,li)|0)+(k>>>13)|0)+(yr>>>26)|0,yr&=67108863,C=Math.imul(Ge,je),k=(k=Math.imul(Ge,He))+Math.imul(zt,je)|0,z=Math.imul(zt,He),C=C+Math.imul(Ee,Xe)|0,k=(k=k+Math.imul(Ee,qe)|0)+Math.imul(pe,Xe)|0,z=z+Math.imul(pe,qe)|0,C=C+Math.imul(_t,oe)|0,k=(k=k+Math.imul(_t,wt)|0)+Math.imul(Ct,oe)|0,z=z+Math.imul(Ct,wt)|0,C=C+Math.imul(Pt,kt)|0,k=(k=k+Math.imul(Pt,Ht)|0)+Math.imul(jt,kt)|0,z=z+Math.imul(jt,Ht)|0,C=C+Math.imul(Tt,ye)|0,k=(k=k+Math.imul(Tt,De)|0)+Math.imul(At,ye)|0,z=z+Math.imul(At,De)|0,C=C+Math.imul(nt,hi)|0,k=(k=k+Math.imul(nt,Fe)|0)+Math.imul(ct,hi)|0,z=z+Math.imul(ct,Fe)|0,C=C+Math.imul(Q,Ri)|0,k=(k=k+Math.imul(Q,li)|0)+Math.imul(J,Ri)|0,z=z+Math.imul(J,li)|0;var Hi=(O+(C=C+Math.imul(I,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(I,ie)|0)+Math.imul(X,Ot)|0))<<13)|0;O=((z=z+Math.imul(X,ie)|0)+(k>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,C=Math.imul(ge,je),k=(k=Math.imul(ge,He))+Math.imul(ii,je)|0,z=Math.imul(ii,He),C=C+Math.imul(Ge,Xe)|0,k=(k=k+Math.imul(Ge,qe)|0)+Math.imul(zt,Xe)|0,z=z+Math.imul(zt,qe)|0,C=C+Math.imul(Ee,oe)|0,k=(k=k+Math.imul(Ee,wt)|0)+Math.imul(pe,oe)|0,z=z+Math.imul(pe,wt)|0,C=C+Math.imul(_t,kt)|0,k=(k=k+Math.imul(_t,Ht)|0)+Math.imul(Ct,kt)|0,z=z+Math.imul(Ct,Ht)|0,C=C+Math.imul(Pt,ye)|0,k=(k=k+Math.imul(Pt,De)|0)+Math.imul(jt,ye)|0,z=z+Math.imul(jt,De)|0,C=C+Math.imul(Tt,hi)|0,k=(k=k+Math.imul(Tt,Fe)|0)+Math.imul(At,hi)|0,z=z+Math.imul(At,Fe)|0,C=C+Math.imul(nt,Ri)|0,k=(k=k+Math.imul(nt,li)|0)+Math.imul(ct,Ri)|0,z=z+Math.imul(ct,li)|0,C=C+Math.imul(Q,Ot)|0,k=(k=k+Math.imul(Q,ie)|0)+Math.imul(J,Ot)|0,z=z+Math.imul(J,ie)|0;var Xi=(O+(C=C+Math.imul(I,ui)|0)|0)+((8191&(k=(k=k+Math.imul(I,xe)|0)+Math.imul(X,ui)|0))<<13)|0;O=((z=z+Math.imul(X,xe)|0)+(k>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,C=Math.imul(Se,je),k=(k=Math.imul(Se,He))+Math.imul(Ye,je)|0,z=Math.imul(Ye,He),C=C+Math.imul(ge,Xe)|0,k=(k=k+Math.imul(ge,qe)|0)+Math.imul(ii,Xe)|0,z=z+Math.imul(ii,qe)|0,C=C+Math.imul(Ge,oe)|0,k=(k=k+Math.imul(Ge,wt)|0)+Math.imul(zt,oe)|0,z=z+Math.imul(zt,wt)|0,C=C+Math.imul(Ee,kt)|0,k=(k=k+Math.imul(Ee,Ht)|0)+Math.imul(pe,kt)|0,z=z+Math.imul(pe,Ht)|0,C=C+Math.imul(_t,ye)|0,k=(k=k+Math.imul(_t,De)|0)+Math.imul(Ct,ye)|0,z=z+Math.imul(Ct,De)|0,C=C+Math.imul(Pt,hi)|0,k=(k=k+Math.imul(Pt,Fe)|0)+Math.imul(jt,hi)|0,z=z+Math.imul(jt,Fe)|0,C=C+Math.imul(Tt,Ri)|0,k=(k=k+Math.imul(Tt,li)|0)+Math.imul(At,Ri)|0,z=z+Math.imul(At,li)|0,C=C+Math.imul(nt,Ot)|0,k=(k=k+Math.imul(nt,ie)|0)+Math.imul(ct,Ot)|0,z=z+Math.imul(ct,ie)|0,C=C+Math.imul(Q,ui)|0,k=(k=k+Math.imul(Q,xe)|0)+Math.imul(J,ui)|0,z=z+Math.imul(J,xe)|0;var Wi=(O+(C=C+Math.imul(I,We)|0)|0)+((8191&(k=(k=k+Math.imul(I,Be)|0)+Math.imul(X,We)|0))<<13)|0;O=((z=z+Math.imul(X,Be)|0)+(k>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,C=Math.imul(Se,Xe),k=(k=Math.imul(Se,qe))+Math.imul(Ye,Xe)|0,z=Math.imul(Ye,qe),C=C+Math.imul(ge,oe)|0,k=(k=k+Math.imul(ge,wt)|0)+Math.imul(ii,oe)|0,z=z+Math.imul(ii,wt)|0,C=C+Math.imul(Ge,kt)|0,k=(k=k+Math.imul(Ge,Ht)|0)+Math.imul(zt,kt)|0,z=z+Math.imul(zt,Ht)|0,C=C+Math.imul(Ee,ye)|0,k=(k=k+Math.imul(Ee,De)|0)+Math.imul(pe,ye)|0,z=z+Math.imul(pe,De)|0,C=C+Math.imul(_t,hi)|0,k=(k=k+Math.imul(_t,Fe)|0)+Math.imul(Ct,hi)|0,z=z+Math.imul(Ct,Fe)|0,C=C+Math.imul(Pt,Ri)|0,k=(k=k+Math.imul(Pt,li)|0)+Math.imul(jt,Ri)|0,z=z+Math.imul(jt,li)|0,C=C+Math.imul(Tt,Ot)|0,k=(k=k+Math.imul(Tt,ie)|0)+Math.imul(At,Ot)|0,z=z+Math.imul(At,ie)|0,C=C+Math.imul(nt,ui)|0,k=(k=k+Math.imul(nt,xe)|0)+Math.imul(ct,ui)|0,z=z+Math.imul(ct,xe)|0;var ls=(O+(C=C+Math.imul(Q,We)|0)|0)+((8191&(k=(k=k+Math.imul(Q,Be)|0)+Math.imul(J,We)|0))<<13)|0;O=((z=z+Math.imul(J,Be)|0)+(k>>>13)|0)+(ls>>>26)|0,ls&=67108863,C=Math.imul(Se,oe),k=(k=Math.imul(Se,wt))+Math.imul(Ye,oe)|0,z=Math.imul(Ye,wt),C=C+Math.imul(ge,kt)|0,k=(k=k+Math.imul(ge,Ht)|0)+Math.imul(ii,kt)|0,z=z+Math.imul(ii,Ht)|0,C=C+Math.imul(Ge,ye)|0,k=(k=k+Math.imul(Ge,De)|0)+Math.imul(zt,ye)|0,z=z+Math.imul(zt,De)|0,C=C+Math.imul(Ee,hi)|0,k=(k=k+Math.imul(Ee,Fe)|0)+Math.imul(pe,hi)|0,z=z+Math.imul(pe,Fe)|0,C=C+Math.imul(_t,Ri)|0,k=(k=k+Math.imul(_t,li)|0)+Math.imul(Ct,Ri)|0,z=z+Math.imul(Ct,li)|0,C=C+Math.imul(Pt,Ot)|0,k=(k=k+Math.imul(Pt,ie)|0)+Math.imul(jt,Ot)|0,z=z+Math.imul(jt,ie)|0,C=C+Math.imul(Tt,ui)|0,k=(k=k+Math.imul(Tt,xe)|0)+Math.imul(At,ui)|0,z=z+Math.imul(At,xe)|0;var Qr=(O+(C=C+Math.imul(nt,We)|0)|0)+((8191&(k=(k=k+Math.imul(nt,Be)|0)+Math.imul(ct,We)|0))<<13)|0;O=((z=z+Math.imul(ct,Be)|0)+(k>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,C=Math.imul(Se,kt),k=(k=Math.imul(Se,Ht))+Math.imul(Ye,kt)|0,z=Math.imul(Ye,Ht),C=C+Math.imul(ge,ye)|0,k=(k=k+Math.imul(ge,De)|0)+Math.imul(ii,ye)|0,z=z+Math.imul(ii,De)|0,C=C+Math.imul(Ge,hi)|0,k=(k=k+Math.imul(Ge,Fe)|0)+Math.imul(zt,hi)|0,z=z+Math.imul(zt,Fe)|0,C=C+Math.imul(Ee,Ri)|0,k=(k=k+Math.imul(Ee,li)|0)+Math.imul(pe,Ri)|0,z=z+Math.imul(pe,li)|0,C=C+Math.imul(_t,Ot)|0,k=(k=k+Math.imul(_t,ie)|0)+Math.imul(Ct,Ot)|0,z=z+Math.imul(Ct,ie)|0,C=C+Math.imul(Pt,ui)|0,k=(k=k+Math.imul(Pt,xe)|0)+Math.imul(jt,ui)|0,z=z+Math.imul(jt,xe)|0;var Kr=(O+(C=C+Math.imul(Tt,We)|0)|0)+((8191&(k=(k=k+Math.imul(Tt,Be)|0)+Math.imul(At,We)|0))<<13)|0;O=((z=z+Math.imul(At,Be)|0)+(k>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,C=Math.imul(Se,ye),k=(k=Math.imul(Se,De))+Math.imul(Ye,ye)|0,z=Math.imul(Ye,De),C=C+Math.imul(ge,hi)|0,k=(k=k+Math.imul(ge,Fe)|0)+Math.imul(ii,hi)|0,z=z+Math.imul(ii,Fe)|0,C=C+Math.imul(Ge,Ri)|0,k=(k=k+Math.imul(Ge,li)|0)+Math.imul(zt,Ri)|0,z=z+Math.imul(zt,li)|0,C=C+Math.imul(Ee,Ot)|0,k=(k=k+Math.imul(Ee,ie)|0)+Math.imul(pe,Ot)|0,z=z+Math.imul(pe,ie)|0,C=C+Math.imul(_t,ui)|0,k=(k=k+Math.imul(_t,xe)|0)+Math.imul(Ct,ui)|0,z=z+Math.imul(Ct,xe)|0;var vo=(O+(C=C+Math.imul(Pt,We)|0)|0)+((8191&(k=(k=k+Math.imul(Pt,Be)|0)+Math.imul(jt,We)|0))<<13)|0;O=((z=z+Math.imul(jt,Be)|0)+(k>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(Se,hi),k=(k=Math.imul(Se,Fe))+Math.imul(Ye,hi)|0,z=Math.imul(Ye,Fe),C=C+Math.imul(ge,Ri)|0,k=(k=k+Math.imul(ge,li)|0)+Math.imul(ii,Ri)|0,z=z+Math.imul(ii,li)|0,C=C+Math.imul(Ge,Ot)|0,k=(k=k+Math.imul(Ge,ie)|0)+Math.imul(zt,Ot)|0,z=z+Math.imul(zt,ie)|0,C=C+Math.imul(Ee,ui)|0,k=(k=k+Math.imul(Ee,xe)|0)+Math.imul(pe,ui)|0,z=z+Math.imul(pe,xe)|0;var vn=(O+(C=C+Math.imul(_t,We)|0)|0)+((8191&(k=(k=k+Math.imul(_t,Be)|0)+Math.imul(Ct,We)|0))<<13)|0;O=((z=z+Math.imul(Ct,Be)|0)+(k>>>13)|0)+(vn>>>26)|0,vn&=67108863,C=Math.imul(Se,Ri),k=(k=Math.imul(Se,li))+Math.imul(Ye,Ri)|0,z=Math.imul(Ye,li),C=C+Math.imul(ge,Ot)|0,k=(k=k+Math.imul(ge,ie)|0)+Math.imul(ii,Ot)|0,z=z+Math.imul(ii,ie)|0,C=C+Math.imul(Ge,ui)|0,k=(k=k+Math.imul(Ge,xe)|0)+Math.imul(zt,ui)|0,z=z+Math.imul(zt,xe)|0;var bn=(O+(C=C+Math.imul(Ee,We)|0)|0)+((8191&(k=(k=k+Math.imul(Ee,Be)|0)+Math.imul(pe,We)|0))<<13)|0;O=((z=z+Math.imul(pe,Be)|0)+(k>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(Se,Ot),k=(k=Math.imul(Se,ie))+Math.imul(Ye,Ot)|0,z=Math.imul(Ye,ie),C=C+Math.imul(ge,ui)|0,k=(k=k+Math.imul(ge,xe)|0)+Math.imul(ii,ui)|0,z=z+Math.imul(ii,xe)|0;var Te=(O+(C=C+Math.imul(Ge,We)|0)|0)+((8191&(k=(k=k+Math.imul(Ge,Be)|0)+Math.imul(zt,We)|0))<<13)|0;O=((z=z+Math.imul(zt,Be)|0)+(k>>>13)|0)+(Te>>>26)|0,Te&=67108863,C=Math.imul(Se,ui),k=(k=Math.imul(Se,xe))+Math.imul(Ye,ui)|0,z=Math.imul(Ye,xe);var Ws=(O+(C=C+Math.imul(ge,We)|0)|0)+((8191&(k=(k=k+Math.imul(ge,Be)|0)+Math.imul(ii,We)|0))<<13)|0;O=((z=z+Math.imul(ii,Be)|0)+(k>>>13)|0)+(Ws>>>26)|0,Ws&=67108863;var Pa=(O+(C=Math.imul(Se,We))|0)+((8191&(k=(k=Math.imul(Se,Be))+Math.imul(Ye,We)|0))<<13)|0;return O=((z=Math.imul(Ye,Be))+(k>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,U[0]=Zi,U[1]=Yi,U[2]=ps,U[3]=Qi,U[4]=Mt,U[5]=$t,U[6]=yr,U[7]=Hi,U[8]=Xi,U[9]=Wi,U[10]=ls,U[11]=Qr,U[12]=Kr,U[13]=vo,U[14]=vn,U[15]=bn,U[16]=Te,U[17]=Ws,U[18]=Pa,O!==0&&(U[19]=O,w.length++),w};function x(b,M,w){w.negative=M.negative^b.negative,w.length=b.length+M.length;for(var C=0,k=0,z=0;z<w.length-1;z++){var H=k;k=0;for(var B=67108863&C,U=Math.min(z,M.length-1),O=Math.max(0,z-b.length+1);O<=U;O++){var W=z-O,I=(0|b.words[W])*(0|M.words[O]),X=67108863&I;B=67108863&(X=X+B|0),k+=(H=(H=H+(I/67108864|0)|0)+(X>>>26)|0)>>>26,H&=67108863}w.words[z]=B,C=H,H=k}return C!==0?w.words[z]=C:w.length--,w.I$()}function v(b,M,w){return x(b,M,w)}Math.imul||(p=m),r.prototype.mulTo=function(b,M){var w=this.length+b.length;return this.length===10&&b.length===10?p(this,b,M):w<63?m(this,b,M):w<1024?x(this,b,M):v(this,b,M)},r.prototype.mul=function(b){var M=new r(null);return M.words=new Array(this.length+b.length),this.mulTo(b,M)},r.prototype.mulf=function(b){var M=new r(null);return M.words=new Array(this.length+b.length),v(this,b,M)},r.prototype.imul=function(b){return this.clone().mulTo(b,this)},r.prototype.imuln=function(b){var M=b<0;M&&(b=-b),e(typeof b=="number"),e(b<67108864);for(var w=0,C=0;C<this.length;C++){var k=(0|this.words[C])*b,z=(67108863&k)+(67108863&w);w>>=26,w+=k/67108864|0,w+=z>>>26,this.words[C]=67108863&z}return w!==0&&(this.words[C]=w,this.length++),M?this.ineg():this},r.prototype.muln=function(b){return this.clone().imuln(b)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(b){var M=function(z){for(var H=new Array(z.bitLength()),B=0;B<H.length;B++){var U=B/26|0,O=B%26;H[B]=z.words[U]>>>O&1}return H}(b);if(M.length===0)return new r(1);for(var w=this,C=0;C<M.length&&M[C]===0;C++,w=w.sqr());if(++C<M.length)for(var k=w.sqr();C<M.length;C++,k=k.sqr())M[C]!==0&&(w=w.mul(k));return w},r.prototype.iushln=function(b){e(typeof b=="number"&&b>=0);var M,w=b%26,C=(b-w)/26,k=67108863>>>26-w<<26-w;if(w!==0){var z=0;for(M=0;M<this.length;M++){var H=this.words[M]&k,B=(0|this.words[M])-H<<w;this.words[M]=B|z,z=H>>>26-w}z&&(this.words[M]=z,this.length++)}if(C!==0){for(M=this.length-1;M>=0;M--)this.words[M+C]=this.words[M];for(M=0;M<C;M++)this.words[M]=0;this.length+=C}return this.I$()},r.prototype.ishln=function(b){return e(this.negative===0),this.iushln(b)},r.prototype.iushrn=function(b,M,w){var C;e(typeof b=="number"&&b>=0),C=M?(M-M%26)/26:0;var k=b%26,z=Math.min((b-k)/26,this.length),H=67108863^67108863>>>k<<k,B=w;if(C-=z,C=Math.max(0,C),B){for(var U=0;U<z;U++)B.words[U]=this.words[U];B.length=z}if(z!==0)if(this.length>z)for(this.length-=z,U=0;U<this.length;U++)this.words[U]=this.words[U+z];else this.words[0]=0,this.length=1;var O=0;for(U=this.length-1;U>=0&&(O!==0||U>=C);U--){var W=0|this.words[U];this.words[U]=O<<26-k|W>>>k,O=W&H}return B&&O!==0&&(B.words[B.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.I$()},r.prototype.ishrn=function(b,M,w){return e(this.negative===0),this.iushrn(b,M,w)},r.prototype.shln=function(b){return this.clone().ishln(b)},r.prototype.ushln=function(b){return this.clone().iushln(b)},r.prototype.shrn=function(b){return this.clone().ishrn(b)},r.prototype.ushrn=function(b){return this.clone().iushrn(b)},r.prototype.testn=function(b){e(typeof b=="number"&&b>=0);var M=b%26,w=(b-M)/26,C=1<<M;return!(this.length<=w||!(this.words[w]&C))},r.prototype.imaskn=function(b){e(typeof b=="number"&&b>=0);var M=b%26,w=(b-M)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(M!==0&&w++,this.length=Math.min(w,this.length),M!==0){var C=67108863^67108863>>>M<<M;this.words[this.length-1]&=C}return this.I$()},r.prototype.maskn=function(b){return this.clone().imaskn(b)},r.prototype.iaddn=function(b){return e(typeof b=="number"),e(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(0|this.words[0])<=b?(this.words[0]=b-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this.P$(b)},r.prototype.P$=function(b){this.words[0]+=b;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},r.prototype.isubn=function(b){if(e(typeof b=="number"),e(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.I$()},r.prototype.addn=function(b){return this.clone().iaddn(b)},r.prototype.subn=function(b){return this.clone().isubn(b)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype.O$=function(b,M,w){var C,k,z=b.length+w;this.B$(z);var H=0;for(C=0;C<b.length;C++){k=(0|this.words[C+w])+H;var B=(0|b.words[C])*M;H=((k-=67108863&B)>>26)-(B/67108864|0),this.words[C+w]=67108863&k}for(;C<this.length-w;C++)H=(k=(0|this.words[C+w])+H)>>26,this.words[C+w]=67108863&k;if(H===0)return this.I$();for(e(H===-1),H=0,C=0;C<this.length;C++)H=(k=-(0|this.words[C])+H)>>26,this.words[C]=67108863&k;return this.negative=1,this.I$()},r.prototype.N$=function(b,M){var w=(this.length,b.length),C=this.clone(),k=b,z=0|k.words[k.length-1];(w=26-this.z$(z))!=0&&(k=k.ushln(w),C.iushln(w),z=0|k.words[k.length-1]);var H,B=C.length-k.length;if(M!=="mod"){(H=new r(null)).length=B+1,H.words=new Array(H.length);for(var U=0;U<H.length;U++)H.words[U]=0}var O=C.clone().O$(k,1,B);O.negative===0&&(C=O,H&&(H.words[B]=1));for(var W=B-1;W>=0;W--){var I=67108864*(0|C.words[k.length+W])+(0|C.words[k.length+W-1]);for(I=Math.min(I/z|0,67108863),C.O$(k,I,W);C.negative!==0;)I--,C.negative=0,C.O$(k,1,W),C.isZero()||(C.negative^=1);H&&(H.words[W]=I)}return H&&H.I$(),C.I$(),M!=="div"&&w!==0&&C.iushrn(w),{div:H||null,mod:C}},r.prototype.divmod=function(b,M,w){return e(!b.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,M),M!=="mod"&&(C=z.div.neg()),M!=="div"&&(k=z.mod.neg(),w&&k.negative!==0&&k.iadd(b)),{div:C,mod:k}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),M),M!=="mod"&&(C=z.div.neg()),{div:C,mod:z.mod}):(this.negative&b.negative)!=0?(z=this.neg().divmod(b.neg(),M),M!=="div"&&(k=z.mod.neg(),w&&k.negative!==0&&k.isub(b)),{div:z.div,mod:k}):b.length>this.length||this.cmp(b)<0?{div:new r(0),mod:this}:b.length===1?M==="div"?{div:this.divn(b.words[0]),mod:null}:M==="mod"?{div:null,mod:new r(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new r(this.modrn(b.words[0]))}:this.N$(b,M);var C,k,z},r.prototype.div=function(b){return this.divmod(b,"div",!1).div},r.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},r.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},r.prototype.divRound=function(b){var M=this.divmod(b);if(M.mod.isZero())return M.div;var w=M.div.negative!==0?M.mod.isub(b):M.mod,C=b.ushrn(1),k=b.andln(1),z=w.cmp(C);return z<0||k===1&&z===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},r.prototype.modrn=function(b){var M=b<0;M&&(b=-b),e(b<=67108863);for(var w=(1<<26)%b,C=0,k=this.length-1;k>=0;k--)C=(w*C+(0|this.words[k]))%b;return M?-C:C},r.prototype.modn=function(b){return this.modrn(b)},r.prototype.idivn=function(b){var M=b<0;M&&(b=-b),e(b<=67108863);for(var w=0,C=this.length-1;C>=0;C--){var k=(0|this.words[C])+67108864*w;this.words[C]=k/b|0,w=k%b}return this.I$(),M?this.ineg():this},r.prototype.divn=function(b){return this.clone().idivn(b)},r.prototype.egcd=function(b){e(b.negative===0),e(!b.isZero());var M=this,w=b.clone();M=M.negative!==0?M.umod(b):M.clone();for(var C=new r(1),k=new r(0),z=new r(0),H=new r(1),B=0;M.isEven()&&w.isEven();)M.iushrn(1),w.iushrn(1),++B;for(var U=w.clone(),O=M.clone();!M.isZero();){for(var W=0,I=1;(M.words[0]&I)==0&&W<26;++W,I<<=1);if(W>0)for(M.iushrn(W);W-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(U),k.isub(O)),C.iushrn(1),k.iushrn(1);for(var X=0,j=1;(w.words[0]&j)==0&&X<26;++X,j<<=1);if(X>0)for(w.iushrn(X);X-- >0;)(z.isOdd()||H.isOdd())&&(z.iadd(U),H.isub(O)),z.iushrn(1),H.iushrn(1);M.cmp(w)>=0?(M.isub(w),C.isub(z),k.isub(H)):(w.isub(M),z.isub(C),H.isub(k))}return{a:z,b:H,gcd:w.iushln(B)}},r.prototype.G$=function(b){e(b.negative===0),e(!b.isZero());var M=this,w=b.clone();M=M.negative!==0?M.umod(b):M.clone();for(var C,k=new r(1),z=new r(0),H=w.clone();M.cmpn(1)>0&&w.cmpn(1)>0;){for(var B=0,U=1;(M.words[0]&U)==0&&B<26;++B,U<<=1);if(B>0)for(M.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(H),k.iushrn(1);for(var O=0,W=1;(w.words[0]&W)==0&&O<26;++O,W<<=1);if(O>0)for(w.iushrn(O);O-- >0;)z.isOdd()&&z.iadd(H),z.iushrn(1);M.cmp(w)>=0?(M.isub(w),k.isub(z)):(w.isub(M),z.isub(k))}return(C=M.cmpn(1)===0?k:z).cmpn(0)<0&&C.iadd(b),C},r.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var M=this.clone(),w=b.clone();M.negative=0,w.negative=0;for(var C=0;M.isEven()&&w.isEven();C++)M.iushrn(1),w.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;w.isEven();)w.iushrn(1);var k=M.cmp(w);if(k<0){var z=M;M=w,w=z}else if(k===0||w.cmpn(1)===0)break;M.isub(w)}return w.iushln(C)},r.prototype.invm=function(b){return this.egcd(b).a.umod(b)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(b){return this.words[0]&b},r.prototype.bincn=function(b){e(typeof b=="number");var M=b%26,w=(b-M)/26,C=1<<M;if(this.length<=w)return this.B$(w+1),this.words[w]|=C,this;for(var k=C,z=w;k!==0&&z<this.length;z++){var H=0|this.words[z];k=(H+=k)>>>26,H&=67108863,this.words[z]=H}return k!==0&&(this.words[z]=k,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(b){var M,w=b<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this.I$(),this.length>1)M=1;else{w&&(b=-b),e(b<=67108863,"Number is too big");var C=0|this.words[0];M=C===b?0:C<b?-1:1}return this.negative!==0?0|-M:M},r.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var M=this.ucmp(b);return this.negative!==0?0|-M:M},r.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var M=0,w=this.length-1;w>=0;w--){var C=0|this.words[w],k=0|b.words[w];if(C!==k){C<k?M=-1:C>k&&(M=1);break}}return M},r.prototype.gtn=function(b){return this.cmpn(b)===1},r.prototype.gt=function(b){return this.cmp(b)===1},r.prototype.gten=function(b){return this.cmpn(b)>=0},r.prototype.gte=function(b){return this.cmp(b)>=0},r.prototype.ltn=function(b){return this.cmpn(b)===-1},r.prototype.lt=function(b){return this.cmp(b)===-1},r.prototype.lten=function(b){return this.cmpn(b)<=0},r.prototype.lte=function(b){return this.cmp(b)<=0},r.prototype.eqn=function(b){return this.cmpn(b)===0},r.prototype.eq=function(b){return this.cmp(b)===0},r.red=function(b){return new V(b)},r.prototype.toRed=function(b){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),b.convertTo(this).W$(b)},r.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype.W$=function(b){return this.red=b,this},r.prototype.forceRed=function(b){return e(!this.red,"Already a number in reduction context"),this.W$(b)},r.prototype.redAdd=function(b){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},r.prototype.redIAdd=function(b){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},r.prototype.redSub=function(b){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},r.prototype.redISub=function(b){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},r.prototype.redShl=function(b){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},r.prototype.redMul=function(b){return e(this.red,"redMul works only with red numbers"),this.red.U$(this,b),this.red.mul(this,b)},r.prototype.redIMul=function(b){return e(this.red,"redMul works only with red numbers"),this.red.U$(this,b),this.red.imul(this,b)},r.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red.Y$(this),this.red.sqr(this)},r.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red.Y$(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red.Y$(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red.Y$(this),this.red.invm(this)},r.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red.Y$(this),this.red.neg(this)},r.prototype.redPow=function(b){return e(this.red&&!b.red,"redPow(normalNum)"),this.red.Y$(this),this.red.pow(this,b)};var A={k256:null,p224:null,p192:null,p25519:null};function E(b,M){this.name=b,this.p=new r(M,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this.H$()}function T(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function V(b){if(typeof b=="string"){var M=r.$$(b);this.m=M.p,this.prime=M}else e(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}function P(b){V.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.G$(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype.H$=function(){var b=new r(null);return b.words=new Array(Math.ceil(this.n/13)),b},E.prototype.ireduce=function(b){var M,w=b;do this.split(w,this.tmp),M=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(M>this.n);var C=M<this.n?-1:w.ucmp(this.p);return C===0?(w.words[0]=0,w.length=1):C>0?w.isub(this.p):w.strip!==void 0?w.strip():w.I$(),w},E.prototype.split=function(b,M){b.iushrn(this.n,0,M)},E.prototype.imulK=function(b){return b.imul(this.k)},i(T,E),T.prototype.split=function(b,M){for(var w=4194303,C=Math.min(b.length,9),k=0;k<C;k++)M.words[k]=b.words[k];if(M.length=C,b.length<=9)return b.words[0]=0,void(b.length=1);var z=b.words[9];for(M.words[M.length++]=z&w,k=10;k<b.length;k++){var H=0|b.words[k];b.words[k-10]=(H&w)<<4|z>>>22,z=H}z>>>=22,b.words[k-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},T.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var M=0,w=0;w<b.length;w++){var C=0|b.words[w];M+=977*C,b.words[w]=67108863&M,M=64*C+(M/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b},i(F,E),i(D,E),i(N,E),N.prototype.imulK=function(b){for(var M=0,w=0;w<b.length;w++){var C=19*(0|b.words[w])+M,k=67108863&C;C>>>=26,b.words[w]=k,M=C}return M!==0&&(b.words[b.length++]=M),b},r.$$=function(b){if(A[b])return A[b];var M;if(b==="k256")M=new T;else if(b==="p224")M=new F;else if(b==="p192")M=new D;else{if(b!=="p25519")throw new Error("Unknown prime "+b);M=new N}return A[b]=M,M},V.prototype.Y$=function(b){e(b.negative===0,"red works only with positives"),e(b.red,"red works only with red numbers")},V.prototype.U$=function(b,M){e((b.negative|M.negative)==0,"red works only with positives"),e(b.red&&b.red===M.red,"red works only with red numbers")},V.prototype.imod=function(b){return this.prime?this.prime.ireduce(b).W$(this):(l(b,b.umod(this.m).W$(this)),b)},V.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b).W$(this)},V.prototype.add=function(b,M){this.U$(b,M);var w=b.add(M);return w.cmp(this.m)>=0&&w.isub(this.m),w.W$(this)},V.prototype.iadd=function(b,M){this.U$(b,M);var w=b.iadd(M);return w.cmp(this.m)>=0&&w.isub(this.m),w},V.prototype.sub=function(b,M){this.U$(b,M);var w=b.sub(M);return w.cmpn(0)<0&&w.iadd(this.m),w.W$(this)},V.prototype.isub=function(b,M){this.U$(b,M);var w=b.isub(M);return w.cmpn(0)<0&&w.iadd(this.m),w},V.prototype.shl=function(b,M){return this.Y$(b),this.imod(b.ushln(M))},V.prototype.imul=function(b,M){return this.U$(b,M),this.imod(b.imul(M))},V.prototype.mul=function(b,M){return this.U$(b,M),this.imod(b.mul(M))},V.prototype.isqr=function(b){return this.imul(b,b.clone())},V.prototype.sqr=function(b){return this.mul(b,b)},V.prototype.sqrt=function(b){if(b.isZero())return b.clone();var M=this.m.andln(3);if(e(M%2==1),M===3){var w=this.m.add(new r(1)).iushrn(2);return this.pow(b,w)}for(var C=this.m.subn(1),k=0;!C.isZero()&&C.andln(1)===0;)k++,C.iushrn(1);e(!C.isZero());var z=new r(1).toRed(this),H=z.redNeg(),B=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new r(2*U*U).toRed(this);this.pow(U,B).cmp(H)!==0;)U.redIAdd(H);for(var O=this.pow(U,C),W=this.pow(b,C.addn(1).iushrn(1)),I=this.pow(b,C),X=k;I.cmp(z)!==0;){for(var j=I,Q=0;j.cmp(z)!==0;Q++)j=j.redSqr();e(Q<X);var J=this.pow(O,new r(1).iushln(X-Q-1));W=W.redMul(J),O=J.redSqr(),I=I.redMul(O),X=Q}return W},V.prototype.invm=function(b){var M=b.G$(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},V.prototype.pow=function(b,M){if(M.isZero())return new r(1).toRed(this);if(M.cmpn(1)===0)return b.clone();var w=new Array(16);w[0]=new r(1).toRed(this),w[1]=b;for(var C=2;C<w.length;C++)w[C]=this.mul(w[C-1],b);var k=w[0],z=0,H=0,B=M.bitLength()%26;for(B===0&&(B=26),C=M.length-1;C>=0;C--){for(var U=M.words[C],O=B-1;O>=0;O--){var W=U>>O&1;k!==w[0]&&(k=this.sqr(k)),W!==0||z!==0?(z<<=1,z|=W,(++H==4||C===0&&O===0)&&(k=this.mul(k,w[z]),H=0,z=0)):H=0}B=26}return k},V.prototype.convertTo=function(b){var M=b.umod(this.m);return M===b?M.clone():M},V.prototype.convertFrom=function(b){var M=b.clone();return M.red=null,M},r.mont=function(b){return new P(b)},i(P,V),P.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},P.prototype.convertFrom=function(b){var M=this.imod(b.mul(this.rinv));return M.red=null,M},P.prototype.imul=function(b,M){if(b.isZero()||M.isZero())return b.words[0]=0,b.length=1,b;var w=b.imul(M),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=w.isub(C).iushrn(this.shift),z=k;return k.cmp(this.m)>=0?z=k.isub(this.m):k.cmpn(0)<0&&(z=k.iadd(this.m)),z.W$(this)},P.prototype.mul=function(b,M){if(b.isZero()||M.isZero())return new r(0).W$(this);var w=b.mul(M),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=w.isub(C).iushrn(this.shift),z=k;return k.cmp(this.m)>=0?z=k.isub(this.m):k.cmpn(0)<0&&(z=k.iadd(this.m)),z.W$(this)},P.prototype.invm=function(b){return this.imod(b.G$(this.m).mul(this.r2)).W$(this)}})(0,hg);var Oe=px.exports;function O5(s,t){if(Array.isArray(s))return s.slice();if(!s)return[];const e=[];if(typeof s!="string"){for(let i=0;i<s.length;i++)e[i]=0|s[i];return e}if(t==="hex"){(s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s=`0${s}`);for(let i=0;i<s.length;i+=2)e.push(parseInt(s[i]+s[i+1],16))}else for(let i=0;i<s.length;i++){const r=s.charCodeAt(i),n=r>>8,a=255&r;n?e.push(n,a):e.push(a)}return e}const Q0=function(s,t,e){const i=new Array(Math.max(s.bitLength(),e)+1);i.fill(0);const r=1<<t+1,n=s.clone();for(let a=0;a<i.length;a++){let o;const l=n.andln(r-1);n.isOdd()?(o=l>(r>>1)-1?(r>>1)-l:l,n.isubn(o)):o=0,i[a]=o,n.iushrn(1)}return i},$P=function(s,t){const e=[[],[]];s=s.clone(),t=t.clone();let i=0,r=0;for(;s.cmpn(-i)>0||t.cmpn(-r)>0;){let n,a,o=s.andln(3)+i&3,l=t.andln(3)+r&3;if(o===3&&(o=-1),l===3&&(l=-1),(1&o)==0)n=0;else{const u=s.andln(7)+i&7;n=u!==3&&u!==5||l!==2?o:-o}if(e[0].push(n),(1&l)==0)a=0;else{const u=t.andln(7)+r&7;a=u!==3&&u!==5||o!==2?l:-l}e[1].push(a),2*i===n+1&&(i=1-i),2*r===a+1&&(r=1-r),s.iushrn(1),t.iushrn(1)}return e};class jP{constructor(t,e){this.type=t,this.p=new Oe(e.p,16),this.red=e.prime?Oe.red(e.prime):Oe.mont(this.p),this.zero=new Oe(0).toRed(this.red),this.one=new Oe(1).toRed(this.red),this.two=new Oe(2).toRed(this.red),this.n=e.n&&new Oe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this.X$=new Array(4),this.j$=new Array(4),this.Z$=new Array(4),this.Q$=new Array(4),this.J$=this.n?this.n.bitLength():0;const i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this.K$=!0,this.redN=this.n.toRed(this.red))}q$(t,e){const i=t.tX(),r=Q0(e,1,this.J$);let n=(1<<i.step+1)-(i.step%2==0?2:1);n/=3;const a=[];for(let u=0;u<r.length;u+=i.step){let d=0;for(let f=u+i.step-1;f>=u;f--)d=(d<<1)+r[f];a.push(d)}let o=this.jpoint(null,null,null),l=this.jpoint(null,null,null);for(let u=n;u>0;u--){for(let d=0;d<a.length;d++){const f=a[d];f===u?l=l.mixedAdd(i.points[d]):f===-u&&(l=l.mixedAdd(i.points[d].neg()))}o=o.add(l)}return o.toP()}iX(t,e){let i=4;const r=t.sX(i);i=r.wnd;const n=r.points,a=Q0(e,i,this.J$);let o=this.jpoint(null,null,null);for(let l=a.length-1;l>=0;l--){for(let d=0;l>=0&&a[l]===0;l--)d++;if(l>=0&&e++,o=o.dblp(e),l<0)break;const u=a[l];o=t.type==="affine"?u>0?o.mixedAdd(n[u-1>>1]):o.mixedAdd(n[-u-1>>1].neg()):u>0?o.add(n[u-1>>1]):o.add(n[-u-1>>1].neg())}return t.type==="affine"?o.toP():o}eX(t,e,i,r,n){const a=this.X$,o=this.j$,l=this.Z$;let u=0;for(let g=0;g<r;g++){const m=e[g].sX(t);a[g]=m.wnd,o[g]=m.points}for(let g=r-1;g>=1;g-=2){const m=g-1,p=g;if(a[m]!==1||a[p]!==1){l[m]=Q0(i[m],a[m],this.J$),l[p]=Q0(i[p],a[p],this.J$),u=Math.max(l[m].length,u),u=Math.max(l[p].length,u);continue}const x=[e[m],null,null,e[p]];e[m].y.cmp(e[p].y)===0?(x[1]=e[m].add(e[p]),x[2]=e[m].toJ().mixedAdd(e[p].neg())):e[m].y.cmp(e[p].y.redNeg())===0?(x[1]=e[m].toJ().mixedAdd(e[p]),x[2]=e[m].add(e[p].neg())):(x[1]=e[m].toJ().mixedAdd(e[p]),x[2]=e[m].toJ().mixedAdd(e[p].neg()));const v=[-3,-1,-5,-7,0,7,5,1,3],A=$P(i[m],i[p]);u=Math.max(A[0].length,u),l[m]=new Array(u),l[p]=new Array(u);for(let E=0;E<u;E++){const T=0|A[0][E],F=0|A[1][E];l[m][E]=v[3*(T+1)+(F+1)],l[p][E]=0,o[m]=x}}let d=this.jpoint(null,null,null);const f=this.Q$;for(let g=u;g>=0;g--){let m=0;for(;g>=0;){let p=!0;for(let x=0;x<r;x++)f[x]=0|l[x][g],f[x]!==0&&(p=!1);if(!p)break;m++,g--}if(g>=0&&m++,d=d.dblp(m),g<0)break;for(let p=0;p<r;p++){const x=f[p];let v;x!==0&&(x>0?v=o[p][x-1>>1]:x<0&&(v=o[p][-x-1>>1].neg()),d=v.type==="affine"?d.mixedAdd(v):d.add(v))}}for(let g=0;g<r;g++)o[g]=null;return n?d:d.toP()}decodePoint(t,e){t=O5(t,e);const i=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1==2*i)return this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((t[0]===2||t[0]===3)&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),t[0]===3);throw new Error("Unknown point format")}}class G5{constructor(t,e){this.curve=t,this.type=e,this.precomputed=null}eq(t){throw new Error("Not implemented")}validate(){return this.curve.validate(this)}encodeCompressed(t){return this.encode(t,!0)}hX(t){const e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))}encode(t,e){return function(i,r){return r==="hex"?function(n){let a="";for(let l=0;l<n.length;l++)a+=(o=n[l].toString(16)).length===1?`0${o}`:o;var o;return a}(i):i}(this.hX(e),t)}precompute(t){if(this.precomputed)return this;const e={doubles:null,naf:null,beta:null};return e.naf=this.sX(8),e.doubles=this.tX(4,t),e.beta=this.rX(),this.precomputed=e,this}nX(t){if(!this.precomputed)return!1;const e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)}tX(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;const i=[this];let r=this;for(let n=0;n<e;n+=t){for(let a=0;a<t;a++)r=r.dbl();i.push(r)}return{step:t,points:i}}sX(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;const e=[this],i=(1<<t)-1,r=i===1?null:this.dbl();for(let n=1;n<i;n++)e[n]=e[n-1].add(r);return{wnd:t,points:e}}rX(){return null}dblp(t){let e=this;for(let i=0;i<t;i++)e=e.dbl();return e}}class qP extends jP{constructor(t){super("short",t),this.a=new Oe(t.a,16).toRed(this.red),this.b=new Oe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this.oX(t),this.aX=new Array(4),this.lX=new Array(4)}pointFromJSON(t,e){return Ug.fromJSON(this,t,e)}oX(t){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;let e,i,r;if(t.beta)e=new Oe(t.beta,16).toRed(this.red);else{const n=this.uX(this.p);e=n[0].cmp(n[1])<0?n[0]:n[1],e=e.toRed(this.red)}if(t.lambda)i=new Oe(t.lambda,16);else{const n=this.uX(this.n);i=this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))===0?n[0]:n[1]}return r=t.basis?t.basis.map(n=>({a:new Oe(n.a,16),b:new Oe(n.b,16)})):this.cX(i),{beta:e,lambda:i,basis:r}}uX(t){const e=t===this.p?this.red:Oe.mont(t),i=new Oe(2).toRed(e).redInvm(),r=i.redNeg(),n=new Oe(3).toRed(e).redNeg().redSqrt().redMul(i);return[r.redAdd(n).fromRed(),r.redSub(n).fromRed()]}cX(t){const e=this.n.ushrn(Math.floor(this.n.bitLength()/2));let i,r,n,a,o,l,u,d,f,g=t,m=this.n.clone(),p=new Oe(1),x=new Oe(0),v=new Oe(0),A=new Oe(1),E=0;for(;g.cmpn(0)!==0;){const F=m.div(g);d=m.sub(F.mul(g)),f=v.sub(F.mul(p));const D=A.sub(F.mul(x));if(!n&&d.cmp(e)<0)i=u.neg(),r=p,n=d.neg(),a=f;else if(n&&++E==2)break;u=d,m=g,g=d,v=p,p=f,A=x,x=D}o=d.neg(),l=f;const T=n.sqr().add(a.sqr());return o.sqr().add(l.sqr()).cmp(T)>=0&&(o=i,l=r),n.negative&&(n=n.neg(),a=a.neg()),o.negative&&(o=o.neg(),l=l.neg()),[{a:n,b:a},{a:o,b:l}]}dX(t){const e=this.endo.basis,i=e[0],r=e[1],n=r.b.mul(t).divRound(this.n),a=i.b.neg().mul(t).divRound(this.n),o=n.mul(i.a),l=a.mul(r.a),u=n.mul(i.b),d=a.mul(r.b);return{k1:t.sub(o).sub(l),k2:u.add(d).neg()}}point(t,e,i){return new Ug(this,t,e,i)}pointFromX(t,e){(t=new Oe(t,16)).red||(t=t.toRed(this.red));const i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);let r=i.redSqrt();if(r.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");const n=r.fromRed().isOdd();return(e&&!n||!e&&n)&&(r=r.redNeg()),this.point(t,r)}validate(t){if(t.inf)return!0;const e=t.x,i=t.y,r=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return i.redSqr().redISub(n).cmpn(0)===0}fX(t,e,i){const r=this.aX,n=this.lX;let a=0;for(a=0;a<t.length;a++){const l=this.dX(e[a]);let u=t[a],d=u.rX();l.k1.negative&&(l.k1.ineg(),u=u.neg(!0)),l.k2.negative&&(l.k2.ineg(),d=d.neg(!0)),r[2*a]=u,r[2*a+1]=d,n[2*a]=l.k1,n[2*a+1]=l.k2}const o=this.eX(1,r,n,2*a,i);for(let l=0;l<2*a;l++)r[l]=null,n[l]=null;return o}jpoint(t,e,i){return new t1(this,t,e,i)}}class Ug extends G5{constructor(t,e,i,r){super(t,"affine"),e===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Oe(e,16),this.y=new Oe(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){return new Ug(this,t,e,i)}rX(){if(!this.curve.endo)return;const t=this.precomputed;if(t&&t.beta)return t.beta;const e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){const i=this.curve,r=function(n){return i.point(n.x.redMul(i.endo.beta),n.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]}static fromJSON(t,e,i){typeof e=="string"&&(e=JSON.parse(e));const r=t.point(e[0],e[1],i);if(!e[2])return r;function n(o){return t.point(o[0],o[1],i)}const a=e[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(n))}},r}inspect(){return this.isInfinity()?"<EC Point Infinity>":`<EC Point x: ${this.x.fromRed().toString(16,2)} y: ${this.y.fromRed().toString(16,2)}>`}isInfinity(){return this.inf}add(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);let e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));const i=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)}dbl(){if(this.inf)return this;const t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);const e=this.curve.a,i=this.x.redSqr(),r=t.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(r),a=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)}getX(){return this.x.fromRed()}getY(){return this.y.fromRed()}mul(t){return t=new Oe(t,16),this.isInfinity()?this:this.nX(t)?this.curve.q$(this,t):this.curve.endo?this.curve.fX([this],[t]):this.curve.iX(this,t)}mulAdd(t,e,i){const r=[this,e],n=[t,i];return this.curve.endo?this.curve.fX(r,n):this.curve.eX(1,r,n,2)}jmulAdd(t,e,i){const r=[this,e],n=[t,i];return this.curve.endo?this.curve.fX(r,n,!0):this.curve.eX(1,r,n,2,!0)}eq(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)}neg(t){if(this.inf)return this;const e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){const i=this.precomputed,r=function(n){return n.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return e}toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)}}class t1 extends G5{constructor(t,e,i,r){super(t,"jacobian"),e===null&&i===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Oe(0)):(this.x=new Oe(e,16),this.y=new Oe(i,16),this.z=new Oe(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}getY(){throw new Error("Method not implemented.")}getX(){throw new Error("Method not implemented.")}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){throw new Error("Method not implemented.")}jpoint(t,e,i){return new t1(this,t,e,i)}toP(){if(this.isInfinity())return this.curve.point(null,null);const t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(i,r)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(t){if(this.isInfinity())return t;if(t.isInfinity())return this;const e=t.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(e),n=t.x.redMul(i),a=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),l=r.redSub(n),u=a.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();const d=l.redSqr(),f=d.redMul(l),g=r.redMul(d),m=u.redSqr().redIAdd(f).redISub(g).redISub(g),p=u.redMul(g.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(t.z).redMul(l);return this.curve.jpoint(m,p,x)}mixedAdd(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;const e=this.z.redSqr(),i=this.x,r=t.x.redMul(e),n=this.y,a=t.y.redMul(e).redMul(this.z),o=i.redSub(r),l=n.redSub(a);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();const u=o.redSqr(),d=u.redMul(o),f=i.redMul(u),g=l.redSqr().redIAdd(d).redISub(f).redISub(f),m=l.redMul(f.redISub(g)).redISub(n.redMul(d)),p=this.z.redMul(o);return this.curve.jpoint(g,m,p)}dblp(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){let u=this;for(let d=0;d<t;d++)u=u.dbl();return u}const e=this.curve.a,i=this.curve.tinv;let r=this.x;const n=this.y;let a=this.z,o=a.redSqr().redSqr(),l=n.redAdd(n);for(let u=0;u<t;u++){const d=r.redSqr(),f=l.redSqr(),g=f.redSqr(),m=d.redAdd(d).redIAdd(d).redIAdd(e.redMul(o)),p=r.redMul(f),x=m.redSqr().redISub(p.redAdd(p)),v=p.redISub(x);let A=m.redMul(v);A=A.redIAdd(A).redISub(g);const E=l.redMul(a);u+1<t&&(o=o.redMul(g)),r=x,a=E,l=A}return this.curve.jpoint(r,l.redMul(i),a)}dbl(){return this.isInfinity()?this:this.curve.zeroA?this.AX():this.curve.threeA?this.gX():this.mX()}AX(){let t,e,i;if(this.zOne){const r=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);const l=r.redAdd(r).redIAdd(r),u=l.redSqr().redISub(o).redISub(o);let d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),t=u,e=l.redMul(o.redISub(u)).redISub(d),i=this.y.redAdd(this.y)}else{const r=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);const l=r.redAdd(r).redIAdd(r),u=l.redSqr();let d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),t=u.redISub(o).redISub(o),e=l.redMul(o.redISub(t)).redISub(d),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(t,e,i)}gX(){let t,e,i;if(this.zOne){const r=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);const l=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);t=u;let d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),e=l.redMul(o.redISub(u)).redISub(d),i=this.y.redAdd(this.y)}else{const r=this.z.redSqr(),n=this.y.redSqr(),a=this.x.redMul(n);let o=this.x.redSub(r).redMul(this.x.redAdd(r));o=o.redAdd(o).redIAdd(o);let l=a.redIAdd(a);l=l.redIAdd(l);const u=l.redAdd(l);t=o.redSqr().redISub(u),i=this.y.redAdd(this.z).redSqr().redISub(n).redISub(r);let d=n.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d),e=o.redMul(l.redISub(t)).redISub(d)}return this.curve.jpoint(t,e,i)}mX(){const t=this.curve.a,e=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),a=e.redSqr(),o=i.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(n));let u=e.redAdd(e);u=u.redIAdd(u);const d=u.redMul(o),f=l.redSqr().redISub(d.redAdd(d)),g=d.redISub(f);let m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);const p=l.redMul(g).redISub(m),x=i.redAdd(i).redMul(r);return this.curve.jpoint(f,p,x)}trpl(){if(!this.curve.zeroA)return this.dbl().add(this);const t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),r=e.redSqr(),n=t.redAdd(t).redIAdd(t),a=n.redSqr();let o=this.x.redAdd(e).redSqr().redISub(t).redISub(r);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);const l=o.redSqr();let u=r.redIAdd(r);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);const d=n.redIAdd(o).redSqr().redISub(a).redISub(l).redISub(u);let f=e.redMul(d);f=f.redIAdd(f),f=f.redIAdd(f);let g=this.x.redMul(l).redISub(f);g=g.redIAdd(g),g=g.redIAdd(g);let m=this.y.redMul(d.redMul(u.redISub(d)).redISub(o.redMul(l)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);const p=this.z.redAdd(o).redSqr().redISub(i).redISub(l);return this.curve.jpoint(g,m,p)}mul(t,e){return t=new Oe(t,e),this.curve.iX(this,t)}eq(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;const e=this.z.redSqr(),i=t.z.redSqr();if(this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;const r=e.redMul(this.z),n=i.redMul(t.z);return this.y.redMul(n).redISub(t.y.redMul(r)).cmpn(0)===0}eqXToP(t){const e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(i)===0)return!0;const r=t.clone(),n=this.curve.redN.redMul(e);for(;;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),this.x.cmp(i)===0)return!0}}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":`<EC JPoint x: ${this.x.toString(16,2)} y: ${this.y.toString(16,2)} z: ${this.z.toString(16,2)}>`}isInfinity(){return this.z.cmpn(0)===0}}class TE{constructor(t){this.curve=new qP(t),this.g=this.curve.g,this.n=this.curve.n}}const pd={};var wE;pd.PresetCurve=TE,wE={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(pd,"secp256k1",{configurable:!0,enumerable:!0,get(){const s=new TE(wE);return Object.defineProperty(pd,"secp256k1",{configurable:!0,enumerable:!0,value:s}),s}});class Og{constructor(t,e){this.ec=t,this.priv=null,this.pub=null,e.pub&&this.yX(e.pub,e.pubEnc)}static fromPublic(t,e,i){return e instanceof Og?e:new Og(t,{pub:e,pubEnc:i})}validate(){const t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}}getPublic(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub}yX(t,e){if(t.x||t.y)return this.ec.curve.type==="mont"||this.ec.curve.type==="short"||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)}verify(t,e){return this.ec.verify(t,e,this)}}function TS(s,t){const e=s[t.place++];if(!(128&e))return e;const i=15&e;if(i===0||i>4)return!1;let r=0,n=t.place;for(let a=0;a<i;a++,n++)r<<=8,r|=s[n],r>>>=0;return!(r<=127)&&(t.place=n,r)}class JP{constructor(){this.place=0}}class e1{constructor(t,e){if(t instanceof e1)return t;this.pX(t,e)||(this.r=new Oe(t.r,16),this.s=new Oe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}pX(t,e){t=O5(t,e);const i=new JP;if(t[i.place++]!==48)return!1;const r=TS(t,i);if(r===!1||r+i.place!==t.length||t[i.place++]!==2)return!1;const n=TS(t,i);if(n===!1)return!1;let a=t.slice(i.place,n+i.place);if(i.place+=n,t[i.place++]!==2)return!1;const o=TS(t,i);if(o===!1||t.length!==o+i.place)return!1;let l=t.slice(i.place,o+i.place);if(a[0]===0){if(!(128&a[1]))return!1;a=a.slice(1)}if(l[0]===0){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new Oe(a),this.s=new Oe(l),this.recoveryParam=null,!0}}class Gg{constructor(t){if(!(this instanceof Gg))return new Gg(t);typeof t=="string"&&(t=pd[t]),t instanceof pd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1)}keyFromPublic(t,e){return Og.fromPublic(this,t,e)}SX(t,e){const i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t}verify(t,e,i,r){t=this.SX(new Oe(t,16)),i=this.keyFromPublic(i,r);const n=(e=new e1(e,"hex")).r,a=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;const o=a.invm(this.n),l=o.mul(t).umod(this.n),u=o.mul(n).umod(this.n);if(!this.curve.K$){const f=this.g.mulAdd(l,i.getPublic(),u);return!f.isInfinity()&&f.getX().umod(this.n).cmp(n)===0}const d=this.g.jmulAdd(l,i.getPublic(),u);return!d.isInfinity()&&d.eqXToP(n)}}var wS,Er={exports:{}};Er.exports=(wS=wS||function(s,t){var e;if(typeof window<"u"&&window.crypto&&(e=window.crypto),typeof self<"u"&&self.crypto&&(e=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(e=globalThis.crypto),!e&&typeof window<"u"&&window.msCrypto&&(e=window.msCrypto),!e&&hg!==void 0&&hg.crypto&&(e=hg.crypto),!e)try{e=t}catch{}var i=function(){if(e){if(typeof e.getRandomValues=="function")try{return e.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof e.randomBytes=="function")try{return e.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function x(){}return function(v){var A;return x.prototype=v,A=new x,x.prototype=null,A}}(),n={},a=n.lib={},o=a.Base={extend:function(x){var v=r(this);return x&&v.mixIn(x),v.hasOwnProperty("init")&&this.init!==v.init||(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var v in x)x.hasOwnProperty(v)&&(this[v]=x[v]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=o.extend({init:function(x,v){x=this.words=x||[],this.sigBytes=v!=t?v:4*x.length},toString:function(x){return(x||d).stringify(this)},concat:function(x){var v=this.words,A=x.words,E=this.sigBytes,T=x.sigBytes;if(this.clamp(),E%4)for(var F=0;F<T;F++){var D=A[F>>>2]>>>24-F%4*8&255;v[E+F>>>2]|=D<<24-(E+F)%4*8}else for(var N=0;N<T;N+=4)v[E+N>>>2]=A[N>>>2];return this.sigBytes+=T,this},clamp:function(){var x=this.words,v=this.sigBytes;x[v>>>2]&=4294967295<<32-v%4*8,x.length=s.ceil(v/4)},clone:function(){var x=o.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var v=[],A=0;A<x;A+=4)v.push(i());return new l.init(v,x)}}),u=n.enc={},d=u.Hex={stringify:function(x){for(var v=x.words,A=x.sigBytes,E=[],T=0;T<A;T++){var F=v[T>>>2]>>>24-T%4*8&255;E.push((F>>>4).toString(16)),E.push((15&F).toString(16))}return E.join("")},parse:function(x){for(var v=x.length,A=[],E=0;E<v;E+=2)A[E>>>3]|=parseInt(x.substr(E,2),16)<<24-E%8*4;return new l.init(A,v/2)}},f=u.Latin1={stringify:function(x){for(var v=x.words,A=x.sigBytes,E=[],T=0;T<A;T++){var F=v[T>>>2]>>>24-T%4*8&255;E.push(String.fromCharCode(F))}return E.join("")},parse:function(x){for(var v=x.length,A=[],E=0;E<v;E++)A[E>>>2]|=(255&x.charCodeAt(E))<<24-E%4*8;return new l.init(A,v)}},g=u.Utf8={stringify:function(x){try{return decodeURIComponent(escape(f.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return f.parse(unescape(encodeURIComponent(x)))}},m=a.BufferedBlockAlgorithm=o.extend({reset:function(){this.Jw=new l.init,this.vX=0},bX:function(x){typeof x=="string"&&(x=g.parse(x)),this.Jw.concat(x),this.vX+=x.sigBytes},xX:function(x){var v,A=this.Jw,E=A.words,T=A.sigBytes,F=this.blockSize,D=T/(4*F),N=(D=x?s.ceil(D):s.max((0|D)-this.MX,0))*F,V=s.min(4*N,T);if(N){for(var P=0;P<N;P+=F)this._X(E,P);v=E.splice(0,N),A.sigBytes-=V}return new l.init(v,V)},clone:function(){var x=o.clone.call(this);return x.Jw=this.Jw.clone(),x},MX:0});a.Hasher=m.extend({cfg:o.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){m.reset.call(this),this.wX()},update:function(x){return this.bX(x),this.xX(),this},finalize:function(x){return x&&this.bX(x),this.CX()},blockSize:16,kX:function(x){return function(v,A){return new x.init(A).finalize(v)}},TX:function(x){return function(v,A){return new p.HMAC.init(x,A).finalize(v)}}});var p=n.algo={};return n}(Math),wS);var K0=function(s){return function(t){var e=s,i=e.lib,r=i.WordArray,n=i.Hasher,a=e.algo,o=[],l=[];(function(){function f(x){for(var v=t.sqrt(x),A=2;A<=v;A++)if(!(x%A))return!1;return!0}function g(x){return 4294967296*(x-(0|x))|0}for(var m=2,p=0;p<64;)f(m)&&(p<8&&(o[p]=g(t.pow(m,.5))),l[p]=g(t.pow(m,1/3)),p++),m++})();var u=[],d=a.SHA256=n.extend({wX:function(){this.FX=new r.init(o.slice(0))},_X:function(f,g){for(var m=this.FX.words,p=m[0],x=m[1],v=m[2],A=m[3],E=m[4],T=m[5],F=m[6],D=m[7],N=0;N<64;N++){if(N<16)u[N]=0|f[g+N];else{var V=u[N-15],P=(V<<25|V>>>7)^(V<<14|V>>>18)^V>>>3,b=u[N-2],M=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;u[N]=P+u[N-7]+M+u[N-16]}var w=p&x^p&v^x&v,C=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),k=D+((E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25))+(E&T^~E&F)+l[N]+u[N];D=F,F=T,T=E,E=A+k|0,A=v,v=x,x=p,p=k+(C+w)|0}m[0]=m[0]+p|0,m[1]=m[1]+x|0,m[2]=m[2]+v|0,m[3]=m[3]+A|0,m[4]=m[4]+E|0,m[5]=m[5]+T|0,m[6]=m[6]+F|0,m[7]=m[7]+D|0},CX:function(){var f=this.Jw,g=f.words,m=8*this.vX,p=8*f.sigBytes;return g[p>>>5]|=128<<24-p%32,g[14+(p+64>>>9<<4)]=t.floor(m/4294967296),g[15+(p+64>>>9<<4)]=m,f.sigBytes=4*g.length,this.xX(),this.FX},clone:function(){var f=n.clone.call(this);return f.FX=this.FX.clone(),f}});e.SHA256=n.kX(d),e.HmacSHA256=n.TX(d)}(Math),s.SHA256}(Er.exports),ZP=function(s){return e=(t=s).lib.WordArray,i=t.algo,r=i.SHA256,n=i.SHA224=r.extend({wX:function(){this.FX=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},CX:function(){var a=r.CX.call(this);return a.sigBytes-=4,a}}),t.SHA224=r.kX(n),t.HmacSHA224=r.TX(n),s.SHA224;var t,e,i,r,n}(Er.exports),Jo=Er.exports.enc.Hex,CE=Er.exports.enc.Utf8;(function(s){return e=(t=s).lib.WordArray,t.enc.Base64={stringify:function(i){var r=i.words,n=i.sigBytes,a=this.IX;i.clamp();for(var o=[],l=0;l<n;l+=3)for(var u=(r[l>>>2]>>>24-l%4*8&255)<<16|(r[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|r[l+2>>>2]>>>24-(l+2)%4*8&255,d=0;d<4&&l+.75*d<n;d++)o.push(a.charAt(u>>>6*(3-d)&63));var f=a.charAt(64);if(f)for(;o.length%4;)o.push(f);return o.join("")},parse:function(i){var r=i.length,n=this.IX,a=this.PX;if(!a){a=this.PX=[];for(var o=0;o<n.length;o++)a[n.charCodeAt(o)]=o}var l=n.charAt(64);if(l){var u=i.indexOf(l);u!==-1&&(r=u)}return function(d,f,g){for(var m=[],p=0,x=0;x<f;x++)if(x%4){var v=g[d.charCodeAt(x-1)]<<x%4*2|g[d.charCodeAt(x)]>>>6-x%4*2;m[p>>>2]|=v<<24-p%4*8,p++}return e.create(m,p)}(i,r,a)},IX:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},s.enc.Base64;var t,e})(Er.exports);(function(s){(function(t){var e=s,i=e.lib,r=i.WordArray,n=i.Hasher,a=e.algo,o=[];(function(){for(var m=0;m<64;m++)o[m]=4294967296*t.abs(t.sin(m+1))|0})();var l=a.MD5=n.extend({wX:function(){this.FX=new r.init([1732584193,4023233417,2562383102,271733878])},_X:function(m,p){for(var x=0;x<16;x++){var v=p+x,A=m[v];m[v]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8)}var E=this.FX.words,T=m[p+0],F=m[p+1],D=m[p+2],N=m[p+3],V=m[p+4],P=m[p+5],b=m[p+6],M=m[p+7],w=m[p+8],C=m[p+9],k=m[p+10],z=m[p+11],H=m[p+12],B=m[p+13],U=m[p+14],O=m[p+15],W=E[0],I=E[1],X=E[2],j=E[3];W=u(W,I,X,j,T,7,o[0]),j=u(j,W,I,X,F,12,o[1]),X=u(X,j,W,I,D,17,o[2]),I=u(I,X,j,W,N,22,o[3]),W=u(W,I,X,j,V,7,o[4]),j=u(j,W,I,X,P,12,o[5]),X=u(X,j,W,I,b,17,o[6]),I=u(I,X,j,W,M,22,o[7]),W=u(W,I,X,j,w,7,o[8]),j=u(j,W,I,X,C,12,o[9]),X=u(X,j,W,I,k,17,o[10]),I=u(I,X,j,W,z,22,o[11]),W=u(W,I,X,j,H,7,o[12]),j=u(j,W,I,X,B,12,o[13]),X=u(X,j,W,I,U,17,o[14]),W=d(W,I=u(I,X,j,W,O,22,o[15]),X,j,F,5,o[16]),j=d(j,W,I,X,b,9,o[17]),X=d(X,j,W,I,z,14,o[18]),I=d(I,X,j,W,T,20,o[19]),W=d(W,I,X,j,P,5,o[20]),j=d(j,W,I,X,k,9,o[21]),X=d(X,j,W,I,O,14,o[22]),I=d(I,X,j,W,V,20,o[23]),W=d(W,I,X,j,C,5,o[24]),j=d(j,W,I,X,U,9,o[25]),X=d(X,j,W,I,N,14,o[26]),I=d(I,X,j,W,w,20,o[27]),W=d(W,I,X,j,B,5,o[28]),j=d(j,W,I,X,D,9,o[29]),X=d(X,j,W,I,M,14,o[30]),W=f(W,I=d(I,X,j,W,H,20,o[31]),X,j,P,4,o[32]),j=f(j,W,I,X,w,11,o[33]),X=f(X,j,W,I,z,16,o[34]),I=f(I,X,j,W,U,23,o[35]),W=f(W,I,X,j,F,4,o[36]),j=f(j,W,I,X,V,11,o[37]),X=f(X,j,W,I,M,16,o[38]),I=f(I,X,j,W,k,23,o[39]),W=f(W,I,X,j,B,4,o[40]),j=f(j,W,I,X,T,11,o[41]),X=f(X,j,W,I,N,16,o[42]),I=f(I,X,j,W,b,23,o[43]),W=f(W,I,X,j,C,4,o[44]),j=f(j,W,I,X,H,11,o[45]),X=f(X,j,W,I,O,16,o[46]),W=g(W,I=f(I,X,j,W,D,23,o[47]),X,j,T,6,o[48]),j=g(j,W,I,X,M,10,o[49]),X=g(X,j,W,I,U,15,o[50]),I=g(I,X,j,W,P,21,o[51]),W=g(W,I,X,j,H,6,o[52]),j=g(j,W,I,X,N,10,o[53]),X=g(X,j,W,I,k,15,o[54]),I=g(I,X,j,W,F,21,o[55]),W=g(W,I,X,j,w,6,o[56]),j=g(j,W,I,X,O,10,o[57]),X=g(X,j,W,I,b,15,o[58]),I=g(I,X,j,W,B,21,o[59]),W=g(W,I,X,j,V,6,o[60]),j=g(j,W,I,X,z,10,o[61]),X=g(X,j,W,I,D,15,o[62]),I=g(I,X,j,W,C,21,o[63]),E[0]=E[0]+W|0,E[1]=E[1]+I|0,E[2]=E[2]+X|0,E[3]=E[3]+j|0},CX:function(){var m=this.Jw,p=m.words,x=8*this.vX,v=8*m.sigBytes;p[v>>>5]|=128<<24-v%32;var A=t.floor(x/4294967296),E=x;p[15+(v+64>>>9<<4)]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8),p[14+(v+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),m.sigBytes=4*(p.length+1),this.xX();for(var T=this.FX,F=T.words,D=0;D<4;D++){var N=F[D];F[D]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8)}return T},clone:function(){var m=n.clone.call(this);return m.FX=this.FX.clone(),m}});function u(m,p,x,v,A,E,T){var F=m+(p&x|~p&v)+A+T;return(F<<E|F>>>32-E)+p}function d(m,p,x,v,A,E,T){var F=m+(p&v|x&~v)+A+T;return(F<<E|F>>>32-E)+p}function f(m,p,x,v,A,E,T){var F=m+(p^x^v)+A+T;return(F<<E|F>>>32-E)+p}function g(m,p,x,v,A,E,T){var F=m+(x^(p|~v))+A+T;return(F<<E|F>>>32-E)+p}e.MD5=n.kX(l),e.HmacMD5=n.TX(l)})(Math),s.MD5})(Er.exports);(function(s){return e=(t=s).lib,i=e.WordArray,r=e.Hasher,n=t.algo,a=[],o=n.SHA1=r.extend({wX:function(){this.FX=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_X:function(l,u){for(var d=this.FX.words,f=d[0],g=d[1],m=d[2],p=d[3],x=d[4],v=0;v<80;v++){if(v<16)a[v]=0|l[u+v];else{var A=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=A<<1|A>>>31}var E=(f<<5|f>>>27)+x+a[v];E+=v<20?1518500249+(g&m|~g&p):v<40?1859775393+(g^m^p):v<60?(g&m|g&p|m&p)-1894007588:(g^m^p)-899497514,x=p,p=m,m=g<<30|g>>>2,g=f,f=E}d[0]=d[0]+f|0,d[1]=d[1]+g|0,d[2]=d[2]+m|0,d[3]=d[3]+p|0,d[4]=d[4]+x|0},CX:function(){var l=this.Jw,u=l.words,d=8*this.vX,f=8*l.sigBytes;return u[f>>>5]|=128<<24-f%32,u[14+(f+64>>>9<<4)]=Math.floor(d/4294967296),u[15+(f+64>>>9<<4)]=d,l.sigBytes=4*u.length,this.xX(),this.FX},clone:function(){var l=r.clone.call(this);return l.FX=this.FX.clone(),l}}),t.SHA1=r.kX(o),t.HmacSHA1=r.TX(o),s.SHA1;var t,e,i,r,n,a,o})(Er.exports);var CS,kE,DE;kE=(CS=Er.exports).lib.Base,DE=CS.enc.Utf8,CS.algo.HMAC=kE.extend({init:function(s,t){s=this.DX=new s.init,typeof t=="string"&&(t=DE.parse(t));var e=s.blockSize,i=4*e;t.sigBytes>i&&(t=s.finalize(t)),t.clamp();for(var r=this.BX=t.clone(),n=this.LX=t.clone(),a=r.words,o=n.words,l=0;l<e;l++)a[l]^=1549556828,o[l]^=909522486;r.sigBytes=n.sigBytes=i,this.reset()},reset:function(){var s=this.DX;s.reset(),s.update(this.LX)},update:function(s){return this.DX.update(s),this},finalize:function(s){var t=this.DX,e=t.finalize(s);return t.reset(),t.finalize(this.BX.clone().concat(e))}}),function(s){return i=(e=(t=s).lib).Base,r=e.WordArray,a=(n=t.algo).MD5,o=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,u){for(var d,f=this.cfg,g=f.hasher.create(),m=r.create(),p=m.words,x=f.keySize,v=f.iterations;p.length<x;){d&&g.update(d),d=g.update(l).finalize(u),g.reset();for(var A=1;A<v;A++)d=g.finalize(d),g.reset();m.concat(d)}return m.sigBytes=4*x,m}}),t.EvpKDF=function(l,u,d){return o.create(d).compute(l,u)},s.EvpKDF;var t,e,i,r,n,a,o}(Er.exports);(function(s){s.lib.Cipher||function(t){var e=s,i=e.lib,r=i.Base,n=i.WordArray,a=i.BufferedBlockAlgorithm,o=e.enc;o.Utf8;var l=o.Base64,u=e.algo.EvpKDF,d=i.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(F,D){return this.create(this.RX,F,D)},createDecryptor:function(F,D){return this.create(this.EX,F,D)},init:function(F,D,N){this.cfg=this.cfg.extend(N),this.zX=F,this.VX=D,this.reset()},reset:function(){a.reset.call(this),this.wX()},process:function(F){return this.bX(F),this.xX()},finalize:function(F){return F&&this.bX(F),this.CX()},keySize:4,ivSize:4,RX:1,EX:2,kX:function(){function F(D){return typeof D=="string"?T:A}return function(D){return{encrypt:function(N,V,P){return F(V).encrypt(D,N,V,P)},decrypt:function(N,V,P){return F(V).decrypt(D,N,V,P)}}}}()});i.StreamCipher=d.extend({CX:function(){return this.xX(!0)},blockSize:1});var f=e.mode={},g=i.BlockCipherMode=r.extend({createEncryptor:function(F,D){return this.Encryptor.create(F,D)},createDecryptor:function(F,D){return this.Decryptor.create(F,D)},init:function(F,D){this.OX=F,this.NX=D}}),m=f.CBC=function(){var F=g.extend();function D(N,V,P){var b,M=this.NX;M?(b=M,this.NX=void 0):b=this.GX;for(var w=0;w<P;w++)N[V+w]^=b[w]}return F.Encryptor=F.extend({processBlock:function(N,V){var P=this.OX,b=P.blockSize;D.call(this,N,V,b),P.encryptBlock(N,V),this.GX=N.slice(V,V+b)}}),F.Decryptor=F.extend({processBlock:function(N,V){var P=this.OX,b=P.blockSize,M=N.slice(V,V+b);P.decryptBlock(N,V),D.call(this,N,V,b),this.GX=M}}),F}(),p=(e.pad={}).Pkcs7={pad:function(F,D){for(var N=4*D,V=N-F.sigBytes%N,P=V<<24|V<<16|V<<8|V,b=[],M=0;M<V;M+=4)b.push(P);var w=n.create(b,V);F.concat(w)},unpad:function(F){var D=255&F.words[F.sigBytes-1>>>2];F.sigBytes-=D}};i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:p}),reset:function(){var F;d.reset.call(this);var D=this.cfg,N=D.iv,V=D.mode;this.zX==this.RX?F=V.createEncryptor:(F=V.createDecryptor,this.MX=1),this.WX&&this.WX.UX==F?this.WX.init(this,N&&N.words):(this.WX=F.call(V,this,N&&N.words),this.WX.UX=F)},_X:function(F,D){this.WX.processBlock(F,D)},CX:function(){var F,D=this.cfg.padding;return this.zX==this.RX?(D.pad(this.Jw,this.blockSize),F=this.xX(!0)):(F=this.xX(!0),D.unpad(F)),F},blockSize:4});var x=i.CipherParams=r.extend({init:function(F){this.mixIn(F)},toString:function(F){return(F||this.formatter).stringify(this)}}),v=(e.format={}).OpenSSL={stringify:function(F){var D=F.ciphertext,N=F.salt;return(N?n.create([1398893684,1701076831]).concat(N).concat(D):D).toString(l)},parse:function(F){var D,N=l.parse(F),V=N.words;return V[0]==1398893684&&V[1]==1701076831&&(D=n.create(V.slice(2,4)),V.splice(0,4),N.sigBytes-=16),x.create({ciphertext:N,salt:D})}},A=i.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(F,D,N,V){V=this.cfg.extend(V);var P=F.createEncryptor(N,V),b=P.finalize(D),M=P.cfg;return x.create({ciphertext:b,key:N,iv:M.iv,algorithm:F,mode:M.mode,padding:M.padding,blockSize:F.blockSize,formatter:V.format})},decrypt:function(F,D,N,V){return V=this.cfg.extend(V),D=this.YX(D,V.format),F.createDecryptor(N,V).finalize(D.ciphertext)},YX:function(F,D){return typeof F=="string"?D.parse(F,this):F}}),E=(e.kdf={}).OpenSSL={execute:function(F,D,N,V){V||(V=n.random(8));var P=u.create({keySize:D+N}).compute(F,V),b=n.create(P.words.slice(D),4*N);return P.sigBytes=4*D,x.create({key:P,iv:b,salt:V})}},T=i.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:E}),encrypt:function(F,D,N,V){var P=(V=this.cfg.extend(V)).kdf.execute(N,F.keySize,F.ivSize);V.iv=P.iv;var b=A.encrypt.call(this,F,D,P.key,V);return b.mixIn(P),b},decrypt:function(F,D,N,V){V=this.cfg.extend(V),D=this.YX(D,V.format);var P=V.kdf.execute(N,F.keySize,F.ivSize,D.salt);return V.iv=P.iv,A.decrypt.call(this,F,D,P.key,V)}})}()})(Er.exports);var FE=function(s){return function(){var t=s,e=t.lib.BlockCipher,i=t.algo,r=[],n=[],a=[],o=[],l=[],u=[],d=[],f=[],g=[],m=[];(function(){for(var v=[],A=0;A<256;A++)v[A]=A<128?A<<1:A<<1^283;var E=0,T=0;for(A=0;A<256;A++){var F=T^T<<1^T<<2^T<<3^T<<4;F=F>>>8^255&F^99,r[E]=F,n[F]=E;var D=v[E],N=v[D],V=v[N],P=257*v[F]^16843008*F;a[E]=P<<24|P>>>8,o[E]=P<<16|P>>>16,l[E]=P<<8|P>>>24,u[E]=P,P=16843009*V^65537*N^257*D^16843008*E,d[F]=P<<24|P>>>8,f[F]=P<<16|P>>>16,g[F]=P<<8|P>>>24,m[F]=P,E?(E=D^v[v[v[V^D]]],T^=v[v[T]]):E=T=1}})();var p=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=e.extend({wX:function(){if(!this.HX||this.$X!==this.VX){for(var v=this.$X=this.VX,A=v.words,E=v.sigBytes/4,T=4*((this.HX=E+6)+1),F=this.XX=[],D=0;D<T;D++)D<E?F[D]=A[D]:(P=F[D-1],D%E?E>6&&D%E==4&&(P=r[P>>>24]<<24|r[P>>>16&255]<<16|r[P>>>8&255]<<8|r[255&P]):(P=r[(P=P<<8|P>>>24)>>>24]<<24|r[P>>>16&255]<<16|r[P>>>8&255]<<8|r[255&P],P^=p[D/E|0]<<24),F[D]=F[D-E]^P);for(var N=this.jX=[],V=0;V<T;V++){if(D=T-V,V%4)var P=F[D];else P=F[D-4];N[V]=V<4||D<=4?P:d[r[P>>>24]]^f[r[P>>>16&255]]^g[r[P>>>8&255]]^m[r[255&P]]}}},encryptBlock:function(v,A){this.ZX(v,A,this.XX,a,o,l,u,r)},decryptBlock:function(v,A){var E=v[A+1];v[A+1]=v[A+3],v[A+3]=E,this.ZX(v,A,this.jX,d,f,g,m,n),E=v[A+1],v[A+1]=v[A+3],v[A+3]=E},ZX:function(v,A,E,T,F,D,N,V){for(var P=this.HX,b=v[A]^E[0],M=v[A+1]^E[1],w=v[A+2]^E[2],C=v[A+3]^E[3],k=4,z=1;z<P;z++){var H=T[b>>>24]^F[M>>>16&255]^D[w>>>8&255]^N[255&C]^E[k++],B=T[M>>>24]^F[w>>>16&255]^D[C>>>8&255]^N[255&b]^E[k++],U=T[w>>>24]^F[C>>>16&255]^D[b>>>8&255]^N[255&M]^E[k++],O=T[C>>>24]^F[b>>>16&255]^D[M>>>8&255]^N[255&w]^E[k++];b=H,M=B,w=U,C=O}H=(V[b>>>24]<<24|V[M>>>16&255]<<16|V[w>>>8&255]<<8|V[255&C])^E[k++],B=(V[M>>>24]<<24|V[w>>>16&255]<<16|V[C>>>8&255]<<8|V[255&b])^E[k++],U=(V[w>>>24]<<24|V[C>>>16&255]<<16|V[b>>>8&255]<<8|V[255&M])^E[k++],O=(V[C>>>24]<<24|V[b>>>16&255]<<16|V[M>>>8&255]<<8|V[255&w])^E[k++],v[A]=H,v[A+1]=B,v[A+2]=U,v[A+3]=O},keySize:8});t.AES=e.kX(x)}(),s.AES}(Er.exports),_E=function(s){return s.mode.CTR=(e=(t=s.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(i,r){var n=this.OX,a=n.blockSize,o=this.NX,l=this.QX;o&&(l=this.QX=o.slice(0),this.NX=void 0);var u=l.slice(0);n.encryptBlock(u,0),l[a-1]=l[a-1]+1|0;for(var d=0;d<a;d++)i[r+d]^=u[d]}}),t.Decryptor=e,t),s.mode.CTR;var t,e}(Er.exports),VE=function(s){return function(){if(typeof ArrayBuffer=="function"){var t=s.lib.WordArray,e=t.init,i=t.init=function(r){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||typeof Uint8ClampedArray<"u"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){for(var n=r.byteLength,a=[],o=0;o<n;o++)a[o>>>2]|=r[o]<<24-o%4*8;e.call(this,a,n)}else e.apply(this,arguments)};i.prototype=t}}(),s.lib.WordArray}(Er.exports),zE=function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding}(Er.exports);const QP={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAxODAxMjA="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw=="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI="],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Y2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ=="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA=="]},As=ht,ft=(...s)=>s.slice(1).reduce((t,e)=>t+As.atob(QP[s[0]][e].toString()),"");let ds,Et,NE,no=new Uint8Array([]);class KP{set e(t){ds=t}get e(){Et={qd:!1,tf:!1,if:!1,sf:!1,ef:!1,hf:!1,rf:!1,nf:!1,af:!1,lf:!1,uf:!1,cf:!1,df:!1,ff:!1,Af:!1,gf:!1,mf:!1,yf:!1,pf:!1,Sf:!1,vf:!1,bf:!1,xf:!1,Mf:!1};const t=no.length,e=t>=1?no[0]:void 0,i=t>=2?no[1]:void 0,r=t>=3?no[2]:void 0;return e!==void 0&&(Et.qd=!!(1&e),Et.tf=!!(2&e),Et.if=!!(4&e),Et.sf=!!(8&e),Et.ef=!!(16&e),Et.hf=!!(32&e),Et.rf=!!(64&e),Et.nf=!!(128&e)),i!==void 0&&(Et.af=!!(1&i),Et.lf=!!(2&i),Et.uf=!!(4&i),Et.cf=!!(8&i),Et.df=!!(16&i),Et.ff=!!(32&i),Et.Af=!!(64&i),Et.gf=!!(128&i)),r!==void 0&&(Et.mf=!!(1&r),Et.yf=!!(2&r),Et.pf=!!(4&r),Et.Sf=!!(8&r),Et.vf=!!(16&r),Et.bf=!!(32&r),Et.xf=!!(64&r),Et.Mf=!!(128&r)),Et.hf}set l(t){NE=t}get l(){return NE}}let Vh=!1;const zh=(s,t)=>{const e=new RegExp(`.{${t}}`,"g");return(s.match(e)||[]).map(i=>parseInt(i,16))},Sx=s=>{if(s.byteLength===4)return`${s[0].toString().padStart(2,"0")}${s[1].toString().padStart(2,"0")}${s[2].toString().padStart(2,"0")}${s[3].toString().padStart(2,"0")}`},Yg=s=>s.getFullYear().toString()+(s.getMonth()+1).toString().padStart(2,"0")+s.getDate().toString().padStart(2,"0"),i1=s=>{const t={},e=s.split("-");if(e.length!==3)return{JX:ft(0,0,1,7,1,12,5)};let i=0;const r=Uint8Array.from(atob(e[1]),p=>p.charCodeAt(0));i+=1;const n=r.subarray(i,i+=20),a=new DataView(r.buffer).getUint16(i,!0);i+=2;const o=Uint8Array.from(Array(a));for(let p=0;p<a;p+=1)o[p]=r[p+i]^n[p%n.byteLength];const l=new DataView(o.buffer);t.KX=o,i=0;const u=Uint8Array.from(Array(l.getUint16(i,!0)));i+=2,u.set(o.subarray(i,i+=u.byteLength)),no=new Uint8Array(u);const d=Sx(o.subarray(i,i+=4)),f=ft(-3,0);if(!d)return{JX:ft(0,0,1,7,1,12,5)};if(d<f)return{JX:ft(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&u[0]){const p=Sx(o.subarray(i,i+=4)),x=Yg(new Date);if(!p)return{JX:ft(0,0,1,7,1,12,5)};if(p<x)return{JX:ft(0,0,1,2,1,3,1,4,5),qX:ft(-2,2)}}t.tj=i;const g=`${e[0]}-${e[1]}`,m=Array.prototype.reduce.call(atob(e[2]),(p,x)=>p+`0${x.charCodeAt(0).toString(16)}`.slice(-2),"");return ya(g,m)?t:{JX:ft(0,0,1,7,1,12,5)}},BE=s=>{const t=s.slice(0,4);let e=s.slice(5);switch(t){case"0001":{e=e.replace(/-/g,"");const i=Uint8Array.from(zh(e,2)),r=i.slice(36,40),n=new Uint8Array(4),a=(d=>{let f;const g=[];for(let p=0;p<256;p+=1){f=p;for(let x=0;x<8;x+=1)f=1&f?3988292384^f>>>1:f>>>1;g[p]=f}let m=-1;for(let p=0;p<d.length;p+=1)m=m>>>8^g[255&(m^d[p])];return(-1^m)>>>0})(i.slice(0,36));new DataView(n.buffer).setUint32(0,a,!0);const o=i.slice(28,34);let l=0;for(let d=o.length-1;d>0;d-=1)l+=o[d]*2**(8*d);const u=new Date(l);if(Yg(u)<ft(-3,0))return{JX:ft(0,0,1,2,1,3,1,4,5),qX:ft(-2,2)};if(r.every((d,f)=>n[f]===d))return{};break}case"0002":return i1(s);default:return{JX:ft(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{JX:ft(0,0,1,2,1,7,1,12,5)}},PE=s=>{if(!s)return{JX:ft(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};const t=(s[ft(-1,9)]||s[ft(-1,37)]).map(r=>(r||"").trim());if(t.indexOf(As[ft(-1,6)][ft(-1,7)])>-1)return{ij:!0};const e=t.filter(r=>r.indexOf("*")>-1);if(UE(As[ft(-1,6)][ft(-1,7)],e))return{ij:!0};const i=s[ft(-1,8)]||s[ft(-1,38)];if(i!==""&&i!=null){if(UE(As[ft(-1,6)][ft(-1,7)],[i]))return{ij:!1};if(i===As[ft(-1,6)][ft(-1,7)])return{ij:!1}}return{JX:ft(0,14,1,20,5)}},ya=(s,t)=>{const e=new Gg("secp256k1").keyFromPublic(ft(-4,0),"hex"),i=ZP(s).toString();return e.verify(i,t)},LE=s=>{switch(s.slice(0,4)){case"0001":return(t=>{let e,i="";try{const n=t.split("-"),a=n[1],o=n[2],l=n[3];if(!ya(o,l))return{JX:ft(0,21,1,2,1,7,1,12,5)};const u=Jo.parse(o);i=FE.decrypt({ciphertext:Jo.parse(a)},u,{mode:_E,padding:zE,iv:Jo.parse("00000000000000000000000000000001")}).toString(CE)}catch{return{JX:ft(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(i)}catch{return{JX:ft(0,21,1,2,1,7,1,12,5)}}if(e[ft(-1,5)]===void 0||e[ft(-1,4)]===null||!e[ft(-1,9)])return{JX:ft(0,21,1,2,1,7,1,12,5)};const r=parseInt(ft(-3,0),10)||Number(parseInt(ft(-3,0),10));return e[ft(-1,5)]<r?{JX:ft(0,21,1,2,1,3,1,4,5)}:PE(e)})(s);case"0002":return(t=>{const e=i1(t),i=e.KX,r=e.tj;if(e.JX||i===void 0||r===void 0)return e;let n,a="";try{const o=i.slice(e.tj,r+16),l=new DataView(o.buffer),u=new Int32Array(4);for(let A=0;A<u.length;A+=1)u[A]=l.getInt32(4*A,!1);const d=VE.create(Array.from(u)),f=r+16,g=i.slice(f,i.length),m=new DataView(g.buffer),p=new Int32Array(Math.floor(g.byteLength/4));for(let A=0;A<p.length;A+=1)p[A]=m.getInt32(4*A,!1);const x=VE.create(Array.from(p)),v=FE.decrypt({ciphertext:x},d,{mode:_E,padding:zE,iv:Jo.parse("00000000000000000000000000000001")});a=As.atob(v.toString(CE))}catch{return{JX:ft(0,21,1,2,1,7,1,12,5)}}try{n=JSON.parse(a)}catch{return{JX:ft(0,21,1,2,1,7,1,12,5)}}return n[ft(-1,37)]?PE(n):{JX:ft(0,21,1,2,1,7,1,12,5)}})(s);default:return{JX:ft(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},IE=(s,t)=>{switch(s.slice(0,4)){case"0001":return((e,i)=>{if(!i)return{JX:ft(0,39,1,40,1,41,5)};const r=e.split("-"),n=r[1].slice(1),a=r[2],o=r[3];if(!ya(`${n}-${a}`,o))return{JX:ft(0,21,1,2,1,7,1,12,5)};const l=Uint8Array.from(zh(a,2));let u=0;for(let v=l.length-1;v>0;v-=1)u+=l[v]*2**(8*v);if(u<(parseInt(ft(-3,0),10)||Number(parseInt(ft(-3,0),10))))return{JX:ft(0,21,1,2,1,3,1,4,5)};const d=Int32Array.from(zh(n,8)),f=K0(i[ft(-1,31)]).toString(Jo),g=Int32Array.from(zh(f,8)),m=K0(i[ft(-1,32)]).toString(Jo),p=Int32Array.from(zh(m,8)),x=new Int32Array(g.length);for(let v=0;v<x.length;v+=1)x[v]=g[v]^p[v];return d.every((v,A)=>x[A]===v)?{}:{JX:ft(0,21,1,2,1,7,1,12,5)}})(s,t);case"0002":return((e,i)=>{if(!i)return{JX:ft(0,39,1,40,1,41,5)};const r=i1(e),n=r.KX,a=r.tj;if(r.JX||n===void 0||a===void 0)return r;const o=n.slice(a,n.length),l=new DataView(o.buffer),u=new Int32Array(8);for(let x=0;x<u.length;x+=1)u[x]=l.getInt32(4*x,!1);const d=K0(i[ft(-1,31)]).toString(Jo),f=Int32Array.from(zh(d,8)),g=K0(i[ft(-1,32)]).toString(Jo),m=Int32Array.from(zh(g,8)),p=new Int32Array(f.length);for(let x=0;x<p.length;x+=1)p[x]=f[x]^m[x];return u.every((x,v)=>p[v]===x)?{}:{JX:ft(0,21,1,2,1,7,1,12,5)}})(s,t);default:return{JX:ft(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},ua=(s,t,e=!0,i)=>{Vh=!1,t.so();const r=t.Gr,n=!!r&&(r===ht.document.body||ht.document.body.contains(r)),a=r&&n?r:document.body;if(Array.from(a.children).find(o=>o.id==="lcjs-error")===void 0){const o=ht.document.createElement("div");o.id="lcjs-error",a.append(o),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="black",o.style.boxSizing="border-box",o.style.padding="20px",o.style.font="Arial",o.style.fontSize="20px";let l,u=(s||"LICENSE_ERROR").toLowerCase().split("_").join(" ");if(u=(e?ft(0,0,1,2,1,23,1,24,25,1):"")+u.charAt(0).toUpperCase()+u.substr(1),i){const d=ht.document.createElement("a");d.href=i,l=d}else l=ht.document.createElement("p1");o.append(l),l.innerHTML=u,l.style.color="red"}},ca=(s,t,e)=>{t?(s[ft(-1,17)](ft(-1,19),e),s[ft(-1,17)](ft(-1,20),e),s[ft(-1,17)](ft(-1,21),e),s[ft(-1,17)](ft(-1,22),e)):(s[ft(-1,18)](ft(-1,19),e),s[ft(-1,18)](ft(-1,20),e),s[ft(-1,18)](ft(-1,21),e),s[ft(-1,18)](ft(-1,22),e))},UE=(s,t)=>{const e=s.split(".").reverse();return t.some(i=>{const r=i.split(".").reverse();let n=!1;const a=r.findIndex(l=>l==="*"),o=e.every((l,u)=>!(!n&&(!(u<r.length)||(n=r[u]==="*"&&u+1>2,!n&&l!==r[u]))));return!(a>e.length-1||!o)})},tL=new Map,eL=(s,t)=>{const e=typeof s=="object"?s.license:s,i=typeof s=="object"?s.licenseInformation:t,r=typeof s=="object"?s:void 0,n=new KP;n.e=e;let a=tL.get(e||"E");return a||(a=((o,l)=>{let u,d,f=!1,g=!1,m=!1,p=!1,x="",v=!1,A=!1;try{if(ds){const N=(V=>{if(!ds)return;const P=ds.split("-");if(P.length>0)switch(P[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";default:return}})();if(N==="0001"){no=new Uint8Array([2]);const V=(P=>{if(!ds)return;const b=ds.split("-");return b.length===4?b[1].startsWith("m")?2:1:0})();if(V===1){const P=LE(ds);m=!P.ij,u=P,f=!0}else V===2?(u=IE(ds,o),g=!0):(Vh=!0,u=BE(ds),p=!0)}else if(N==="0002"){const V=(P=>{if(!ds)return;const b=ds.split("-");return b.length>=2?Uint8Array.from(atob(b[1]),M=>M.charCodeAt(0))[0]:void 0})();if(V===104)Vh=!0,u=BE(ds),p=!0;else if(V===189){const P=LE(ds);m=!P.ij,u=P,f=!0}else V===159?(u=IE(ds,o),g=!0):u={JX:ft(0,0,1,7,1,12,5)}}else if(N==="T001"){const V=((b,M)=>{const w=ds.split("-");if(w.length!==3)return{JX:ft(0,0,1,7,1,12,5)};const C=`${w[1]}`,k=Array.prototype.reduce.call(atob(w[2]),(dt,Tt)=>dt+`0${Tt.charCodeAt(0).toString(16)}`.slice(-2),"");if(!ya(C,k))return{JX:ft(0,0,1,7,1,12,5)};let z=0;const H=Uint8Array.from(atob(w[1]),dt=>dt.charCodeAt(z)),B=H.subarray(z,z+=20),U=new DataView(H.buffer).getUint16(z,!0);z+=2;const O=Uint8Array.from(Array(U));for(let dt=0;dt<U;dt+=1)O[dt]=H[dt+z]^B[dt%B.byteLength];z=0;const W=new DataView(O.buffer),I=Sx(O.subarray(z,z+=4)),X=ft(-3,0);if(!I)return{JX:ft(0,0,1,7,1,12,5)};if(I<X)return{JX:ft(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};const j=new Date,Q=new Date;j.setDate(j.getDate()+1),Q.setDate(Q.getDate()-1);const J=Yg(Q),st=Yg(j);if(I<J||I>st)return{JX:ft(0,0,1,2,1,3,1,4,5)};const nt=W.getUint16(z,!0),ct=O.subarray(z+=2,z+nt);if(no=new Uint8Array(ct),M&&"dHJhZGVy"in M&&M.dHJhZGVy==="dGVjaG5pY2FsIGFuYWx5c2lz")return{sj:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(M&&"logoGraphic"in M&&M.logoGraphic){const dt=M.logoGraphic.split("-");return dt.length===3&&ya(dt[0],dt[2])?{sj:dt[0]}:{JX:ft(0,0,1,7,1,12,5)}}return{JX:ft(0,0,1,7,1,12,5)}})(0,o);u=V;const P=V.sj;P&&l?(typeof P=="string"&&(l.l=P),f=!0):u={JX:ft(0,0,1,7,1,12,5)}}else u={JX:ft(0,0,1,7,1,12,5)}}else{const N=/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./;["localhost","127.0.0.1","::1"].includes(window.location.hostname)||N.test(window.location.hostname)?u={JX:ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),qX:ft(-2,2)}:window.location.host===As.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(A=!0,v=!1,no=new Uint8Array([38]),u={}):(A=!0,v=!0,no=new Uint8Array([38]),u={})}}catch{u={JX:ft(0,0,1,7,1,12,5)}}try{p&&(d=As[ft(-1,34)][ft(-1,35)](ft(-1,39))||void 0)}catch(N){As.console.error(N)}let E=!1;if(d){const N=d.split("-");if(N.length===2&&ya(N[0],N[1])){const[V,P]=N[0].split(":").map(b=>Number(b));Date.now()-P<.95*V*1e3&&(E=!0)}}const T=!(A||v||u.JX||f||g||E),F=(()=>{const N=new As[ft(-1,0)];return N.open(ft(0,26),ft(-2,0)),N.setRequestHeader(ft(-1,24),ft(-1,25)),N.withCredentials=!0,N})(),D=new qi;if(T){let N;try{N=parseInt(ds?ds.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch{N=Math.floor(1e6*Math.random())}const V=Math.floor(1e6*Math.random());x=(N^V).toString();const P={};let b="",M="",w="";ds=ds||"";const C=ft(-4,0);for(let z=0;z<ds.length;z+=1){const H=ds.charCodeAt(z)^C.charCodeAt(z);b+=String.fromCharCode(H)}const k=ft(-3,0);for(let z=0;z<k.length;z+=1)M+=String.fromCharCode(k.charCodeAt(z)^C.charCodeAt(z));for(let z=0;z<x.length;z+=1)w+=String.fromCharCode(x.charCodeAt(z)^C.charCodeAt(z));P[ft(-1,3)]=As.btoa(b),P[ft(-1,4)]=As.btoa(M),P.h=As.btoa(w),P.v=3,P.s=As[ft(-1,34)][ft(-1,35)](ft(-1,33))||void 0,F.send(JSON.stringify(P))}return(N,V)=>{const P=[],b={Nn:B=>{P.indexOf(B)>=0||(P.push(B),M())},Gn:B=>D.on("logoChange",B),Wn:B=>D.off(B)},M=()=>{P.forEach(B=>{const U=C(B);if(!U)return;const{ej:O,hj:W}=U,I=W?ft(-2,1):void 0,X=`${ft(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)}${O}${I?ft(0,1,63,1,64,1,59,1,65,1,41):""}`;ua(X,k,!1,I)})},w=B=>B.toLowerCase().split("_").join(" "),C=B=>{var U;const O=(U=Object.entries(Dt).find(W=>W[1]===B))===null||U===void 0?void 0:U[0];if(O){switch(B){case Dt.if:return Et.qd||Et.if?void 0:{ej:w(O),hj:!0};case Dt.rf:return Et.qd||Et.rf?void 0:{ej:w(O),hj:!0};case Dt.nf:return Et.qd||Et.tf||Et.nf?void 0:{ej:w(O)};case Dt.tf:return Et.qd||Et.tf?void 0:{ej:w(O)};case Dt.df:return Et.qd||Et.tf||Et.df?void 0:{ej:w(O)};case Dt.gf:return Et.qd||Et.tf||Et.gf?void 0:{ej:w(O)};case Dt.Sf:return Et.qd||Et.tf||Et.Sf?void 0:{ej:w(O)};case Dt.bf:return Et.qd||Et.tf||Et.bf?void 0:{ej:w(O)};case Dt.xf:return Et.qd||Et.tf||Et.xf?void 0:{ej:w(O)};case Dt.vf:return Et.qd||Et.tf||Et.vf?void 0:{ej:w(O)};case Dt.lf:return Et.qd||Et.tf||Et.lf?void 0:{ej:w(O)};case Dt.Af:return Et.qd||Et.tf||Et.Af?void 0:{ej:w(O)};case Dt.cf:return Et.qd||Et.tf||Et.cf?void 0:{ej:w(O)};case Dt.mf:return Et.qd||Et.tf||Et.mf?void 0:{ej:w(O)};case Dt.pf:return Et.qd||Et.tf||Et.pf?void 0:{ej:w(O)};case Dt.yf:return Et.qd||Et.tf||Et.yf?void 0:{ej:w(O)};case Dt.af:return Et.qd||Et.tf||Et.af?void 0:{ej:w(O)};case Dt.uf:return Et.qd||Et.tf||Et.uf?void 0:{ej:w(O)};case Dt.ff:return Et.qd||Et.tf||Et.ff?void 0:{ej:w(O)};case Dt.Mf:return Et.qd||Et.tf||Et.Mf?void 0:{ej:w(O)};case Dt.qd:case Dt.sf:case Dt.hf:case Dt.ef:return}return Lu(0,"")}},k=new WP(V,N,b);u!=null&&u.JX&&ua(u.JX,k,void 0,u.qX);const z=B=>{if((B==null?void 0:B.type)==="error"&&d){const U=d.split("-");if(U.length===2&&ya(U[0],U[1])){const[,O]=U[0].split(":").map(W=>Number(W));if(O+9e5>Date.now())return Vh=!1,void ca(F,!1,H)}}if(F.readyState===As[ft(-1,0)].DONE)if(F.status===200){const U=JSON.parse(F[ft(-1,23)]);if(!ya(x+ft(-3,0),U.h)){const O=ft(0,0,1,27,1,28,1,29,1,30,1,31,5);ua(O,k)}As[ft(-1,34)][ft(-1,36)](ft(-1,39),U.t),As[ft(-1,34)][ft(-1,36)](ft(-1,33),U.s),Vh=!1}else{let U="";try{U=B&&B.type!=="loadend"?ft(0,0,1,23,1,32,1,24,5):JSON.parse(F[ft(-1,23)]).message,ca(F,!1,H)}catch(O){console.error(O)}ua(ft(0,0,1,2,1,7,1,12,5)+U,k)}},H=B=>{z(B)};if(ca(F,!0,H),T?setTimeout(()=>{if(Vh){let B=!0;if(d){const U=d.split("-");if(U.length===2&&ya(U[0],U[1])){const[,O]=U[0].split(":").map(W=>Number(W));O+9e5>Date.now()&&(B=!1)}}B&&ua(ft(0,25,1,23,1,32,1,24,5),k)}},1e4):ca(F,!1,H),v){const B=(()=>{const I=new As[ft(-1,0)];return I.open(ft(0,26),ft(1,0)),I.setRequestHeader("Content-Type","text/plain"),I.withCredentials=!0,I})(),U=Array.from({length:10},()=>String.fromCharCode(Math.floor(256*Math.random()))).join(""),O=I=>{if((I==null?void 0:I.type)==="error"){const X=ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);ua(X,k,!1,ft(-2,2)),ca(F,!1,W)}if(B.readyState===As.XMLHttpRequest.DONE){const X=B.getResponseHeader("X-LCJS-SANDBOX-V");if(B.status!==200||X&&X!=="1"){const j=ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);ua(j,k,!1,ft(-2,2)),ca(F,!1,W)}else{const j=JSON.parse(B.responseText);if(!ya(U,j.s)){const Q=ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);ua(Q,k,!1,ft(-2,2)),ca(F,!1,W)}l!==void 0&&(l.l=j.l),D.emit("logoChange",j.l)}}else{const X=ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);ua(X,k,!1,ft(-2,2)),ca(F,!1,W)}},W=I=>{O(I)};ca(B,!0,W),B.send(U),setTimeout(()=>{if(B.readyState<2){const I=ft(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);ua(I,k,!1,ft(-2,2)),ca(F,!1,W)}},1e4)}return m?(B=>{let U;Vh=!1;const O=B.oi(),W=()=>{U&&(B.xn(U.bn()),U=void 0),U=B.FI("deployment test"),U.Pr(B.dt).Rh(ft(0,34,1,33)).Fe({x:O.x/2,y:O.y/2}).ba(50).Nh(13).Ce(new rt({color:L(128,128,128,100)})).Sa("Arial").Ma(500).setMouseInteractions(!1),B.pn().Sn()};B.Co(()=>{W()}),setTimeout(W,0),setInterval(()=>{U&&U.bn()<B.do()-1?W():U||W()},1e3)})(k):F.readyState===As[ft(-1,0)].DONE&&z(),k}})(i,n)),((o,l,u,d)=>{var f,g,m,p,x,v,A,E,T,F;let D;if(u&&u.license){const M=u.license.split("-");D=M[M.length-1]}const N=((f=u==null?void 0:u.webgl)===null||f===void 0?void 0:f.version)||((m=(g=u==null?void 0:u.sharedContextOptions)===null||g===void 0?void 0:g.webgl)===null||m===void 0?void 0:m.version),V={WE:(p=u==null?void 0:u.sharedContextOptions)===null||p===void 0?void 0:p.canvas,Hn:u==null?void 0:u.warnings,qE:N==="webgl1"?1:N==="webgl2"?2:void 0,ZE:((x=u==null?void 0:u.sharedContextOptions)===null||x===void 0?void 0:x.antialias)!==!1,jE:((v=u==null?void 0:u.sharedContextOptions)===null||v===void 0?void 0:v.devicePixelRatio)||void 0,az:((A=u==null?void 0:u.sharedContextOptions)===null||A===void 0?void 0:A.noCanvasStyles)||void 0,dz:((E=u==null?void 0:u.sharedContextOptions)===null||E===void 0?void 0:E.noCanvasTransform)||void 0,JE:((T=u==null?void 0:u.sharedContextOptions)===null||T===void 0?void 0:T.useStackingOrder)!==!1,KE:((F=u==null?void 0:u.sharedContextOptions)===null||F===void 0?void 0:F.useIndividualCanvas)!==!1,lz:D||void 0},P=new kB(V),b=M=>o(M,P);return{Dashboard:DB(b,l,u,d),ChartXY:_B(b,l,u,d),Spider:VB(b,l,u,d),Polar:zB(b,l,u,d),Pie:NB(b,l,u,d),UIPanel:FB(b,l,u,d),Gauge:BB(b,l,u,d),Funnel:PB(b,l,u,d),Pyramid:LB(b,l,u,d),Chart3D:UB(b,l,u,d),Map:IB(b,l,u,d),DataGrid:OB(b,l,u,d),BarChart:GB(b,l,u,d),ZoomBandChart:YB(b,l,u,d),TreeMapChart:HB(b,l,u,d),dispose:P.W.bind(P),layout:P.yz.bind(P)}})(a,n.e,r,n.l)};var xx=function(s,t){return xx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},xx(s,t)};function wy(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xx(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Ax(s){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&s[t],i=0;if(e)return e.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vx(s,t){var e=typeof Symbol=="function"&&s[Symbol.iterator];if(!e)return s;var i=e.call(s),r,n=[],a;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return n}function bx(s,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,n;i<r;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return s.concat(n||Array.prototype.slice.call(t))}function ho(s){return typeof s=="function"}function Y5(s){var t=function(i){Error.call(i),i.stack=new Error().stack},e=s(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var kS=Y5(function(s){return function(e){s(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Mx(s,t){if(s){var e=s.indexOf(t);0<=e&&s.splice(e,1)}}var Cy=function(){function s(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return s.prototype.unsubscribe=function(){var t,e,i,r,n;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Ax(a),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(x){t={error:x}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else a.remove(this);var d=this.initialTeardown;if(ho(d))try{d()}catch(x){n=x instanceof kS?x.errors:[x]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var g=Ax(f),m=g.next();!m.done;m=g.next()){var p=m.value;try{OE(p)}catch(x){n=n??[],x instanceof kS?n=bx(bx([],vx(n)),vx(x.errors)):n.push(x)}}}catch(x){i={error:x}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(i)throw i.error}}}if(n)throw new kS(n)}},s.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)OE(t);else{if(t instanceof s){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},s.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},s.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},s.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Mx(e,t)},s.prototype.remove=function(t){var e=this._finalizers;e&&Mx(e,t),t instanceof s&&t._removeParent(this)},s.EMPTY=function(){var t=new s;return t.closed=!0,t}(),s}(),H5=Cy.EMPTY;function X5(s){return s instanceof Cy||s&&"closed"in s&&ho(s.remove)&&ho(s.add)&&ho(s.unsubscribe)}function OE(s){ho(s)?s():s.unsubscribe()}var iL={Promise:void 0},sL={setTimeout:function(s,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return setTimeout.apply(void 0,bx([s,t],vx(e)))},clearTimeout:function(s){return clearTimeout(s)},delegate:void 0};function rL(s){sL.setTimeout(function(){throw s})}function GE(){}function lg(s){s()}var W5=function(s){wy(t,s);function t(e){var i=s.call(this)||this;return i.isStopped=!1,e?(i.destination=e,X5(e)&&e.add(i)):i.destination=oL,i}return t.create=function(e,i,r){return new Rx(e,i,r)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,s.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Cy),nL=function(){function s(t){this.partialObserver=t}return s.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(i){tg(i)}},s.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(i){tg(i)}else tg(t)},s.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){tg(e)}},s}(),Rx=function(s){wy(t,s);function t(e,i,r){var n=s.call(this)||this,a;return ho(e)||!e?a={next:e??void 0,error:i??void 0,complete:r??void 0}:a=e,n.destination=new nL(a),n}return t}(W5);function tg(s){rL(s)}function aL(s){throw s}var oL={closed:!0,next:GE,error:aL,complete:GE},hL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function lL(s){return s}function uL(s){return s.length===0?lL:s.length===1?s[0]:function(e){return s.reduce(function(i,r){return r(i)},e)}}var YE=function(){function s(t){t&&(this._subscribe=t)}return s.prototype.lift=function(t){var e=new s;return e.source=this,e.operator=t,e},s.prototype.subscribe=function(t,e,i){var r=this,n=dL(t)?t:new Rx(t,e,i);return lg(function(){var a=r,o=a.operator,l=a.source;n.add(o?o.call(n,l):l?r._subscribe(n):r._trySubscribe(n))}),n},s.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},s.prototype.forEach=function(t,e){var i=this;return e=HE(e),new e(function(r,n){var a=new Rx({next:function(o){try{t(o)}catch(l){n(l),a.unsubscribe()}},error:n,complete:r});i.subscribe(a)})},s.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},s.prototype[hL]=function(){return this},s.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uL(t)(this)},s.prototype.toPromise=function(t){var e=this;return t=HE(t),new t(function(i,r){var n;e.subscribe(function(a){return n=a},function(a){return r(a)},function(){return i(n)})})},s.create=function(t){return new s(t)},s}();function HE(s){var t;return(t=s??iL.Promise)!==null&&t!==void 0?t:Promise}function cL(s){return s&&ho(s.next)&&ho(s.error)&&ho(s.complete)}function dL(s){return s&&s instanceof W5||cL(s)&&X5(s)}var fL=Y5(function(s){return function(){s(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ug=function(s){wy(t,s);function t(){var e=s.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var i=new XE(this,this);return i.operator=e,i},t.prototype._throwIfClosed=function(){if(this.closed)throw new fL},t.prototype.next=function(e){var i=this;lg(function(){var r,n;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var a=Ax(i.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(e)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var i=this;lg(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=e;for(var r=i.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;lg(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var i=e.observers;i.length;)i.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),s.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var i=this,r=this,n=r.hasError,a=r.isStopped,o=r.observers;return n||a?H5:(this.currentObservers=null,o.push(e),new Cy(function(){i.currentObservers=null,Mx(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var i=this,r=i.hasError,n=i.thrownError,a=i.isStopped;r?e.error(n):a&&e.complete()},t.prototype.asObservable=function(){var e=new YE;return e.source=this,e},t.create=function(e,i){return new XE(e,i)},t}(YE),XE=function(s){wy(t,s);function t(e,i){var r=s.call(this)||this;return r.destination=e,r.source=i,r}return t.prototype.next=function(e){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.next)===null||r===void 0||r.call(i,e)},t.prototype.error=function(e){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.error)===null||r===void 0||r.call(i,e)},t.prototype.complete=function(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)},t.prototype._subscribe=function(e){var i,r;return(r=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&r!==void 0?r:H5},t}(ug);const zd={black:"#000",white:"#fff"},Wl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$l={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},jl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ql={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Jl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},id={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},gL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Qh(s,...t){const e=new URL(`https://mui.com/production-error/?code=${s}`);return t.forEach(i=>e.searchParams.append("args[]",i)),`Minified MUI error #${s}; visit ${e} for the full message.`}const $5="$$material";function Hg(){return Hg=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},Hg.apply(null,arguments)}function yL(s){if(s.sheet)return s.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===s)return document.styleSheets[t]}function mL(s){var t=document.createElement("style");return t.setAttribute("data-emotion",s.key),s.nonce!==void 0&&t.setAttribute("nonce",s.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pL=function(){function s(e){var i=this;this._insertTag=function(r){var n;i.tags.length===0?i.insertionPoint?n=i.insertionPoint.nextSibling:i.prepend?n=i.container.firstChild:n=i.before:n=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,n),i.tags.push(r)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=s.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mL(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var n=yL(r);try{n.insertRule(i,n.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},s}(),rr="-ms-",Xg="-moz-",ri="-webkit-",j5="comm",s1="rule",r1="decl",SL="@import",q5="@keyframes",xL="@layer",AL=Math.abs,ky=String.fromCharCode,vL=Object.assign;function bL(s,t){return Zs(s,0)^45?(((t<<2^Zs(s,0))<<2^Zs(s,1))<<2^Zs(s,2))<<2^Zs(s,3):0}function J5(s){return s.trim()}function ML(s,t){return(s=t.exec(s))?s[0]:s}function ni(s,t,e){return s.replace(t,e)}function Ex(s,t){return s.indexOf(t)}function Zs(s,t){return s.charCodeAt(t)|0}function Nd(s,t,e){return s.slice(t,e)}function ma(s){return s.length}function n1(s){return s.length}function eg(s,t){return t.push(s),s}function RL(s,t){return s.map(t).join("")}var Dy=1,wu=1,Z5=0,qr=0,bs=0,qu="";function Fy(s,t,e,i,r,n,a){return{value:s,root:t,parent:e,type:i,props:r,children:n,line:Dy,column:wu,length:a,return:""}}function sd(s,t){return vL(Fy("",null,null,"",null,null,0),s,{length:-s.length},t)}function EL(){return bs}function TL(){return bs=qr>0?Zs(qu,--qr):0,wu--,bs===10&&(wu=1,Dy--),bs}function pn(){return bs=qr<Z5?Zs(qu,qr++):0,wu++,bs===10&&(wu=1,Dy++),bs}function Ea(){return Zs(qu,qr)}function cg(){return qr}function gf(s,t){return Nd(qu,s,t)}function Bd(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q5(s){return Dy=wu=1,Z5=ma(qu=s),qr=0,[]}function K5(s){return qu="",s}function dg(s){return J5(gf(qr-1,Tx(s===91?s+2:s===40?s+1:s)))}function wL(s){for(;(bs=Ea())&&bs<33;)pn();return Bd(s)>2||Bd(bs)>3?"":" "}function CL(s,t){for(;--t&&pn()&&!(bs<48||bs>102||bs>57&&bs<65||bs>70&&bs<97););return gf(s,cg()+(t<6&&Ea()==32&&pn()==32))}function Tx(s){for(;pn();)switch(bs){case s:return qr;case 34:case 39:s!==34&&s!==39&&Tx(bs);break;case 40:s===41&&Tx(s);break;case 92:pn();break}return qr}function kL(s,t){for(;pn()&&s+bs!==57;)if(s+bs===84&&Ea()===47)break;return"/*"+gf(t,qr-1)+"*"+ky(s===47?s:pn())}function DL(s){for(;!Bd(Ea());)pn();return gf(s,qr)}function FL(s){return K5(fg("",null,null,null,[""],s=Q5(s),0,[0],s))}function fg(s,t,e,i,r,n,a,o,l){for(var u=0,d=0,f=a,g=0,m=0,p=0,x=1,v=1,A=1,E=0,T="",F=r,D=n,N=i,V=T;v;)switch(p=E,E=pn()){case 40:if(p!=108&&Zs(V,f-1)==58){Ex(V+=ni(dg(E),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:V+=dg(E);break;case 9:case 10:case 13:case 32:V+=wL(p);break;case 92:V+=CL(cg()-1,7);continue;case 47:switch(Ea()){case 42:case 47:eg(_L(kL(pn(),cg()),t,e),l);break;default:V+="/"}break;case 123*x:o[u++]=ma(V)*A;case 125*x:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+d:A==-1&&(V=ni(V,/\f/g,"")),m>0&&ma(V)-f&&eg(m>32?$E(V+";",i,e,f-1):$E(ni(V," ","")+";",i,e,f-2),l);break;case 59:V+=";";default:if(eg(N=WE(V,t,e,u,d,r,o,T,F=[],D=[],f),n),E===123)if(d===0)fg(V,t,N,N,F,n,f,o,D);else switch(g===99&&Zs(V,3)===110?100:g){case 100:case 108:case 109:case 115:fg(s,N,N,i&&eg(WE(s,N,N,0,0,r,o,T,r,F=[],f),D),r,D,f,o,i?F:D);break;default:fg(V,N,N,N,[""],D,0,o,D)}}u=d=m=0,x=A=1,T=V="",f=a;break;case 58:f=1+ma(V),m=p;default:if(x<1){if(E==123)--x;else if(E==125&&x++==0&&TL()==125)continue}switch(V+=ky(E),E*x){case 38:A=d>0?1:(V+="\f",-1);break;case 44:o[u++]=(ma(V)-1)*A,A=1;break;case 64:Ea()===45&&(V+=dg(pn())),g=Ea(),d=f=ma(T=V+=DL(cg())),E++;break;case 45:p===45&&ma(V)==2&&(x=0)}}return n}function WE(s,t,e,i,r,n,a,o,l,u,d){for(var f=r-1,g=r===0?n:[""],m=n1(g),p=0,x=0,v=0;p<i;++p)for(var A=0,E=Nd(s,f+1,f=AL(x=a[p])),T=s;A<m;++A)(T=J5(x>0?g[A]+" "+E:ni(E,/&\f/g,g[A])))&&(l[v++]=T);return Fy(s,t,e,r===0?s1:o,l,u,d)}function _L(s,t,e){return Fy(s,t,e,j5,ky(EL()),Nd(s,2,-2),0)}function $E(s,t,e,i){return Fy(s,t,e,r1,Nd(s,0,i),Nd(s,i+1,-1),i)}function lu(s,t){for(var e="",i=n1(s),r=0;r<i;r++)e+=t(s[r],r,s,t)||"";return e}function VL(s,t,e,i){switch(s.type){case xL:if(s.children.length)break;case SL:case r1:return s.return=s.return||s.value;case j5:return"";case q5:return s.return=s.value+"{"+lu(s.children,i)+"}";case s1:s.value=s.props.join(",")}return ma(e=lu(s.children,i))?s.return=s.value+"{"+e+"}":""}function zL(s){var t=n1(s);return function(e,i,r,n){for(var a="",o=0;o<t;o++)a+=s[o](e,i,r,n)||"";return a}}function NL(s){return function(t){t.root||(t=t.return)&&s(t)}}function tk(s){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=s(e)),t[e]}}var BL=function(t,e,i){for(var r=0,n=0;r=n,n=Ea(),r===38&&n===12&&(e[i]=1),!Bd(n);)pn();return gf(t,qr)},PL=function(t,e){var i=-1,r=44;do switch(Bd(r)){case 0:r===38&&Ea()===12&&(e[i]=1),t[i]+=BL(qr-1,e,i);break;case 2:t[i]+=dg(r);break;case 4:if(r===44){t[++i]=Ea()===58?"&\f":"",e[i]=t[i].length;break}default:t[i]+=ky(r)}while(r=pn());return t},LL=function(t,e){return K5(PL(Q5(t),e))},jE=new WeakMap,IL=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,i=t.parent,r=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!jE.get(i))&&!r){jE.set(t,!0);for(var n=[],a=LL(e,n),o=i.props,l=0,u=0;l<a.length;l++)for(var d=0;d<o.length;d++,u++)t.props[u]=n[l]?a[l].replace(/&\f/g,o[d]):o[d]+" "+a[l]}}},UL=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function ek(s,t){switch(bL(s,t)){case 5103:return ri+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ri+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return ri+s+Xg+s+rr+s+s;case 6828:case 4268:return ri+s+rr+s+s;case 6165:return ri+s+rr+"flex-"+s+s;case 5187:return ri+s+ni(s,/(\w+).+(:[^]+)/,ri+"box-$1$2"+rr+"flex-$1$2")+s;case 5443:return ri+s+rr+"flex-item-"+ni(s,/flex-|-self/,"")+s;case 4675:return ri+s+rr+"flex-line-pack"+ni(s,/align-content|flex-|-self/,"")+s;case 5548:return ri+s+rr+ni(s,"shrink","negative")+s;case 5292:return ri+s+rr+ni(s,"basis","preferred-size")+s;case 6060:return ri+"box-"+ni(s,"-grow","")+ri+s+rr+ni(s,"grow","positive")+s;case 4554:return ri+ni(s,/([^-])(transform)/g,"$1"+ri+"$2")+s;case 6187:return ni(ni(ni(s,/(zoom-|grab)/,ri+"$1"),/(image-set)/,ri+"$1"),s,"")+s;case 5495:case 3959:return ni(s,/(image-set\([^]*)/,ri+"$1$`$1");case 4968:return ni(ni(s,/(.+:)(flex-)?(.*)/,ri+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ri+s+s;case 4095:case 3583:case 4068:case 2532:return ni(s,/(.+)-inline(.+)/,ri+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ma(s)-1-t>6)switch(Zs(s,t+1)){case 109:if(Zs(s,t+4)!==45)break;case 102:return ni(s,/(.+:)(.+)-([^]+)/,"$1"+ri+"$2-$3$1"+Xg+(Zs(s,t+3)==108?"$3":"$2-$3"))+s;case 115:return~Ex(s,"stretch")?ek(ni(s,"stretch","fill-available"),t)+s:s}break;case 4949:if(Zs(s,t+1)!==115)break;case 6444:switch(Zs(s,ma(s)-3-(~Ex(s,"!important")&&10))){case 107:return ni(s,":",":"+ri)+s;case 101:return ni(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ri+(Zs(s,14)===45?"inline-":"")+"box$3$1"+ri+"$2$3$1"+rr+"$2box$3")+s}break;case 5936:switch(Zs(s,t+11)){case 114:return ri+s+rr+ni(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return ri+s+rr+ni(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return ri+s+rr+ni(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return ri+s+rr+s+s}return s}var OL=function(t,e,i,r){if(t.length>-1&&!t.return)switch(t.type){case r1:t.return=ek(t.value,t.length);break;case q5:return lu([sd(t,{value:ni(t.value,"@","@"+ri)})],r);case s1:if(t.length)return RL(t.props,function(n){switch(ML(n,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lu([sd(t,{props:[ni(n,/:(read-\w+)/,":"+Xg+"$1")]})],r);case"::placeholder":return lu([sd(t,{props:[ni(n,/:(plac\w+)/,":"+ri+"input-$1")]}),sd(t,{props:[ni(n,/:(plac\w+)/,":"+Xg+"$1")]}),sd(t,{props:[ni(n,/:(plac\w+)/,rr+"input-$1")]})],r)}return""})}},GL=[OL],YL=function(t){var e=t.key;if(e==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(x){var v=x.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=t.stylisPlugins||GL,n={},a,o=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(x){for(var v=x.getAttribute("data-emotion").split(" "),A=1;A<v.length;A++)n[v[A]]=!0;o.push(x)});var l,u=[IL,UL];{var d,f=[VL,NL(function(x){d.insert(x)})],g=zL(u.concat(r,f)),m=function(v){return lu(FL(v),g)};l=function(v,A,E,T){d=E,m(v?v+"{"+A.styles+"}":A.styles),T&&(p.inserted[A.name]=!0)}}var p={key:e,sheet:new pL({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:n,registered:{},insert:l};return p.sheet.hydrate(o),p},DS={exports:{}},ci={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function HL(){if(qE)return ci;qE=1;var s=typeof Symbol=="function"&&Symbol.for,t=s?Symbol.for("react.element"):60103,e=s?Symbol.for("react.portal"):60106,i=s?Symbol.for("react.fragment"):60107,r=s?Symbol.for("react.strict_mode"):60108,n=s?Symbol.for("react.profiler"):60114,a=s?Symbol.for("react.provider"):60109,o=s?Symbol.for("react.context"):60110,l=s?Symbol.for("react.async_mode"):60111,u=s?Symbol.for("react.concurrent_mode"):60111,d=s?Symbol.for("react.forward_ref"):60112,f=s?Symbol.for("react.suspense"):60113,g=s?Symbol.for("react.suspense_list"):60120,m=s?Symbol.for("react.memo"):60115,p=s?Symbol.for("react.lazy"):60116,x=s?Symbol.for("react.block"):60121,v=s?Symbol.for("react.fundamental"):60117,A=s?Symbol.for("react.responder"):60118,E=s?Symbol.for("react.scope"):60119;function T(D){if(typeof D=="object"&&D!==null){var N=D.$$typeof;switch(N){case t:switch(D=D.type,D){case l:case u:case i:case n:case r:case f:return D;default:switch(D=D&&D.$$typeof,D){case o:case d:case p:case m:case a:return D;default:return N}}case e:return N}}}function F(D){return T(D)===u}return ci.AsyncMode=l,ci.ConcurrentMode=u,ci.ContextConsumer=o,ci.ContextProvider=a,ci.Element=t,ci.ForwardRef=d,ci.Fragment=i,ci.Lazy=p,ci.Memo=m,ci.Portal=e,ci.Profiler=n,ci.StrictMode=r,ci.Suspense=f,ci.isAsyncMode=function(D){return F(D)||T(D)===l},ci.isConcurrentMode=F,ci.isContextConsumer=function(D){return T(D)===o},ci.isContextProvider=function(D){return T(D)===a},ci.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},ci.isForwardRef=function(D){return T(D)===d},ci.isFragment=function(D){return T(D)===i},ci.isLazy=function(D){return T(D)===p},ci.isMemo=function(D){return T(D)===m},ci.isPortal=function(D){return T(D)===e},ci.isProfiler=function(D){return T(D)===n},ci.isStrictMode=function(D){return T(D)===r},ci.isSuspense=function(D){return T(D)===f},ci.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===u||D===n||D===r||D===f||D===g||typeof D=="object"&&D!==null&&(D.$$typeof===p||D.$$typeof===m||D.$$typeof===a||D.$$typeof===o||D.$$typeof===d||D.$$typeof===v||D.$$typeof===A||D.$$typeof===E||D.$$typeof===x)},ci.typeOf=T,ci}var JE;function XL(){return JE||(JE=1,DS.exports=HL()),DS.exports}var FS,ZE;function WL(){if(ZE)return FS;ZE=1;var s=XL(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};n[s.ForwardRef]=i,n[s.Memo]=r;function a(p){return s.isMemo(p)?r:n[p.$$typeof]||t}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function m(p,x,v){if(typeof x!="string"){if(g){var A=f(x);A&&A!==g&&m(p,A,v)}var E=l(x);u&&(E=E.concat(u(x)));for(var T=a(p),F=a(x),D=0;D<E.length;++D){var N=E[D];if(!e[N]&&!(v&&v[N])&&!(F&&F[N])&&!(T&&T[N])){var V=d(x,N);try{o(p,N,V)}catch{}}}}return p}return FS=m,FS}WL();var $L=!0;function ik(s,t,e){var i="";return e.split(" ").forEach(function(r){s[r]!==void 0?t.push(s[r]+";"):r&&(i+=r+" ")}),i}var a1=function(t,e,i){var r=t.key+"-"+e.name;(i===!1||$L===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},sk=function(t,e,i){a1(t,e,i);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var n=e;do t.insert(e===n?"."+r:"",n,t.sheet,!0),n=n.next;while(n!==void 0)}};function jL(s){for(var t=0,e,i=0,r=s.length;r>=4;++i,r-=4)e=s.charCodeAt(i)&255|(s.charCodeAt(++i)&255)<<8|(s.charCodeAt(++i)&255)<<16|(s.charCodeAt(++i)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(s.charCodeAt(i+2)&255)<<16;case 2:t^=(s.charCodeAt(i+1)&255)<<8;case 1:t^=s.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var qL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JL=/[A-Z]|^ms/g,ZL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rk=function(t){return t.charCodeAt(1)===45},QE=function(t){return t!=null&&typeof t!="boolean"},_S=tk(function(s){return rk(s)?s:s.replace(JL,"-$&").toLowerCase()}),KE=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(ZL,function(i,r,n){return pa={name:r,styles:n,next:pa},r})}return qL[t]!==1&&!rk(t)&&typeof e=="number"&&e!==0?e+"px":e};function Pd(s,t,e){if(e==null)return"";var i=e;if(i.__emotion_styles!==void 0)return i;switch(typeof e){case"boolean":return"";case"object":{var r=e;if(r.anim===1)return pa={name:r.name,styles:r.styles,next:pa},r.name;var n=e;if(n.styles!==void 0){var a=n.next;if(a!==void 0)for(;a!==void 0;)pa={name:a.name,styles:a.styles,next:pa},a=a.next;var o=n.styles+";";return o}return QL(s,t,e)}case"function":{if(s!==void 0){var l=pa,u=e(s);return pa=l,Pd(s,t,u)}break}}var d=e;if(t==null)return d;var f=t[d];return f!==void 0?f:d}function QL(s,t,e){var i="";if(Array.isArray(e))for(var r=0;r<e.length;r++)i+=Pd(s,t,e[r])+";";else for(var n in e){var a=e[n];if(typeof a!="object"){var o=a;t!=null&&t[o]!==void 0?i+=n+"{"+t[o]+"}":QE(o)&&(i+=_S(n)+":"+KE(n,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)QE(a[l])&&(i+=_S(n)+":"+KE(n,a[l])+";");else{var u=Pd(s,t,a);switch(n){case"animation":case"animationName":{i+=_S(n)+":"+u+";";break}default:i+=n+"{"+u+"}"}}}return i}var tT=/label:\s*([^\s;{]+)\s*(;|$)/g,pa;function _y(s,t,e){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var i=!0,r="";pa=void 0;var n=s[0];if(n==null||n.raw===void 0)i=!1,r+=Pd(e,t,n);else{var a=n;r+=a[0]}for(var o=1;o<s.length;o++)if(r+=Pd(e,t,s[o]),i){var l=n;r+=l[o]}tT.lastIndex=0;for(var u="",d;(d=tT.exec(r))!==null;)u+="-"+d[1];var f=jL(r)+u;return{name:f,styles:r,next:pa}}var KL=function(t){return t()},t8=aM.useInsertionEffect?aM.useInsertionEffect:!1,nk=t8||KL,ak=tt.createContext(typeof HTMLElement<"u"?YL({key:"css"}):null);ak.Provider;var ok=function(t){return tt.forwardRef(function(e,i){var r=tt.useContext(ak);return t(e,r,i)})},o1=tt.createContext({}),h1={}.hasOwnProperty,wx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",e8=function(t,e){var i={};for(var r in e)h1.call(e,r)&&(i[r]=e[r]);return i[wx]=t,i},i8=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return a1(e,i,r),nk(function(){return sk(e,i,r)}),null},s8=ok(function(s,t,e){var i=s.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var r=s[wx],n=[i],a="";typeof s.className=="string"?a=ik(t.registered,n,s.className):s.className!=null&&(a=s.className+" ");var o=_y(n,void 0,tt.useContext(o1));a+=t.key+"-"+o.name;var l={};for(var u in s)h1.call(s,u)&&u!=="css"&&u!==wx&&(l[u]=s[u]);return l.className=a,e&&(l.ref=e),tt.createElement(tt.Fragment,null,tt.createElement(i8,{cache:t,serialized:o,isStringTag:typeof r=="string"}),tt.createElement(r,l))}),r8=s8,eT=function(t,e){var i=arguments;if(e==null||!h1.call(e,"css"))return tt.createElement.apply(void 0,i);var r=i.length,n=new Array(r);n[0]=r8,n[1]=e8(t,e);for(var a=2;a<r;a++)n[a]=i[a];return tt.createElement.apply(null,n)};(function(s){var t;t||(t=s.JSX||(s.JSX={}))})(eT||(eT={}));function n8(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];return _y(t)}function l1(){var s=n8.apply(void 0,arguments),t="animation-"+s.name;return{name:t,styles:"@keyframes "+t+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var a8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o8=tk(function(s){return a8.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),h8=o8,l8=function(t){return t!=="theme"},iT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?h8:l8},sT=function(t,e,i){var r;if(e){var n=e.shouldForwardProp;r=t.__emotion_forwardProp&&n?function(a){return t.__emotion_forwardProp(a)&&n(a)}:n}return typeof r!="function"&&i&&(r=t.__emotion_forwardProp),r},u8=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return a1(e,i,r),nk(function(){return sk(e,i,r)}),null},c8=function s(t,e){var i=t.__emotion_real===t,r=i&&t.__emotion_base||t,n,a;e!==void 0&&(n=e.label,a=e.target);var o=sT(t,e,i),l=o||iT(r),u=!l("as");return function(){var d=arguments,f=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(n!==void 0&&f.push("label:"+n+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{var g=d[0];f.push(g[0]);for(var m=d.length,p=1;p<m;p++)f.push(d[p],g[p])}var x=ok(function(v,A,E){var T=u&&v.as||r,F="",D=[],N=v;if(v.theme==null){N={};for(var V in v)N[V]=v[V];N.theme=tt.useContext(o1)}typeof v.className=="string"?F=ik(A.registered,D,v.className):v.className!=null&&(F=v.className+" ");var P=_y(f.concat(D),A.registered,N);F+=A.key+"-"+P.name,a!==void 0&&(F+=" "+a);var b=u&&o===void 0?iT(T):l,M={};for(var w in v)u&&w==="as"||b(w)&&(M[w]=v[w]);return M.className=F,E&&(M.ref=E),tt.createElement(tt.Fragment,null,tt.createElement(u8,{cache:A,serialized:P,isStringTag:typeof T=="string"}),tt.createElement(T,M))});return x.displayName=n!==void 0?n:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=r,x.__emotion_styles=f,x.__emotion_forwardProp=o,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(v,A){var E=s(v,Hg({},e,A,{shouldForwardProp:sT(x,A,!0)}));return E.apply(void 0,f)},x}},d8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Cx=c8.bind(null);d8.forEach(function(s){Cx[s]=Cx(s)});function hk(s,t){return Cx(s,t)}function f8(s,t){Array.isArray(s.__emotion_styles)&&(s.__emotion_styles=t(s.__emotion_styles))}const rT=[];function nT(s){return rT[0]=s,_y(rT)}var VS={exports:{}},vi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function g8(){if(aT)return vi;aT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function p(x){if(typeof x=="object"&&x!==null){var v=x.$$typeof;switch(v){case s:switch(x=x.type,x){case e:case r:case i:case l:case u:case g:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case f:case d:return x;case n:return x;default:return v}}case t:return v}}}return vi.ContextConsumer=n,vi.ContextProvider=a,vi.Element=s,vi.ForwardRef=o,vi.Fragment=e,vi.Lazy=f,vi.Memo=d,vi.Portal=t,vi.Profiler=r,vi.StrictMode=i,vi.Suspense=l,vi.SuspenseList=u,vi.isContextConsumer=function(x){return p(x)===n},vi.isContextProvider=function(x){return p(x)===a},vi.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===s},vi.isForwardRef=function(x){return p(x)===o},vi.isFragment=function(x){return p(x)===e},vi.isLazy=function(x){return p(x)===f},vi.isMemo=function(x){return p(x)===d},vi.isPortal=function(x){return p(x)===t},vi.isProfiler=function(x){return p(x)===r},vi.isStrictMode=function(x){return p(x)===i},vi.isSuspense=function(x){return p(x)===l},vi.isSuspenseList=function(x){return p(x)===u},vi.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===e||x===r||x===i||x===l||x===u||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===d||x.$$typeof===a||x.$$typeof===n||x.$$typeof===o||x.$$typeof===m||x.getModuleId!==void 0)},vi.typeOf=p,vi}var oT;function y8(){return oT||(oT=1,VS.exports=g8()),VS.exports}var lk=y8();function xa(s){if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function uk(s){if(tt.isValidElement(s)||lk.isValidElementType(s)||!xa(s))return s;const t={};return Object.keys(s).forEach(e=>{t[e]=uk(s[e])}),t}function Sn(s,t,e={clone:!0}){const i=e.clone?{...s}:s;return xa(s)&&xa(t)&&Object.keys(t).forEach(r=>{tt.isValidElement(t[r])||lk.isValidElementType(t[r])?i[r]=t[r]:xa(t[r])&&Object.prototype.hasOwnProperty.call(s,r)&&xa(s[r])?i[r]=Sn(s[r],t[r],e):e.clone?i[r]=xa(t[r])?uk(t[r]):t[r]:i[r]=t[r]}),i}const m8=s=>{const t=Object.keys(s).map(e=>({key:e,val:s[e]}))||[];return t.sort((e,i)=>e.val-i.val),t.reduce((e,i)=>({...e,[i.key]:i.val}),{})};function p8(s){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:i=5,...r}=s,n=m8(t),a=Object.keys(n);function o(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${e})`}function l(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-i/100}${e})`}function u(g,m){const p=a.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${e}) and (max-width:${(p!==-1&&typeof t[a[p]]=="number"?t[a[p]]:m)-i/100}${e})`}function d(g){return a.indexOf(g)+1<a.length?u(g,a[a.indexOf(g)+1]):o(g)}function f(g){const m=a.indexOf(g);return m===0?o(a[1]):m===a.length-1?l(a[m]):u(g,a[a.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:a,values:n,up:o,down:l,between:u,only:d,not:f,unit:e,...r}}function S8(s,t){if(!s.containerQueries)return t;const e=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,r)=>{var a,o;const n=/min-width:\s*([0-9.]+)/;return+(((a=i.match(n))==null?void 0:a[1])||0)-+(((o=r.match(n))==null?void 0:o[1])||0)});return e.length?e.reduce((i,r)=>{const n=t[r];return delete i[r],i[r]=n,i},{...t}):t}function x8(s,t){return t==="@"||t.startsWith("@")&&(s.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function A8(s,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,i,r]=e,n=Number.isNaN(+i)?i||0:+i;return s.containerQueries(r).up(n)}function v8(s){const t=(n,a)=>n.replace("@media",a?`@container ${a}`:"@container");function e(n,a){n.up=(...o)=>t(s.breakpoints.up(...o),a),n.down=(...o)=>t(s.breakpoints.down(...o),a),n.between=(...o)=>t(s.breakpoints.between(...o),a),n.only=(...o)=>t(s.breakpoints.only(...o),a),n.not=(...o)=>{const l=t(s.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},r=n=>(e(i,n),i);return e(r),{...s,containerQueries:r}}const b8={borderRadius:4};function Sd(s,t){return t?Sn(s,t,{clone:!1}):s}const Vy={xs:0,sm:600,md:900,lg:1200,xl:1536},hT={keys:["xs","sm","md","lg","xl"],up:s=>`@media (min-width:${Vy[s]}px)`},M8={containerQueries:s=>({up:t=>{let e=typeof t=="number"?t:Vy[t]||t;return typeof e=="number"&&(e=`${e}px`),s?`@container ${s} (min-width:${e})`:`@container (min-width:${e})`}})};function mo(s,t,e){const i=s.theme||{};if(Array.isArray(t)){const n=i.breakpoints||hT;return t.reduce((a,o,l)=>(a[n.up(n.keys[l])]=e(t[l]),a),{})}if(typeof t=="object"){const n=i.breakpoints||hT;return Object.keys(t).reduce((a,o)=>{if(x8(n.keys,o)){const l=A8(i.containerQueries?i:M8,o);l&&(a[l]=e(t[o],o))}else if(Object.keys(n.values||Vy).includes(o)){const l=n.up(o);a[l]=e(t[o],o)}else{const l=o;a[l]=t[l]}return a},{})}return e(t)}function R8(s={}){var e;return((e=s.keys)==null?void 0:e.reduce((i,r)=>{const n=s.up(r);return i[n]={},i},{}))||{}}function E8(s,t){return s.reduce((e,i)=>{const r=e[i];return(!r||Object.keys(r).length===0)&&delete e[i],e},t)}function fr(s){if(typeof s!="string")throw new Error(Qh(7));return s.charAt(0).toUpperCase()+s.slice(1)}function zy(s,t,e=!0){if(!t||typeof t!="string")return null;if(s&&s.vars&&e){const i=`vars.${t}`.split(".").reduce((r,n)=>r&&r[n]?r[n]:null,s);if(i!=null)return i}return t.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,s)}function Wg(s,t,e,i=e){let r;return typeof s=="function"?r=s(e):Array.isArray(s)?r=s[e]||i:r=zy(s,e)||i,t&&(r=t(r,i,s)),r}function ms(s){const{prop:t,cssProperty:e=s.prop,themeKey:i,transform:r}=s,n=a=>{if(a[t]==null)return null;const o=a[t],l=a.theme,u=zy(l,i)||{};return mo(a,o,f=>{let g=Wg(u,r,f);return f===g&&typeof f=="string"&&(g=Wg(u,r,`${t}${f==="default"?"":fr(f)}`,f)),e===!1?g:{[e]:g}})};return n.propTypes={},n.filterProps=[t],n}function T8(s){const t={};return e=>(t[e]===void 0&&(t[e]=s(e)),t[e])}const w8={m:"margin",p:"padding"},C8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},k8=T8(s=>{if(s.length>2)if(lT[s])s=lT[s];else return[s];const[t,e]=s.split(""),i=w8[t],r=C8[e]||"";return Array.isArray(r)?r.map(n=>i+n):[i+r]}),u1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...u1,...c1];function yf(s,t,e,i){const r=zy(s,t,!0)??e;return typeof r=="number"||typeof r=="string"?n=>typeof n=="string"?n:typeof r=="string"?r.startsWith("var(")&&n===0?0:r.startsWith("var(")&&n===1?r:`calc(${n} * ${r})`:r*n:Array.isArray(r)?n=>{if(typeof n=="string")return n;const a=Math.abs(n),o=r[a];return n>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function d1(s){return yf(s,"spacing",8)}function mf(s,t){return typeof t=="string"||t==null?t:s(t)}function D8(s,t){return e=>s.reduce((i,r)=>(i[r]=mf(t,e),i),{})}function F8(s,t,e,i){if(!t.includes(e))return null;const r=k8(e),n=D8(r,i),a=s[e];return mo(s,a,n)}function ck(s,t){const e=d1(s.theme);return Object.keys(s).map(i=>F8(s,t,i,e)).reduce(Sd,{})}function is(s){return ck(s,u1)}is.propTypes={};is.filterProps=u1;function ss(s){return ck(s,c1)}ss.propTypes={};ss.filterProps=c1;function dk(s=8,t=d1({spacing:s})){if(s.mui)return s;const e=(...i)=>(i.length===0?[1]:i).map(n=>{const a=t(n);return typeof a=="number"?`${a}px`:a}).join(" ");return e.mui=!0,e}function Ny(...s){const t=s.reduce((i,r)=>(r.filterProps.forEach(n=>{i[n]=r}),i),{}),e=i=>Object.keys(i).reduce((r,n)=>t[n]?Sd(r,t[n](i)):r,{});return e.propTypes={},e.filterProps=s.reduce((i,r)=>i.concat(r.filterProps),[]),e}function Bn(s){return typeof s!="number"?s:`${s}px solid`}function Hn(s,t){return ms({prop:s,themeKey:"borders",transform:t})}const _8=Hn("border",Bn),V8=Hn("borderTop",Bn),z8=Hn("borderRight",Bn),N8=Hn("borderBottom",Bn),B8=Hn("borderLeft",Bn),P8=Hn("borderColor"),L8=Hn("borderTopColor"),I8=Hn("borderRightColor"),U8=Hn("borderBottomColor"),O8=Hn("borderLeftColor"),G8=Hn("outline",Bn),Y8=Hn("outlineColor"),By=s=>{if(s.borderRadius!==void 0&&s.borderRadius!==null){const t=yf(s.theme,"shape.borderRadius",4),e=i=>({borderRadius:mf(t,i)});return mo(s,s.borderRadius,e)}return null};By.propTypes={};By.filterProps=["borderRadius"];Ny(_8,V8,z8,N8,B8,P8,L8,I8,U8,O8,By,G8,Y8);const Py=s=>{if(s.gap!==void 0&&s.gap!==null){const t=yf(s.theme,"spacing",8),e=i=>({gap:mf(t,i)});return mo(s,s.gap,e)}return null};Py.propTypes={};Py.filterProps=["gap"];const Ly=s=>{if(s.columnGap!==void 0&&s.columnGap!==null){const t=yf(s.theme,"spacing",8),e=i=>({columnGap:mf(t,i)});return mo(s,s.columnGap,e)}return null};Ly.propTypes={};Ly.filterProps=["columnGap"];const Iy=s=>{if(s.rowGap!==void 0&&s.rowGap!==null){const t=yf(s.theme,"spacing",8),e=i=>({rowGap:mf(t,i)});return mo(s,s.rowGap,e)}return null};Iy.propTypes={};Iy.filterProps=["rowGap"];const H8=ms({prop:"gridColumn"}),X8=ms({prop:"gridRow"}),W8=ms({prop:"gridAutoFlow"}),$8=ms({prop:"gridAutoColumns"}),j8=ms({prop:"gridAutoRows"}),q8=ms({prop:"gridTemplateColumns"}),J8=ms({prop:"gridTemplateRows"}),Z8=ms({prop:"gridTemplateAreas"}),Q8=ms({prop:"gridArea"});Ny(Py,Ly,Iy,H8,X8,W8,$8,j8,q8,J8,Z8,Q8);function uu(s,t){return t==="grey"?t:s}const K8=ms({prop:"color",themeKey:"palette",transform:uu}),tI=ms({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uu}),eI=ms({prop:"backgroundColor",themeKey:"palette",transform:uu});Ny(K8,tI,eI);function gn(s){return s<=1&&s!==0?`${s*100}%`:s}const iI=ms({prop:"width",transform:gn}),f1=s=>{if(s.maxWidth!==void 0&&s.maxWidth!==null){const t=e=>{var r,n,a,o,l;const i=((a=(n=(r=s.theme)==null?void 0:r.breakpoints)==null?void 0:n.values)==null?void 0:a[e])||Vy[e];return i?((l=(o=s.theme)==null?void 0:o.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${i}${s.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:gn(e)}};return mo(s,s.maxWidth,t)}return null};f1.filterProps=["maxWidth"];const sI=ms({prop:"minWidth",transform:gn}),rI=ms({prop:"height",transform:gn}),nI=ms({prop:"maxHeight",transform:gn}),aI=ms({prop:"minHeight",transform:gn});ms({prop:"size",cssProperty:"width",transform:gn});ms({prop:"size",cssProperty:"height",transform:gn});const oI=ms({prop:"boxSizing"});Ny(iI,f1,sI,rI,nI,aI,oI);const pf={border:{themeKey:"borders",transform:Bn},borderTop:{themeKey:"borders",transform:Bn},borderRight:{themeKey:"borders",transform:Bn},borderBottom:{themeKey:"borders",transform:Bn},borderLeft:{themeKey:"borders",transform:Bn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:By},color:{themeKey:"palette",transform:uu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uu},backgroundColor:{themeKey:"palette",transform:uu},p:{style:ss},pt:{style:ss},pr:{style:ss},pb:{style:ss},pl:{style:ss},px:{style:ss},py:{style:ss},padding:{style:ss},paddingTop:{style:ss},paddingRight:{style:ss},paddingBottom:{style:ss},paddingLeft:{style:ss},paddingX:{style:ss},paddingY:{style:ss},paddingInline:{style:ss},paddingInlineStart:{style:ss},paddingInlineEnd:{style:ss},paddingBlock:{style:ss},paddingBlockStart:{style:ss},paddingBlockEnd:{style:ss},m:{style:is},mt:{style:is},mr:{style:is},mb:{style:is},ml:{style:is},mx:{style:is},my:{style:is},margin:{style:is},marginTop:{style:is},marginRight:{style:is},marginBottom:{style:is},marginLeft:{style:is},marginX:{style:is},marginY:{style:is},marginInline:{style:is},marginInlineStart:{style:is},marginInlineEnd:{style:is},marginBlock:{style:is},marginBlockStart:{style:is},marginBlockEnd:{style:is},displayPrint:{cssProperty:!1,transform:s=>({"@media print":{display:s}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Py},rowGap:{style:Iy},columnGap:{style:Ly},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gn},maxWidth:{style:f1},minWidth:{transform:gn},height:{transform:gn},maxHeight:{transform:gn},minHeight:{transform:gn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hI(...s){const t=s.reduce((i,r)=>i.concat(Object.keys(r)),[]),e=new Set(t);return s.every(i=>e.size===Object.keys(i).length)}function lI(s,t){return typeof s=="function"?s(t):s}function uI(){function s(e,i,r,n){const a={[e]:i,theme:r},o=n[e];if(!o)return{[e]:i};const{cssProperty:l=e,themeKey:u,transform:d,style:f}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[e]:i};const g=zy(r,u)||{};return f?f(a):mo(a,i,p=>{let x=Wg(g,d,p);return p===x&&typeof p=="string"&&(x=Wg(g,d,`${e}${p==="default"?"":fr(p)}`,p)),l===!1?x:{[l]:x}})}function t(e){const{sx:i,theme:r={}}=e||{};if(!i)return null;const n=r.unstable_sxConfig??pf;function a(o){let l=o;if(typeof o=="function")l=o(r);else if(typeof o!="object")return o;if(!l)return null;const u=R8(r.breakpoints),d=Object.keys(u);let f=u;return Object.keys(l).forEach(g=>{const m=lI(l[g],r);if(m!=null)if(typeof m=="object")if(n[g])f=Sd(f,s(g,m,r,n));else{const p=mo({theme:r},m,x=>({[g]:x}));hI(p,m)?f[g]=t({sx:m,theme:r}):f=Sd(f,p)}else f=Sd(f,s(g,m,r,n))}),S8(r,E8(d,f))}return Array.isArray(i)?i.map(a):a(i)}return t}const Kh=uI();Kh.filterProps=["sx"];function cI(s,t){var i;const e=this;if(e.vars){if(!((i=e.colorSchemes)!=null&&i[s])||typeof e.getColorSchemeSelector!="function")return{};let r=e.getColorSchemeSelector(s);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return e.palette.mode===s?t:{}}function g1(s={},...t){const{breakpoints:e={},palette:i={},spacing:r,shape:n={},...a}=s,o=p8(e),l=dk(r);let u=Sn({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...b8,...n}},a);return u=v8(u),u.applyStyles=cI,u=t.reduce((d,f)=>Sn(d,f),u),u.unstable_sxConfig={...pf,...a==null?void 0:a.unstable_sxConfig},u.unstable_sx=function(f){return Kh({sx:f,theme:this})},u}function dI(s){return Object.keys(s).length===0}function fI(s=null){const t=tt.useContext(o1);return!t||dI(t)?s:t}const gI=g1();function yI(s=gI){return fI(s)}const mI=s=>{var i;const t={systemProps:{},otherProps:{}},e=((i=s==null?void 0:s.theme)==null?void 0:i.unstable_sxConfig)??pf;return Object.keys(s).forEach(r=>{e[r]?t.systemProps[r]=s[r]:t.otherProps[r]=s[r]}),t};function fk(s){const{sx:t,...e}=s,{systemProps:i,otherProps:r}=mI(e);let n;return Array.isArray(t)?n=[i,...t]:typeof t=="function"?n=(...a)=>{const o=t(...a);return xa(o)?{...i,...o}:i}:n={...i,...t},{...r,sx:n}}const uT=s=>s,pI=()=>{let s=uT;return{configure(t){s=t},generate(t){return s(t)},reset(){s=uT}}},gk=pI();function yk(s){var t,e,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=yk(s[t]))&&(i&&(i+=" "),i+=e)}else for(e in s)s[e]&&(i&&(i+=" "),i+=e);return i}function vs(){for(var s,t,e=0,i="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=yk(s))&&(i&&(i+=" "),i+=t);return i}function SI(s={}){const{themeId:t,defaultTheme:e,defaultClassName:i="MuiBox-root",generateClassName:r}=s,n=hk("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Kh);return tt.forwardRef(function(l,u){const d=yI(e),{className:f,component:g="div",...m}=fk(l);return me.jsx(n,{as:g,ref:u,className:vs(f,r?r(i):i),theme:t&&d[t]||d,...m})})}const xI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ol(s,t,e="Mui"){const i=xI[t];return i?`${e}-${i}`:`${gk.generate(s)}-${t}`}function ch(s,t,e="Mui"){const i={};return t.forEach(r=>{i[r]=ol(s,r,e)}),i}function mk(s){const{variants:t,...e}=s,i={variants:t,style:nT(e),isProcessed:!0};return i.style===e||t&&t.forEach(r=>{typeof r.style!="function"&&(r.style=nT(r.style))}),i}const AI=g1();function zS(s){return s!=="ownerState"&&s!=="theme"&&s!=="sx"&&s!=="as"}function vI(s){return s?(t,e)=>e[s]:null}function bI(s,t,e){s.theme=EI(s.theme)?e:s.theme[t]||s.theme}function gg(s,t){const e=typeof t=="function"?t(s):t;if(Array.isArray(e))return e.flatMap(i=>gg(s,i));if(Array.isArray(e==null?void 0:e.variants)){let i;if(e.isProcessed)i=e.style;else{const{variants:r,...n}=e;i=n}return pk(s,e.variants,[i])}return e!=null&&e.isProcessed?e.style:e}function pk(s,t,e=[]){var r;let i;t:for(let n=0;n<t.length;n+=1){const a=t[n];if(typeof a.props=="function"){if(i??(i={...s,...s.ownerState,ownerState:s.ownerState}),!a.props(i))continue}else for(const o in a.props)if(s[o]!==a.props[o]&&((r=s.ownerState)==null?void 0:r[o])!==a.props[o])continue t;typeof a.style=="function"?(i??(i={...s,...s.ownerState,ownerState:s.ownerState}),e.push(a.style(i))):e.push(a.style)}return e}function MI(s={}){const{themeId:t,defaultTheme:e=AI,rootShouldForwardProp:i=zS,slotShouldForwardProp:r=zS}=s;function n(o){bI(o,t,e)}return(o,l={})=>{f8(o,D=>D.filter(N=>N!==Kh));const{name:u,slot:d,skipVariantsResolver:f,skipSx:g,overridesResolver:m=vI(wI(d)),...p}=l,x=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,v=g||!1;let A=zS;d==="Root"||d==="root"?A=i:d?A=r:TI(o)&&(A=void 0);const E=hk(o,{shouldForwardProp:A,label:RI(),...p}),T=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(V){return gg(V,D)};if(xa(D)){const N=mk(D);return N.variants?function(P){return gg(P,N)}:N.style}return D},F=(...D)=>{const N=[],V=D.map(T),P=[];if(N.push(n),u&&m&&P.push(function(C){var B,U;const z=(U=(B=C.theme.components)==null?void 0:B[u])==null?void 0:U.styleOverrides;if(!z)return null;const H={};for(const O in z)H[O]=gg(C,z[O]);return m(C,H)}),u&&!x&&P.push(function(C){var H,B;const k=C.theme,z=(B=(H=k==null?void 0:k.components)==null?void 0:H[u])==null?void 0:B.variants;return z?pk(C,z):null}),v||P.push(Kh),Array.isArray(V[0])){const w=V.shift(),C=new Array(N.length).fill(""),k=new Array(P.length).fill("");let z;z=[...C,...w,...k],z.raw=[...C,...w.raw,...k],N.unshift(z)}const b=[...N,...V,...P],M=E(...b);return o.muiName&&(M.muiName=o.muiName),M};return E.withConfig&&(F.withConfig=E.withConfig),F}}function RI(s,t){return void 0}function EI(s){for(const t in s)return!1;return!0}function TI(s){return typeof s=="string"&&s.charCodeAt(0)>96}function wI(s){return s&&s.charAt(0).toLowerCase()+s.slice(1)}function kx(s,t){const e={...t};for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)){const r=i;if(r==="components"||r==="slots")e[r]={...s[r],...e[r]};else if(r==="componentsProps"||r==="slotProps"){const n=s[r],a=t[r];if(!a)e[r]=n||{};else if(!n)e[r]=a;else{e[r]={...a};for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=o;e[r][l]=kx(n[l],a[l])}}}else e[r]===void 0&&(e[r]=s[r])}return e}const CI=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;function kI(s,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(s,e))}function y1(s,t=0,e=1){return kI(s,t,e)}function DI(s){s=s.slice(1);const t=new RegExp(`.{1,${s.length>=6?2:1}}`,"g");let e=s.match(t);return e&&e[0].length===1&&(e=e.map(i=>i+i)),e?`rgb${e.length===4?"a":""}(${e.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function hh(s){if(s.type)return s;if(s.charAt(0)==="#")return hh(DI(s));const t=s.indexOf("("),e=s.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(Qh(9,s));let i=s.substring(t+1,s.length-1),r;if(e==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Qh(10,r))}else i=i.split(",");return i=i.map(n=>parseFloat(n)),{type:e,values:i,colorSpace:r}}const FI=s=>{const t=hh(s);return t.values.slice(0,3).map((e,i)=>t.type.includes("hsl")&&i!==0?`${e}%`:e).join(" ")},hd=(s,t)=>{try{return FI(s)}catch{return s}};function Uy(s){const{type:t,colorSpace:e}=s;let{values:i}=s;return t.includes("rgb")?i=i.map((r,n)=>n<3?parseInt(r,10):r):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${e} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function Sk(s){s=hh(s);const{values:t}=s,e=t[0],i=t[1]/100,r=t[2]/100,n=i*Math.min(r,1-r),a=(u,d=(u+e/30)%12)=>r-n*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return s.type==="hsla"&&(o+="a",l.push(t[3])),Uy({type:o,values:l})}function Dx(s){s=hh(s);let t=s.type==="hsl"||s.type==="hsla"?hh(Sk(s)).values:s.values;return t=t.map(e=>(s.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function _I(s,t){const e=Dx(s),i=Dx(t);return(Math.max(e,i)+.05)/(Math.min(e,i)+.05)}function Fx(s,t){return s=hh(s),t=y1(t),(s.type==="rgb"||s.type==="hsl")&&(s.type+="a"),s.type==="color"?s.values[3]=`/${t}`:s.values[3]=t,Uy(s)}function ig(s,t,e){try{return Fx(s,t)}catch{return s}}function m1(s,t){if(s=hh(s),t=y1(t),s.type.includes("hsl"))s.values[2]*=1-t;else if(s.type.includes("rgb")||s.type.includes("color"))for(let e=0;e<3;e+=1)s.values[e]*=1-t;return Uy(s)}function Ti(s,t,e){try{return m1(s,t)}catch{return s}}function p1(s,t){if(s=hh(s),t=y1(t),s.type.includes("hsl"))s.values[2]+=(100-s.values[2])*t;else if(s.type.includes("rgb"))for(let e=0;e<3;e+=1)s.values[e]+=(255-s.values[e])*t;else if(s.type.includes("color"))for(let e=0;e<3;e+=1)s.values[e]+=(1-s.values[e])*t;return Uy(s)}function wi(s,t,e){try{return p1(s,t)}catch{return s}}function VI(s,t=.15){return Dx(s)>.5?m1(s,t):p1(s,t)}function sg(s,t,e){try{return VI(s,t)}catch{return s}}const zI=tt.createContext(void 0);function NI(s){const{theme:t,name:e,props:i}=s;if(!t||!t.components||!t.components[e])return i;const r=t.components[e];return r.defaultProps?kx(r.defaultProps,i):!r.styleOverrides&&!r.variants?kx(r,i):i}function BI({props:s,name:t}){const e=tt.useContext(zI);return NI({props:s,name:t,theme:{components:e}})}const cT={theme:void 0};function PI(s){let t,e;return function(r){let n=t;return(n===void 0||r.theme!==e)&&(cT.theme=r.theme,n=mk(s(cT)),t=n,e=r.theme),n}}function LI(s=""){function t(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${s?`${s}-`:""}${r}${t(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${s?`${s}-`:""}${i}${t(...r)})`}const dT=(s,t,e,i=[])=>{let r=s;t.forEach((n,a)=>{a===t.length-1?Array.isArray(r)?r[Number(n)]=e:r&&typeof r=="object"&&(r[n]=e):r&&typeof r=="object"&&(r[n]||(r[n]=i.includes(n)?[]:{}),r=r[n])})},II=(s,t,e)=>{function i(r,n=[],a=[]){Object.entries(r).forEach(([o,l])=>{(!e||e&&!e([...n,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...n,o],Array.isArray(l)?[...a,o]:a):t([...n,o],l,a))})}i(s)},UI=(s,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>s.includes(i))||s[s.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function NS(s,t){const{prefix:e,shouldSkipGeneratingVar:i}=t||{},r={},n={},a={};return II(s,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(o,l))){const d=`--${e?`${e}-`:""}${o.join("-")}`,f=UI(o,l);Object.assign(r,{[d]:f}),dT(n,o,`var(${d})`,u),dT(a,o,`var(${d}, ${f})`,u)}},o=>o[0]==="vars"),{css:r,vars:n,varsWithDefaults:a}}function OI(s,t={}){const{getSelector:e=v,disableCssColorScheme:i,colorSchemeSelector:r}=t,{colorSchemes:n={},components:a,defaultColorScheme:o="light",...l}=s,{vars:u,css:d,varsWithDefaults:f}=NS(l,t);let g=f;const m={},{[o]:p,...x}=n;if(Object.entries(x||{}).forEach(([T,F])=>{const{vars:D,css:N,varsWithDefaults:V}=NS(F,t);g=Sn(g,V),m[T]={css:N,vars:D}}),p){const{css:T,vars:F,varsWithDefaults:D}=NS(p,t);g=Sn(g,D),m[o]={css:T,vars:F}}function v(T,F){var N,V;let D=r;if(r==="class"&&(D=".%s"),r==="data"&&(D="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(D=`[${r}="%s"]`),T){if(D==="media")return s.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((V=(N=n[T])==null?void 0:N.palette)==null?void 0:V.mode)||T})`]:{":root":F}};if(D)return s.defaultColorScheme===T?`:root, ${D.replace("%s",String(T))}`:D.replace("%s",String(T))}return":root"}return{vars:g,generateThemeVars:()=>{let T={...u};return Object.entries(m).forEach(([,{vars:F}])=>{T=Sn(T,F)}),T},generateStyleSheets:()=>{var P,b;const T=[],F=s.defaultColorScheme||"light";function D(M,w){Object.keys(w).length&&T.push(typeof M=="string"?{[M]:{...w}}:M)}D(e(void 0,{...d}),d);const{[F]:N,...V}=m;if(N){const{css:M}=N,w=(b=(P=n[F])==null?void 0:P.palette)==null?void 0:b.mode,C=!i&&w?{colorScheme:w,...M}:{...M};D(e(F,{...C}),C)}return Object.entries(V).forEach(([M,{css:w}])=>{var z,H;const C=(H=(z=n[M])==null?void 0:z.palette)==null?void 0:H.mode,k=!i&&C?{colorScheme:C,...w}:{...w};D(e(M,{...k}),k)}),T}}}function GI(s){return function(e){return s==="media"?`@media (prefers-color-scheme: ${e})`:s?s.startsWith("data-")&&!s.includes("%s")?`[${s}="${e}"] &`:s==="class"?`.${e} &`:s==="data"?`[data-${e}] &`:`${s.replace("%s",e)} &`:"&"}}function Ju(s,t,e=void 0){const i={};for(const r in s){const n=s[r];let a="",o=!0;for(let l=0;l<n.length;l+=1){const u=n[l];u&&(a+=(o===!0?"":" ")+t(u),o=!1,e&&e[u]&&(a+=" "+e[u]))}i[r]=a}return i}function xk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zd.white,default:zd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const YI=xk();function Ak(){return{text:{primary:zd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const fT=Ak();function gT(s,t,e,i){const r=i.light||i,n=i.dark||i*1.5;s[t]||(s.hasOwnProperty(e)?s[t]=s[e]:t==="light"?s.light=p1(s.main,r):t==="dark"&&(s.dark=m1(s.main,n)))}function HI(s="light"){return s==="dark"?{main:jl[200],light:jl[50],dark:jl[400]}:{main:jl[700],light:jl[400],dark:jl[800]}}function XI(s="light"){return s==="dark"?{main:$l[200],light:$l[50],dark:$l[400]}:{main:$l[500],light:$l[300],dark:$l[700]}}function WI(s="light"){return s==="dark"?{main:Wl[500],light:Wl[300],dark:Wl[700]}:{main:Wl[700],light:Wl[400],dark:Wl[800]}}function $I(s="light"){return s==="dark"?{main:ql[400],light:ql[300],dark:ql[700]}:{main:ql[700],light:ql[500],dark:ql[900]}}function jI(s="light"){return s==="dark"?{main:Jl[400],light:Jl[300],dark:Jl[700]}:{main:Jl[800],light:Jl[500],dark:Jl[900]}}function qI(s="light"){return s==="dark"?{main:id[400],light:id[300],dark:id[700]}:{main:"#ed6c02",light:id[500],dark:id[900]}}function S1(s){const{mode:t="light",contrastThreshold:e=3,tonalOffset:i=.2,...r}=s,n=s.primary||HI(t),a=s.secondary||XI(t),o=s.error||WI(t),l=s.info||$I(t),u=s.success||jI(t),d=s.warning||qI(t);function f(x){return _I(x,fT.text.primary)>=e?fT.text.primary:YI.text.primary}const g=({color:x,name:v,mainShade:A=500,lightShade:E=300,darkShade:T=700})=>{if(x={...x},!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Qh(11,v?` (${v})`:"",A));if(typeof x.main!="string")throw new Error(Qh(12,v?` (${v})`:"",JSON.stringify(x.main)));return gT(x,"light",E,i),gT(x,"dark",T,i),x.contrastText||(x.contrastText=f(x.main)),x};let m;return t==="light"?m=xk():t==="dark"&&(m=Ak()),Sn({common:{...zd},mode:t,primary:g({color:n,name:"primary"}),secondary:g({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:o,name:"error"}),warning:g({color:d,name:"warning"}),info:g({color:l,name:"info"}),success:g({color:u,name:"success"}),grey:gL,contrastThreshold:e,getContrastText:f,augmentColor:g,tonalOffset:i,...m},r)}function JI(s){const t={};return Object.entries(s).forEach(i=>{const[r,n]=i;typeof n=="object"&&(t[r]=`${n.fontStyle?`${n.fontStyle} `:""}${n.fontVariant?`${n.fontVariant} `:""}${n.fontWeight?`${n.fontWeight} `:""}${n.fontStretch?`${n.fontStretch} `:""}${n.fontSize||""}${n.lineHeight?`/${n.lineHeight} `:""}${n.fontFamily||""}`)}),t}function ZI(s,t){return{toolbar:{minHeight:56,[s.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[s.up("sm")]:{minHeight:64}},...t}}function QI(s){return Math.round(s*1e5)/1e5}const yT={textTransform:"uppercase"},mT='"Roboto", "Helvetica", "Arial", sans-serif';function KI(s,t){const{fontFamily:e=mT,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:n=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...f}=typeof t=="function"?t(s):t,g=i/14,m=d||(v=>`${v/l*g}rem`),p=(v,A,E,T,F)=>({fontFamily:e,fontWeight:v,fontSize:m(A),lineHeight:E,...e===mT?{letterSpacing:`${QI(T/A)}em`}:{},...F,...u}),x={h1:p(r,96,1.167,-1.5),h2:p(r,60,1.2,-.5),h3:p(n,48,1.167,0),h4:p(n,34,1.235,.25),h5:p(n,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(n,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(n,16,1.5,.15),body2:p(n,14,1.43,.15),button:p(a,14,1.75,.4,yT),caption:p(n,12,1.66,.4),overline:p(n,12,2.66,1,yT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sn({htmlFontSize:l,pxToRem:m,fontFamily:e,fontSize:i,fontWeightLight:r,fontWeightRegular:n,fontWeightMedium:a,fontWeightBold:o,...x},f,{clone:!1})}const t9=.2,e9=.14,i9=.12;function Ui(...s){return[`${s[0]}px ${s[1]}px ${s[2]}px ${s[3]}px rgba(0,0,0,${t9})`,`${s[4]}px ${s[5]}px ${s[6]}px ${s[7]}px rgba(0,0,0,${e9})`,`${s[8]}px ${s[9]}px ${s[10]}px ${s[11]}px rgba(0,0,0,${i9})`].join(",")}const s9=["none",Ui(0,2,1,-1,0,1,1,0,0,1,3,0),Ui(0,3,1,-2,0,2,2,0,0,1,5,0),Ui(0,3,3,-2,0,3,4,0,0,1,8,0),Ui(0,2,4,-1,0,4,5,0,0,1,10,0),Ui(0,3,5,-1,0,5,8,0,0,1,14,0),Ui(0,3,5,-1,0,6,10,0,0,1,18,0),Ui(0,4,5,-2,0,7,10,1,0,2,16,1),Ui(0,5,5,-3,0,8,10,1,0,3,14,2),Ui(0,5,6,-3,0,9,12,1,0,3,16,2),Ui(0,6,6,-3,0,10,14,1,0,4,18,3),Ui(0,6,7,-4,0,11,15,1,0,4,20,3),Ui(0,7,8,-4,0,12,17,2,0,5,22,4),Ui(0,7,8,-4,0,13,19,2,0,5,24,4),Ui(0,7,9,-4,0,14,21,2,0,5,26,4),Ui(0,8,9,-5,0,15,22,2,0,6,28,5),Ui(0,8,10,-5,0,16,24,2,0,6,30,5),Ui(0,8,11,-5,0,17,26,2,0,6,32,5),Ui(0,9,11,-5,0,18,28,2,0,7,34,6),Ui(0,9,12,-6,0,19,29,2,0,7,36,6),Ui(0,10,13,-6,0,20,31,3,0,8,38,7),Ui(0,10,13,-6,0,21,33,3,0,8,40,7),Ui(0,10,14,-6,0,22,35,3,0,8,42,7),Ui(0,11,14,-7,0,23,36,3,0,9,44,8),Ui(0,11,15,-7,0,24,38,3,0,9,46,8)],r9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},n9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pT(s){return`${Math.round(s)}ms`}function a9(s){if(!s)return 0;const t=s/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function o9(s){const t={...r9,...s.easing},e={...n9,...s.duration};return{getAutoHeightDuration:a9,create:(r=["all"],n={})=>{const{duration:a=e.standard,easing:o=t.easeInOut,delay:l=0,...u}=n;return(Array.isArray(r)?r:[r]).map(d=>`${d} ${typeof a=="string"?a:pT(a)} ${o} ${typeof l=="string"?l:pT(l)}`).join(",")},...s,easing:t,duration:e}}const h9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function l9(s){return xa(s)||typeof s>"u"||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||Array.isArray(s)}function vk(s={}){const t={...s};function e(i){const r=Object.entries(i);for(let n=0;n<r.length;n++){const[a,o]=r[n];!l9(o)||a.startsWith("unstable_")?delete i[a]:xa(o)&&(i[a]={...o},e(i[a]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _x(s={},...t){const{breakpoints:e,mixins:i={},spacing:r,palette:n={},transitions:a={},typography:o={},shape:l,...u}=s;if(s.vars&&s.generateThemeVars===void 0)throw new Error(Qh(20));const d=S1(n),f=g1(s);let g=Sn(f,{mixins:ZI(f.breakpoints,i),palette:d,shadows:s9.slice(),typography:KI(d,o),transitions:o9(a),zIndex:{...h9}});return g=Sn(g,u),g=t.reduce((m,p)=>Sn(m,p),g),g.unstable_sxConfig={...pf,...u==null?void 0:u.unstable_sxConfig},g.unstable_sx=function(p){return Kh({sx:p,theme:this})},g.toRuntimeSource=vk,g}function u9(s){let t;return s<1?t=5.11916*s**2:t=4.5*Math.log(s+1)+2,Math.round(t*10)/1e3}const c9=[...Array(25)].map((s,t)=>{if(t===0)return"none";const e=u9(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function bk(s){return{inputPlaceholder:s==="dark"?.5:.42,inputUnderline:s==="dark"?.7:.42,switchTrackDisabled:s==="dark"?.2:.12,switchTrack:s==="dark"?.3:.38}}function Mk(s){return s==="dark"?c9:[]}function d9(s){const{palette:t={mode:"light"},opacity:e,overlays:i,...r}=s,n=S1(t);return{palette:n,opacity:{...bk(n.mode),...e},overlays:i||Mk(n.mode),...r}}function f9(s){var t;return!!s[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!s[0].match(/sxConfig$/)||s[0]==="palette"&&!!((t=s[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const g9=s=>[...[...Array(25)].map((t,e)=>`--${s?`${s}-`:""}overlays-${e}`),`--${s?`${s}-`:""}palette-AppBar-darkBg`,`--${s?`${s}-`:""}palette-AppBar-darkColor`],y9=s=>(t,e)=>{const i=s.rootSelector||":root",r=s.colorSchemeSelector;let n=r;if(r==="class"&&(n=".%s"),r==="data"&&(n="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(n=`[${r}="%s"]`),s.defaultColorScheme===t){if(t==="dark"){const a={};return g9(s.cssVarPrefix).forEach(o=>{a[o]=e[o],delete e[o]}),n==="media"?{[i]:e,"@media (prefers-color-scheme: dark)":{[i]:a}}:n?{[n.replace("%s",t)]:a,[`${i}, ${n.replace("%s",t)}`]:e}:{[i]:{...e,...a}}}if(n&&n!=="media")return`${i}, ${n.replace("%s",String(t))}`}else if(t){if(n==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:e}};if(n)return n.replace("%s",String(t))}return i};function m9(s,t){t.forEach(e=>{s[e]||(s[e]={})})}function yt(s,t,e){!s[t]&&e&&(s[t]=e)}function ld(s){return typeof s!="string"||!s.startsWith("hsl")?s:Sk(s)}function Qa(s,t){`${t}Channel`in s||(s[`${t}Channel`]=hd(ld(s[t])))}function p9(s){return typeof s=="number"?`${s}px`:typeof s=="string"||typeof s=="function"||Array.isArray(s)?s:"8px"}const da=s=>{try{return s()}catch{}},S9=(s="mui")=>LI(s);function BS(s,t,e,i){if(!t)return;t=t===!0?{}:t;const r=i==="dark"?"dark":"light";if(!e){s[i]=d9({...t,palette:{mode:r,...t==null?void 0:t.palette}});return}const{palette:n,...a}=_x({...e,palette:{mode:r,...t==null?void 0:t.palette}});return s[i]={...t,palette:n,opacity:{...bk(r),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Mk(r)},a}function x9(s={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:n="mui",shouldSkipGeneratingVar:a=f9,colorSchemeSelector:o=e.light&&e.dark?"media":void 0,rootSelector:l=":root",...u}=s,d=Object.keys(e)[0],f=i||(e.light&&d!=="light"?"light":d),g=S9(n),{[f]:m,light:p,dark:x,...v}=e,A={...v};let E=m;if((f==="dark"&&!("dark"in e)||f==="light"&&!("light"in e))&&(E=!0),!E)throw new Error(Qh(21,f));const T=BS(A,E,u,f);p&&!A.light&&BS(A,p,void 0,"light"),x&&!A.dark&&BS(A,x,void 0,"dark");let F={defaultColorScheme:f,...T,cssVarPrefix:n,colorSchemeSelector:o,rootSelector:l,getCssVar:g,colorSchemes:A,font:{...JI(T.typography),...T.font},spacing:p9(u.spacing)};Object.keys(F.colorSchemes).forEach(b=>{const M=F.colorSchemes[b].palette,w=C=>{const k=C.split("-"),z=k[1],H=k[2];return g(C,M[z][H])};if(M.mode==="light"&&(yt(M.common,"background","#fff"),yt(M.common,"onBackground","#000")),M.mode==="dark"&&(yt(M.common,"background","#000"),yt(M.common,"onBackground","#fff")),m9(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){yt(M.Alert,"errorColor",Ti(M.error.light,.6)),yt(M.Alert,"infoColor",Ti(M.info.light,.6)),yt(M.Alert,"successColor",Ti(M.success.light,.6)),yt(M.Alert,"warningColor",Ti(M.warning.light,.6)),yt(M.Alert,"errorFilledBg",w("palette-error-main")),yt(M.Alert,"infoFilledBg",w("palette-info-main")),yt(M.Alert,"successFilledBg",w("palette-success-main")),yt(M.Alert,"warningFilledBg",w("palette-warning-main")),yt(M.Alert,"errorFilledColor",da(()=>M.getContrastText(M.error.main))),yt(M.Alert,"infoFilledColor",da(()=>M.getContrastText(M.info.main))),yt(M.Alert,"successFilledColor",da(()=>M.getContrastText(M.success.main))),yt(M.Alert,"warningFilledColor",da(()=>M.getContrastText(M.warning.main))),yt(M.Alert,"errorStandardBg",wi(M.error.light,.9)),yt(M.Alert,"infoStandardBg",wi(M.info.light,.9)),yt(M.Alert,"successStandardBg",wi(M.success.light,.9)),yt(M.Alert,"warningStandardBg",wi(M.warning.light,.9)),yt(M.Alert,"errorIconColor",w("palette-error-main")),yt(M.Alert,"infoIconColor",w("palette-info-main")),yt(M.Alert,"successIconColor",w("palette-success-main")),yt(M.Alert,"warningIconColor",w("palette-warning-main")),yt(M.AppBar,"defaultBg",w("palette-grey-100")),yt(M.Avatar,"defaultBg",w("palette-grey-400")),yt(M.Button,"inheritContainedBg",w("palette-grey-300")),yt(M.Button,"inheritContainedHoverBg",w("palette-grey-A100")),yt(M.Chip,"defaultBorder",w("palette-grey-400")),yt(M.Chip,"defaultAvatarColor",w("palette-grey-700")),yt(M.Chip,"defaultIconColor",w("palette-grey-700")),yt(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),yt(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),yt(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),yt(M.LinearProgress,"primaryBg",wi(M.primary.main,.62)),yt(M.LinearProgress,"secondaryBg",wi(M.secondary.main,.62)),yt(M.LinearProgress,"errorBg",wi(M.error.main,.62)),yt(M.LinearProgress,"infoBg",wi(M.info.main,.62)),yt(M.LinearProgress,"successBg",wi(M.success.main,.62)),yt(M.LinearProgress,"warningBg",wi(M.warning.main,.62)),yt(M.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.11)`),yt(M.Slider,"primaryTrack",wi(M.primary.main,.62)),yt(M.Slider,"secondaryTrack",wi(M.secondary.main,.62)),yt(M.Slider,"errorTrack",wi(M.error.main,.62)),yt(M.Slider,"infoTrack",wi(M.info.main,.62)),yt(M.Slider,"successTrack",wi(M.success.main,.62)),yt(M.Slider,"warningTrack",wi(M.warning.main,.62));const C=sg(M.background.default,.8);yt(M.SnackbarContent,"bg",C),yt(M.SnackbarContent,"color",da(()=>M.getContrastText(C))),yt(M.SpeedDialAction,"fabHoverBg",sg(M.background.paper,.15)),yt(M.StepConnector,"border",w("palette-grey-400")),yt(M.StepContent,"border",w("palette-grey-400")),yt(M.Switch,"defaultColor",w("palette-common-white")),yt(M.Switch,"defaultDisabledColor",w("palette-grey-100")),yt(M.Switch,"primaryDisabledColor",wi(M.primary.main,.62)),yt(M.Switch,"secondaryDisabledColor",wi(M.secondary.main,.62)),yt(M.Switch,"errorDisabledColor",wi(M.error.main,.62)),yt(M.Switch,"infoDisabledColor",wi(M.info.main,.62)),yt(M.Switch,"successDisabledColor",wi(M.success.main,.62)),yt(M.Switch,"warningDisabledColor",wi(M.warning.main,.62)),yt(M.TableCell,"border",wi(ig(M.divider,1),.88)),yt(M.Tooltip,"bg",ig(M.grey[700],.92))}if(M.mode==="dark"){yt(M.Alert,"errorColor",wi(M.error.light,.6)),yt(M.Alert,"infoColor",wi(M.info.light,.6)),yt(M.Alert,"successColor",wi(M.success.light,.6)),yt(M.Alert,"warningColor",wi(M.warning.light,.6)),yt(M.Alert,"errorFilledBg",w("palette-error-dark")),yt(M.Alert,"infoFilledBg",w("palette-info-dark")),yt(M.Alert,"successFilledBg",w("palette-success-dark")),yt(M.Alert,"warningFilledBg",w("palette-warning-dark")),yt(M.Alert,"errorFilledColor",da(()=>M.getContrastText(M.error.dark))),yt(M.Alert,"infoFilledColor",da(()=>M.getContrastText(M.info.dark))),yt(M.Alert,"successFilledColor",da(()=>M.getContrastText(M.success.dark))),yt(M.Alert,"warningFilledColor",da(()=>M.getContrastText(M.warning.dark))),yt(M.Alert,"errorStandardBg",Ti(M.error.light,.9)),yt(M.Alert,"infoStandardBg",Ti(M.info.light,.9)),yt(M.Alert,"successStandardBg",Ti(M.success.light,.9)),yt(M.Alert,"warningStandardBg",Ti(M.warning.light,.9)),yt(M.Alert,"errorIconColor",w("palette-error-main")),yt(M.Alert,"infoIconColor",w("palette-info-main")),yt(M.Alert,"successIconColor",w("palette-success-main")),yt(M.Alert,"warningIconColor",w("palette-warning-main")),yt(M.AppBar,"defaultBg",w("palette-grey-900")),yt(M.AppBar,"darkBg",w("palette-background-paper")),yt(M.AppBar,"darkColor",w("palette-text-primary")),yt(M.Avatar,"defaultBg",w("palette-grey-600")),yt(M.Button,"inheritContainedBg",w("palette-grey-800")),yt(M.Button,"inheritContainedHoverBg",w("palette-grey-700")),yt(M.Chip,"defaultBorder",w("palette-grey-700")),yt(M.Chip,"defaultAvatarColor",w("palette-grey-300")),yt(M.Chip,"defaultIconColor",w("palette-grey-300")),yt(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),yt(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),yt(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),yt(M.LinearProgress,"primaryBg",Ti(M.primary.main,.5)),yt(M.LinearProgress,"secondaryBg",Ti(M.secondary.main,.5)),yt(M.LinearProgress,"errorBg",Ti(M.error.main,.5)),yt(M.LinearProgress,"infoBg",Ti(M.info.main,.5)),yt(M.LinearProgress,"successBg",Ti(M.success.main,.5)),yt(M.LinearProgress,"warningBg",Ti(M.warning.main,.5)),yt(M.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.13)`),yt(M.Slider,"primaryTrack",Ti(M.primary.main,.5)),yt(M.Slider,"secondaryTrack",Ti(M.secondary.main,.5)),yt(M.Slider,"errorTrack",Ti(M.error.main,.5)),yt(M.Slider,"infoTrack",Ti(M.info.main,.5)),yt(M.Slider,"successTrack",Ti(M.success.main,.5)),yt(M.Slider,"warningTrack",Ti(M.warning.main,.5));const C=sg(M.background.default,.98);yt(M.SnackbarContent,"bg",C),yt(M.SnackbarContent,"color",da(()=>M.getContrastText(C))),yt(M.SpeedDialAction,"fabHoverBg",sg(M.background.paper,.15)),yt(M.StepConnector,"border",w("palette-grey-600")),yt(M.StepContent,"border",w("palette-grey-600")),yt(M.Switch,"defaultColor",w("palette-grey-300")),yt(M.Switch,"defaultDisabledColor",w("palette-grey-600")),yt(M.Switch,"primaryDisabledColor",Ti(M.primary.main,.55)),yt(M.Switch,"secondaryDisabledColor",Ti(M.secondary.main,.55)),yt(M.Switch,"errorDisabledColor",Ti(M.error.main,.55)),yt(M.Switch,"infoDisabledColor",Ti(M.info.main,.55)),yt(M.Switch,"successDisabledColor",Ti(M.success.main,.55)),yt(M.Switch,"warningDisabledColor",Ti(M.warning.main,.55)),yt(M.TableCell,"border",Ti(ig(M.divider,1),.68)),yt(M.Tooltip,"bg",ig(M.grey[700],.92))}Qa(M.background,"default"),Qa(M.background,"paper"),Qa(M.common,"background"),Qa(M.common,"onBackground"),Qa(M,"divider"),Object.keys(M).forEach(C=>{const k=M[C];C!=="tonalOffset"&&k&&typeof k=="object"&&(k.main&&yt(M[C],"mainChannel",hd(ld(k.main))),k.light&&yt(M[C],"lightChannel",hd(ld(k.light))),k.dark&&yt(M[C],"darkChannel",hd(ld(k.dark))),k.contrastText&&yt(M[C],"contrastTextChannel",hd(ld(k.contrastText))),C==="text"&&(Qa(M[C],"primary"),Qa(M[C],"secondary")),C==="action"&&(k.active&&Qa(M[C],"active"),k.selected&&Qa(M[C],"selected")))})}),F=t.reduce((b,M)=>Sn(b,M),F);const D={prefix:n,disableCssColorScheme:r,shouldSkipGeneratingVar:a,getSelector:y9(F)},{vars:N,generateThemeVars:V,generateStyleSheets:P}=OI(F,D);return F.vars=N,Object.entries(F.colorSchemes[F.defaultColorScheme]).forEach(([b,M])=>{F[b]=M}),F.generateThemeVars=V,F.generateStyleSheets=P,F.generateSpacing=function(){return dk(u.spacing,d1(this))},F.getColorSchemeSelector=GI(o),F.spacing=F.generateSpacing(),F.shouldSkipGeneratingVar=a,F.unstable_sxConfig={...pf,...u==null?void 0:u.unstable_sxConfig},F.unstable_sx=function(M){return Kh({sx:M,theme:this})},F.toRuntimeSource=vk,F}function ST(s,t,e){s.colorSchemes&&e&&(s.colorSchemes[t]={...e!==!0&&e,palette:S1({...e===!0?{}:e.palette,mode:t})})}function Rk(s={},...t){const{palette:e,cssVariables:i=!1,colorSchemes:r=e?void 0:{light:!0},defaultColorScheme:n=e==null?void 0:e.mode,...a}=s,o=n||"light",l=r==null?void 0:r[o],u={...r,...e?{[o]:{...typeof l!="boolean"&&l,palette:e}}:void 0};if(i===!1){if(!("colorSchemes"in s))return _x(s,...t);let d=e;"palette"in s||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const f=_x({...s,palette:d},...t);return f.defaultColorScheme=o,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},ST(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},ST(f,"light",u.light)),f}return!e&&!("light"in u)&&o==="light"&&(u.light=!0),x9({...a,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...t)}const A9=Rk();function v9(s){return s!=="ownerState"&&s!=="theme"&&s!=="sx"&&s!=="as"}const x1=s=>v9(s)&&s!=="classes",Ba=MI({themeId:$5,defaultTheme:A9,rootShouldForwardProp:x1});function b9(){return fk}const Sf=PI;function Zu(s){return BI(s)}function M9(s){return ol("MuiSvgIcon",s)}ch("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const R9=s=>{const{color:t,fontSize:e,classes:i}=s,r={root:["root",t!=="inherit"&&`color${fr(t)}`,`fontSize${fr(e)}`]};return Ju(r,M9,i)},E9=Ba("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:e}=s;return[t.root,e.color!=="inherit"&&t[`color${fr(e.color)}`],t[`fontSize${fr(e.fontSize)}`]]}})(Sf(({theme:s})=>{var t,e,i,r,n,a,o,l,u,d,f,g,m,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(t=s.transitions)==null?void 0:t.create)==null?void 0:r.call(t,"fill",{duration:(i=(e=(s.vars??s).transitions)==null?void 0:e.duration)==null?void 0:i.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(n=s.typography)==null?void 0:n.pxToRem)==null?void 0:a.call(n,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(o=s.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=s.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((s.vars??s).palette).filter(([,x])=>x&&x.main).map(([x])=>{var v,A;return{props:{color:x},style:{color:(A=(v=(s.vars??s).palette)==null?void 0:v[x])==null?void 0:A.main}}}),{props:{color:"action"},style:{color:(g=(f=(s.vars??s).palette)==null?void 0:f.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(p=(m=(s.vars??s).palette)==null?void 0:m.action)==null?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Vx=tt.forwardRef(function(t,e){const i=Zu({props:t,name:"MuiSvgIcon"}),{children:r,className:n,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24",...m}=i,p=tt.isValidElement(r)&&r.type==="svg",x={...i,color:a,component:o,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:p},v={};d||(v.viewBox=g);const A=R9(x);return me.jsxs(E9,{as:o,className:vs(A.root,n),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:e,...v,...m,...p&&r.props,ownerState:x,children:[p?r.props.children:r,f?me.jsx("title",{children:f}):null]})});Vx.muiName="SvgIcon";function A1(s,t){function e(i,r){return me.jsx(Vx,{"data-testid":void 0,ref:r,...i,children:s})}return e.muiName=Vx.muiName,tt.memo(tt.forwardRef(e))}function T9(s){const{controlled:t,default:e}=s,{current:i}=tt.useRef(t!==void 0),[r,n]=tt.useState(e),a=i?t:r,o=tt.useCallback(l=>{i||n(l)},[]);return[a,o]}function yg(s){const t=tt.useRef(s);return CI(()=>{t.current=s}),tt.useRef((...e)=>(0,t.current)(...e)).current}function zx(...s){const t=tt.useRef(void 0),e=tt.useCallback(i=>{const r=s.map(n=>{if(n==null)return null;if(typeof n=="function"){const a=n,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return n.current=i,()=>{n.current=null}});return()=>{r.forEach(n=>n==null?void 0:n())}},s);return tt.useMemo(()=>s.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=e(i))},s)}function w9(s,t){const e=s.charCodeAt(2);return s[0]==="o"&&s[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function C9(s,t){if(!s)return t;function e(a,o){const l={};return Object.keys(o).forEach(u=>{w9(u,o[u])&&typeof a[u]=="function"&&(l[u]=(...d)=>{a[u](...d),o[u](...d)})}),l}if(typeof s=="function"||typeof t=="function")return a=>{const o=typeof t=="function"?t(a):t,l=typeof s=="function"?s({...a,...o}):s,u=vs(a==null?void 0:a.className,o==null?void 0:o.className,l==null?void 0:l.className),d=e(l,o);return{...o,...l,...d,...!!u&&{className:u},...(o==null?void 0:o.style)&&(l==null?void 0:l.style)&&{style:{...o.style,...l.style}},...(o==null?void 0:o.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const i=t,r=e(s,i),n=vs(i==null?void 0:i.className,s==null?void 0:s.className);return{...t,...s,...r,...!!n&&{className:n},...(i==null?void 0:i.style)&&(s==null?void 0:s.style)&&{style:{...i.style,...s.style}},...(i==null?void 0:i.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}}function k9(s,t){if(s==null)return{};var e={};for(var i in s)if({}.hasOwnProperty.call(s,i)){if(t.indexOf(i)!==-1)continue;e[i]=s[i]}return e}function Nx(s,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},Nx(s,t)}function D9(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Nx(s,t)}const xT=Ql.createContext(null);function F9(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function v1(s,t){var e=function(n){return t&&tt.isValidElement(n)?t(n):n},i=Object.create(null);return s&&tt.Children.map(s,function(r){return r}).forEach(function(r){i[r.key]=e(r)}),i}function _9(s,t){s=s||{},t=t||{};function e(d){return d in t?t[d]:s[d]}var i=Object.create(null),r=[];for(var n in s)n in t?r.length&&(i[n]=r,r=[]):r.push(n);var a,o={};for(var l in t){if(i[l])for(a=0;a<i[l].length;a++){var u=i[l][a];o[i[l][a]]=e(u)}o[l]=e(l)}for(a=0;a<r.length;a++)o[r[a]]=e(r[a]);return o}function Oh(s,t,e){return e[t]!=null?e[t]:s.props[t]}function V9(s,t){return v1(s.children,function(e){return tt.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:Oh(e,"appear",s),enter:Oh(e,"enter",s),exit:Oh(e,"exit",s)})})}function z9(s,t,e){var i=v1(s.children),r=_9(t,i);return Object.keys(r).forEach(function(n){var a=r[n];if(tt.isValidElement(a)){var o=n in t,l=n in i,u=t[n],d=tt.isValidElement(u)&&!u.props.in;l&&(!o||d)?r[n]=tt.cloneElement(a,{onExited:e.bind(null,a),in:!0,exit:Oh(a,"exit",s),enter:Oh(a,"enter",s)}):!l&&o&&!d?r[n]=tt.cloneElement(a,{in:!1}):l&&o&&tt.isValidElement(u)&&(r[n]=tt.cloneElement(a,{onExited:e.bind(null,a),in:u.props.in,exit:Oh(a,"exit",s),enter:Oh(a,"enter",s)}))}}),r}var N9=Object.values||function(s){return Object.keys(s).map(function(t){return s[t]})},B9={component:"div",childFactory:function(t){return t}},b1=function(s){D9(t,s);function t(i,r){var n;n=s.call(this,i,r)||this;var a=n.handleExited.bind(F9(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(r,n){var a=n.children,o=n.handleExited,l=n.firstRender;return{children:l?V9(r,o):z9(r,a,o),firstRender:!1}},e.handleExited=function(r,n){var a=v1(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(n),this.mounted&&this.setState(function(o){var l=Hg({},o.children);return delete l[r.key],{children:l}}))},e.render=function(){var r=this.props,n=r.component,a=r.childFactory,o=k9(r,["component","childFactory"]),l=this.state.contextValue,u=N9(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,n===null?Ql.createElement(xT.Provider,{value:l},u):Ql.createElement(xT.Provider,{value:l},Ql.createElement(n,o,u))},t}(Ql.Component);b1.propTypes={};b1.defaultProps=B9;const AT={};function Ek(s,t){const e=tt.useRef(AT);return e.current===AT&&(e.current=s(t)),e}const P9=[];function L9(s){tt.useEffect(s,P9)}class M1{constructor(){Hc(this,"currentId",null);Hc(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Hc(this,"disposeEffect",()=>this.clear)}static create(){return new M1}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function I9(){const s=Ek(M1.create).current;return L9(s.disposeEffect),s}function U9(s){return typeof s=="string"}function O9(s,t,e){return s===void 0||U9(s)?t:{...t,ownerState:{...t.ownerState,...e}}}function G9(s,t,e){return typeof s=="function"?s(t,e):s}function Y9(s,t=[]){if(s===void 0)return{};const e={};return Object.keys(s).filter(i=>i.match(/^on[A-Z]/)&&typeof s[i]=="function"&&!t.includes(i)).forEach(i=>{e[i]=s[i]}),e}function vT(s){if(s===void 0)return{};const t={};return Object.keys(s).filter(e=>!(e.match(/^on[A-Z]/)&&typeof s[e]=="function")).forEach(e=>{t[e]=s[e]}),t}function H9(s){const{getSlotProps:t,additionalProps:e,externalSlotProps:i,externalForwardedProps:r,className:n}=s;if(!t){const m=vs(e==null?void 0:e.className,n,r==null?void 0:r.className,i==null?void 0:i.className),p={...e==null?void 0:e.style,...r==null?void 0:r.style,...i==null?void 0:i.style},x={...e,...r,...i};return m.length>0&&(x.className=m),Object.keys(p).length>0&&(x.style=p),{props:x,internalRef:void 0}}const a=Y9({...r,...i}),o=vT(i),l=vT(r),u=t(a),d=vs(u==null?void 0:u.className,e==null?void 0:e.className,n,r==null?void 0:r.className,i==null?void 0:i.className),f={...u==null?void 0:u.style,...e==null?void 0:e.style,...r==null?void 0:r.style,...i==null?void 0:i.style},g={...u,...e,...l,...o};return d.length>0&&(g.className=d),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:u.ref}}function $g(s,t){const{className:e,elementType:i,ownerState:r,externalForwardedProps:n,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=t,{component:u,slots:d={[s]:void 0},slotProps:f={[s]:void 0},...g}=n,m=d[s]||i,p=G9(f[s],r),{props:{component:x,...v},internalRef:A}=H9({className:e,...l,externalForwardedProps:s==="root"?g:void 0,externalSlotProps:p}),E=zx(A,p==null?void 0:p.ref,t.ref),T=s==="root"?x||u:x,F=O9(m,{...s==="root"&&!u&&!d[s]&&a,...s!=="root"&&!d[s]&&a,...v,...T&&!o&&{as:T},...T&&o&&{component:T},ref:E},r);return[m,F]}function bT(s){try{return s.matches(":focus-visible")}catch{}return!1}class jg{constructor(){Hc(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new jg}static use(){const t=Ek(jg.create).current,[e,i]=tt.useState(!1);return t.shouldMount=e,t.setShouldMount=i,tt.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=W9(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function X9(){return jg.use()}function W9(){let s,t;const e=new Promise((i,r)=>{s=i,t=r});return e.resolve=s,e.reject=t,e}function $9(s){const{className:t,classes:e,pulsate:i=!1,rippleX:r,rippleY:n,rippleSize:a,in:o,onExited:l,timeout:u}=s,[d,f]=tt.useState(!1),g=vs(t,e.ripple,e.rippleVisible,i&&e.ripplePulsate),m={width:a,height:a,top:-(a/2)+n,left:-(a/2)+r},p=vs(e.child,d&&e.childLeaving,i&&e.childPulsate);return!o&&!d&&f(!0),tt.useEffect(()=>{if(!o&&l!=null){const x=setTimeout(l,u);return()=>{clearTimeout(x)}}},[l,o,u]),me.jsx("span",{className:g,style:m,children:me.jsx("span",{className:p})})}const Nn=ch("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Bx=550,j9=80,q9=l1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,J9=l1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Z9=l1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Q9=Ba("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),K9=Ba($9,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Nn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${q9};
    animation-duration: ${Bx}ms;
    animation-timing-function: ${({theme:s})=>s.transitions.easing.easeInOut};
  }

  &.${Nn.ripplePulsate} {
    animation-duration: ${({theme:s})=>s.transitions.duration.shorter}ms;
  }

  & .${Nn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Nn.childLeaving} {
    opacity: 0;
    animation-name: ${J9};
    animation-duration: ${Bx}ms;
    animation-timing-function: ${({theme:s})=>s.transitions.easing.easeInOut};
  }

  & .${Nn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Z9};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:s})=>s.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,tU=tt.forwardRef(function(t,e){const i=Zu({props:t,name:"MuiTouchRipple"}),{center:r=!1,classes:n={},className:a,...o}=i,[l,u]=tt.useState([]),d=tt.useRef(0),f=tt.useRef(null);tt.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const g=tt.useRef(!1),m=I9(),p=tt.useRef(null),x=tt.useRef(null),v=tt.useCallback(F=>{const{pulsate:D,rippleX:N,rippleY:V,rippleSize:P,cb:b}=F;u(M=>[...M,me.jsx(K9,{classes:{ripple:vs(n.ripple,Nn.ripple),rippleVisible:vs(n.rippleVisible,Nn.rippleVisible),ripplePulsate:vs(n.ripplePulsate,Nn.ripplePulsate),child:vs(n.child,Nn.child),childLeaving:vs(n.childLeaving,Nn.childLeaving),childPulsate:vs(n.childPulsate,Nn.childPulsate)},timeout:Bx,pulsate:D,rippleX:N,rippleY:V,rippleSize:P},d.current)]),d.current+=1,f.current=b},[n]),A=tt.useCallback((F={},D={},N=()=>{})=>{const{pulsate:V=!1,center:P=r||D.pulsate,fakeElement:b=!1}=D;if((F==null?void 0:F.type)==="mousedown"&&g.current){g.current=!1;return}(F==null?void 0:F.type)==="touchstart"&&(g.current=!0);const M=b?null:x.current,w=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,k,z;if(P||F===void 0||F.clientX===0&&F.clientY===0||!F.clientX&&!F.touches)C=Math.round(w.width/2),k=Math.round(w.height/2);else{const{clientX:H,clientY:B}=F.touches&&F.touches.length>0?F.touches[0]:F;C=Math.round(H-w.left),k=Math.round(B-w.top)}if(P)z=Math.sqrt((2*w.width**2+w.height**2)/3),z%2===0&&(z+=1);else{const H=Math.max(Math.abs((M?M.clientWidth:0)-C),C)*2+2,B=Math.max(Math.abs((M?M.clientHeight:0)-k),k)*2+2;z=Math.sqrt(H**2+B**2)}F!=null&&F.touches?p.current===null&&(p.current=()=>{v({pulsate:V,rippleX:C,rippleY:k,rippleSize:z,cb:N})},m.start(j9,()=>{p.current&&(p.current(),p.current=null)})):v({pulsate:V,rippleX:C,rippleY:k,rippleSize:z,cb:N})},[r,v,m]),E=tt.useCallback(()=>{A({},{pulsate:!0})},[A]),T=tt.useCallback((F,D)=>{if(m.clear(),(F==null?void 0:F.type)==="touchend"&&p.current){p.current(),p.current=null,m.start(0,()=>{T(F,D)});return}p.current=null,u(N=>N.length>0?N.slice(1):N),f.current=D},[m]);return tt.useImperativeHandle(e,()=>({pulsate:E,start:A,stop:T}),[E,A,T]),me.jsx(Q9,{className:vs(Nn.root,n.root,a),ref:x,...o,children:me.jsx(b1,{component:null,exit:!0,children:l})})});function eU(s){return ol("MuiButtonBase",s)}const iU=ch("MuiButtonBase",["root","disabled","focusVisible"]),sU=s=>{const{disabled:t,focusVisible:e,focusVisibleClassName:i,classes:r}=s,a=Ju({root:["root",t&&"disabled",e&&"focusVisible"]},eU,r);return e&&i&&(a.root+=` ${i}`),a},rU=Ba("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iU.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nU=tt.forwardRef(function(t,e){const i=Zu({props:t,name:"MuiButtonBase"}),{action:r,centerRipple:n=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:p="a",onBlur:x,onClick:v,onContextMenu:A,onDragLeave:E,onFocus:T,onFocusVisible:F,onKeyDown:D,onKeyUp:N,onMouseDown:V,onMouseLeave:P,onMouseUp:b,onTouchEnd:M,onTouchMove:w,onTouchStart:C,tabIndex:k=0,TouchRippleProps:z,touchRippleRef:H,type:B,...U}=i,O=tt.useRef(null),W=X9(),I=zx(W.ref,H),[X,j]=tt.useState(!1);u&&X&&j(!1),tt.useImperativeHandle(r,()=>({focusVisible:()=>{j(!0),O.current.focus()}}),[]);const Q=W.shouldMount&&!d&&!u;tt.useEffect(()=>{X&&g&&!d&&W.pulsate()},[d,g,X,W]);const J=Ka(W,"start",V,f),st=Ka(W,"stop",A,f),nt=Ka(W,"stop",E,f),ct=Ka(W,"stop",b,f),dt=Ka(W,"stop",zt=>{X&&zt.preventDefault(),P&&P(zt)},f),Tt=Ka(W,"start",C,f),At=Ka(W,"stop",M,f),Vt=Ka(W,"stop",w,f),Pt=Ka(W,"stop",zt=>{bT(zt.target)||j(!1),x&&x(zt)},!1),jt=yg(zt=>{O.current||(O.current=zt.currentTarget),bT(zt.target)&&(j(!0),F&&F(zt)),T&&T(zt)}),Jt=()=>{const zt=O.current;return l&&l!=="button"&&!(zt.tagName==="A"&&zt.href)},_t=yg(zt=>{g&&!zt.repeat&&X&&zt.key===" "&&W.stop(zt,()=>{W.start(zt)}),zt.target===zt.currentTarget&&Jt()&&zt.key===" "&&zt.preventDefault(),D&&D(zt),zt.target===zt.currentTarget&&Jt()&&zt.key==="Enter"&&!u&&(zt.preventDefault(),v&&v(zt))}),Ct=yg(zt=>{g&&zt.key===" "&&X&&!zt.defaultPrevented&&W.stop(zt,()=>{W.pulsate(zt)}),N&&N(zt),v&&zt.target===zt.currentTarget&&Jt()&&zt.key===" "&&!zt.defaultPrevented&&v(zt)});let bi=l;bi==="button"&&(U.href||U.to)&&(bi=p);const Ee={};bi==="button"?(Ee.type=B===void 0?"button":B,Ee.disabled=u):(!U.href&&!U.to&&(Ee.role="button"),u&&(Ee["aria-disabled"]=u));const pe=zx(e,O),gr={...i,centerRipple:n,component:l,disabled:u,disableRipple:d,disableTouchRipple:f,focusRipple:g,tabIndex:k,focusVisible:X},Ge=sU(gr);return me.jsxs(rU,{as:bi,className:vs(Ge.root,o),ownerState:gr,onBlur:Pt,onClick:v,onContextMenu:st,onFocus:jt,onKeyDown:_t,onKeyUp:Ct,onMouseDown:J,onMouseLeave:dt,onMouseUp:ct,onDragLeave:nt,onTouchEnd:At,onTouchMove:Vt,onTouchStart:Tt,ref:pe,tabIndex:u?-1:k,type:B,...Ee,...U,children:[a,Q?me.jsx(tU,{ref:I,center:n,...z}):null]})});function Ka(s,t,e,i=!1){return yg(r=>(e&&e(r),i||s[t](r),!0))}function aU(s){return typeof s.main=="string"}function oU(s,t=[]){if(!aU(s))return!1;for(const e of t)if(!s.hasOwnProperty(e)||typeof s[e]!="string")return!1;return!0}function Px(s=[]){return([,t])=>t&&oU(t,s)}function hU(s){return ol("MuiTypography",s)}ch("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lU={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},uU=b9(),cU=s=>{const{align:t,gutterBottom:e,noWrap:i,paragraph:r,variant:n,classes:a}=s,o={root:["root",n,s.align!=="inherit"&&`align${fr(t)}`,e&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return Ju(o,hU,a)},dU=Ba("span",{name:"MuiTypography",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:e}=s;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${fr(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(Sf(({theme:s})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(s.typography).filter(([e,i])=>e!=="inherit"&&i&&typeof i=="object").map(([e,i])=>({props:{variant:e},style:i})),...Object.entries(s.palette).filter(Px()).map(([e])=>({props:{color:e},style:{color:(s.vars||s).palette[e].main}})),...Object.entries(((t=s.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${fr(e)}`},style:{color:(s.vars||s).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),MT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},RT=tt.forwardRef(function(t,e){const{color:i,...r}=Zu({props:t,name:"MuiTypography"}),n=!lU[i],a=uU({...r,...n&&{color:i}}),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:f=!1,paragraph:g=!1,variant:m="body1",variantMapping:p=MT,...x}=a,v={...a,align:o,color:i,className:l,component:u,gutterBottom:d,noWrap:f,paragraph:g,variant:m,variantMapping:p},A=u||(g?"p":p[m]||MT[m])||"span",E=cU(v);return me.jsx(dU,{as:A,ref:e,className:vs(E.root,l),...x,ownerState:v,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...x.style}})});function fU({props:s,states:t,muiFormControl:e}){return t.reduce((i,r)=>(i[r]=s[r],e&&typeof s[r]>"u"&&(i[r]=e[r]),i),{})}const gU=tt.createContext(void 0);function Tk(){return tt.useContext(gU)}const yU=ch("MuiBox",["root"]),mU=Rk(),PS=SI({themeId:$5,defaultTheme:mU,defaultClassName:yU.root,generateClassName:gk.generate});function pU(s){return ol("PrivateSwitchBase",s)}ch("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const SU=s=>{const{classes:t,checked:e,disabled:i,edge:r}=s,n={root:["root",e&&"checked",i&&"disabled",r&&`edge${fr(r)}`],input:["input"]};return Ju(n,pU,t)},xU=Ba(nU)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:s,ownerState:t})=>s==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:s,ownerState:t})=>s==="end"&&t.size!=="small",style:{marginRight:-12}}]}),AU=Ba("input",{shouldForwardProp:x1})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),vU=tt.forwardRef(function(t,e){const{autoFocus:i,checked:r,checkedIcon:n,defaultChecked:a,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:d,id:f,inputProps:g,inputRef:m,name:p,onBlur:x,onChange:v,onFocus:A,readOnly:E,required:T=!1,tabIndex:F,type:D,value:N,slots:V={},slotProps:P={},...b}=t,[M,w]=T9({controlled:r,default:!!a}),C=Tk(),k=st=>{A&&A(st),C&&C.onFocus&&C.onFocus(st)},z=st=>{x&&x(st),C&&C.onBlur&&C.onBlur(st)},H=st=>{if(st.nativeEvent.defaultPrevented)return;const nt=st.target.checked;w(nt),v&&v(st,nt)};let B=o;C&&typeof B>"u"&&(B=C.disabled);const U=D==="checkbox"||D==="radio",O={...t,checked:M,disabled:B,disableFocusRipple:l,edge:u},W=SU(O),I={slots:V,slotProps:{input:g,...P}},[X,j]=$g("root",{ref:e,elementType:xU,className:W.root,shouldForwardComponentProp:!0,externalForwardedProps:{...I,component:"span",...b},getSlotProps:st=>({...st,onFocus:nt=>{var ct;(ct=st.onFocus)==null||ct.call(st,nt),k(nt)},onBlur:nt=>{var ct;(ct=st.onBlur)==null||ct.call(st,nt),z(nt)}}),ownerState:O,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:B,role:void 0,tabIndex:null}}),[Q,J]=$g("input",{ref:m,elementType:AU,className:W.input,externalForwardedProps:I,getSlotProps:st=>({...st,onChange:nt=>{var ct;(ct=st.onChange)==null||ct.call(st,nt),H(nt)}}),ownerState:O,additionalProps:{autoFocus:i,checked:r,defaultChecked:a,disabled:B,id:U?f:void 0,name:p,readOnly:E,required:T,tabIndex:F,type:D,...D==="checkbox"&&N===void 0?{}:{value:N}}});return me.jsxs(X,{...j,children:[me.jsx(Q,{...J}),M?n:d]})}),bU=A1(me.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),MU=A1(me.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),RU=A1(me.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function EU(s){return ol("MuiCheckbox",s)}const LS=ch("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),TU=s=>{const{classes:t,indeterminate:e,color:i,size:r}=s,n={root:["root",e&&"indeterminate",`color${fr(i)}`,`size${fr(r)}`]},a=Ju(n,EU,t);return{...t,...a}},wU=Ba(vU,{shouldForwardProp:s=>x1(s)||s==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:e}=s;return[t.root,e.indeterminate&&t.indeterminate,t[`size${fr(e.size)}`],e.color!=="default"&&t[`color${fr(e.color)}`]]}})(Sf(({theme:s})=>({color:(s.vars||s).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:Fx(s.palette.action.active,s.palette.action.hoverOpacity)}}},...Object.entries(s.palette).filter(Px()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:Fx(s.palette[t].main,s.palette.action.hoverOpacity)}}})),...Object.entries(s.palette).filter(Px()).map(([t])=>({props:{color:t},style:{[`&.${LS.checked}, &.${LS.indeterminate}`]:{color:(s.vars||s).palette[t].main},[`&.${LS.disabled}`]:{color:(s.vars||s).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),CU=me.jsx(MU,{}),kU=me.jsx(bU,{}),DU=me.jsx(RU,{}),IS=tt.forwardRef(function(t,e){const i=Zu({props:t,name:"MuiCheckbox"}),{checkedIcon:r=CU,color:n="primary",icon:a=kU,indeterminate:o=!1,indeterminateIcon:l=DU,inputProps:u,size:d="medium",disableRipple:f=!1,className:g,slots:m={},slotProps:p={},...x}=i,v=o?l:a,A=o?l:r,E={...i,disableRipple:f,color:n,indeterminate:o,size:d},T=TU(E),F=p.input??u,[D,N]=$g("root",{ref:e,elementType:wU,className:vs(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:p,...x},ownerState:E,additionalProps:{type:"checkbox",icon:tt.cloneElement(v,{fontSize:v.props.fontSize??d}),checkedIcon:tt.cloneElement(A,{fontSize:A.props.fontSize??d}),disableRipple:f,slots:m,slotProps:{input:C9(typeof F=="function"?F(E):F,{"data-indeterminate":o})}}});return me.jsx(D,{...N,classes:T})});function FU(s){return ol("MuiFormControlLabel",s)}const ud=ch("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),_U=s=>{const{classes:t,disabled:e,labelPlacement:i,error:r,required:n}=s,a={root:["root",e&&"disabled",`labelPlacement${fr(i)}`,r&&"error",n&&"required"],label:["label",e&&"disabled"],asterisk:["asterisk",r&&"error"]};return Ju(a,FU,t)},VU=Ba("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:e}=s;return[{[`& .${ud.label}`]:t.label},t.root,t[`labelPlacement${fr(e.labelPlacement)}`]]}})(Sf(({theme:s})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ud.disabled}`]:{cursor:"default"},[`& .${ud.label}`]:{[`&.${ud.disabled}`]:{color:(s.vars||s).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),zU=Ba("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Sf(({theme:s})=>({[`&.${ud.error}`]:{color:(s.vars||s).palette.error.main}}))),US=tt.forwardRef(function(t,e){const i=Zu({props:t,name:"MuiFormControlLabel"}),{checked:r,className:n,componentsProps:a={},control:o,disabled:l,disableTypography:u,inputRef:d,label:f,labelPlacement:g="end",name:m,onChange:p,required:x,slots:v={},slotProps:A={},value:E,...T}=i,F=Tk(),D=l??o.props.disabled??(F==null?void 0:F.disabled),N=x??o.props.required,V={disabled:D,required:N};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof o.props[H]>"u"&&typeof i[H]<"u"&&(V[H]=i[H])});const P=fU({props:i,muiFormControl:F,states:["error"]}),b={...i,disabled:D,labelPlacement:g,required:N,error:P.error},M=_U(b),w={slots:v,slotProps:{...a,...A}},[C,k]=$g("typography",{elementType:RT,externalForwardedProps:w,ownerState:b});let z=f;return z!=null&&z.type!==RT&&!u&&(z=me.jsx(C,{component:"span",...k,className:vs(M.label,k==null?void 0:k.className),children:z})),me.jsxs(VU,{className:vs(M.root,n),ownerState:b,ref:e,...T,children:[tt.cloneElement(o,V),N?me.jsxs("div",{children:[z,me.jsxs(zU,{ownerState:b,"aria-hidden":!0,className:M.asterisk,children:["","*"]})]}):z]})}),NU=Array.from({length:300},(s,t)=>({x:t,y:Math.sin(t/7)+Math.cos(t/3)})),BU=Array.from({length:300},(s,t)=>({x:t,y:Math.cos(t/5)-Math.sin(t/5)})),PU=Array.from({length:300},(s,t)=>({x:t,y:Math.sin(t/3)+Math.cos(t/7)})),LU=()=>{const s=tt.useRef(null),t=tt.useRef([]),e=tt.useRef(new ug).current,i=tt.useRef(new ug).current,r=tt.useRef(new ug).current;return tt.useEffect(()=>{const a=eL({license:"0002-n0i9AP8MN/ezP+gV3RZRzNiQvQvBKwBJvTnrFTHppybuCwWuickxBJV+q3qyoeEBGSE4hS0aeo3pySDywrb/iIsl-MEUCIAiJOU3BrUq71LqSlRAIFAI0dKK05qBRIJYHFmBoOoIHAiEA4Y55O1QpeuEkiuVktPGLauOHc1TzxNu85/vz/eNscz8=",licenseInformation:{appTitle:"LightningChart JS Trial",company:"LightningChart Ltd."}}).ChartXY({container:"chart-container"}).setTitle("Chart & RXjs");s.current=a;const o=a.addLineSeries().setName("Line A").setStrokeStyle(new te({thickness:2.5,fillStyle:new rt({color:L(255,0,0)})})),l=a.addLineSeries().setName("Line B").setStrokeStyle(new te({thickness:2.5,fillStyle:new rt({color:L(0,0,255)})})),u=a.addLineSeries().setName("Line C").setStrokeStyle(new te({thickness:2.5,fillStyle:new rt({color:L(0,128,0)})}));o.add(NU),l.add(BU),u.add(PU),t.current=[o,l,u];const d=e.subscribe(m=>o.setVisible(m)),f=i.subscribe(m=>l.setVisible(m)),g=r.subscribe(m=>u.setVisible(m));return e.next(!0),i.next(!0),r.next(!0),()=>{a.dispose(),d.unsubscribe(),f.unsubscribe(),g.unsubscribe()}},[]),me.jsxs(PS,{children:[me.jsxs(PS,{sx:{display:"flex",gap:2,mb:2},children:[me.jsx(US,{control:me.jsx(IS,{defaultChecked:!0,onChange:n=>e.next(n.target.checked)}),label:"Show A"}),me.jsx(US,{control:me.jsx(IS,{defaultChecked:!0,onChange:n=>i.next(n.target.checked)}),label:"Show B"}),me.jsx(US,{control:me.jsx(IS,{defaultChecked:!0,onChange:n=>r.next(n.target.checked)}),label:"Show C"})]}),me.jsx(PS,{id:"chart-container",sx:{width:"100%",height:"600px",border:"1px solid #ccc",borderRadius:2}})]})};function IU(){return me.jsx(PF,{children:me.jsx(PT,{path:"/",element:me.jsx(LU,{})})})}XD.createRoot(document.getElementById("root")).render(me.jsx(tt.StrictMode,{children:me.jsx(o4,{basename:"/Chart-RX",children:me.jsx(IU,{})})}));
